<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/changelogs/assets/js/vendor/lunr.min.js"></script> <script src="/changelogs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>ingress-nginx | Changelogs</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="ingress-nginx" /> <meta name="author" content="Baptiste ROUX" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://baprx.github.io/changelogs/kubernetes/ingress-nginx/ingress-nginx" /> <meta property="og:url" content="https://baprx.github.io/changelogs/kubernetes/ingress-nginx/ingress-nginx" /> <meta property="og:site_name" content="Changelogs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="ingress-nginx" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Baptiste ROUX"},"headline":"ingress-nginx","url":"https://baprx.github.io/changelogs/kubernetes/ingress-nginx/ingress-nginx"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewbox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewbox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewbox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewbox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/changelogs/" class="site-title lh-tight"> Changelogs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewbox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list">
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in argoproj/argo-helm category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/argoproj/argo-helm" class="nav-list-link">argoproj/argo-helm</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-events" class="nav-list-link">argo-events</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-rollouts" class="nav-list-link">argo-rollouts</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-apps" class="nav-list-link">argocd-apps</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-image-updater" class="nav-list-link">argocd-image-updater</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in authelia/chartrepo category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/authelia/chartrepo" class="nav-list-link">authelia/chartrepo</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/authelia/chartrepo/authelia" class="nav-list-link">authelia</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in bitnami/charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/bitnami/charts" class="nav-list-link">bitnami/charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/CHART_NAME" class="nav-list-link">CHART_NAME</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/airflow" class="nav-list-link">airflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apache" class="nav-list-link">apache</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apisix" class="nav-list-link">apisix</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/appsmith" class="nav-list-link">appsmith</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/aspnet-core" class="nav-list-link">aspnet-core</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cassandra" class="nav-list-link">cassandra</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cert-manager" class="nav-list-link">cert-manager</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/clickhouse" class="nav-list-link">clickhouse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/common" class="nav-list-link">common</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/concourse" class="nav-list-link">concourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/consul" class="nav-list-link">consul</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/contour" class="nav-list-link">contour</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/deepspeed" class="nav-list-link">deepspeed</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/discourse" class="nav-list-link">discourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/dokuwiki" class="nav-list-link">dokuwiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/drupal" class="nav-list-link">drupal</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ejbca" class="nav-list-link">ejbca</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/elasticsearch" class="nav-list-link">elasticsearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/etcd" class="nav-list-link">etcd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/external-dns" class="nav-list-link">external-dns</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flink" class="nav-list-link">flink</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluentd" class="nav-list-link">fluentd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flux" class="nav-list-link">flux</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ghost" class="nav-list-link">ghost</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/gitea" class="nav-list-link">gitea</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-loki" class="nav-list-link">grafana-loki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-mimir" class="nav-list-link">grafana-mimir</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-operator" class="nav-list-link">grafana-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-tempo" class="nav-list-link">grafana-tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/haproxy" class="nav-list-link">haproxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/harbor" class="nav-list-link">harbor</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/influxdb" class="nav-list-link">influxdb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jaeger" class="nav-list-link">jaeger</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jasperreports" class="nav-list-link">jasperreports</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jenkins" class="nav-list-link">jenkins</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/joomla" class="nav-list-link">joomla</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jupyterhub" class="nav-list-link">jupyterhub</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kafka" class="nav-list-link">kafka</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/keycloak" class="nav-list-link">keycloak</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kiam" class="nav-list-link">kiam</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kibana" class="nav-list-link">kibana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kong" class="nav-list-link">kong</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-prometheus" class="nav-list-link">kube-prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubeapps" class="nav-list-link">kubeapps</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kuberay" class="nav-list-link">kuberay</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubernetes-event-exporter" class="nav-list-link">kubernetes-event-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/logstash" class="nav-list-link">logstash</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/magento" class="nav-list-link">magento</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb" class="nav-list-link">mariadb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb-galera" class="nav-list-link">mariadb-galera</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mastodon" class="nav-list-link">mastodon</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/matomo" class="nav-list-link">matomo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mediawiki" class="nav-list-link">mediawiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/memcached" class="nav-list-link">memcached</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metallb" class="nav-list-link">metallb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metrics-server" class="nav-list-link">metrics-server</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/milvus" class="nav-list-link">milvus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/minio" class="nav-list-link">minio</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mlflow" class="nav-list-link">mlflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb" class="nav-list-link">mongodb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb-sharded" class="nav-list-link">mongodb-sharded</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/moodle" class="nav-list-link">moodle</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/multus-cni" class="nav-list-link">multus-cni</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mysql" class="nav-list-link">mysql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nats" class="nav-list-link">nats</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx" class="nav-list-link">nginx</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx-ingress-controller" class="nav-list-link">nginx-ingress-controller</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/node-exporter" class="nav-list-link">node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/oauth2-proxy" class="nav-list-link">oauth2-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/odoo" class="nav-list-link">odoo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opencart" class="nav-list-link">opencart</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opensearch" class="nav-list-link">opensearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/osclass" class="nav-list-link">osclass</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/parse" class="nav-list-link">parse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpbb" class="nav-list-link">phpbb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpmyadmin" class="nav-list-link">phpmyadmin</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pinniped" class="nav-list-link">pinniped</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql" class="nav-list-link">postgresql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql-ha" class="nav-list-link">postgresql-ha</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prestashop" class="nav-list-link">prestashop</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pytorch" class="nav-list-link">pytorch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq" class="nav-list-link">rabbitmq</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq-cluster-operator" class="nav-list-link">rabbitmq-cluster-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis" class="nav-list-link">redis</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis-cluster" class="nav-list-link">redis-cluster</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redmine" class="nav-list-link">redmine</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/schema-registry" class="nav-list-link">schema-registry</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sealed-secrets" class="nav-list-link">sealed-secrets</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/solr" class="nav-list-link">solr</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sonarqube" class="nav-list-link">sonarqube</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spark" class="nav-list-link">spark</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spring-cloud-dataflow" class="nav-list-link">spring-cloud-dataflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/supabase" class="nav-list-link">supabase</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tensorflow-resnet" class="nav-list-link">tensorflow-resnet</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/thanos" class="nav-list-link">thanos</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tomcat" class="nav-list-link">tomcat</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/vault" class="nav-list-link">vault</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/whereabouts" class="nav-list-link">whereabouts</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wildfly" class="nav-list-link">wildfly</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wordpress" class="nav-list-link">wordpress</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/zookeeper" class="nav-list-link">zookeeper</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in grafana/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/grafana/helm-charts" class="nav-list-link">grafana/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/agent-operator" class="nav-list-link">agent-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs" class="nav-list-link">enterprise-logs</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs-simple" class="nav-list-link">enterprise-logs-simple</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-metrics" class="nav-list-link">enterprise-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/lgtm-distributed" class="nav-list-link">lgtm-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-canary" class="nav-list-link">loki-canary</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-distributed" class="nav-list-link">loki-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-stack" class="nav-list-link">loki-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/promtail" class="nav-list-link">promtail</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/rollout-operator" class="nav-list-link">rollout-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/snyk-exporter" class="nav-list-link">snyk-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/synthetic-monitoring-agent" class="nav-list-link">synthetic-monitoring-agent</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo" class="nav-list-link">tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-distributed" class="nav-list-link">tempo-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-vulture" class="nav-list-link">tempo-vulture</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in kubernetes/ingress-nginx category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/kubernetes/ingress-nginx" class="nav-list-link">kubernetes/ingress-nginx</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/kubernetes/ingress-nginx/ingress-nginx" class="nav-list-link">ingress-nginx</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in minio/operator category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/minio/operator" class="nav-list-link">minio/operator</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/minio/operator/operator" class="nav-list-link">operator</a></li>
<li class="nav-list-item"><a href="/changelogs/minio/operator/tenant" class="nav-list-link">tenant</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in prometheus-community/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/prometheus-community/helm-charts" class="nav-list-link">prometheus-community/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager" class="nav-list-link">alertmanager</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager-snmp-notifier" class="nav-list-link">alertmanager-snmp-notifier</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/crds" class="nav-list-link">crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/jiralert" class="nav-list-link">jiralert</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" class="nav-list-link">kube-prometheus-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prom-label-proxy" class="nav-list-link">prom-label-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-adapter" class="nav-list-link">prometheus-adapter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-blackbox-exporter" class="nav-list-link">prometheus-blackbox-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-cloudwatch-exporter" class="nav-list-link">prometheus-cloudwatch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-conntrack-stats-exporter" class="nav-list-link">prometheus-conntrack-stats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-consul-exporter" class="nav-list-link">prometheus-consul-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-couchdb-exporter" class="nav-list-link">prometheus-couchdb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-druid-exporter" class="nav-list-link">prometheus-druid-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-elasticsearch-exporter" class="nav-list-link">prometheus-elasticsearch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-fastly-exporter" class="nav-list-link">prometheus-fastly-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-ipmi-exporter" class="nav-list-link">prometheus-ipmi-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-json-exporter" class="nav-list-link">prometheus-json-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-kafka-exporter" class="nav-list-link">prometheus-kafka-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-memcached-exporter" class="nav-list-link">prometheus-memcached-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-modbus-exporter" class="nav-list-link">prometheus-modbus-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mongodb-exporter" class="nav-list-link">prometheus-mongodb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mysql-exporter" class="nav-list-link">prometheus-mysql-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nats-exporter" class="nav-list-link">prometheus-nats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nginx-exporter" class="nav-list-link">prometheus-nginx-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-node-exporter" class="nav-list-link">prometheus-node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-opencost-exporter" class="nav-list-link">prometheus-opencost-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-admission-webhook" class="nav-list-link">prometheus-operator-admission-webhook</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-crds" class="nav-list-link">prometheus-operator-crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pgbouncer-exporter" class="nav-list-link">prometheus-pgbouncer-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingdom-exporter" class="nav-list-link">prometheus-pingdom-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingmesh-exporter" class="nav-list-link">prometheus-pingmesh-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" class="nav-list-link">prometheus-postgres-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pushgateway" class="nav-list-link">prometheus-pushgateway</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-rabbitmq-exporter" class="nav-list-link">prometheus-rabbitmq-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-redis-exporter" class="nav-list-link">prometheus-redis-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-smartctl-exporter" class="nav-list-link">prometheus-smartctl-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-snmp-exporter" class="nav-list-link">prometheus-snmp-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-stackdriver-exporter" class="nav-list-link">prometheus-stackdriver-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-statsd-exporter" class="nav-list-link">prometheus-statsd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-systemd-exporter" class="nav-list-link">prometheus-systemd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-to-sd" class="nav-list-link">prometheus-to-sd</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-windows-exporter" class="nav-list-link">prometheus-windows-exporter</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in traefik/traefik-helm-chart category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/traefik/traefik-helm-chart" class="nav-list-link">traefik/traefik-helm-chart</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/traefik/traefik-helm-chart/traefik" class="nav-list-link">traefik</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in vmware-tanzu/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/vmware-tanzu/helm-charts" class="nav-list-link">vmware-tanzu/helm-charts</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/vmware-tanzu/helm-charts/velero" class="nav-list-link">velero</a></li></ul>
</li>
</ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Changelogs" aria-label="Search Changelogs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/changelogs/kubernetes/ingress-nginx">kubernetes/ingress-nginx</a></li> <li class="breadcrumb-nav-list-item"><span>ingress-nginx</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="ingress-nginx"> <a href="#ingress-nginx" class="anchor-heading" aria-labelledby="ingress-nginx"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ingress-nginx </h1> <h2 id="491"> <a href="#491" class="anchor-heading" aria-labelledby="491"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.9.1 </h2> <p><strong>Release date:</strong> 2024-01-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.6&amp;color=success" alt="AppVersion: 1.9.6"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release controller 1.9.6 and helm 4.9.1 (#10919)</li> <li>Chart: Add Gacko to maintainers. (#10796)</li> </ul> <h3 id="default-value-changes"> <a href="#default-value-changes" class="anchor-heading" aria-labelledby="default-value-changes"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index e010a2dbb..5e76d2fb4 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -26,9 +26,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.9.5"
-    digest: sha256:b3aba22b1da80e7acfc52b115cae1d4c687172cbf2b742d5b502419c25ff340e
-    digestChroot: sha256:9a8d7b25a846a6461cd044b9aea9cf6cad972bcf2e64d9fd246c0279979aad2d
</span><span class="gi">+    tag: "v1.9.6"
+    digest: sha256:1405cc613bd95b2c6edd8b2a152510ae91c7e62aea4698500d23b2145960ab9c
+    digestChroot: sha256:7eb46ff733429e0e46892903c7394aff149ac6d284d92b3946f3baf7ff26a096
</span>     pullPolicy: IfNotPresent
     runAsNonRoot: true
     # www-data -&gt; uid 101
<span class="p">@@ -781,8 +781,8 @@</span> controller:
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         ## repository:
<span class="gd">-        tag: v20231011-8b53cabe0
-        digest: sha256:a7943503b45d552785aa3b5e457f169a5661fb94d82b8a3373bcd9ebaf9aac80
</span><span class="gi">+        tag: v20231226-1a7112e06
+        digest: sha256:25d6a5f11211cc5c3f9f2bf552b585374af287b4debf693cacbe2da47daa5084
</span>         pullPolicy: IfNotPresent
       # -- Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="490"> <a href="#490" class="anchor-heading" aria-labelledby="490"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.9.0 </h2> <p><strong>Release date:</strong> 2023-12-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.5&amp;color=success" alt="AppVersion: 1.9.5"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release 1.9.5 docs</li> <li>Add controller.metrics.serviceMonitor.annotations in Helm chart (#9677)</li> <li>fix(labels): use complete labels variable on default-backend deployment (#10317)</li> </ul> <h3 id="default-value-changes-1"> <a href="#default-value-changes-1" class="anchor-heading" aria-labelledby="default-value-changes-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index a73bdca15..e010a2dbb 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -9,7 +9,6 @@</span>
 
 # -- Override the deployment namespace; defaults to .Release.Namespace
 namespaceOverride: ""
<span class="gd">-
</span> ## Labels to apply to all resources
 ##
 commonLabels: {}
<span class="p">@@ -27,9 +26,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.9.4"
-    digest: sha256:5b161f051d017e55d358435f295f5e9a297e66158f136321d9b04520ec6c48a3
-    digestChroot: sha256:5976b1067cfbca8a21d0ba53d71f83543a73316a61ea7f7e436d6cf84ddf9b26
</span><span class="gi">+    tag: "v1.9.5"
+    digest: sha256:b3aba22b1da80e7acfc52b115cae1d4c687172cbf2b742d5b502419c25ff340e
+    digestChroot: sha256:9a8d7b25a846a6461cd044b9aea9cf6cad972bcf2e64d9fd246c0279979aad2d
</span>     pullPolicy: IfNotPresent
     runAsNonRoot: true
     # www-data -&gt; uid 101
<span class="p">@@ -140,7 +139,6 @@</span> controller:
   #   "net.core.somaxconn": "8192"
   # -- Security context for controller containers
   containerSecurityContext: {}
<span class="gd">-
</span>   # -- Allows customization of the source of the IP address or FQDN to report
   # in the ingress status field. By default, it reads the information provided
   # by the service. If disable, the status field reports the IP address of the
<span class="p">@@ -444,33 +442,26 @@</span> controller:
   customTemplate:
     configMapName: ""
     configMapKey: ""
<span class="gd">-
</span>   service:
     # -- Enable controller services or not. This does not influence the creation of either the admission webhook or the metrics service.
     enabled: true
<span class="gd">-
</span>     external:
       # -- Enable the external controller service or not. Useful for internal-only deployments.
       enabled: true
<span class="gd">-
</span>     # -- Annotations to be added to the external controller service. See `controller.service.internal.annotations` for annotations to be added to the internal controller service.
     annotations: {}
     # -- Labels to be added to both controller services.
     labels: {}
<span class="gd">-
</span>     # -- Type of the external controller service.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types
     type: LoadBalancer
<span class="gd">-
</span>     # -- Pre-defined cluster internal IP address of the external controller service. Take care of collisions with existing services.
     # This value is immutable. Set once, it can not be changed without deleting and re-creating the service.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#choosing-your-own-ip-address
     clusterIP: ""
<span class="gd">-
</span>     # -- List of node IP addresses at which the external controller service is available.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
     externalIPs: []
<span class="gd">-
</span>     # -- Deprecated: Pre-defined IP address of the external controller service. Used by cloud providers to connect the resulting load balancer service to a pre-existing static IP.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
     loadBalancerIP: ""
<span class="p">@@ -479,7 +470,6 @@</span> controller:
     # -- Load balancer class of the external controller service. Used by cloud providers to select a load balancer implementation other than the cloud provider default.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-class
     loadBalancerClass: ""
<span class="gd">-
</span>     # -- Enable node port allocation for the external controller service or not. Applies to type `LoadBalancer` only.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
     # allocateLoadBalancerNodePorts: true
<span class="p">@@ -487,11 +477,9 @@</span> controller:
     # -- External traffic policy of the external controller service. Set to "Local" to preserve source IP on providers supporting it.
     # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
     externalTrafficPolicy: ""
<span class="gd">-
</span>     # -- Session affinity of the external controller service. Must be either "None" or "ClientIP" if set. Defaults to "None".
     # Ref: https://kubernetes.io/docs/reference/networking/virtual-ips/#session-affinity
     sessionAffinity: ""
<span class="gd">-
</span>     # -- Specifies the health check node port (numeric port number) for the external controller service.
     # If not specified, the service controller allocates a port from your cluster's node port range.
     # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
<span class="p">@@ -505,28 +493,23 @@</span> controller:
     # Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services
     ipFamilies:
       - IPv4
<span class="gd">-
</span>     # -- Enable the HTTP listener on both controller services or not.
     enableHttp: true
     # -- Enable the HTTPS listener on both controller services or not.
     enableHttps: true
<span class="gd">-
</span>     ports:
       # -- Port the external HTTP listener is published with.
       http: 80
       # -- Port the external HTTPS listener is published with.
       https: 443
<span class="gd">-
</span>     targetPorts:
       # -- Port of the ingress controller the external HTTP listener is mapped to.
       http: http
       # -- Port of the ingress controller the external HTTPS listener is mapped to.
       https: https
<span class="gd">-
</span>     # -- Declare the app protocol of the external HTTP and HTTPS listeners or not. Supersedes provider-specific annotations for declaring the backend protocol.
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#application-protocol
     appProtocol: true
<span class="gd">-
</span>     nodePorts:
       # -- Node port allocated for the external HTTP listener. If left empty, the service controller allocates one from the configured node port range.
       http: ""
<span class="p">@@ -542,29 +525,23 @@</span> controller:
       # udp:
       #   53: 30053
       udp: {}
<span class="gd">-
</span>     internal:
       # -- Enable the internal controller service or not. Remember to configure `controller.service.internal.annotations` when enabling this.
       enabled: false
<span class="gd">-
</span>       # -- Annotations to be added to the internal controller service. Mandatory for the internal controller service to be created. Varies with the cloud service.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer
       annotations: {}
<span class="gd">-
</span>       # -- Type of the internal controller service.
       # Defaults to the value of `controller.service.type`.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types
       type: ""
<span class="gd">-
</span>       # -- Pre-defined cluster internal IP address of the internal controller service. Take care of collisions with existing services.
       # This value is immutable. Set once, it can not be changed without deleting and re-creating the service.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#choosing-your-own-ip-address
       clusterIP: ""
<span class="gd">-
</span>       # -- List of node IP addresses at which the internal controller service is available.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
       externalIPs: []
<span class="gd">-
</span>       # -- Deprecated: Pre-defined IP address of the internal controller service. Used by cloud providers to connect the resulting load balancer service to a pre-existing static IP.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
       loadBalancerIP: ""
<span class="p">@@ -573,7 +550,6 @@</span> controller:
       # -- Load balancer class of the internal controller service. Used by cloud providers to select a load balancer implementation other than the cloud provider default.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-class
       loadBalancerClass: ""
<span class="gd">-
</span>       # -- Enable node port allocation for the internal controller service or not. Applies to type `LoadBalancer` only.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
       # allocateLoadBalancerNodePorts: true
<span class="p">@@ -581,11 +557,9 @@</span> controller:
       # -- External traffic policy of the internal controller service. Set to "Local" to preserve source IP on providers supporting it.
       # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
       externalTrafficPolicy: ""
<span class="gd">-
</span>       # -- Session affinity of the internal controller service. Must be either "None" or "ClientIP" if set. Defaults to "None".
       # Ref: https://kubernetes.io/docs/reference/networking/virtual-ips/#session-affinity
       sessionAffinity: ""
<span class="gd">-
</span>       # -- Specifies the health check node port (numeric port number) for the internal controller service.
       # If not specified, the service controller allocates a port from your cluster's node port range.
       # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
<span class="p">@@ -599,27 +573,25 @@</span> controller:
       # Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services
       ipFamilies:
         - IPv4
<span class="gd">-
</span>       ports: {}
<span class="gd">-        # -- Port the internal HTTP listener is published with.
-        # Defaults to the value of `controller.service.ports.http`.
-        # http: 80
-        # -- Port the internal HTTPS listener is published with.
-        # Defaults to the value of `controller.service.ports.https`.
-        # https: 443
</span><span class="gi">+      # -- Port the internal HTTP listener is published with.
+      # Defaults to the value of `controller.service.ports.http`.
+      # http: 80
+      # -- Port the internal HTTPS listener is published with.
+      # Defaults to the value of `controller.service.ports.https`.
+      # https: 443
</span> 
       targetPorts: {}
<span class="gd">-        # -- Port of the ingress controller the internal HTTP listener is mapped to.
-        # Defaults to the value of `controller.service.targetPorts.http`.
-        # http: http
-        # -- Port of the ingress controller the internal HTTPS listener is mapped to.
-        # Defaults to the value of `controller.service.targetPorts.https`.
-        # https: https
</span><span class="gi">+      # -- Port of the ingress controller the internal HTTP listener is mapped to.
+      # Defaults to the value of `controller.service.targetPorts.http`.
+      # http: http
+      # -- Port of the ingress controller the internal HTTPS listener is mapped to.
+      # Defaults to the value of `controller.service.targetPorts.https`.
+      # https: https
</span> 
       # -- Declare the app protocol of the internal HTTP and HTTPS listeners or not. Supersedes provider-specific annotations for declaring the backend protocol.
       # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#application-protocol
       appProtocol: true
<span class="gd">-
</span>       nodePorts:
         # -- Node port allocated for the internal HTTP listener. If left empty, the service controller allocates one from the configured node port range.
         http: ""
<span class="p">@@ -635,7 +607,6 @@</span> controller:
         # udp:
         #   53: 30053
         udp: {}
<span class="gd">-
</span>   # shareProcessNamespace enables process namespace sharing within the pod.
   # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
   shareProcessNamespace: false
<span class="p">@@ -728,7 +699,7 @@</span> controller:
         type: RuntimeDefault
       capabilities:
         drop:
<span class="gd">-        - ALL
</span><span class="gi">+          - ALL
</span>       readOnlyRootFilesystem: true
     resources: {}
   admissionWebhooks:
<span class="p">@@ -779,7 +750,7 @@</span> controller:
           type: RuntimeDefault
         capabilities:
           drop:
<span class="gd">-          - ALL
</span><span class="gi">+            - ALL
</span>         readOnlyRootFilesystem: true
       resources: {}
       # limits:
<span class="p">@@ -799,7 +770,7 @@</span> controller:
           type: RuntimeDefault
         capabilities:
           drop:
<span class="gd">-          - ALL
</span><span class="gi">+            - ALL
</span>         readOnlyRootFilesystem: true
       resources: {}
     patch:
<span class="p">@@ -867,6 +838,7 @@</span> controller:
     serviceMonitor:
       enabled: false
       additionalLabels: {}
<span class="gi">+      annotations: {}
</span>       ## The label to use to retrieve the job name from.
       ## jobLabel: "app.kubernetes.io/name"
       namespace: ""
<span class="err">
</span></code></pre></div></div> <h2 id="483"> <a href="#483" class="anchor-heading" aria-labelledby="483"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.3 </h2> <p><strong>Release date:</strong> 2023-12-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.4&amp;color=success" alt="AppVersion: 1.9.4"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Chart: Revert verion <code class="language-plaintext highlighter-rouge">4.8.4</code>.</li> <li>Chart: Improve #10673.</li> <li>fix: disable cluster wide controller role permissions (#10659)</li> <li>Add more unit tests to helm chart (#10731)</li> <li>Deployment/DaemonSet: Remove <code class="language-plaintext highlighter-rouge">distroless</code> from <code class="language-plaintext highlighter-rouge">extraModules</code> templating. (#10742)</li> <li>helm: opentelemetry addon allow configuration of registry with setting tag (#9773)</li> <li>Helm Service: Align internal to external. (#10239)</li> <li>Chart: Simplify image templating. (#10708)</li> <li>add new serivce type for internal use (#10727)</li> </ul> <h3 id="default-value-changes-2"> <a href="#default-value-changes-2" class="anchor-heading" aria-labelledby="default-value-changes-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c1e89d777..a73bdca15 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -444,103 +444,198 @@</span> controller:
   customTemplate:
     configMapName: ""
     configMapKey: ""
<span class="gi">+
</span>   service:
<span class="gi">+    # -- Enable controller services or not. This does not influence the creation of either the admission webhook or the metrics service.
</span>     enabled: true
<span class="gd">-    # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
-    # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
-    # It allows choosing the protocol for each backend specified in the Kubernetes service.
-    # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
-    # Will be ignored for Kubernetes versions older than 1.20
-    ##
-    appProtocol: true
-    # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service. Values passed through helm tpl engine.
</span><span class="gi">+
+    external:
+      # -- Enable the external controller service or not. Useful for internal-only deployments.
+      enabled: true
+
+    # -- Annotations to be added to the external controller service. See `controller.service.internal.annotations` for annotations to be added to the internal controller service.
</span>     annotations: {}
<span class="gi">+    # -- Labels to be added to both controller services.
</span>     labels: {}
<span class="gd">-    # clusterIP: ""
</span> 
<span class="gd">-    # -- List of IP addresses at which the controller services are available
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
-    ##
</span><span class="gi">+    # -- Type of the external controller service.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types
+    type: LoadBalancer
+
+    # -- Pre-defined cluster internal IP address of the external controller service. Take care of collisions with existing services.
+    # This value is immutable. Set once, it can not be changed without deleting and re-creating the service.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#choosing-your-own-ip-address
+    clusterIP: ""
+
+    # -- List of node IP addresses at which the external controller service is available.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
</span>     externalIPs: []
<span class="gd">-    # -- Set to false to disable loadbalancer node port allocation
-    # See https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
-    # allocateLoadBalancerNodePorts: true
-    # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
</span><span class="gi">+
+    # -- Deprecated: Pre-defined IP address of the external controller service. Used by cloud providers to connect the resulting load balancer service to a pre-existing static IP.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
</span>     loadBalancerIP: ""
<span class="gi">+    # -- Restrict access to the external controller service. Values must be CIDRs. Allows any source address by default.
</span>     loadBalancerSourceRanges: []
<span class="gd">-    # -- Used by cloud providers to select a load balancer implementation other than the cloud provider default. https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-class
</span><span class="gi">+    # -- Load balancer class of the external controller service. Used by cloud providers to select a load balancer implementation other than the cloud provider default.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-class
</span>     loadBalancerClass: ""
<span class="gd">-    enableHttp: true
-    enableHttps: true
-    ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
-    ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-    # externalTrafficPolicy: ""
</span> 
<span class="gd">-    ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
-    # sessionAffinity: ""
</span><span class="gi">+    # -- Enable node port allocation for the external controller service or not. Applies to type `LoadBalancer` only.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
+    # allocateLoadBalancerNodePorts: true
+
+    # -- External traffic policy of the external controller service. Set to "Local" to preserve source IP on providers supporting it.
+    # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+    externalTrafficPolicy: ""
</span> 
<span class="gd">-    ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
-    ## the service controller allocates a port from your cluster’s NodePort range.
-    ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
</span><span class="gi">+    # -- Session affinity of the external controller service. Must be either "None" or "ClientIP" if set. Defaults to "None".
+    # Ref: https://kubernetes.io/docs/reference/networking/virtual-ips/#session-affinity
+    sessionAffinity: ""
+
+    # -- Specifies the health check node port (numeric port number) for the external controller service.
+    # If not specified, the service controller allocates a port from your cluster's node port range.
+    # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
</span>     # healthCheckNodePort: 0
 
<span class="gd">-    # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
-    # SingleStack, PreferDualStack or RequireDualStack.
-    # The ipFamilies and clusterIPs fields depend on the value of this field.
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-    ipFamilyPolicy: "SingleStack"
-    # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
-    # based on cluster configuration and the ipFamilyPolicy field.
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
</span><span class="gi">+    # -- Represents the dual-stack capabilities of the external controller service. Possible values are SingleStack, PreferDualStack or RequireDualStack.
+    # Fields `ipFamilies` and `clusterIP` depend on the value of this field.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services
+    ipFamilyPolicy: SingleStack
+    # -- List of IP families (e.g. IPv4, IPv6) assigned to the external controller service. This field is usually assigned automatically based on cluster configuration and the `ipFamilyPolicy` field.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services
</span>     ipFamilies:
       - IPv4
<span class="gi">+
+    # -- Enable the HTTP listener on both controller services or not.
+    enableHttp: true
+    # -- Enable the HTTPS listener on both controller services or not.
+    enableHttps: true
+
</span>     ports:
<span class="gi">+      # -- Port the external HTTP listener is published with.
</span>       http: 80
<span class="gi">+      # -- Port the external HTTPS listener is published with.
</span>       https: 443
<span class="gi">+
</span>     targetPorts:
<span class="gi">+      # -- Port of the ingress controller the external HTTP listener is mapped to.
</span>       http: http
<span class="gi">+      # -- Port of the ingress controller the external HTTPS listener is mapped to.
</span>       https: https
<span class="gd">-    type: LoadBalancer
-    ## type: NodePort
-    ## nodePorts:
-    ##   http: 32080
-    ##   https: 32443
-    ##   tcp:
-    ##     8080: 32808
</span><span class="gi">+
+    # -- Declare the app protocol of the external HTTP and HTTPS listeners or not. Supersedes provider-specific annotations for declaring the backend protocol.
+    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#application-protocol
+    appProtocol: true
+
</span>     nodePorts:
<span class="gi">+      # -- Node port allocated for the external HTTP listener. If left empty, the service controller allocates one from the configured node port range.
</span>       http: ""
<span class="gi">+      # -- Node port allocated for the external HTTPS listener. If left empty, the service controller allocates one from the configured node port range.
</span>       https: ""
<span class="gi">+      # -- Node port mapping for external TCP listeners. If left empty, the service controller allocates them from the configured node port range.
+      # Example:
+      # tcp:
+      #   8080: 30080
</span>       tcp: {}
<span class="gi">+      # -- Node port mapping for external UDP listeners. If left empty, the service controller allocates them from the configured node port range.
+      # Example:
+      # udp:
+      #   53: 30053
</span>       udp: {}
<span class="gd">-    external:
-      enabled: true
</span><span class="gi">+
</span>     internal:
<span class="gd">-      # -- Enables an additional internal load balancer (besides the external one).
</span><span class="gi">+      # -- Enable the internal controller service or not. Remember to configure `controller.service.internal.annotations` when enabling this.
</span>       enabled: false
<span class="gd">-      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service. Values passed through helm tpl engine.
</span><span class="gi">+
+      # -- Annotations to be added to the internal controller service. Mandatory for the internal controller service to be created. Varies with the cloud service.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer
</span>       annotations: {}
<span class="gd">-      # -- Set to false to disable loadbalancer node port allocation
-      # See https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
-      # allocateLoadBalancerNodePorts: true
-      # -- Used by cloud providers to connect the resulting internal LoadBalancer to a pre-existing static IP. Make sure to add to the service the needed annotation to specify the subnet which the static IP belongs to. For instance, `networking.gke.io/internal-load-balancer-subnet` for GCP and `service.beta.kubernetes.io/aws-load-balancer-subnets` for AWS.
</span><span class="gi">+
+      # -- Type of the internal controller service.
+      # Defaults to the value of `controller.service.type`.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types
+      type: ""
+
+      # -- Pre-defined cluster internal IP address of the internal controller service. Take care of collisions with existing services.
+      # This value is immutable. Set once, it can not be changed without deleting and re-creating the service.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#choosing-your-own-ip-address
+      clusterIP: ""
+
+      # -- List of node IP addresses at which the internal controller service is available.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
+      externalIPs: []
+
+      # -- Deprecated: Pre-defined IP address of the internal controller service. Used by cloud providers to connect the resulting load balancer service to a pre-existing static IP.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
</span>       loadBalancerIP: ""
<span class="gd">-      # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
</span><span class="gi">+      # -- Restrict access to the internal controller service. Values must be CIDRs. Allows any source address by default.
</span>       loadBalancerSourceRanges: []
<span class="gd">-      ## Set external traffic policy to: "Local" to preserve source IP on
-      ## providers supporting it
-      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-      # externalTrafficPolicy: ""
</span><span class="gi">+      # -- Load balancer class of the internal controller service. Used by cloud providers to select a load balancer implementation other than the cloud provider default.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-class
+      loadBalancerClass: ""
+
+      # -- Enable node port allocation for the internal controller service or not. Applies to type `LoadBalancer` only.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
+      # allocateLoadBalancerNodePorts: true
+
+      # -- External traffic policy of the internal controller service. Set to "Local" to preserve source IP on providers supporting it.
+      # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+      externalTrafficPolicy: ""
+
+      # -- Session affinity of the internal controller service. Must be either "None" or "ClientIP" if set. Defaults to "None".
+      # Ref: https://kubernetes.io/docs/reference/networking/virtual-ips/#session-affinity
+      sessionAffinity: ""
+
+      # -- Specifies the health check node port (numeric port number) for the internal controller service.
+      # If not specified, the service controller allocates a port from your cluster's node port range.
+      # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+      # healthCheckNodePort: 0
+
+      # -- Represents the dual-stack capabilities of the internal controller service. Possible values are SingleStack, PreferDualStack or RequireDualStack.
+      # Fields `ipFamilies` and `clusterIP` depend on the value of this field.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services
+      ipFamilyPolicy: SingleStack
+      # -- List of IP families (e.g. IPv4, IPv6) assigned to the internal controller service. This field is usually assigned automatically based on cluster configuration and the `ipFamilyPolicy` field.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/#services
+      ipFamilies:
+        - IPv4
</span> 
<span class="gd">-      # -- Custom port mapping for internal service
</span>       ports: {}
<span class="gd">-      #  http: 80
-      #  https: 443
</span><span class="gi">+        # -- Port the internal HTTP listener is published with.
+        # Defaults to the value of `controller.service.ports.http`.
+        # http: 80
+        # -- Port the internal HTTPS listener is published with.
+        # Defaults to the value of `controller.service.ports.https`.
+        # https: 443
</span> 
<span class="gd">-      # -- Custom target port mapping for internal service
</span>       targetPorts: {}
<span class="gd">-      #  http: http
-      #  https: https
</span><span class="gi">+        # -- Port of the ingress controller the internal HTTP listener is mapped to.
+        # Defaults to the value of `controller.service.targetPorts.http`.
+        # http: http
+        # -- Port of the ingress controller the internal HTTPS listener is mapped to.
+        # Defaults to the value of `controller.service.targetPorts.https`.
+        # https: https
+
+      # -- Declare the app protocol of the internal HTTP and HTTPS listeners or not. Supersedes provider-specific annotations for declaring the backend protocol.
+      # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#application-protocol
+      appProtocol: true
+
+      nodePorts:
+        # -- Node port allocated for the internal HTTP listener. If left empty, the service controller allocates one from the configured node port range.
+        http: ""
+        # -- Node port allocated for the internal HTTPS listener. If left empty, the service controller allocates one from the configured node port range.
+        https: ""
+        # -- Node port mapping for internal TCP listeners. If left empty, the service controller allocates them from the configured node port range.
+        # Example:
+        # tcp:
+        #   8080: 30080
+        tcp: {}
+        # -- Node port mapping for internal UDP listeners. If left empty, the service controller allocates them from the configured node port range.
+        # Example:
+        # udp:
+        #   53: 30053
+        udp: {}
+
</span>   # shareProcessNamespace enables process namespace sharing within the pod.
   # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
   shareProcessNamespace: false
<span class="p">@@ -587,8 +682,15 @@</span> controller:
   # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
   extraModules: []
   # - name: mytestmodule
<span class="gd">-  #   image: registry.k8s.io/ingress-nginx/mytestmodule
-  #   distroless: false
</span><span class="gi">+  #   image:
+  #     registry: registry.k8s.io
+  #     image: ingress-nginx/mytestmodule
+  #     ## for backwards compatibility consider setting the full image url via the repository value below
+  #     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+  #     ## repository:
+  #     tag: "v1.0.0"
+  #     digest: ""
+  #     distroless: false
</span>   #   containerSecurityContext:
   #     runAsNonRoot: true
   #     runAsUser: &lt;user-id&gt;
<span class="p">@@ -608,8 +710,15 @@</span> controller:
   opentelemetry:
     enabled: false
     name: opentelemetry
<span class="gd">-    image: registry.k8s.io/ingress-nginx/opentelemetry:v20230721-3e2062ee5@sha256:13bee3f5223883d3ca62fee7309ad02d22ec00ff0d7033e3e9aca7a9f60fd472
-    distroless: true
</span><span class="gi">+    image:
+      registry: registry.k8s.io
+      image: ingress-nginx/opentelemetry
+      ## for backwards compatibility consider setting the full image url via the repository value below
+      ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+      ## repository:
+      tag: "v20230721-3e2062ee5"
+      digest: sha256:13bee3f5223883d3ca62fee7309ad02d22ec00ff0d7033e3e9aca7a9f60fd472
+      distroless: true
</span>     containerSecurityContext:
       runAsNonRoot: true
       # -- The image's default user, inherited from its base image `cgr.dev/chainguard/static`.
<span class="p">@@ -931,21 +1040,21 @@</span> defaultBackend:
   ## Additional volumes to the default backend pod.
   #  - name: copy-portal-skins
   #    emptyDir: {}
<span class="gi">+
</span>   extraConfigMaps: []
<span class="gd">-    ## Additional configmaps to the default backend pod.
-    # Example ConfigMap, uncomment and configure as needed
-    # - name: my-extra-configmap-1
-    #   labels:
-    #     type: config-1
-    #   data:
-    #     extra_file_1.html: |
-    #       &lt;!-- Extra HTML content for ConfigMap 1 --&gt;
-    # - name: my-extra-configmap-2
-    #   labels:
-    #     type: config-2
-    #   data:
-    #     extra_file_2.html: |
-    #       &lt;!-- Extra HTML content for ConfigMap 2 --&gt;
</span><span class="gi">+  ## Additional configmaps to the default backend pod.
+  #  - name: my-extra-configmap-1
+  #    labels:
+  #      type: config-1
+  #    data:
+  #      extra_file_1.html: |
+  #        &lt;!-- Extra HTML content for ConfigMap 1 --&gt;
+  #  - name: my-extra-configmap-2
+  #    labels:
+  #      type: config-2
+  #    data:
+  #      extra_file_2.html: |
+  #        &lt;!-- Extra HTML content for ConfigMap 2 --&gt;
</span> 
   autoscaling:
     annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="484"> <a href="#484" class="anchor-heading" aria-labelledby="484"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.4 </h2> <p><strong>Release date:</strong> 2023-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.4&amp;color=success" alt="AppVersion: 1.9.4"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add extra configMaps support to helm chart (#10673)</li> <li>[charts] add controller.admissionWebhooks.networkPolicyEnabled (#10650)</li> <li>Chart: Split <code class="language-plaintext highlighter-rouge">CHANGELOG.md</code> into <code class="language-plaintext highlighter-rouge">changelog/helm-chart-*.md</code>.</li> <li>Chart: Rename <code class="language-plaintext highlighter-rouge">changelog/Changelog-*.md</code> into <code class="language-plaintext highlighter-rouge">changelog/helm-chart-*.md</code>.</li> <li>Chart: Improve <code class="language-plaintext highlighter-rouge">changelog/helm-chart.md.gotmpl</code>.</li> <li>Chart: Rename <code class="language-plaintext highlighter-rouge">changelog.md.gotmpl</code> into <code class="language-plaintext highlighter-rouge">changelog/helm-chart.md.gotmpl</code>.</li> <li>Chart: Tighten <code class="language-plaintext highlighter-rouge">securityContext</code>s and Pod Security Policies. (#10491)</li> <li>Chart: Fix pod selectors in <code class="language-plaintext highlighter-rouge">NOTES.txt</code>. (#10617)</li> <li>Comment NGINXCertificateExpiry alert label matcher (#10613)</li> <li>chart: allow setting allocateLoadBalancerNodePorts (#10585)</li> <li>Ignore fake certificate for NGINXCertificateExpiry (#10505)</li> <li>Chart: Improve #10539. (#10565)</li> <li>feat(helm): add documentation about metric args (#10590)</li> <li>Fix typo (#10594)</li> <li>Admission Webhook: Truncate name. (#10523)</li> </ul> <h3 id="default-value-changes-3"> <a href="#default-value-changes-3" class="anchor-heading" aria-labelledby="default-value-changes-3"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c043b6258..c1e89d777 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -31,9 +31,13 @@</span> controller:
     digest: sha256:5b161f051d017e55d358435f295f5e9a297e66158f136321d9b04520ec6c48a3
     digestChroot: sha256:5976b1067cfbca8a21d0ba53d71f83543a73316a61ea7f7e436d6cf84ddf9b26
     pullPolicy: IfNotPresent
<span class="gi">+    runAsNonRoot: true
</span>     # www-data -&gt; uid 101
     runAsUser: 101
<span class="gd">-    allowPrivilegeEscalation: true
</span><span class="gi">+    allowPrivilegeEscalation: false
+    seccompProfile:
+      type: RuntimeDefault
+    readOnlyRootFilesystem: false
</span>   # -- Use an existing PSP instead of creating one
   existingPsp: ""
   # -- Configures the controller container name
<span class="p">@@ -127,12 +131,15 @@</span> controller:
   podLabels: {}
   #  key: value
 
<span class="gd">-  # -- Security Context policies for controller pods
</span><span class="gi">+  # -- Security context for controller pods
</span>   podSecurityContext: {}
<span class="gd">-  # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
</span><span class="gi">+  # -- sysctls for controller pods
+  ## Ref: https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/
</span>   sysctls: {}
   # sysctls:
   #   "net.core.somaxconn": "8192"
<span class="gi">+  # -- Security context for controller containers
+  containerSecurityContext: {}
</span> 
   # -- Allows customization of the source of the IP address or FQDN to report
   # in the ingress status field. By default, it reads the information provided
<span class="p">@@ -173,6 +180,9 @@</span> controller:
   extraArgs: {}
   ## extraArgs:
   ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
<span class="gi">+  ##   time-buckets: "0.005,0.01,0.025,0.05,0.1,0.25,0.5,1,2.5,5,10"
+  ##   length-buckets: "10,20,30,40,50,60,70,80,90,100"
+  ##   size-buckets: "10,100,1000,10000,100000,1e+06,1e+07"
</span> 
   # -- Additional environment variables to set
   extraEnvs: []
<span class="p">@@ -339,7 +349,7 @@</span> controller:
   # -- Minimum available pods set in PodDisruptionBudget.
   # Define either 'minAvailable' or 'maxUnavailable', never both.
   minAvailable: 1
<span class="gd">-  # -- Maximum unavalaile pods set in PodDisruptionBudget. If set, 'minAvailable' is ignored.
</span><span class="gi">+  # -- Maximum unavailable pods set in PodDisruptionBudget. If set, 'minAvailable' is ignored.
</span>   # maxUnavailable: 1
 
   ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
<span class="p">@@ -452,6 +462,9 @@</span> controller:
     ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
     ##
     externalIPs: []
<span class="gi">+    # -- Set to false to disable loadbalancer node port allocation
+    # See https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
+    # allocateLoadBalancerNodePorts: true
</span>     # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
<span class="p">@@ -507,6 +520,9 @@</span> controller:
       enabled: false
       # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service. Values passed through helm tpl engine.
       annotations: {}
<span class="gi">+      # -- Set to false to disable loadbalancer node port allocation
+      # See https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-nodeport-allocation
+      # allocateLoadBalancerNodePorts: true
</span>       # -- Used by cloud providers to connect the resulting internal LoadBalancer to a pre-existing static IP. Make sure to add to the service the needed annotation to specify the subnet which the static IP belongs to. For instance, `networking.gke.io/internal-load-balancer-subnet` for GCP and `service.beta.kubernetes.io/aws-load-balancer-subnets` for AWS.
       loadBalancerIP: ""
       # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
<span class="p">@@ -572,8 +588,18 @@</span> controller:
   extraModules: []
   # - name: mytestmodule
   #   image: registry.k8s.io/ingress-nginx/mytestmodule
<span class="gi">+  #   distroless: false
</span>   #   containerSecurityContext:
<span class="gi">+  #     runAsNonRoot: true
+  #     runAsUser: &lt;user-id&gt;
</span>   #     allowPrivilegeEscalation: false
<span class="gi">+  #     seccompProfile:
+  #       type: RuntimeDefault
+  #     capabilities:
+  #       drop:
+  #       - ALL
+  #     readOnlyRootFilesystem: true
+  #   resources: {}
</span>   #
   # The image must contain a `/usr/local/bin/init_module.sh` executable, which
   # will be executed as initContainers, to move its config files within the
<span class="p">@@ -581,11 +607,23 @@</span> controller:
 
   opentelemetry:
     enabled: false
<span class="gi">+    name: opentelemetry
</span>     image: registry.k8s.io/ingress-nginx/opentelemetry:v20230721-3e2062ee5@sha256:13bee3f5223883d3ca62fee7309ad02d22ec00ff0d7033e3e9aca7a9f60fd472
<span class="gi">+    distroless: true
</span>     containerSecurityContext:
<span class="gi">+      runAsNonRoot: true
+      # -- The image's default user, inherited from its base image `cgr.dev/chainguard/static`.
+      runAsUser: 65532
</span>       allowPrivilegeEscalation: false
<span class="gi">+      seccompProfile:
+        type: RuntimeDefault
+      capabilities:
+        drop:
+        - ALL
+      readOnlyRootFilesystem: true
</span>     resources: {}
   admissionWebhooks:
<span class="gi">+    name: admission
</span>     annotations: {}
     # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
 
<span class="p">@@ -622,8 +660,18 @@</span> controller:
       servicePort: 443
       type: ClusterIP
     createSecretJob:
<span class="gi">+      name: create
+      # -- Security context for secret creation containers
</span>       securityContext:
<span class="gi">+        runAsNonRoot: true
+        runAsUser: 65532
</span>         allowPrivilegeEscalation: false
<span class="gi">+        seccompProfile:
+          type: RuntimeDefault
+        capabilities:
+          drop:
+          - ALL
+        readOnlyRootFilesystem: true
</span>       resources: {}
       # limits:
       #   cpu: 10m
<span class="p">@@ -632,8 +680,18 @@</span> controller:
       #   cpu: 10m
       #   memory: 20Mi
     patchWebhookJob:
<span class="gi">+      name: patch
+      # -- Security context for webhook patch containers
</span>       securityContext:
<span class="gi">+        runAsNonRoot: true
+        runAsUser: 65532
</span>         allowPrivilegeEscalation: false
<span class="gi">+        seccompProfile:
+          type: RuntimeDefault
+        capabilities:
+          drop:
+          - ALL
+        readOnlyRootFilesystem: true
</span>       resources: {}
     patch:
       enabled: true
<span class="p">@@ -650,15 +708,17 @@</span> controller:
       ##
       priorityClassName: ""
       podAnnotations: {}
<span class="gi">+      # NetworkPolicy for webhook patch
+      networkPolicy:
+        # -- Enable 'networkPolicy' or not
+        enabled: false
</span>       nodeSelector:
         kubernetes.io/os: linux
       tolerations: []
       # -- Labels to be added to patch job resources
       labels: {}
<span class="gd">-      securityContext:
-        runAsNonRoot: true
-        runAsUser: 2000
-        fsGroup: 2000
</span><span class="gi">+      # -- Security context for secret creation &amp; webhook patch pods
+      securityContext: {}
</span>     # Use certmanager to generate webhook certs
     certManager:
       enabled: false
<span class="p">@@ -725,8 +785,13 @@</span> controller:
       #   annotations:
       #     description: bad ingress config - nginx config test failed
       #     summary: uninstall the latest ingress changes to allow config reloads to resume
<span class="gi">+      # # By default a fake self-signed certificate is generated as default and
+      # # it is fine if it expires. If `--default-ssl-certificate` flag is used
+      # # and a valid certificate passed please do not filter for `host` label!
+      # # (i.e. delete `{host!="_"}` so also the default SSL certificate is
+      # # checked for expiration)
</span>       # - alert: NGINXCertificateExpiry
<span class="gd">-      #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
</span><span class="gi">+      #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds{host!="_"}) by (host) - time()) &lt; 604800
</span>       #   for: 1s
       #   labels:
       #     severity: critical
<span class="p">@@ -779,11 +844,13 @@</span> defaultBackend:
     ## repository:
     tag: "1.5"
     pullPolicy: IfNotPresent
<span class="gi">+    runAsNonRoot: true
</span>     # nobody user -&gt; uid 65534
     runAsUser: 65534
<span class="gd">-    runAsNonRoot: true
-    readOnlyRootFilesystem: true
</span>     allowPrivilegeEscalation: false
<span class="gi">+    seccompProfile:
+      type: RuntimeDefault
+    readOnlyRootFilesystem: true
</span>   # -- Use an existing PSP instead of creating one
   existingPsp: ""
   extraArgs: {}
<span class="p">@@ -829,15 +896,9 @@</span> defaultBackend:
   #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
 
   affinity: {}
<span class="gd">-  # -- Security Context policies for controller pods
-  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  # notes on enabling and using sysctls
-  ##
</span><span class="gi">+  # -- Security context for default backend pods
</span>   podSecurityContext: {}
<span class="gd">-  # -- Security Context policies for controller main container.
-  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  # notes on enabling and using sysctls
-  ##
</span><span class="gi">+  # -- Security context for default backend containers
</span>   containerSecurityContext: {}
   # -- Labels to add to the pod container metadata
   podLabels: {}
<span class="p">@@ -870,6 +931,21 @@</span> defaultBackend:
   ## Additional volumes to the default backend pod.
   #  - name: copy-portal-skins
   #    emptyDir: {}
<span class="gi">+  extraConfigMaps: []
+    ## Additional configmaps to the default backend pod.
+    # Example ConfigMap, uncomment and configure as needed
+    # - name: my-extra-configmap-1
+    #   labels:
+    #     type: config-1
+    #   data:
+    #     extra_file_1.html: |
+    #       &lt;!-- Extra HTML content for ConfigMap 1 --&gt;
+    # - name: my-extra-configmap-2
+    #   labels:
+    #     type: config-2
+    #   data:
+    #     extra_file_2.html: |
+    #       &lt;!-- Extra HTML content for ConfigMap 2 --&gt;
</span> 
   autoscaling:
     annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="483-1"> <a href="#483-1" class="anchor-heading" aria-labelledby="483-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.3 </h2> <p><strong>Release date:</strong> 2023-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.4&amp;color=success" alt="AppVersion: 1.9.4"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.9.4 (#10568)</li> <li>feat: add namespace overrides (#10539)</li> <li>DOCS Remove support for running Both (#10255)</li> </ul> <h3 id="default-value-changes-4"> <a href="#default-value-changes-4" class="anchor-heading" aria-labelledby="default-value-changes-4"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 890282233..c043b6258 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -7,6 +7,9 @@</span>
 # nameOverride:
 # fullnameOverride:
 
<span class="gi">+# -- Override the deployment namespace; defaults to .Release.Namespace
+namespaceOverride: ""
+
</span> ## Labels to apply to all resources
 ##
 commonLabels: {}
<span class="p">@@ -24,9 +27,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.9.3"
-    digest: sha256:8fd21d59428507671ce0fb47f818b1d859c92d2ad07bb7c947268d433030ba98
-    digestChroot: sha256:df4931fd6859fbf1a71e785f02a44b2f9a16f010ae852c442e9bb779cbefdc86
</span><span class="gi">+    tag: "v1.9.4"
+    digest: sha256:5b161f051d017e55d358435f295f5e9a297e66158f136321d9b04520ec6c48a3
+    digestChroot: sha256:5976b1067cfbca8a21d0ba53d71f83543a73316a61ea7f7e436d6cf84ddf9b26
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -699,7 +702,7 @@</span> controller:
       ## jobLabel: "app.kubernetes.io/name"
       namespace: ""
       namespaceSelector: {}
<span class="gd">-      ## Default: scrape .Release.Namespace only
</span><span class="gi">+      ## Default: scrape .Release.Namespace or namespaceOverride only
</span>       ## To scrape all, use the following:
       ## namespaceSelector:
       ##   any: true
<span class="err">
</span></code></pre></div></div> <h2 id="482"> <a href="#482" class="anchor-heading" aria-labelledby="482"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.2 </h2> <p><strong>Release date:</strong> 2023-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.3&amp;color=success" alt="AppVersion: 1.9.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release 1.9.3</li> <li>update nginx base, httpbun, e2e, helm webhook cert gen (#10506)</li> </ul> <h3 id="default-value-changes-5"> <a href="#default-value-changes-5" class="anchor-heading" aria-labelledby="default-value-changes-5"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 196e14017..890282233 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -24,9 +24,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.9.1"
-    digest: sha256:605a737877de78969493a4b1213b21de4ee425d2926906857b98050f57a95b25
-    digestChroot: sha256:2ac744ef08850ee86ad7162451a6879f47c1a41c6a757f6b6f913c52103b8836
</span><span class="gi">+    tag: "v1.9.3"
+    digest: sha256:8fd21d59428507671ce0fb47f818b1d859c92d2ad07bb7c947268d433030ba98
+    digestChroot: sha256:df4931fd6859fbf1a71e785f02a44b2f9a16f010ae852c442e9bb779cbefdc86
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -640,8 +640,8 @@</span> controller:
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         ## repository:
<span class="gd">-        tag: v20230407
-        digest: sha256:543c40fd093964bc9ab509d3e791f9989963021f1e9e4c9c7b6700b02bfb227b
</span><span class="gi">+        tag: v20231011-8b53cabe0
+        digest: sha256:a7943503b45d552785aa3b5e457f169a5661fb94d82b8a3373bcd9ebaf9aac80
</span>         pullPolicy: IfNotPresent
       # -- Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="481"> <a href="#481" class="anchor-heading" aria-labelledby="481"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.1 </h2> <p><strong>Release date:</strong> 2023-10-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.1&amp;color=success" alt="AppVersion: 1.9.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.9.1</li> <li>Chart: Rework network policies. (#10238)</li> </ul> <h3 id="default-value-changes-6"> <a href="#default-value-changes-6" class="anchor-heading" aria-labelledby="default-value-changes-6"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d476f8088..196e14017 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -24,9 +24,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.9.0"
-    digest: sha256:c15d1a617858d90fb8f8a2dd60b0676f2bb85c54e3ed11511794b86ec30c8c60
-    digestChroot: sha256:d9fa7a136de2104fb2ecfcf1666978bfab927f4a125b75c0fb471e6104366ab5
</span><span class="gi">+    tag: "v1.9.1"
+    digest: sha256:605a737877de78969493a4b1213b21de4ee425d2926906857b98050f57a95b25
+    digestChroot: sha256:2ac744ef08850ee86ad7162451a6879f47c1a41c6a757f6b6f913c52103b8836
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -96,6 +96,10 @@</span> controller:
       http: 80
       # -- 'hostPort' https port
       https: 443
<span class="gi">+  # NetworkPolicy for controller component.
+  networkPolicy:
+    # -- Enable 'networkPolicy' or not
+    enabled: false
</span>   # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
   electionID: ""
   ## This section refers to the creation of the IngressClass resource
<span class="p">@@ -606,7 +610,6 @@</span> controller:
     labels: {}
     # -- Use an existing PSP instead of creating one
     existingPsp: ""
<span class="gd">-    networkPolicyEnabled: false
</span>     service:
       annotations: {}
       # clusterIP: ""
<span class="p">@@ -872,6 +875,10 @@</span> defaultBackend:
     maxReplicas: 2
     targetCPUUtilizationPercentage: 50
     targetMemoryUtilizationPercentage: 50
<span class="gi">+  # NetworkPolicy for default backend component.
+  networkPolicy:
+    # -- Enable 'networkPolicy' or not
+    enabled: false
</span>   service:
     annotations: {}
     # clusterIP: ""
<span class="err">
</span></code></pre></div></div> <h2 id="480"> <a href="#480" class="anchor-heading" aria-labelledby="480"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.0 </h2> <p><strong>Release date:</strong> 2023-09-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.0&amp;color=success" alt="AppVersion: 1.9.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.9.0 (#10433)</li> <li>Helm - Fix Chart.yaml - add license annotations, add type keyword, remove gotpl (#10287)</li> </ul> <h3 id="default-value-changes-7"> <a href="#default-value-changes-7" class="anchor-heading" aria-labelledby="default-value-changes-7"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 0b6091bb7..d476f8088 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -24,9 +24,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.9.0-beta.0"
-    digest: sha256:531377e4cc9dc62af40d742402222603259673f5a755a64d74122f256dfad8f9
-    digestChroot: sha256:60b4c95349ce2a81a3b2a76423ee483b847b89d3fa8cb148468434f606f3fa0c
</span><span class="gi">+    tag: "v1.9.0"
+    digest: sha256:c15d1a617858d90fb8f8a2dd60b0676f2bb85c54e3ed11511794b86ec30c8c60
+    digestChroot: sha256:d9fa7a136de2104fb2ecfcf1666978bfab927f4a125b75c0fb471e6104366ab5
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="480-beta0"> <a href="#480-beta0" class="anchor-heading" aria-labelledby="480-beta0"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.0-beta.0 </h2> <p><strong>Release date:</strong> 2023-09-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.9.0-beta.0&amp;color=success" alt="AppVersion: 1.9.0-beta.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.9.0-beta.0 (#10422)</li> <li>DaemonSet: Implement OpenTelemetry resources. (#10409)</li> <li>helm: add resources to opentelemetry init container (#10300)</li> <li>Disable user snippets per default (#10393)</li> <li>Deployment/DaemonSet: Fix templating &amp; value. (#10240)</li> <li>Deployment/DaemonSet: Template <code class="language-plaintext highlighter-rouge">topologySpreadConstraints</code>. (#10259)</li> </ul> <h3 id="default-value-changes-8"> <a href="#default-value-changes-8" class="anchor-heading" aria-labelledby="default-value-changes-8"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 7ba4fa896..0b6091bb7 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -24,9 +24,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.8.2"
-    digest: sha256:74834d3d25b336b62cabeb8bf7f1d788706e2cf1cfd64022de4137ade8881ff2
-    digestChroot: sha256:1317a563219f755a6094d990057c78e5c4dcea5e31f4ce1db8641e732a7d6133
</span><span class="gi">+    tag: "v1.9.0-beta.0"
+    digest: sha256:531377e4cc9dc62af40d742402222603259673f5a755a64d74122f256dfad8f9
+    digestChroot: sha256:60b4c95349ce2a81a3b2a76423ee483b847b89d3fa8cb148468434f606f3fa0c
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -50,7 +50,15 @@</span> controller:
   # -- Optionally customize the pod dnsConfig.
   dnsConfig: {}
   # -- Optionally customize the pod hostAliases.
<span class="gd">-  hostAliases: {}
</span><span class="gi">+  hostAliases: []
+  # - ip: 127.0.0.1
+  #   hostnames:
+  #   - foo.local
+  #   - bar.local
+  # - ip: 10.1.2.3
+  #   hostnames:
+  #   - foo.remote
+  #   - bar.remote
</span>   # -- Optionally customize the pod hostname.
   hostname: {}
   # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
<span class="p">@@ -73,7 +81,7 @@</span> controller:
   # their own *-snippet annotations, otherwise this is forbidden / dropped
   # when users add those annotations.
   # Global snippets in ConfigMap are still respected
<span class="gd">-  allowSnippetAnnotations: true
</span><span class="gi">+  allowSnippetAnnotations: false
</span>   # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
   # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
   # is merged
<span class="p">@@ -248,12 +256,22 @@</span> controller:
   ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
   ##
   topologySpreadConstraints: []
<span class="gd">-  # - maxSkew: 1
</span><span class="gi">+  # - labelSelector:
+  #     matchLabels:
+  #       app.kubernetes.io/name: '{{ include "ingress-nginx.name" . }}'
+  #       app.kubernetes.io/instance: '{{ .Release.Name }}'
+  #       app.kubernetes.io/component: controller
</span>   #   topologyKey: topology.kubernetes.io/zone
<span class="gd">-  #   whenUnsatisfiable: DoNotSchedule
-  #   labelSelector:
</span><span class="gi">+  #   maxSkew: 1
+  #   whenUnsatisfiable: ScheduleAnyway
+  # - labelSelector:
</span>   #     matchLabels:
<span class="gd">-  #       app.kubernetes.io/instance: ingress-nginx-internal
</span><span class="gi">+  #       app.kubernetes.io/name: '{{ include "ingress-nginx.name" . }}'
+  #       app.kubernetes.io/instance: '{{ .Release.Name }}'
+  #       app.kubernetes.io/component: controller
+  #   topologyKey: kubernetes.io/hostname
+  #   maxSkew: 1
+  #   whenUnsatisfiable: ScheduleAnyway
</span> 
   # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
   ## wait up to five minutes for the drain of connections
<span class="p">@@ -559,6 +577,7 @@</span> controller:
     image: registry.k8s.io/ingress-nginx/opentelemetry:v20230721-3e2062ee5@sha256:13bee3f5223883d3ca62fee7309ad02d22ec00ff0d7033e3e9aca7a9f60fd472
     containerSecurityContext:
       allowPrivilegeEscalation: false
<span class="gi">+    resources: {}
</span>   admissionWebhooks:
     annotations: {}
     # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
<span class="err">
</span></code></pre></div></div> <h2 id="472"> <a href="#472" class="anchor-heading" aria-labelledby="472"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.7.2 </h2> <p><strong>Release date:</strong> 2023-09-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.8.2&amp;color=success" alt="AppVersion: 1.8.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release notes 1.8.2 (#10389)</li> <li>BUGFIX incorrect indentation (#10254)</li> <li>Bump k8s.io/component-base from 0.26.4 to 0.27.4 (Replace Topology Aware Hints with Topology Aware Routing) (#10282)</li> <li>helm: Use .Release.Namespace as default for ServiceMonitor namespace (#10249)</li> <li>promote distroless otel init image (#10257)</li> <li>[helm] configure allow to configure hostAliases (#10180)</li> <li>Implement annotation validation (#9673)</li> <li>[helm] pass service annotations through helm tpl engine (#10084)</li> <li>Ignore deployment template’s replicas if KEDA is enabled (#9534)</li> </ul> <h3 id="default-value-changes-9"> <a href="#default-value-changes-9" class="anchor-heading" aria-labelledby="default-value-changes-9"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d091391a8..7ba4fa896 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,6 +15,7 @@</span> commonLabels: {}
 
 controller:
   name: controller
<span class="gi">+  enableAnnotationValidations: false
</span>   image:
     ## Keep false as default for now!
     chroot: false
<span class="p">@@ -23,9 +24,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.8.1"
-    digest: sha256:e5c4824e7375fcf2a393e1c03c293b69759af37a9ca6abdb91b13d78a93da8bd
-    digestChroot: sha256:e0d4121e3c5e39de9122e55e331a32d5ebf8d4d257227cb93ab54a1b912a7627
</span><span class="gi">+    tag: "v1.8.2"
+    digest: sha256:74834d3d25b336b62cabeb8bf7f1d788706e2cf1cfd64022de4137ade8881ff2
+    digestChroot: sha256:1317a563219f755a6094d990057c78e5c4dcea5e31f4ce1db8641e732a7d6133
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -48,6 +49,8 @@</span> controller:
   addHeaders: {}
   # -- Optionally customize the pod dnsConfig.
   dnsConfig: {}
<span class="gi">+  # -- Optionally customize the pod hostAliases.
+  hostAliases: {}
</span>   # -- Optionally customize the pod hostname.
   hostname: {}
   # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
<span class="p">@@ -63,7 +66,7 @@</span> controller:
   watchIngressWithoutClass: false
   # -- Process IngressClass per name (additionally as per spec.controller).
   ingressClassByName: false
<span class="gd">-  # -- This configuration enables Topology Aware Routing feature, used together with service annotation service.kubernetes.io/topology-aware-hints="auto"
</span><span class="gi">+  # -- This configuration enables Topology Aware Routing feature, used together with service annotation service.kubernetes.io/topology-mode="auto"
</span>   # Defaults to false
   enableTopologyAwareRouting: false
   # -- This configuration defines if Ingress Controller should allow users to set
<span class="p">@@ -415,6 +418,7 @@</span> controller:
     # Will be ignored for Kubernetes versions older than 1.20
     ##
     appProtocol: true
<span class="gi">+    # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service. Values passed through helm tpl engine.
</span>     annotations: {}
     labels: {}
     # clusterIP: ""
<span class="p">@@ -476,7 +480,7 @@</span> controller:
     internal:
       # -- Enables an additional internal load balancer (besides the external one).
       enabled: false
<span class="gd">-      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
</span><span class="gi">+      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service. Values passed through helm tpl engine.
</span>       annotations: {}
       # -- Used by cloud providers to connect the resulting internal LoadBalancer to a pre-existing static IP. Make sure to add to the service the needed annotation to specify the subnet which the static IP belongs to. For instance, `networking.gke.io/internal-load-balancer-subnet` for GCP and `service.beta.kubernetes.io/aws-load-balancer-subnets` for AWS.
       loadBalancerIP: ""
<span class="p">@@ -552,7 +556,7 @@</span> controller:
 
   opentelemetry:
     enabled: false
<span class="gd">-    image: registry.k8s.io/ingress-nginx/opentelemetry:v20230527@sha256:fd7ec835f31b7b37187238eb4fdad4438806e69f413a203796263131f4f02ed0
</span><span class="gi">+    image: registry.k8s.io/ingress-nginx/opentelemetry:v20230721-3e2062ee5@sha256:13bee3f5223883d3ca62fee7309ad02d22ec00ff0d7033e3e9aca7a9f60fd472
</span>     containerSecurityContext:
       allowPrivilegeEscalation: false
   admissionWebhooks:
<span class="err">
</span></code></pre></div></div> <h2 id="471"> <a href="#471" class="anchor-heading" aria-labelledby="471"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.7.1 </h2> <p><strong>Release date:</strong> 2023-06-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.8.1&amp;color=success" alt="AppVersion: 1.8.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release notes 1.8.1 (#10161)</li> <li>Fix loadBalancerClass value (#10139)</li> <li>Added a doc line to the missing helm value service.internal.loadBalancerIP (#9406)</li> <li>Update typo in docs for lb scheme (#10117)</li> <li>feat(helm): Add loadBalancerClass (#9562)</li> <li>add distroless otel init (#10035)</li> <li>add support for keda fallback settings (#9993)</li> <li>Update Internal Load Balancer docs (#10062)</li> <li>fix broken kubernetes.io/user-guide/ docs links (#10055)</li> <li>ensured hpa mem spec before cpu spec (#10043)</li> </ul> <h3 id="default-value-changes-10"> <a href="#default-value-changes-10" class="anchor-heading" aria-labelledby="default-value-changes-10"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 7ca41e79e..d091391a8 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.8.0"
-    digest: sha256:744ae2afd433a395eeb13dc03d3313facba92e96ad71d9feaafc85925493fee3
-    digestChroot: sha256:a45e41cd2b7670adf829759878f512d4208d0aec1869dae593a0fecd09a5e49e
</span><span class="gi">+    tag: "v1.8.1"
+    digest: sha256:e5c4824e7375fcf2a393e1c03c293b69759af37a9ca6abdb91b13d78a93da8bd
+    digestChroot: sha256:e0d4121e3c5e39de9122e55e331a32d5ebf8d4d257227cb93ab54a1b912a7627
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -257,7 +257,7 @@</span> controller:
   ##
   terminationGracePeriodSeconds: 300
   # -- Node labels for controller pod assignment
<span class="gd">-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+  ## Ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
</span>   ##
   nodeSelector:
     kubernetes.io/os: linux
<span class="p">@@ -368,6 +368,9 @@</span> controller:
     maxReplicas: 11
     pollingInterval: 30
     cooldownPeriod: 300
<span class="gi">+    # fallback:
+    #   failureThreshold: 3
+    #   replicas: 11
</span>     restoreToOriginalReplicaCount: false
     scaledObject:
       annotations: {}
<span class="p">@@ -417,12 +420,14 @@</span> controller:
     # clusterIP: ""
 
     # -- List of IP addresses at which the controller services are available
<span class="gd">-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
</span>     ##
     externalIPs: []
     # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
<span class="gi">+    # -- Used by cloud providers to select a load balancer implementation other than the cloud provider default. https://kubernetes.io/docs/concepts/services-networking/service/#load-balancer-class
+    loadBalancerClass: ""
</span>     enableHttp: true
     enableHttps: true
     ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
<span class="p">@@ -473,8 +478,8 @@</span> controller:
       enabled: false
       # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
       annotations: {}
<span class="gd">-      # loadBalancerIP: ""
-
</span><span class="gi">+      # -- Used by cloud providers to connect the resulting internal LoadBalancer to a pre-existing static IP. Make sure to add to the service the needed annotation to specify the subnet which the static IP belongs to. For instance, `networking.gke.io/internal-load-balancer-subnet` for GCP and `service.beta.kubernetes.io/aws-load-balancer-subnets` for AWS.
+      loadBalancerIP: ""
</span>       # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
       loadBalancerSourceRanges: []
       ## Set external traffic policy to: "Local" to preserve source IP on
<span class="p">@@ -652,7 +657,7 @@</span> controller:
       # clusterIP: ""
 
       # -- List of IP addresses at which the stats-exporter service is available
<span class="gd">-      ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+      ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
</span>       ##
       externalIPs: []
       # loadBalancerIP: ""
<span class="p">@@ -810,7 +815,7 @@</span> defaultBackend:
   #  key: value
 
   # -- Node labels for default backend pod assignment
<span class="gd">-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+  ## Ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
</span>   ##
   nodeSelector:
     kubernetes.io/os: linux
<span class="p">@@ -849,7 +854,7 @@</span> defaultBackend:
     # clusterIP: ""
 
     # -- List of IP addresses at which the default backend service is available
<span class="gd">-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
</span>     ##
     externalIPs: []
     # loadBalancerIP: ""
<span class="err">
</span></code></pre></div></div> <h2 id="470"> <a href="#470" class="anchor-heading" aria-labelledby="470"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.7.0 </h2> <p><strong>Release date:</strong> 2023-05-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.8.0&amp;color=success" alt="AppVersion: 1.8.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release controller 1.8.0 and chart 4.7.0 (#10017)</li> <li>changed tagsha to recent builds (#10001)</li> <li>PodDisruptionBudget spec logic update (#9904)</li> <li>helm: Fix opentelemetry module installation for daemonset (#9792)</li> <li>HPA: Use capabilites &amp; align manifests. (#9521)</li> <li>add option for annotations in PodDisruptionBudget (#9843)</li> <li>Update charts/* to keep project name display aligned (#9931)</li> </ul> <h3 id="default-value-changes-11"> <a href="#default-value-changes-11" class="anchor-heading" aria-labelledby="default-value-changes-11"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 551fb0449..7ca41e79e 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.7.1"
-    digest: sha256:7244b95ea47bddcb8267c1e625fb163fc183ef55448855e3ac52a7b260a60407
-    digestChroot: sha256:e35d5ab487861b9d419c570e3530589229224a0762c7b4d2e2222434abb8d988
</span><span class="gi">+    tag: "v1.8.0"
+    digest: sha256:744ae2afd433a395eeb13dc03d3313facba92e96ad71d9feaafc85925493fee3
+    digestChroot: sha256:a45e41cd2b7670adf829759878f512d4208d0aec1869dae593a0fecd09a5e49e
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -55,7 +55,7 @@</span> controller:
   # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
   dnsPolicy: ClusterFirst
   # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
<span class="gd">-  # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
</span><span class="gi">+  # Ingress status was blank because there is no Service exposing the Ingress-Nginx Controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
</span>   reportNodeInternalIp: false
   # -- Process Ingress objects without ingressClass annotation/ingressClassName field
   # Overrides value for --watch-ingress-without-class flag of the controller binary
<span class="p">@@ -150,7 +150,7 @@</span> controller:
   # -- Maxmind license key to download GeoLite2 Databases.
   ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
   maxmindLicenseKey: ""
<span class="gd">-  # -- Additional command line arguments to pass to nginx-ingress-controller
</span><span class="gi">+  # -- Additional command line arguments to pass to Ingress-Nginx Controller
</span>   # E.g. to specify the default SSL certificate you can use
   extraArgs: {}
   ## extraArgs:
<span class="p">@@ -302,15 +302,16 @@</span> controller:
   healthCheckPath: "/healthz"
   # -- Address to bind the health check endpoint.
   # It is better to set this option to the internal node address
<span class="gd">-  # if the ingress nginx controller is running in the `hostNetwork: true` mode.
</span><span class="gi">+  # if the Ingress-Nginx Controller is running in the `hostNetwork: true` mode.
</span>   healthCheckHost: ""
   # -- Annotations to be added to controller pods
   ##
   podAnnotations: {}
   replicaCount: 1
<span class="gd">-  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
</span><span class="gi">+  # -- Minimum available pods set in PodDisruptionBudget.
+  # Define either 'minAvailable' or 'maxUnavailable', never both.
</span>   minAvailable: 1
<span class="gd">-  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
</span><span class="gi">+  # -- Maximum unavalaile pods set in PodDisruptionBudget. If set, 'minAvailable' is ignored.
</span>   # maxUnavailable: 1
 
   ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
<span class="p">@@ -326,7 +327,6 @@</span> controller:
       memory: 90Mi
   # Mutually exclusive with keda autoscaling
   autoscaling:
<span class="gd">-    apiVersion: autoscaling/v2
</span>     enabled: false
     annotations: {}
     minReplicas: 1
<span class="p">@@ -547,7 +547,7 @@</span> controller:
 
   opentelemetry:
     enabled: false
<span class="gd">-    image: registry.k8s.io/ingress-nginx/opentelemetry:v20230312-helm-chart-4.5.2-28-g66a760794@sha256:40f766ac4a9832f36f217bb0e98d44c8d38faeccbfe861fbc1a76af7e9ab257f
</span><span class="gi">+    image: registry.k8s.io/ingress-nginx/opentelemetry:v20230527@sha256:fd7ec835f31b7b37187238eb4fdad4438806e69f413a203796263131f4f02ed0
</span>     containerSecurityContext:
       allowPrivilegeEscalation: false
   admissionWebhooks:
<span class="p">@@ -609,8 +609,8 @@</span> controller:
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         ## repository:
<span class="gd">-        tag: v20230312-helm-chart-4.5.2-28-g66a760794
-        digest: sha256:01d181618f270f2a96c04006f33b2699ad3ccb02da48d0f89b22abce084b292f
</span><span class="gi">+        tag: v20230407
+        digest: sha256:543c40fd093964bc9ab509d3e791f9989963021f1e9e4c9c7b6700b02bfb227b
</span>         pullPolicy: IfNotPresent
       # -- Provide a priority class name to the webhook patching job
       ##
<span class="p">@@ -838,7 +838,6 @@</span> defaultBackend:
   #    emptyDir: {}
 
   autoscaling:
<span class="gd">-    apiVersion: autoscaling/v2
</span>     annotations: {}
     enabled: false
     minReplicas: 1
<span class="err">
</span></code></pre></div></div> <h2 id="461"> <a href="#461" class="anchor-heading" aria-labelledby="461"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.1 </h2> <p><strong>Release date:</strong> 2023-05-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.7.1&amp;color=success" alt="AppVersion: 1.7.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release controller 1.7.1 and chart 4.6.1 (#9929)</li> <li>[helm] Support custom port configuration for internal service (#9846)</li> <li>Adding resource type to default HPA configuration to resolve issues with Terraform helm chart usage (#9803)</li> <li>README: Update <code class="language-plaintext highlighter-rouge">external-dns</code> link. (#9866)</li> <li>Chart: Improve <code class="language-plaintext highlighter-rouge">README.md</code>. (#9831)</li> <li>Values: Fix indention of commented values. (#9812)</li> </ul> <h3 id="default-value-changes-12"> <a href="#default-value-changes-12" class="anchor-heading" aria-labelledby="default-value-changes-12"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 6627bf220..551fb0449 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.7.0"
-    digest: sha256:7612338342a1e7b8090bef78f2a04fffcadd548ccaabe8a47bf7758ff549a5f7
-    digestChroot: sha256:e84ef3b44c8efeefd8b0aa08770a886bfea1f04c53b61b4ba9a7204e9f1a7edc
</span><span class="gi">+    tag: "v1.7.1"
+    digest: sha256:7244b95ea47bddcb8267c1e625fb163fc183ef55448855e3ac52a7b260a60407
+    digestChroot: sha256:e35d5ab487861b9d419c570e3530589229224a0762c7b4d2e2222434abb8d988
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -375,27 +375,26 @@</span> controller:
       #  annotations:
       # key: value
     triggers: []
<span class="gd">-    #     - type: prometheus
-    #       metadata:
-    #         serverAddress: http://&lt;prometheus-host&gt;:9090
-    #         metricName: http_requests_total
-    #         threshold: '100'
-    #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
</span><span class="gi">+    # - type: prometheus
+    #   metadata:
+    #     serverAddress: http://&lt;prometheus-host&gt;:9090
+    #     metricName: http_requests_total
+    #     threshold: '100'
+    #     query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
</span> 
     behavior: {}
<span class="gd">-  #     scaleDown:
-  #       stabilizationWindowSeconds: 300
-  #       policies:
-  #       - type: Pods
-  #         value: 1
-  #         periodSeconds: 180
-  #     scaleUp:
-  #       stabilizationWindowSeconds: 300
-  #       policies:
-  #       - type: Pods
-  #         value: 2
-  #         periodSeconds: 60
-
</span><span class="gi">+    # scaleDown:
+    #   stabilizationWindowSeconds: 300
+    #   policies:
+    #   - type: Pods
+    #     value: 1
+    #     periodSeconds: 180
+    # scaleUp:
+    #   stabilizationWindowSeconds: 300
+    #   policies:
+    #   - type: Pods
+    #     value: 2
+    #     periodSeconds: 60
</span>   # -- Enable mimalloc as a drop-in replacement for malloc.
   ## ref: https://github.com/microsoft/mimalloc
   ##
<span class="p">@@ -482,6 +481,16 @@</span> controller:
       ## providers supporting it
       ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
       # externalTrafficPolicy: ""
<span class="gi">+
+      # -- Custom port mapping for internal service
+      ports: {}
+      #  http: 80
+      #  https: 443
+
+      # -- Custom target port mapping for internal service
+      targetPorts: {}
+      #  http: http
+      #  https: https
</span>   # shareProcessNamespace enables process namespace sharing within the pod.
   # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
   shareProcessNamespace: false
<span class="err">
</span></code></pre></div></div> <h2 id="460"> <a href="#460" class="anchor-heading" aria-labelledby="460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.0 </h2> <p><strong>Release date:</strong> 2023-03-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.7.0&amp;color=success" alt="AppVersion: 1.7.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release 1.7.0 chart 4.6.0</li> </ul> <h3 id="default-value-changes-13"> <a href="#default-value-changes-13" class="anchor-heading" aria-labelledby="default-value-changes-13"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="454"> <a href="#454" class="anchor-heading" aria-labelledby="454"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.5.4 </h2> <p><strong>Release date:</strong> 2023-03-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=4.6.0&amp;color=success" alt="AppVersion: 4.6.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release notes v1.7.0</li> <li>fix: controller psp’s volume config (#9740)</li> <li>Fix several Helm YAML issues with extraModules and extraInitContainers (#9709)</li> <li>docs(helm): fix value key in readme for enabling certManager (#9640)</li> <li>updated digest and sha for opentelemetry (#9758)</li> <li>updated kube-webhook-certgen digest and tags (#9756)</li> <li>Chart: Drop <code class="language-plaintext highlighter-rouge">controller.headers</code>, rework DH param secret. (#9659)</li> <li>Deployment/DaemonSet: Label pods using <code class="language-plaintext highlighter-rouge">ingress-nginx.labels</code>. (#9732)</li> <li>HPA: autoscaling/v2beta1 deprecated, bump apiVersion to v2 for defaultBackend (#9731)</li> </ul> <h3 id="default-value-changes-14"> <a href="#default-value-changes-14" class="anchor-heading" aria-labelledby="default-value-changes-14"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 202cd4a23..6627bf220 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -14,148 +14,541 @@</span> commonLabels: {}
 # myLabel: aakkmd
 
 controller:
<span class="gd">-    name: controller
-    image:
-        ## Keep false as default for now!
-        chroot: false
-        registry: registry.k8s.io
-        image: ingress-nginx/controller
-        ## for backwards compatibility consider setting the full image url via the repository value below
-        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        ## repository:
-        tag: "v1.6.4"
-        digest: sha256:15be4666c53052484dd2992efacf2f50ea77a78ae8aa21ccd91af6baaa7ea22f
-        digestChroot: sha256:0de01e2c316c3ca7847ca13b32d077af7910d07f21a4a82f81061839764f8f81
-        pullPolicy: IfNotPresent
-        # www-data -&gt; uid 101
-        runAsUser: 101
-        allowPrivilegeEscalation: true
-    # -- Use an existing PSP instead of creating one
-    existingPsp: ""
-    # -- Configures the controller container name
-    containerName: controller
-    # -- Configures the ports that the nginx-controller listens on
-    containerPort:
-        http: 80
-        https: 443
-    # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
-    config: {}
-    # -- Annotations to be added to the controller config configuration configmap.
-    configAnnotations: {}
-    # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
-    proxySetHeaders: {}
-    # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
-    addHeaders: {}
-    # -- Optionally customize the pod dnsConfig.
-    dnsConfig: {}
-    # -- Optionally customize the pod hostname.
-    hostname: {}
-    # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
-    # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
-    # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
-    dnsPolicy: ClusterFirst
-    # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
-    # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
-    reportNodeInternalIp: false
-    # -- Process Ingress objects without ingressClass annotation/ingressClassName field
-    # Overrides value for --watch-ingress-without-class flag of the controller binary
-    # Defaults to false
-    watchIngressWithoutClass: false
-    # -- Process IngressClass per name (additionally as per spec.controller).
-    ingressClassByName: false
-    # -- This configuration enables Topology Aware Routing feature, used together with service annotation service.kubernetes.io/topology-aware-hints="auto"
-    # Defaults to false
-    enableTopologyAwareRouting: false
-    # -- This configuration defines if Ingress Controller should allow users to set
-    # their own *-snippet annotations, otherwise this is forbidden / dropped
-    # when users add those annotations.
-    # Global snippets in ConfigMap are still respected
-    allowSnippetAnnotations: true
-    # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
-    # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
-    # is merged
-    hostNetwork: false
-    ## Use host ports 80 and 443
-    ## Disabled by default
-    hostPort:
-        # -- Enable 'hostPort' or not
-        enabled: false
-        ports:
-            # -- 'hostPort' http port
-            http: 80
-            # -- 'hostPort' https port
-            https: 443
-    # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
-    electionID: ""
-    ## This section refers to the creation of the IngressClass resource
-    ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
-    ingressClassResource:
-        # -- Name of the ingressClass
-        name: nginx
-        # -- Is this ingressClass enabled or not
-        enabled: true
-        # -- Is this the default ingressClass for the cluster
-        default: false
-        # -- Controller-value of the controller that is processing this ingressClass
-        controllerValue: "k8s.io/ingress-nginx"
-        # -- Parameters is a link to a custom resource containing additional
-        # configuration for the controller. This is optional if the controller
-        # does not require extra parameters.
-        parameters: {}
-    # -- For backwards compatibility with ingress.class annotation, use ingressClass.
-    # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
-    ingressClass: nginx
-    # -- Labels to add to the pod container metadata
-    podLabels: {}
-    #  key: value
-
-    # -- Security Context policies for controller pods
-    podSecurityContext: {}
-    # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
-    sysctls: {}
-    # sysctls:
-    #   "net.core.somaxconn": "8192"
-
-    # -- Allows customization of the source of the IP address or FQDN to report
-    # in the ingress status field. By default, it reads the information provided
-    # by the service. If disable, the status field reports the IP address of the
-    # node or nodes where an ingress controller pod is running.
-    publishService:
-        # -- Enable 'publishService' or not
-        enabled: true
-        # -- Allows overriding of the publish service to bind to
-        # Must be &lt;namespace&gt;/&lt;service_name&gt;
-        pathOverride: ""
-    # Limit the scope of the controller to a specific namespace
-    scope:
-        # -- Enable 'scope' or not
-        enabled: false
-        # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
-        namespace: ""
-        # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
-        # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
-        namespaceSelector: ""
-    # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
</span><span class="gi">+  name: controller
+  image:
+    ## Keep false as default for now!
+    chroot: false
+    registry: registry.k8s.io
+    image: ingress-nginx/controller
+    ## for backwards compatibility consider setting the full image url via the repository value below
+    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    ## repository:
+    tag: "v1.7.0"
+    digest: sha256:7612338342a1e7b8090bef78f2a04fffcadd548ccaabe8a47bf7758ff549a5f7
+    digestChroot: sha256:e84ef3b44c8efeefd8b0aa08770a886bfea1f04c53b61b4ba9a7204e9f1a7edc
+    pullPolicy: IfNotPresent
+    # www-data -&gt; uid 101
+    runAsUser: 101
+    allowPrivilegeEscalation: true
+  # -- Use an existing PSP instead of creating one
+  existingPsp: ""
+  # -- Configures the controller container name
+  containerName: controller
+  # -- Configures the ports that the nginx-controller listens on
+  containerPort:
+    http: 80
+    https: 443
+  # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
+  config: {}
+  # -- Annotations to be added to the controller config configuration configmap.
+  configAnnotations: {}
+  # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
+  proxySetHeaders: {}
+  # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
+  addHeaders: {}
+  # -- Optionally customize the pod dnsConfig.
+  dnsConfig: {}
+  # -- Optionally customize the pod hostname.
+  hostname: {}
+  # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
+  # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
+  # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
+  dnsPolicy: ClusterFirst
+  # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
+  # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
+  reportNodeInternalIp: false
+  # -- Process Ingress objects without ingressClass annotation/ingressClassName field
+  # Overrides value for --watch-ingress-without-class flag of the controller binary
+  # Defaults to false
+  watchIngressWithoutClass: false
+  # -- Process IngressClass per name (additionally as per spec.controller).
+  ingressClassByName: false
+  # -- This configuration enables Topology Aware Routing feature, used together with service annotation service.kubernetes.io/topology-aware-hints="auto"
+  # Defaults to false
+  enableTopologyAwareRouting: false
+  # -- This configuration defines if Ingress Controller should allow users to set
+  # their own *-snippet annotations, otherwise this is forbidden / dropped
+  # when users add those annotations.
+  # Global snippets in ConfigMap are still respected
+  allowSnippetAnnotations: true
+  # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
+  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
+  # is merged
+  hostNetwork: false
+  ## Use host ports 80 and 443
+  ## Disabled by default
+  hostPort:
+    # -- Enable 'hostPort' or not
+    enabled: false
+    ports:
+      # -- 'hostPort' http port
+      http: 80
+      # -- 'hostPort' https port
+      https: 443
+  # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
+  electionID: ""
+  ## This section refers to the creation of the IngressClass resource
+  ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
+  ingressClassResource:
+    # -- Name of the ingressClass
+    name: nginx
+    # -- Is this ingressClass enabled or not
+    enabled: true
+    # -- Is this the default ingressClass for the cluster
+    default: false
+    # -- Controller-value of the controller that is processing this ingressClass
+    controllerValue: "k8s.io/ingress-nginx"
+    # -- Parameters is a link to a custom resource containing additional
+    # configuration for the controller. This is optional if the controller
+    # does not require extra parameters.
+    parameters: {}
+  # -- For backwards compatibility with ingress.class annotation, use ingressClass.
+  # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
+  ingressClass: nginx
+  # -- Labels to add to the pod container metadata
+  podLabels: {}
+  #  key: value
+
+  # -- Security Context policies for controller pods
+  podSecurityContext: {}
+  # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
+  sysctls: {}
+  # sysctls:
+  #   "net.core.somaxconn": "8192"
+
+  # -- Allows customization of the source of the IP address or FQDN to report
+  # in the ingress status field. By default, it reads the information provided
+  # by the service. If disable, the status field reports the IP address of the
+  # node or nodes where an ingress controller pod is running.
+  publishService:
+    # -- Enable 'publishService' or not
+    enabled: true
+    # -- Allows overriding of the publish service to bind to
+    # Must be &lt;namespace&gt;/&lt;service_name&gt;
+    pathOverride: ""
+  # Limit the scope of the controller to a specific namespace
+  scope:
+    # -- Enable 'scope' or not
+    enabled: false
+    # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
+    namespace: ""
+    # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
+    # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
+    namespaceSelector: ""
+  # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
+  configMapNamespace: ""
+  tcp:
+    # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    # -- Annotations to be added to the tcp config configmap
+    annotations: {}
+  udp:
+    # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
</span>     configMapNamespace: ""
<span class="gd">-    tcp:
-        # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
-        configMapNamespace: ""
-        # -- Annotations to be added to the tcp config configmap
-        annotations: {}
-    udp:
-        # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
-        configMapNamespace: ""
-        # -- Annotations to be added to the udp config configmap
-        annotations: {}
-    # -- Maxmind license key to download GeoLite2 Databases.
-    ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
-    maxmindLicenseKey: ""
-    # -- Additional command line arguments to pass to nginx-ingress-controller
-    # E.g. to specify the default SSL certificate you can use
-    extraArgs: {}
-    ## extraArgs:
-    ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
</span><span class="gi">+    # -- Annotations to be added to the udp config configmap
+    annotations: {}
+  # -- Maxmind license key to download GeoLite2 Databases.
+  ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
+  maxmindLicenseKey: ""
+  # -- Additional command line arguments to pass to nginx-ingress-controller
+  # E.g. to specify the default SSL certificate you can use
+  extraArgs: {}
+  ## extraArgs:
+  ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
+
+  # -- Additional environment variables to set
+  extraEnvs: []
+  # extraEnvs:
+  #   - name: FOO
+  #     valueFrom:
+  #       secretKeyRef:
+  #         key: FOO
+  #         name: secret-resource
+
+  # -- Use a `DaemonSet` or `Deployment`
+  kind: Deployment
+  # -- Annotations to be added to the controller Deployment or DaemonSet
+  ##
+  annotations: {}
+  #  keel.sh/pollSchedule: "@every 60m"
+
+  # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
+  ##
+  labels: {}
+  #  keel.sh/policy: patch
+  #  keel.sh/trigger: poll
+
+  # -- The update strategy to apply to the Deployment or DaemonSet
+  ##
+  updateStrategy: {}
+  #  rollingUpdate:
+  #    maxUnavailable: 1
+  #  type: RollingUpdate
+
+  # -- `minReadySeconds` to avoid killing pods before we are ready
+  ##
+  minReadySeconds: 0
+  # -- Node tolerations for server scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+  #  - key: "key"
+  #    operator: "Equal|Exists"
+  #    value: "value"
+  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+  # -- Affinity and anti-affinity rules for server scheduling to nodes
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
+  ##
+  affinity: {}
+  # # An example of preferred pod anti-affinity, weight is in the range 1-100
+  # podAntiAffinity:
+  #   preferredDuringSchedulingIgnoredDuringExecution:
+  #   - weight: 100
+  #     podAffinityTerm:
+  #       labelSelector:
+  #         matchExpressions:
+  #         - key: app.kubernetes.io/name
+  #           operator: In
+  #           values:
+  #           - ingress-nginx
+  #         - key: app.kubernetes.io/instance
+  #           operator: In
+  #           values:
+  #           - ingress-nginx
+  #         - key: app.kubernetes.io/component
+  #           operator: In
+  #           values:
+  #           - controller
+  #       topologyKey: kubernetes.io/hostname
+
+  # # An example of required pod anti-affinity
+  # podAntiAffinity:
+  #   requiredDuringSchedulingIgnoredDuringExecution:
+  #   - labelSelector:
+  #       matchExpressions:
+  #       - key: app.kubernetes.io/name
+  #         operator: In
+  #         values:
+  #         - ingress-nginx
+  #       - key: app.kubernetes.io/instance
+  #         operator: In
+  #         values:
+  #         - ingress-nginx
+  #       - key: app.kubernetes.io/component
+  #         operator: In
+  #         values:
+  #         - controller
+  #     topologyKey: "kubernetes.io/hostname"
+
+  # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+  ##
+  topologySpreadConstraints: []
+  # - maxSkew: 1
+  #   topologyKey: topology.kubernetes.io/zone
+  #   whenUnsatisfiable: DoNotSchedule
+  #   labelSelector:
+  #     matchLabels:
+  #       app.kubernetes.io/instance: ingress-nginx-internal
+
+  # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
+  ## wait up to five minutes for the drain of connections
+  ##
+  terminationGracePeriodSeconds: 300
+  # -- Node labels for controller pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+  ##
+  nodeSelector:
+    kubernetes.io/os: linux
+  ## Liveness and readiness probe values
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
+  ##
+  ## startupProbe:
+  ##   httpGet:
+  ##     # should match container.healthCheckPath
+  ##     path: "/healthz"
+  ##     port: 10254
+  ##     scheme: HTTP
+  ##   initialDelaySeconds: 5
+  ##   periodSeconds: 5
+  ##   timeoutSeconds: 2
+  ##   successThreshold: 1
+  ##   failureThreshold: 5
+  livenessProbe:
+    httpGet:
+      # should match container.healthCheckPath
+      path: "/healthz"
+      port: 10254
+      scheme: HTTP
+    initialDelaySeconds: 10
+    periodSeconds: 10
+    timeoutSeconds: 1
+    successThreshold: 1
+    failureThreshold: 5
+  readinessProbe:
+    httpGet:
+      # should match container.healthCheckPath
+      path: "/healthz"
+      port: 10254
+      scheme: HTTP
+    initialDelaySeconds: 10
+    periodSeconds: 10
+    timeoutSeconds: 1
+    successThreshold: 1
+    failureThreshold: 3
+  # -- Path of the health check endpoint. All requests received on the port defined by
+  # the healthz-port parameter are forwarded internally to this path.
+  healthCheckPath: "/healthz"
+  # -- Address to bind the health check endpoint.
+  # It is better to set this option to the internal node address
+  # if the ingress nginx controller is running in the `hostNetwork: true` mode.
+  healthCheckHost: ""
+  # -- Annotations to be added to controller pods
+  ##
+  podAnnotations: {}
+  replicaCount: 1
+  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+  minAvailable: 1
+  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+  # maxUnavailable: 1
+
+  ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
+  ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
+  ## Ideally, there should be no limits.
+  ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
+  resources:
+    ##  limits:
+    ##    cpu: 100m
+    ##    memory: 90Mi
+    requests:
+      cpu: 100m
+      memory: 90Mi
+  # Mutually exclusive with keda autoscaling
+  autoscaling:
+    apiVersion: autoscaling/v2
+    enabled: false
+    annotations: {}
+    minReplicas: 1
+    maxReplicas: 11
+    targetCPUUtilizationPercentage: 50
+    targetMemoryUtilizationPercentage: 50
+    behavior: {}
+    # scaleDown:
+    #   stabilizationWindowSeconds: 300
+    #   policies:
+    #   - type: Pods
+    #     value: 1
+    #     periodSeconds: 180
+    # scaleUp:
+    #   stabilizationWindowSeconds: 300
+    #   policies:
+    #   - type: Pods
+    #     value: 2
+    #     periodSeconds: 60
+  autoscalingTemplate: []
+  # Custom or additional autoscaling metrics
+  # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
+  # - type: Pods
+  #   pods:
+  #     metric:
+  #       name: nginx_ingress_controller_nginx_process_requests_total
+  #     target:
+  #       type: AverageValue
+  #       averageValue: 10000m
+
+  # Mutually exclusive with hpa autoscaling
+  keda:
+    apiVersion: "keda.sh/v1alpha1"
+    ## apiVersion changes with keda 1.x vs 2.x
+    ## 2.x = keda.sh/v1alpha1
+    ## 1.x = keda.k8s.io/v1alpha1
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 11
+    pollingInterval: 30
+    cooldownPeriod: 300
+    restoreToOriginalReplicaCount: false
+    scaledObject:
+      annotations: {}
+      # Custom annotations for ScaledObject resource
+      #  annotations:
+      # key: value
+    triggers: []
+    #     - type: prometheus
+    #       metadata:
+    #         serverAddress: http://&lt;prometheus-host&gt;:9090
+    #         metricName: http_requests_total
+    #         threshold: '100'
+    #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
+
+    behavior: {}
+  #     scaleDown:
+  #       stabilizationWindowSeconds: 300
+  #       policies:
+  #       - type: Pods
+  #         value: 1
+  #         periodSeconds: 180
+  #     scaleUp:
+  #       stabilizationWindowSeconds: 300
+  #       policies:
+  #       - type: Pods
+  #         value: 2
+  #         periodSeconds: 60
+
+  # -- Enable mimalloc as a drop-in replacement for malloc.
+  ## ref: https://github.com/microsoft/mimalloc
+  ##
+  enableMimalloc: true
+  ## Override NGINX template
+  customTemplate:
+    configMapName: ""
+    configMapKey: ""
+  service:
+    enabled: true
+    # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
+    # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
+    # It allows choosing the protocol for each backend specified in the Kubernetes service.
+    # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
+    # Will be ignored for Kubernetes versions older than 1.20
+    ##
+    appProtocol: true
+    annotations: {}
+    labels: {}
+    # clusterIP: ""
+
+    # -- List of IP addresses at which the controller services are available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+    externalIPs: []
+    # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    enableHttp: true
+    enableHttps: true
+    ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
+    ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+    # externalTrafficPolicy: ""
+
+    ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
+    # sessionAffinity: ""
+
+    ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
+    ## the service controller allocates a port from your cluster’s NodePort range.
+    ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+    # healthCheckNodePort: 0
+
+    # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
+    # SingleStack, PreferDualStack or RequireDualStack.
+    # The ipFamilies and clusterIPs fields depend on the value of this field.
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+    ipFamilyPolicy: "SingleStack"
+    # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
+    # based on cluster configuration and the ipFamilyPolicy field.
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+    ipFamilies:
+      - IPv4
+    ports:
+      http: 80
+      https: 443
+    targetPorts:
+      http: http
+      https: https
+    type: LoadBalancer
+    ## type: NodePort
+    ## nodePorts:
+    ##   http: 32080
+    ##   https: 32443
+    ##   tcp:
+    ##     8080: 32808
+    nodePorts:
+      http: ""
+      https: ""
+      tcp: {}
+      udp: {}
+    external:
+      enabled: true
+    internal:
+      # -- Enables an additional internal load balancer (besides the external one).
+      enabled: false
+      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
+      annotations: {}
+      # loadBalancerIP: ""
+
+      # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
+      loadBalancerSourceRanges: []
+      ## Set external traffic policy to: "Local" to preserve source IP on
+      ## providers supporting it
+      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+      # externalTrafficPolicy: ""
+  # shareProcessNamespace enables process namespace sharing within the pod.
+  # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
+  shareProcessNamespace: false
+  # -- Additional containers to be added to the controller pod.
+  # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
+  extraContainers: []
+  #  - name: my-sidecar
+  #    image: nginx:latest
+  #  - name: lemonldap-ng-controller
+  #    image: lemonldapng/lemonldap-ng-controller:0.2.0
+  #    args:
+  #      - /lemonldap-ng-controller
+  #      - --alsologtostderr
+  #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
+  #    env:
+  #      - name: POD_NAME
+  #        valueFrom:
+  #          fieldRef:
+  #            fieldPath: metadata.name
+  #      - name: POD_NAMESPACE
+  #        valueFrom:
+  #          fieldRef:
+  #            fieldPath: metadata.namespace
+  #    volumeMounts:
+  #    - name: copy-portal-skins
+  #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
+
+  # -- Additional volumeMounts to the controller main container.
+  extraVolumeMounts: []
+  #  - name: copy-portal-skins
+  #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+  # -- Additional volumes to the controller pod.
+  extraVolumes: []
+  #  - name: copy-portal-skins
+  #    emptyDir: {}
+
+  # -- Containers, which are run before the app containers are started.
+  extraInitContainers: []
+  # - name: init-myservice
+  #   image: busybox
+  #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
+
+  # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
+  extraModules: []
+  # - name: mytestmodule
+  #   image: registry.k8s.io/ingress-nginx/mytestmodule
+  #   containerSecurityContext:
+  #     allowPrivilegeEscalation: false
+  #
+  # The image must contain a `/usr/local/bin/init_module.sh` executable, which
+  # will be executed as initContainers, to move its config files within the
+  # mounted volume.
+
+  opentelemetry:
+    enabled: false
+    image: registry.k8s.io/ingress-nginx/opentelemetry:v20230312-helm-chart-4.5.2-28-g66a760794@sha256:40f766ac4a9832f36f217bb0e98d44c8d38faeccbfe861fbc1a76af7e9ab257f
+    containerSecurityContext:
+      allowPrivilegeEscalation: false
+  admissionWebhooks:
+    annotations: {}
+    # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
</span> 
<span class="gi">+    ## Additional annotations to the admission webhooks.
+    ## These annotations will be added to the ValidatingWebhookConfiguration and
+    ## the Jobs Spec of the admission webhooks.
+    enabled: true
</span>     # -- Additional environment variables to set
     extraEnvs: []
     # extraEnvs:
<span class="p">@@ -164,704 +557,314 @@</span> controller:
     #       secretKeyRef:
     #         key: FOO
     #         name: secret-resource
<span class="gd">-
-    # -- Use a `DaemonSet` or `Deployment`
-    kind: Deployment
-    # -- Annotations to be added to the controller Deployment or DaemonSet
-    ##
-    annotations: {}
-    #  keel.sh/pollSchedule: "@every 60m"
-
-    # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
-    ##
</span><span class="gi">+    # -- Admission Webhook failure policy to use
+    failurePolicy: Fail
+    # timeoutSeconds: 10
+    port: 8443
+    certificate: "/usr/local/certificates/cert"
+    key: "/usr/local/certificates/key"
+    namespaceSelector: {}
+    objectSelector: {}
+    # -- Labels to be added to admission webhooks
</span>     labels: {}
<span class="gd">-    #  keel.sh/policy: patch
-    #  keel.sh/trigger: poll
-
-    # -- The update strategy to apply to the Deployment or DaemonSet
-    ##
-    updateStrategy: {}
-    #  rollingUpdate:
-    #    maxUnavailable: 1
-    #  type: RollingUpdate
-
-    # -- `minReadySeconds` to avoid killing pods before we are ready
-    ##
-    minReadySeconds: 0
-    # -- Node tolerations for server scheduling to nodes with taints
-    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-    ##
-    tolerations: []
-    #  - key: "key"
-    #    operator: "Equal|Exists"
-    #    value: "value"
-    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-    # -- Affinity and anti-affinity rules for server scheduling to nodes
-    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
-    ##
-    affinity: {}
-    # # An example of preferred pod anti-affinity, weight is in the range 1-100
-    # podAntiAffinity:
-    #   preferredDuringSchedulingIgnoredDuringExecution:
-    #   - weight: 100
-    #     podAffinityTerm:
-    #       labelSelector:
-    #         matchExpressions:
-    #         - key: app.kubernetes.io/name
-    #           operator: In
-    #           values:
-    #           - ingress-nginx
-    #         - key: app.kubernetes.io/instance
-    #           operator: In
-    #           values:
-    #           - ingress-nginx
-    #         - key: app.kubernetes.io/component
-    #           operator: In
-    #           values:
-    #           - controller
-    #       topologyKey: kubernetes.io/hostname
-
-    # # An example of required pod anti-affinity
-    # podAntiAffinity:
-    #   requiredDuringSchedulingIgnoredDuringExecution:
-    #   - labelSelector:
-    #       matchExpressions:
-    #       - key: app.kubernetes.io/name
-    #         operator: In
-    #         values:
-    #         - ingress-nginx
-    #       - key: app.kubernetes.io/instance
-    #         operator: In
-    #         values:
-    #         - ingress-nginx
-    #       - key: app.kubernetes.io/component
-    #         operator: In
-    #         values:
-    #         - controller
-    #     topologyKey: "kubernetes.io/hostname"
-
-    # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
-    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
-    ##
-    topologySpreadConstraints: []
-    # - maxSkew: 1
-    #   topologyKey: topology.kubernetes.io/zone
-    #   whenUnsatisfiable: DoNotSchedule
-    #   labelSelector:
-    #     matchLabels:
-    #       app.kubernetes.io/instance: ingress-nginx-internal
-
-    # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
-    ## wait up to five minutes for the drain of connections
-    ##
-    terminationGracePeriodSeconds: 300
-    # -- Node labels for controller pod assignment
-    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-    ##
-    nodeSelector:
</span><span class="gi">+    # -- Use an existing PSP instead of creating one
+    existingPsp: ""
+    networkPolicyEnabled: false
+    service:
+      annotations: {}
+      # clusterIP: ""
+      externalIPs: []
+      # loadBalancerIP: ""
+      loadBalancerSourceRanges: []
+      servicePort: 443
+      type: ClusterIP
+    createSecretJob:
+      securityContext:
+        allowPrivilegeEscalation: false
+      resources: {}
+      # limits:
+      #   cpu: 10m
+      #   memory: 20Mi
+      # requests:
+      #   cpu: 10m
+      #   memory: 20Mi
+    patchWebhookJob:
+      securityContext:
+        allowPrivilegeEscalation: false
+      resources: {}
+    patch:
+      enabled: true
+      image:
+        registry: registry.k8s.io
+        image: ingress-nginx/kube-webhook-certgen
+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
+        tag: v20230312-helm-chart-4.5.2-28-g66a760794
+        digest: sha256:01d181618f270f2a96c04006f33b2699ad3ccb02da48d0f89b22abce084b292f
+        pullPolicy: IfNotPresent
+      # -- Provide a priority class name to the webhook patching job
+      ##
+      priorityClassName: ""
+      podAnnotations: {}
+      nodeSelector:
</span>         kubernetes.io/os: linux
<span class="gd">-    ## Liveness and readiness probe values
-    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
-    ##
-    ## startupProbe:
-    ##   httpGet:
-    ##     # should match container.healthCheckPath
-    ##     path: "/healthz"
-    ##     port: 10254
-    ##     scheme: HTTP
-    ##   initialDelaySeconds: 5
-    ##   periodSeconds: 5
-    ##   timeoutSeconds: 2
-    ##   successThreshold: 1
-    ##   failureThreshold: 5
-    livenessProbe:
-        httpGet:
-            # should match container.healthCheckPath
-            path: "/healthz"
-            port: 10254
-            scheme: HTTP
-        initialDelaySeconds: 10
-        periodSeconds: 10
-        timeoutSeconds: 1
-        successThreshold: 1
-        failureThreshold: 5
-    readinessProbe:
-        httpGet:
-            # should match container.healthCheckPath
-            path: "/healthz"
-            port: 10254
-            scheme: HTTP
-        initialDelaySeconds: 10
-        periodSeconds: 10
-        timeoutSeconds: 1
-        successThreshold: 1
-        failureThreshold: 3
-    # -- Path of the health check endpoint. All requests received on the port defined by
-    # the healthz-port parameter are forwarded internally to this path.
-    healthCheckPath: "/healthz"
-    # -- Address to bind the health check endpoint.
-    # It is better to set this option to the internal node address
-    # if the ingress nginx controller is running in the `hostNetwork: true` mode.
-    healthCheckHost: ""
-    # -- Annotations to be added to controller pods
-    ##
-    podAnnotations: {}
-    replicaCount: 1
-    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
-    minAvailable: 1
-    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
-    # maxUnavailable: 1
-
-    ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
-    ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
-    ## Ideally, there should be no limits.
-    ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
-    resources:
-        ##  limits:
-        ##    cpu: 100m
-        ##    memory: 90Mi
-        requests:
-            cpu: 100m
-            memory: 90Mi
-    # Mutually exclusive with keda autoscaling
-    autoscaling:
-        apiVersion: autoscaling/v2
-        enabled: false
-        annotations: {}
-        minReplicas: 1
-        maxReplicas: 11
-        targetCPUUtilizationPercentage: 50
-        targetMemoryUtilizationPercentage: 50
-        behavior: {}
-        # scaleDown:
-        #   stabilizationWindowSeconds: 300
-        #   policies:
-        #   - type: Pods
-        #     value: 1
-        #     periodSeconds: 180
-        # scaleUp:
-        #   stabilizationWindowSeconds: 300
-        #   policies:
-        #   - type: Pods
-        #     value: 2
-        #     periodSeconds: 60
-    autoscalingTemplate: []
-    # Custom or additional autoscaling metrics
-    # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
-    # - type: Pods
-    #   pods:
-    #     metric:
-    #       name: nginx_ingress_controller_nginx_process_requests_total
-    #     target:
-    #       type: AverageValue
-    #       averageValue: 10000m
-
-    # Mutually exclusive with hpa autoscaling
-    keda:
-        apiVersion: "keda.sh/v1alpha1"
-        ## apiVersion changes with keda 1.x vs 2.x
-        ## 2.x = keda.sh/v1alpha1
-        ## 1.x = keda.k8s.io/v1alpha1
-        enabled: false
-        minReplicas: 1
-        maxReplicas: 11
-        pollingInterval: 30
-        cooldownPeriod: 300
-        restoreToOriginalReplicaCount: false
-        scaledObject:
-            annotations: {}
-            # Custom annotations for ScaledObject resource
-            #  annotations:
-            # key: value
-        triggers: []
-        #     - type: prometheus
-        #       metadata:
-        #         serverAddress: http://&lt;prometheus-host&gt;:9090
-        #         metricName: http_requests_total
-        #         threshold: '100'
-        #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
-
-        behavior: {}
-    #     scaleDown:
-    #       stabilizationWindowSeconds: 300
-    #       policies:
-    #       - type: Pods
-    #         value: 1
-    #         periodSeconds: 180
-    #     scaleUp:
-    #       stabilizationWindowSeconds: 300
-    #       policies:
-    #       - type: Pods
-    #         value: 2
-    #         periodSeconds: 60
-
-    # -- Enable mimalloc as a drop-in replacement for malloc.
-    ## ref: https://github.com/microsoft/mimalloc
-    ##
-    enableMimalloc: true
-    ## Override NGINX template
-    customTemplate:
-        configMapName: ""
-        configMapKey: ""
</span><span class="gi">+      tolerations: []
+      # -- Labels to be added to patch job resources
+      labels: {}
+      securityContext:
+        runAsNonRoot: true
+        runAsUser: 2000
+        fsGroup: 2000
+    # Use certmanager to generate webhook certs
+    certManager:
+      enabled: false
+      # self-signed root certificate
+      rootCert:
+        # default to be 5y
+        duration: ""
+      admissionCert:
+        # default to be 1y
+        duration: ""
+        # issuerRef:
+        #   name: "issuer"
+        #   kind: "ClusterIssuer"
+  metrics:
+    port: 10254
+    portName: metrics
+    # if this port is changed, change healthz-port: in extraArgs: accordingly
+    enabled: false
</span>     service:
<span class="gd">-        enabled: true
-        # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
-        # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
-        # It allows choosing the protocol for each backend specified in the Kubernetes service.
-        # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
-        # Will be ignored for Kubernetes versions older than 1.20
-        ##
-        appProtocol: true
-        annotations: {}
-        labels: {}
-        # clusterIP: ""
-
-        # -- List of IP addresses at which the controller services are available
-        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-        ##
-        externalIPs: []
-        # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
-        loadBalancerIP: ""
-        loadBalancerSourceRanges: []
-        enableHttp: true
-        enableHttps: true
-        ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
-        ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-        # externalTrafficPolicy: ""
-
-        ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
-        ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
-        # sessionAffinity: ""
-
-        ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
-        ## the service controller allocates a port from your cluster’s NodePort range.
-        ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
-        # healthCheckNodePort: 0
-
-        # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
-        # SingleStack, PreferDualStack or RequireDualStack.
-        # The ipFamilies and clusterIPs fields depend on the value of this field.
-        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-        ipFamilyPolicy: "SingleStack"
-        # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
-        # based on cluster configuration and the ipFamilyPolicy field.
-        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-        ipFamilies:
-            - IPv4
-        ports:
-            http: 80
-            https: 443
-        targetPorts:
-            http: http
-            https: https
-        type: LoadBalancer
-        ## type: NodePort
-        ## nodePorts:
-        ##   http: 32080
-        ##   https: 32443
-        ##   tcp:
-        ##     8080: 32808
-        nodePorts:
-            http: ""
-            https: ""
-            tcp: {}
-            udp: {}
-        external:
-            enabled: true
-        internal:
-            # -- Enables an additional internal load balancer (besides the external one).
-            enabled: false
-            # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
-            annotations: {}
-            # loadBalancerIP: ""
-
-            # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
-            loadBalancerSourceRanges: []
-            ## Set external traffic policy to: "Local" to preserve source IP on
-            ## providers supporting it
-            ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-            # externalTrafficPolicy: ""
-    # shareProcessNamespace enables process namespace sharing within the pod.
-    # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
-    shareProcessNamespace: false
-    # -- Additional containers to be added to the controller pod.
-    # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
-    extraContainers: []
-    #  - name: my-sidecar
-    #    image: nginx:latest
-    #  - name: lemonldap-ng-controller
-    #    image: lemonldapng/lemonldap-ng-controller:0.2.0
-    #    args:
-    #      - /lemonldap-ng-controller
-    #      - --alsologtostderr
-    #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
-    #    env:
-    #      - name: POD_NAME
-    #        valueFrom:
-    #          fieldRef:
-    #            fieldPath: metadata.name
-    #      - name: POD_NAMESPACE
-    #        valueFrom:
-    #          fieldRef:
-    #            fieldPath: metadata.namespace
-    #    volumeMounts:
-    #    - name: copy-portal-skins
-    #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
-
-    # -- Additional volumeMounts to the controller main container.
-    extraVolumeMounts: []
-    #  - name: copy-portal-skins
-    #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-    # -- Additional volumes to the controller pod.
-    extraVolumes: []
-    #  - name: copy-portal-skins
-    #    emptyDir: {}
-
-    # -- Containers, which are run before the app containers are started.
-    extraInitContainers: []
-    # - name: init-myservice
-    #   image: busybox
-    #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
-
-    # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
-    extraModules: []
-    #   containerSecurityContext:
-    #     allowPrivilegeEscalation: false
-    #
-    # The image must contain a `/usr/local/bin/init_module.sh` executable, which
-    # will be executed as initContainers, to move its config files within the
-    # mounted volume.
-
-    opentelemetry:
-        enabled: false
-        image: registry.k8s.io/ingress-nginx/opentelemetry:v20230107-helm-chart-4.4.2-2-g96b3d2165@sha256:331b9bebd6acfcd2d3048abbdd86555f5be76b7e3d0b5af4300b04235c6056c9
-        containerSecurityContext:
-            allowPrivilegeEscalation: false
-    admissionWebhooks:
-        annotations: {}
-        # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
-
-        ## Additional annotations to the admission webhooks.
-        ## These annotations will be added to the ValidatingWebhookConfiguration and
-        ## the Jobs Spec of the admission webhooks.
-        enabled: true
-        # -- Additional environment variables to set
-        extraEnvs: []
-        # extraEnvs:
-        #   - name: FOO
-        #     valueFrom:
-        #       secretKeyRef:
-        #         key: FOO
-        #         name: secret-resource
-        # -- Admission Webhook failure policy to use
-        failurePolicy: Fail
-        # timeoutSeconds: 10
-        port: 8443
-        certificate: "/usr/local/certificates/cert"
-        key: "/usr/local/certificates/key"
-        namespaceSelector: {}
-        objectSelector: {}
-        # -- Labels to be added to admission webhooks
-        labels: {}
-        # -- Use an existing PSP instead of creating one
-        existingPsp: ""
-        networkPolicyEnabled: false
-        service:
-            annotations: {}
-            # clusterIP: ""
-            externalIPs: []
-            # loadBalancerIP: ""
-            loadBalancerSourceRanges: []
-            servicePort: 443
-            type: ClusterIP
-        createSecretJob:
-            securityContext:
-                allowPrivilegeEscalation: false
-            resources: {}
-            # limits:
-            #   cpu: 10m
-            #   memory: 20Mi
-            # requests:
-            #   cpu: 10m
-            #   memory: 20Mi
-        patchWebhookJob:
-            securityContext:
-                allowPrivilegeEscalation: false
-            resources: {}
-        patch:
-            enabled: true
-            image:
-                registry: registry.k8s.io
-                image: ingress-nginx/kube-webhook-certgen
-                ## for backwards compatibility consider setting the full image url via the repository value below
-                ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-                ## repository:
-                tag: v20220916-gd32f8c343
-                digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
-                pullPolicy: IfNotPresent
-            # -- Provide a priority class name to the webhook patching job
-            ##
-            priorityClassName: ""
-            podAnnotations: {}
-            nodeSelector:
-                kubernetes.io/os: linux
-            tolerations: []
-            # -- Labels to be added to patch job resources
-            labels: {}
-            securityContext:
-                runAsNonRoot: true
-                runAsUser: 2000
-                fsGroup: 2000
-        # Use certmanager to generate webhook certs
-        certManager:
-            enabled: false
-            # self-signed root certificate
-            rootCert:
-                # default to be 5y
-                duration: ""
-            admissionCert:
-                # default to be 1y
-                duration: ""
-                # issuerRef:
-                #   name: "issuer"
-                #   kind: "ClusterIssuer"
-    metrics:
-        port: 10254
-        portName: metrics
-        # if this port is changed, change healthz-port: in extraArgs: accordingly
-        enabled: false
-        service:
-            annotations: {}
-            # prometheus.io/scrape: "true"
-            # prometheus.io/port: "10254"
-            # -- Labels to be added to the metrics service resource
-            labels: {}
-            # clusterIP: ""
-
-            # -- List of IP addresses at which the stats-exporter service is available
-            ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-            ##
-            externalIPs: []
-            # loadBalancerIP: ""
-            loadBalancerSourceRanges: []
-            servicePort: 10254
-            type: ClusterIP
-            # externalTrafficPolicy: ""
-            # nodePort: ""
-        serviceMonitor:
-            enabled: false
-            additionalLabels: {}
-            ## The label to use to retrieve the job name from.
-            ## jobLabel: "app.kubernetes.io/name"
-            namespace: ""
-            namespaceSelector: {}
-            ## Default: scrape .Release.Namespace only
-            ## To scrape all, use the following:
-            ## namespaceSelector:
-            ##   any: true
-            scrapeInterval: 30s
-            # honorLabels: true
-            targetLabels: []
-            relabelings: []
-            metricRelabelings: []
-        prometheusRule:
-            enabled: false
-            additionalLabels: {}
-            # namespace: ""
-            rules: []
-            # # These are just examples rules, please adapt them to your needs
-            # - alert: NGINXConfigFailed
-            #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
-            #   for: 1s
-            #   labels:
-            #     severity: critical
-            #   annotations:
-            #     description: bad ingress config - nginx config test failed
-            #     summary: uninstall the latest ingress changes to allow config reloads to resume
-            # - alert: NGINXCertificateExpiry
-            #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
-            #   for: 1s
-            #   labels:
-            #     severity: critical
-            #   annotations:
-            #     description: ssl certificate(s) will expire in less then a week
-            #     summary: renew expiring certificates to avoid downtime
-            # - alert: NGINXTooMany500s
-            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-            #   for: 1m
-            #   labels:
-            #     severity: warning
-            #   annotations:
-            #     description: Too many 5XXs
-            #     summary: More than 5% of all requests returned 5XX, this requires your attention
-            # - alert: NGINXTooMany400s
-            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-            #   for: 1m
-            #   labels:
-            #     severity: warning
-            #   annotations:
-            #     description: Too many 4XXs
-            #     summary: More than 5% of all requests returned 4XX, this requires your attention
-    # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
-    # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
-    # to 300, allowing the draining of connections up to five minutes.
-    # If the active connections end before that, the pod will terminate gracefully at that time.
-    # To effectively take advantage of this feature, the Configmap feature
-    # worker-shutdown-timeout new value is 240s instead of 10s.
-    ##
-    lifecycle:
-        preStop:
-            exec:
-                command:
-                    - /wait-shutdown
-    priorityClassName: ""
</span><span class="gi">+      annotations: {}
+      # prometheus.io/scrape: "true"
+      # prometheus.io/port: "10254"
+      # -- Labels to be added to the metrics service resource
+      labels: {}
+      # clusterIP: ""
+
+      # -- List of IP addresses at which the stats-exporter service is available
+      ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+      ##
+      externalIPs: []
+      # loadBalancerIP: ""
+      loadBalancerSourceRanges: []
+      servicePort: 10254
+      type: ClusterIP
+      # externalTrafficPolicy: ""
+      # nodePort: ""
+    serviceMonitor:
+      enabled: false
+      additionalLabels: {}
+      ## The label to use to retrieve the job name from.
+      ## jobLabel: "app.kubernetes.io/name"
+      namespace: ""
+      namespaceSelector: {}
+      ## Default: scrape .Release.Namespace only
+      ## To scrape all, use the following:
+      ## namespaceSelector:
+      ##   any: true
+      scrapeInterval: 30s
+      # honorLabels: true
+      targetLabels: []
+      relabelings: []
+      metricRelabelings: []
+    prometheusRule:
+      enabled: false
+      additionalLabels: {}
+      # namespace: ""
+      rules: []
+      # # These are just examples rules, please adapt them to your needs
+      # - alert: NGINXConfigFailed
+      #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
+      #   for: 1s
+      #   labels:
+      #     severity: critical
+      #   annotations:
+      #     description: bad ingress config - nginx config test failed
+      #     summary: uninstall the latest ingress changes to allow config reloads to resume
+      # - alert: NGINXCertificateExpiry
+      #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
+      #   for: 1s
+      #   labels:
+      #     severity: critical
+      #   annotations:
+      #     description: ssl certificate(s) will expire in less then a week
+      #     summary: renew expiring certificates to avoid downtime
+      # - alert: NGINXTooMany500s
+      #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+      #   for: 1m
+      #   labels:
+      #     severity: warning
+      #   annotations:
+      #     description: Too many 5XXs
+      #     summary: More than 5% of all requests returned 5XX, this requires your attention
+      # - alert: NGINXTooMany400s
+      #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+      #   for: 1m
+      #   labels:
+      #     severity: warning
+      #   annotations:
+      #     description: Too many 4XXs
+      #     summary: More than 5% of all requests returned 4XX, this requires your attention
+  # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
+  # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
+  # to 300, allowing the draining of connections up to five minutes.
+  # If the active connections end before that, the pod will terminate gracefully at that time.
+  # To effectively take advantage of this feature, the Configmap feature
+  # worker-shutdown-timeout new value is 240s instead of 10s.
+  ##
+  lifecycle:
+    preStop:
+      exec:
+        command:
+          - /wait-shutdown
+  priorityClassName: ""
</span> # -- Rollback limit
 ##
 revisionHistoryLimit: 10
 ## Default 404 backend
 ##
 defaultBackend:
<span class="gd">-    ##
</span><span class="gi">+  ##
+  enabled: false
+  name: defaultbackend
+  image:
+    registry: registry.k8s.io
+    image: defaultbackend-amd64
+    ## for backwards compatibility consider setting the full image url via the repository value below
+    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    ## repository:
+    tag: "1.5"
+    pullPolicy: IfNotPresent
+    # nobody user -&gt; uid 65534
+    runAsUser: 65534
+    runAsNonRoot: true
+    readOnlyRootFilesystem: true
+    allowPrivilegeEscalation: false
+  # -- Use an existing PSP instead of creating one
+  existingPsp: ""
+  extraArgs: {}
+  serviceAccount:
+    create: true
+    name: ""
+    automountServiceAccountToken: true
+  # -- Additional environment variables to set for defaultBackend pods
+  extraEnvs: []
+  port: 8080
+  ## Readiness and liveness probes for default backend
+  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
+  ##
+  livenessProbe:
+    failureThreshold: 3
+    initialDelaySeconds: 30
+    periodSeconds: 10
+    successThreshold: 1
+    timeoutSeconds: 5
+  readinessProbe:
+    failureThreshold: 6
+    initialDelaySeconds: 0
+    periodSeconds: 5
+    successThreshold: 1
+    timeoutSeconds: 5
+  # -- The update strategy to apply to the Deployment or DaemonSet
+  ##
+  updateStrategy: {}
+  #  rollingUpdate:
+  #    maxUnavailable: 1
+  #  type: RollingUpdate
+
+  # -- `minReadySeconds` to avoid killing pods before we are ready
+  ##
+  minReadySeconds: 0
+  # -- Node tolerations for server scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+  #  - key: "key"
+  #    operator: "Equal|Exists"
+  #    value: "value"
+  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+  affinity: {}
+  # -- Security Context policies for controller pods
+  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  # notes on enabling and using sysctls
+  ##
+  podSecurityContext: {}
+  # -- Security Context policies for controller main container.
+  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  # notes on enabling and using sysctls
+  ##
+  containerSecurityContext: {}
+  # -- Labels to add to the pod container metadata
+  podLabels: {}
+  #  key: value
+
+  # -- Node labels for default backend pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+  ##
+  nodeSelector:
+    kubernetes.io/os: linux
+  # -- Annotations to be added to default backend pods
+  ##
+  podAnnotations: {}
+  replicaCount: 1
+  minAvailable: 1
+  resources: {}
+  # limits:
+  #   cpu: 10m
+  #   memory: 20Mi
+  # requests:
+  #   cpu: 10m
+  #   memory: 20Mi
+
+  extraVolumeMounts: []
+  ## Additional volumeMounts to the default backend container.
+  #  - name: copy-portal-skins
+  #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+  extraVolumes: []
+  ## Additional volumes to the default backend pod.
+  #  - name: copy-portal-skins
+  #    emptyDir: {}
+
+  autoscaling:
+    apiVersion: autoscaling/v2
+    annotations: {}
</span>     enabled: false
<span class="gd">-    name: defaultbackend
-    image:
-        registry: registry.k8s.io
-        image: defaultbackend-amd64
-        ## for backwards compatibility consider setting the full image url via the repository value below
-        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        ## repository:
-        tag: "1.5"
-        pullPolicy: IfNotPresent
-        # nobody user -&gt; uid 65534
-        runAsUser: 65534
-        runAsNonRoot: true
-        readOnlyRootFilesystem: true
-        allowPrivilegeEscalation: false
-    # -- Use an existing PSP instead of creating one
-    existingPsp: ""
-    extraArgs: {}
-    serviceAccount:
-        create: true
-        name: ""
-        automountServiceAccountToken: true
-    # -- Additional environment variables to set for defaultBackend pods
-    extraEnvs: []
-    port: 8080
-    ## Readiness and liveness probes for default backend
-    ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
-    ##
-    livenessProbe:
-        failureThreshold: 3
-        initialDelaySeconds: 30
-        periodSeconds: 10
-        successThreshold: 1
-        timeoutSeconds: 5
-    readinessProbe:
-        failureThreshold: 6
-        initialDelaySeconds: 0
-        periodSeconds: 5
-        successThreshold: 1
-        timeoutSeconds: 5
-    # -- The update strategy to apply to the Deployment or DaemonSet
-    ##
-    updateStrategy: {}
-    #  rollingUpdate:
-    #    maxUnavailable: 1
-    #  type: RollingUpdate
-
-    # -- `minReadySeconds` to avoid killing pods before we are ready
-    ##
-    minReadySeconds: 0
-    # -- Node tolerations for server scheduling to nodes with taints
-    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-    ##
-    tolerations: []
-    #  - key: "key"
-    #    operator: "Equal|Exists"
-    #    value: "value"
-    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-    affinity: {}
-    # -- Security Context policies for controller pods
-    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-    # notes on enabling and using sysctls
-    ##
-    podSecurityContext: {}
-    # -- Security Context policies for controller main container.
-    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-    # notes on enabling and using sysctls
-    ##
-    containerSecurityContext: {}
-    # -- Labels to add to the pod container metadata
-    podLabels: {}
-    #  key: value
</span><span class="gi">+    minReplicas: 1
+    maxReplicas: 2
+    targetCPUUtilizationPercentage: 50
+    targetMemoryUtilizationPercentage: 50
+  service:
+    annotations: {}
+    # clusterIP: ""
</span> 
<span class="gd">-    # -- Node labels for default backend pod assignment
-    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+    # -- List of IP addresses at which the default backend service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span>     ##
<span class="gd">-    nodeSelector:
-        kubernetes.io/os: linux
-    # -- Annotations to be added to default backend pods
-    ##
-    podAnnotations: {}
-    replicaCount: 1
-    minAvailable: 1
-    resources: {}
-    # limits:
-    #   cpu: 10m
-    #   memory: 20Mi
-    # requests:
-    #   cpu: 10m
-    #   memory: 20Mi
-
-    extraVolumeMounts: []
-    ## Additional volumeMounts to the default backend container.
-    #  - name: copy-portal-skins
-    #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-    extraVolumes: []
-    ## Additional volumes to the default backend pod.
-    #  - name: copy-portal-skins
-    #    emptyDir: {}
-
-    autoscaling:
-        annotations: {}
-        enabled: false
-        minReplicas: 1
-        maxReplicas: 2
-        targetCPUUtilizationPercentage: 50
-        targetMemoryUtilizationPercentage: 50
-    service:
-        annotations: {}
-        # clusterIP: ""
-
-        # -- List of IP addresses at which the default backend service is available
-        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-        ##
-        externalIPs: []
-        # loadBalancerIP: ""
-        loadBalancerSourceRanges: []
-        servicePort: 80
-        type: ClusterIP
-    priorityClassName: ""
-    # -- Labels to be added to the default backend resources
-    labels: {}
</span><span class="gi">+    externalIPs: []
+    # loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 80
+    type: ClusterIP
+  priorityClassName: ""
+  # -- Labels to be added to the default backend resources
+  labels: {}
</span> ## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
 rbac:
<span class="gd">-    create: true
-    scope: false
</span><span class="gi">+  create: true
+  scope: false
</span> ## If true, create &amp; use Pod Security Policy resources
 ## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
 podSecurityPolicy:
<span class="gd">-    enabled: false
</span><span class="gi">+  enabled: false
</span> serviceAccount:
<span class="gd">-    create: true
-    name: ""
-    automountServiceAccountToken: true
-    # -- Annotations for the controller service account
-    annotations: {}
</span><span class="gi">+  create: true
+  name: ""
+  automountServiceAccountToken: true
+  # -- Annotations for the controller service account
+  annotations: {}
</span> # -- Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
 imagePullSecrets: []
<span class="p">@@ -885,4 +888,4 @@</span> portNamePrefix: ""
 # -- (string) A base64-encoded Diffie-Hellman parameter.
 # This can be generated with: `openssl dhparam 4096 2&gt; /dev/null | base64`
 ## Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
<span class="gd">-dhParam:
</span><span class="gi">+dhParam: ""
</span><span class="err">
</span></code></pre></div></div> <h2 id="452"> <a href="#452" class="anchor-heading" aria-labelledby="452"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.5.2 </h2> <p><strong>Release date:</strong> 2023-02-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.6.4&amp;color=success" alt="AppVersion: 1.6.4"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release new Helm Chart</li> </ul> <h3 id="default-value-changes-15"> <a href="#default-value-changes-15" class="anchor-heading" aria-labelledby="default-value-changes-15"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="451"> <a href="#451" class="anchor-heading" aria-labelledby="451"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.5.1 </h2> <p><strong>Release date:</strong> 2023-02-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.6.4&amp;color=success" alt="AppVersion: 1.6.4"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release Notes Controller 1.6.4 Helm 4.5.1</li> </ul> <h3 id="default-value-changes-16"> <a href="#default-value-changes-16" class="anchor-heading" aria-labelledby="default-value-changes-16"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 34e1cf6ef..202cd4a23 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         ## repository:
<span class="gd">-        tag: "v1.6.3"
-        digest: sha256:b92667e0afde1103b736e6a3f00dd75ae66eec4e71827d19f19f471699e909d2
-        digestChroot: sha256:4b4a249c9a35ac16a8ec0e22f6c522b8707f7e59e656e64a4ad9ace8fea830a4
</span><span class="gi">+        tag: "v1.6.4"
+        digest: sha256:15be4666c53052484dd2992efacf2f50ea77a78ae8aa21ccd91af6baaa7ea22f
+        digestChroot: sha256:0de01e2c316c3ca7847ca13b32d077af7910d07f21a4a82f81061839764f8f81
</span>         pullPolicy: IfNotPresent
         # www-data -&gt; uid 101
         runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="450"> <a href="#450" class="anchor-heading" aria-labelledby="450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.5.0 </h2> <p><strong>Release date:</strong> 2023-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.6.3&amp;color=success" alt="AppVersion: 1.6.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release docs for Controller v1.6.3 and Helm v4.5.0 (#9614)</li> <li>Revert Implement pathType validation (#9511) (#9607)</li> <li>Switch logic on path type validation and setting it to false (#9543)</li> <li>Add mage files for changelog</li> <li>Implement pathType validation (#9511)</li> <li>Values: Add missing <code class="language-plaintext highlighter-rouge">controller.metrics.service.labels</code>. (#9501)</li> <li>feat: support topology aware hints (#9165)</li> <li>Add update updateStrategy and minReadySeconds for defaultBackend (#8506)</li> <li>Admission Webhooks/Job: Add <code class="language-plaintext highlighter-rouge">NetworkPolicy</code>. (#9218)</li> <li>update OpenTelemetry image (#9491)</li> </ul> <h3 id="default-value-changes-17"> <a href="#default-value-changes-17" class="anchor-heading" aria-labelledby="default-value-changes-17"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index b7089addb..34e1cf6ef 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -14,222 +14,193 @@</span> commonLabels: {}
 # myLabel: aakkmd
 
 controller:
<span class="gd">-  name: controller
-  image:
-    ## Keep false as default for now!
-    chroot: false
-    registry: registry.k8s.io
-    image: ingress-nginx/controller
-    ## for backwards compatibility consider setting the full image url via the repository value below
-    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-    ## repository:
-    tag: "v1.5.1"
-    digest: sha256:4ba73c697770664c1e00e9f968de14e08f606ff961c76e5d7033a4a9c593c629
-    digestChroot: sha256:c1c091b88a6c936a83bd7b098662760a87868d12452529bad0d178fb36147345
-    pullPolicy: IfNotPresent
-    # www-data -&gt; uid 101
-    runAsUser: 101
-    allowPrivilegeEscalation: true
-
-  # -- Use an existing PSP instead of creating one
-  existingPsp: ""
-
-  # -- Configures the controller container name
-  containerName: controller
-
-  # -- Configures the ports that the nginx-controller listens on
-  containerPort:
-    http: 80
-    https: 443
-
-  # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
-  config: {}
-
-  # -- Annotations to be added to the controller config configuration configmap.
-  configAnnotations: {}
-
-  # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
-  proxySetHeaders: {}
-
-  # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
-  addHeaders: {}
-
-  # -- Optionally customize the pod dnsConfig.
-  dnsConfig: {}
-
-  # -- Optionally customize the pod hostname.
-  hostname: {}
-
-  # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
-  # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
-  # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
-  dnsPolicy: ClusterFirst
-
-  # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
-  # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
-  reportNodeInternalIp: false
-
-  # -- Process Ingress objects without ingressClass annotation/ingressClassName field
-  # Overrides value for --watch-ingress-without-class flag of the controller binary
-  # Defaults to false
-  watchIngressWithoutClass: false
-
-  # -- Process IngressClass per name (additionally as per spec.controller).
-  ingressClassByName: false
-
-  # -- This configuration defines if Ingress Controller should allow users to set
-  # their own *-snippet annotations, otherwise this is forbidden / dropped
-  # when users add those annotations.
-  # Global snippets in ConfigMap are still respected
-  allowSnippetAnnotations: true
-
-  # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
-  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
-  # is merged
-  hostNetwork: false
-
-  ## Use host ports 80 and 443
-  ## Disabled by default
-  hostPort:
-    # -- Enable 'hostPort' or not
-    enabled: false
-    ports:
-      # -- 'hostPort' http port
-      http: 80
-      # -- 'hostPort' https port
-      https: 443
-
-  # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
-  electionID: ""
-
-  ## This section refers to the creation of the IngressClass resource
-  ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
-  ingressClassResource:
-    # -- Name of the ingressClass
-    name: nginx
-    # -- Is this ingressClass enabled or not
-    enabled: true
-    # -- Is this the default ingressClass for the cluster
-    default: false
-    # -- Controller-value of the controller that is processing this ingressClass
-    controllerValue: "k8s.io/ingress-nginx"
-
-    # -- Parameters is a link to a custom resource containing additional
-    # configuration for the controller. This is optional if the controller
-    # does not require extra parameters.
-    parameters: {}
-
-  # -- For backwards compatibility with ingress.class annotation, use ingressClass.
-  # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
-  ingressClass: nginx
-
-  # -- Labels to add to the pod container metadata
-  podLabels: {}
-  #  key: value
-
-  # -- Security Context policies for controller pods
-  podSecurityContext: {}
-
-  # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
-  sysctls: {}
-  # sysctls:
-  #   "net.core.somaxconn": "8192"
-
-  # -- Allows customization of the source of the IP address or FQDN to report
-  # in the ingress status field. By default, it reads the information provided
-  # by the service. If disable, the status field reports the IP address of the
-  # node or nodes where an ingress controller pod is running.
-  publishService:
-    # -- Enable 'publishService' or not
-    enabled: true
-    # -- Allows overriding of the publish service to bind to
-    # Must be &lt;namespace&gt;/&lt;service_name&gt;
-    pathOverride: ""
-
-  # Limit the scope of the controller to a specific namespace
-  scope:
-    # -- Enable 'scope' or not
-    enabled: false
-    # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
-    namespace: ""
-    # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
-    # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
-    namespaceSelector: ""
</span><span class="gi">+    name: controller
+    image:
+        ## Keep false as default for now!
+        chroot: false
+        registry: registry.k8s.io
+        image: ingress-nginx/controller
+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
+        tag: "v1.6.3"
+        digest: sha256:b92667e0afde1103b736e6a3f00dd75ae66eec4e71827d19f19f471699e909d2
+        digestChroot: sha256:4b4a249c9a35ac16a8ec0e22f6c522b8707f7e59e656e64a4ad9ace8fea830a4
+        pullPolicy: IfNotPresent
+        # www-data -&gt; uid 101
+        runAsUser: 101
+        allowPrivilegeEscalation: true
+    # -- Use an existing PSP instead of creating one
+    existingPsp: ""
+    # -- Configures the controller container name
+    containerName: controller
+    # -- Configures the ports that the nginx-controller listens on
+    containerPort:
+        http: 80
+        https: 443
+    # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
+    config: {}
+    # -- Annotations to be added to the controller config configuration configmap.
+    configAnnotations: {}
+    # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
+    proxySetHeaders: {}
+    # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
+    addHeaders: {}
+    # -- Optionally customize the pod dnsConfig.
+    dnsConfig: {}
+    # -- Optionally customize the pod hostname.
+    hostname: {}
+    # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
+    # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
+    # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
+    dnsPolicy: ClusterFirst
+    # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
+    # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
+    reportNodeInternalIp: false
+    # -- Process Ingress objects without ingressClass annotation/ingressClassName field
+    # Overrides value for --watch-ingress-without-class flag of the controller binary
+    # Defaults to false
+    watchIngressWithoutClass: false
+    # -- Process IngressClass per name (additionally as per spec.controller).
+    ingressClassByName: false
+    # -- This configuration enables Topology Aware Routing feature, used together with service annotation service.kubernetes.io/topology-aware-hints="auto"
+    # Defaults to false
+    enableTopologyAwareRouting: false
+    # -- This configuration defines if Ingress Controller should allow users to set
+    # their own *-snippet annotations, otherwise this is forbidden / dropped
+    # when users add those annotations.
+    # Global snippets in ConfigMap are still respected
+    allowSnippetAnnotations: true
+    # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
+    # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
+    # is merged
+    hostNetwork: false
+    ## Use host ports 80 and 443
+    ## Disabled by default
+    hostPort:
+        # -- Enable 'hostPort' or not
+        enabled: false
+        ports:
+            # -- 'hostPort' http port
+            http: 80
+            # -- 'hostPort' https port
+            https: 443
+    # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
+    electionID: ""
+    ## This section refers to the creation of the IngressClass resource
+    ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
+    ingressClassResource:
+        # -- Name of the ingressClass
+        name: nginx
+        # -- Is this ingressClass enabled or not
+        enabled: true
+        # -- Is this the default ingressClass for the cluster
+        default: false
+        # -- Controller-value of the controller that is processing this ingressClass
+        controllerValue: "k8s.io/ingress-nginx"
+        # -- Parameters is a link to a custom resource containing additional
+        # configuration for the controller. This is optional if the controller
+        # does not require extra parameters.
+        parameters: {}
+    # -- For backwards compatibility with ingress.class annotation, use ingressClass.
+    # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
+    ingressClass: nginx
+    # -- Labels to add to the pod container metadata
+    podLabels: {}
+    #  key: value
+
+    # -- Security Context policies for controller pods
+    podSecurityContext: {}
+    # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
+    sysctls: {}
+    # sysctls:
+    #   "net.core.somaxconn": "8192"
+
+    # -- Allows customization of the source of the IP address or FQDN to report
+    # in the ingress status field. By default, it reads the information provided
+    # by the service. If disable, the status field reports the IP address of the
+    # node or nodes where an ingress controller pod is running.
+    publishService:
+        # -- Enable 'publishService' or not
+        enabled: true
+        # -- Allows overriding of the publish service to bind to
+        # Must be &lt;namespace&gt;/&lt;service_name&gt;
+        pathOverride: ""
+    # Limit the scope of the controller to a specific namespace
+    scope:
+        # -- Enable 'scope' or not
+        enabled: false
+        # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
+        namespace: ""
+        # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
+        # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
+        namespaceSelector: ""
+    # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    tcp:
+        # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
+        configMapNamespace: ""
+        # -- Annotations to be added to the tcp config configmap
+        annotations: {}
+    udp:
+        # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
+        configMapNamespace: ""
+        # -- Annotations to be added to the udp config configmap
+        annotations: {}
+    # -- Maxmind license key to download GeoLite2 Databases.
+    ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
+    maxmindLicenseKey: ""
+    # -- Additional command line arguments to pass to nginx-ingress-controller
+    # E.g. to specify the default SSL certificate you can use
+    extraArgs: {}
+    ## extraArgs:
+    ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
</span> 
<span class="gd">-  # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
-  configMapNamespace: ""
</span><span class="gi">+    # -- Additional environment variables to set
+    extraEnvs: []
+    # extraEnvs:
+    #   - name: FOO
+    #     valueFrom:
+    #       secretKeyRef:
+    #         key: FOO
+    #         name: secret-resource
</span> 
<span class="gd">-  tcp:
-    # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
-    configMapNamespace: ""
-    # -- Annotations to be added to the tcp config configmap
</span><span class="gi">+    # -- Use a `DaemonSet` or `Deployment`
+    kind: Deployment
+    # -- Annotations to be added to the controller Deployment or DaemonSet
+    ##
</span>     annotations: {}
<span class="gi">+    #  keel.sh/pollSchedule: "@every 60m"
</span> 
<span class="gd">-  udp:
-    # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
-    configMapNamespace: ""
-    # -- Annotations to be added to the udp config configmap
-    annotations: {}
</span><span class="gi">+    # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
+    ##
+    labels: {}
+    #  keel.sh/policy: patch
+    #  keel.sh/trigger: poll
</span> 
<span class="gd">-  # -- Maxmind license key to download GeoLite2 Databases.
-  ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
-  maxmindLicenseKey: ""
-
-  # -- Additional command line arguments to pass to nginx-ingress-controller
-  # E.g. to specify the default SSL certificate you can use
-  extraArgs: {}
-  ## extraArgs:
-  ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
-
-  # -- Additional environment variables to set
-  extraEnvs: []
-  # extraEnvs:
-  #   - name: FOO
-  #     valueFrom:
-  #       secretKeyRef:
-  #         key: FOO
-  #         name: secret-resource
-
-  # -- Use a `DaemonSet` or `Deployment`
-  kind: Deployment
-
-  # -- Annotations to be added to the controller Deployment or DaemonSet
-  ##
-  annotations: {}
-  #  keel.sh/pollSchedule: "@every 60m"
-
-  # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
-  ##
-  labels: {}
-  #  keel.sh/policy: patch
-  #  keel.sh/trigger: poll
-
-
-  # -- The update strategy to apply to the Deployment or DaemonSet
-  ##
-  updateStrategy: {}
-  #  rollingUpdate:
-  #    maxUnavailable: 1
-  #  type: RollingUpdate
-
-  # -- `minReadySeconds` to avoid killing pods before we are ready
-  ##
-  minReadySeconds: 0
-
-
-  # -- Node tolerations for server scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: []
-  #  - key: "key"
-  #    operator: "Equal|Exists"
-  #    value: "value"
-  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  # -- Affinity and anti-affinity rules for server scheduling to nodes
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
-  ##
-  affinity: {}
</span><span class="gi">+    # -- The update strategy to apply to the Deployment or DaemonSet
+    ##
+    updateStrategy: {}
+    #  rollingUpdate:
+    #    maxUnavailable: 1
+    #  type: RollingUpdate
+
+    # -- `minReadySeconds` to avoid killing pods before we are ready
+    ##
+    minReadySeconds: 0
+    # -- Node tolerations for server scheduling to nodes with taints
+    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+    ##
+    tolerations: []
+    #  - key: "key"
+    #    operator: "Equal|Exists"
+    #    value: "value"
+    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+    # -- Affinity and anti-affinity rules for server scheduling to nodes
+    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
+    ##
+    affinity: {}
</span>     # # An example of preferred pod anti-affinity, weight is in the range 1-100
     # podAntiAffinity:
     #   preferredDuringSchedulingIgnoredDuringExecution:
<span class="p">@@ -270,10 +241,10 @@</span> controller:
     #         - controller
     #     topologyKey: "kubernetes.io/hostname"
 
<span class="gd">-  # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
-  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
-  ##
-  topologySpreadConstraints: []
</span><span class="gi">+    # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
+    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+    ##
+    topologySpreadConstraints: []
</span>     # - maxSkew: 1
     #   topologyKey: topology.kubernetes.io/zone
     #   whenUnsatisfiable: DoNotSchedule
<span class="p">@@ -281,669 +252,616 @@</span> controller:
     #     matchLabels:
     #       app.kubernetes.io/instance: ingress-nginx-internal
 
<span class="gd">-  # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
-  ## wait up to five minutes for the drain of connections
-  ##
-  terminationGracePeriodSeconds: 300
-
-  # -- Node labels for controller pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector:
-    kubernetes.io/os: linux
-
-  ## Liveness and readiness probe values
-  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
-  ##
-  ## startupProbe:
-  ##   httpGet:
-  ##     # should match container.healthCheckPath
-  ##     path: "/healthz"
-  ##     port: 10254
-  ##     scheme: HTTP
-  ##   initialDelaySeconds: 5
-  ##   periodSeconds: 5
-  ##   timeoutSeconds: 2
-  ##   successThreshold: 1
-  ##   failureThreshold: 5
-  livenessProbe:
-    httpGet:
-      # should match container.healthCheckPath
-      path: "/healthz"
-      port: 10254
-      scheme: HTTP
-    initialDelaySeconds: 10
-    periodSeconds: 10
-    timeoutSeconds: 1
-    successThreshold: 1
-    failureThreshold: 5
-  readinessProbe:
-    httpGet:
-      # should match container.healthCheckPath
-      path: "/healthz"
-      port: 10254
-      scheme: HTTP
-    initialDelaySeconds: 10
-    periodSeconds: 10
-    timeoutSeconds: 1
-    successThreshold: 1
-    failureThreshold: 3
-
-
-  # -- Path of the health check endpoint. All requests received on the port defined by
-  # the healthz-port parameter are forwarded internally to this path.
-  healthCheckPath: "/healthz"
-
-  # -- Address to bind the health check endpoint.
-  # It is better to set this option to the internal node address
-  # if the ingress nginx controller is running in the `hostNetwork: true` mode.
-  healthCheckHost: ""
-
-  # -- Annotations to be added to controller pods
-  ##
-  podAnnotations: {}
-
-  replicaCount: 1
-
-  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
-  minAvailable: 1
-  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
-  # maxUnavailable: 1
-
-  ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
-  ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
-  ## Ideally, there should be no limits.
-  ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
-  resources:
-  ##  limits:
-  ##    cpu: 100m
-  ##    memory: 90Mi
-    requests:
-      cpu: 100m
-      memory: 90Mi
-
-  # Mutually exclusive with keda autoscaling
-  autoscaling:
-    apiVersion: autoscaling/v2
-    enabled: false
-    annotations: {}
-    minReplicas: 1
-    maxReplicas: 11
-    targetCPUUtilizationPercentage: 50
-    targetMemoryUtilizationPercentage: 50
-    behavior: {}
-      # scaleDown:
-      #   stabilizationWindowSeconds: 300
-      #   policies:
-      #   - type: Pods
-      #     value: 1
-      #     periodSeconds: 180
-      # scaleUp:
-      #   stabilizationWindowSeconds: 300
-      #   policies:
-      #   - type: Pods
-      #     value: 2
-      #     periodSeconds: 60
-
-  autoscalingTemplate: []
-  # Custom or additional autoscaling metrics
-  # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
-  # - type: Pods
-  #   pods:
-  #     metric:
-  #       name: nginx_ingress_controller_nginx_process_requests_total
-  #     target:
-  #       type: AverageValue
-  #       averageValue: 10000m
-
-  # Mutually exclusive with hpa autoscaling
-  keda:
-    apiVersion: "keda.sh/v1alpha1"
-    ## apiVersion changes with keda 1.x vs 2.x
-    ## 2.x = keda.sh/v1alpha1
-    ## 1.x = keda.k8s.io/v1alpha1
-    enabled: false
-    minReplicas: 1
-    maxReplicas: 11
-    pollingInterval: 30
-    cooldownPeriod: 300
-    restoreToOriginalReplicaCount: false
-    scaledObject:
-      annotations: {}
-      # Custom annotations for ScaledObject resource
-      #  annotations:
-      # key: value
-    triggers: []
- #     - type: prometheus
- #       metadata:
- #         serverAddress: http://&lt;prometheus-host&gt;:9090
- #         metricName: http_requests_total
- #         threshold: '100'
- #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
-
-    behavior: {}
- #     scaleDown:
- #       stabilizationWindowSeconds: 300
- #       policies:
- #       - type: Pods
- #         value: 1
- #         periodSeconds: 180
- #     scaleUp:
- #       stabilizationWindowSeconds: 300
- #       policies:
- #       - type: Pods
- #         value: 2
- #         periodSeconds: 60
-
-  # -- Enable mimalloc as a drop-in replacement for malloc.
-  ## ref: https://github.com/microsoft/mimalloc
-  ##
-  enableMimalloc: true
-
-  ## Override NGINX template
-  customTemplate:
-    configMapName: ""
-    configMapKey: ""
-
-  service:
-    enabled: true
-
-    # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
-    # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
-    # It allows choosing the protocol for each backend specified in the Kubernetes service.
-    # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
-    # Will be ignored for Kubernetes versions older than 1.20
</span><span class="gi">+    # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
+    ## wait up to five minutes for the drain of connections
</span>     ##
<span class="gd">-    appProtocol: true
-
-    annotations: {}
-    labels: {}
-    # clusterIP: ""
-
-    # -- List of IP addresses at which the controller services are available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    terminationGracePeriodSeconds: 300
+    # -- Node labels for controller pod assignment
+    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span>     ##
<span class="gd">-    externalIPs: []
-
-    # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-
-    enableHttp: true
-    enableHttps: true
-
-    ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
-    ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-    # externalTrafficPolicy: ""
-
-    ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
-    # sessionAffinity: ""
-
-    ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
-    ## the service controller allocates a port from your cluster’s NodePort range.
-    ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
-    # healthCheckNodePort: 0
-
-    # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
-    # SingleStack, PreferDualStack or RequireDualStack.
-    # The ipFamilies and clusterIPs fields depend on the value of this field.
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-    ipFamilyPolicy: "SingleStack"
-
-    # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
-    # based on cluster configuration and the ipFamilyPolicy field.
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-    ipFamilies:
-      - IPv4
-
-    ports:
-      http: 80
-      https: 443
-
-    targetPorts:
-      http: http
-      https: https
-
-    type: LoadBalancer
-
-    ## type: NodePort
-    ## nodePorts:
-    ##   http: 32080
-    ##   https: 32443
-    ##   tcp:
-    ##     8080: 32808
-    nodePorts:
-      http: ""
-      https: ""
-      tcp: {}
-      udp: {}
-
-    external:
-      enabled: true
-
-    internal:
-      # -- Enables an additional internal load balancer (besides the external one).
-      enabled: false
-      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
-      annotations: {}
-
-      # loadBalancerIP: ""
-
-      # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
-      loadBalancerSourceRanges: []
-
-      ## Set external traffic policy to: "Local" to preserve source IP on
-      ## providers supporting it
-      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-      # externalTrafficPolicy: ""
-
-  # shareProcessNamespace enables process namespace sharing within the pod.
-  # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
-  shareProcessNamespace: false
-
-  # -- Additional containers to be added to the controller pod.
-  # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
-  extraContainers: []
-  #  - name: my-sidecar
-  #    image: nginx:latest
-  #  - name: lemonldap-ng-controller
-  #    image: lemonldapng/lemonldap-ng-controller:0.2.0
-  #    args:
-  #      - /lemonldap-ng-controller
-  #      - --alsologtostderr
-  #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
-  #    env:
-  #      - name: POD_NAME
-  #        valueFrom:
-  #          fieldRef:
-  #            fieldPath: metadata.name
-  #      - name: POD_NAMESPACE
-  #        valueFrom:
-  #          fieldRef:
-  #            fieldPath: metadata.namespace
-  #    volumeMounts:
-  #    - name: copy-portal-skins
-  #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
-
-  # -- Additional volumeMounts to the controller main container.
-  extraVolumeMounts: []
-  #  - name: copy-portal-skins
-  #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-  # -- Additional volumes to the controller pod.
-  extraVolumes: []
-  #  - name: copy-portal-skins
-  #    emptyDir: {}
-
-  # -- Containers, which are run before the app containers are started.
-  extraInitContainers: []
-  # - name: init-myservice
-  #   image: busybox
-  #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
-
-  # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
-  extraModules: []
-  #   containerSecurityContext:
-  #     allowPrivilegeEscalation: false
-  #
-  # The image must contain a `/usr/local/bin/init_module.sh` executable, which
-  # will be executed as initContainers, to move its config files within the
-  # mounted volume.
-
-  opentelemetry:
-    enabled: false
-    image: registry.k8s.io/ingress-nginx/opentelemetry:v20221114-controller-v1.5.1-6-ga66ee73c5@sha256:41076fd9fb4255677c1a3da1ac3fc41477f06eba3c7ebf37ffc8f734dad51d7c
-    containerSecurityContext:
-      allowPrivilegeEscalation: false
-
-  admissionWebhooks:
-    annotations: {}
-    # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
-
-    ## Additional annotations to the admission webhooks.
-    ## These annotations will be added to the ValidatingWebhookConfiguration and
-    ## the Jobs Spec of the admission webhooks.
-    enabled: true
-    # -- Additional environment variables to set
-    extraEnvs: []
-    # extraEnvs:
-    #   - name: FOO
-    #     valueFrom:
-    #       secretKeyRef:
-    #         key: FOO
-    #         name: secret-resource
-    # -- Admission Webhook failure policy to use
-    failurePolicy: Fail
-    # timeoutSeconds: 10
-    port: 8443
-    certificate: "/usr/local/certificates/cert"
-    key: "/usr/local/certificates/key"
-    namespaceSelector: {}
-    objectSelector: {}
-    # -- Labels to be added to admission webhooks
-    labels: {}
-
-    # -- Use an existing PSP instead of creating one
-    existingPsp: ""
-    networkPolicyEnabled: false
-
-    service:
-      annotations: {}
-      # clusterIP: ""
-      externalIPs: []
-      # loadBalancerIP: ""
-      loadBalancerSourceRanges: []
-      servicePort: 443
-      type: ClusterIP
-
-    createSecretJob:
-      securityContext:
-        allowPrivilegeEscalation: false
-      resources: {}
-        # limits:
-        #   cpu: 10m
-        #   memory: 20Mi
-        # requests:
-        #   cpu: 10m
-        #   memory: 20Mi
-
-    patchWebhookJob:
-      securityContext:
-        allowPrivilegeEscalation: false
-      resources: {}
-
-    patch:
-      enabled: true
-      image:
-        registry: registry.k8s.io
-        image: ingress-nginx/kube-webhook-certgen
-        ## for backwards compatibility consider setting the full image url via the repository value below
-        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        ## repository:
-        tag: v20220916-gd32f8c343
-        digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
-        pullPolicy: IfNotPresent
-      # -- Provide a priority class name to the webhook patching job
-      ##
-      priorityClassName: ""
-      podAnnotations: {}
-      nodeSelector:
</span><span class="gi">+    nodeSelector:
</span>         kubernetes.io/os: linux
<span class="gd">-      tolerations: []
-      # -- Labels to be added to patch job resources
-      labels: {}
-      securityContext:
-        runAsNonRoot: true
-        runAsUser: 2000
-        fsGroup: 2000
-
-    # Use certmanager to generate webhook certs
-    certManager:
-      enabled: false
-      # self-signed root certificate
-      rootCert:
-        duration: ""  # default to be 5y
-      admissionCert:
-        duration: ""  # default to be 1y
-      # issuerRef:
-      #   name: "issuer"
-      #   kind: "ClusterIssuer"
-
-  metrics:
-    port: 10254
-    portName: metrics
-    # if this port is changed, change healthz-port: in extraArgs: accordingly
-    enabled: false
-
</span><span class="gi">+    ## Liveness and readiness probe values
+    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
+    ##
+    ## startupProbe:
+    ##   httpGet:
+    ##     # should match container.healthCheckPath
+    ##     path: "/healthz"
+    ##     port: 10254
+    ##     scheme: HTTP
+    ##   initialDelaySeconds: 5
+    ##   periodSeconds: 5
+    ##   timeoutSeconds: 2
+    ##   successThreshold: 1
+    ##   failureThreshold: 5
+    livenessProbe:
+        httpGet:
+            # should match container.healthCheckPath
+            path: "/healthz"
+            port: 10254
+            scheme: HTTP
+        initialDelaySeconds: 10
+        periodSeconds: 10
+        timeoutSeconds: 1
+        successThreshold: 1
+        failureThreshold: 5
+    readinessProbe:
+        httpGet:
+            # should match container.healthCheckPath
+            path: "/healthz"
+            port: 10254
+            scheme: HTTP
+        initialDelaySeconds: 10
+        periodSeconds: 10
+        timeoutSeconds: 1
+        successThreshold: 1
+        failureThreshold: 3
+    # -- Path of the health check endpoint. All requests received on the port defined by
+    # the healthz-port parameter are forwarded internally to this path.
+    healthCheckPath: "/healthz"
+    # -- Address to bind the health check endpoint.
+    # It is better to set this option to the internal node address
+    # if the ingress nginx controller is running in the `hostNetwork: true` mode.
+    healthCheckHost: ""
+    # -- Annotations to be added to controller pods
+    ##
+    podAnnotations: {}
+    replicaCount: 1
+    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+    minAvailable: 1
+    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+    # maxUnavailable: 1
+
+    ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
+    ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
+    ## Ideally, there should be no limits.
+    ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
+    resources:
+        ##  limits:
+        ##    cpu: 100m
+        ##    memory: 90Mi
+        requests:
+            cpu: 100m
+            memory: 90Mi
+    # Mutually exclusive with keda autoscaling
+    autoscaling:
+        apiVersion: autoscaling/v2
+        enabled: false
+        annotations: {}
+        minReplicas: 1
+        maxReplicas: 11
+        targetCPUUtilizationPercentage: 50
+        targetMemoryUtilizationPercentage: 50
+        behavior: {}
+        # scaleDown:
+        #   stabilizationWindowSeconds: 300
+        #   policies:
+        #   - type: Pods
+        #     value: 1
+        #     periodSeconds: 180
+        # scaleUp:
+        #   stabilizationWindowSeconds: 300
+        #   policies:
+        #   - type: Pods
+        #     value: 2
+        #     periodSeconds: 60
+    autoscalingTemplate: []
+    # Custom or additional autoscaling metrics
+    # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
+    # - type: Pods
+    #   pods:
+    #     metric:
+    #       name: nginx_ingress_controller_nginx_process_requests_total
+    #     target:
+    #       type: AverageValue
+    #       averageValue: 10000m
+
+    # Mutually exclusive with hpa autoscaling
+    keda:
+        apiVersion: "keda.sh/v1alpha1"
+        ## apiVersion changes with keda 1.x vs 2.x
+        ## 2.x = keda.sh/v1alpha1
+        ## 1.x = keda.k8s.io/v1alpha1
+        enabled: false
+        minReplicas: 1
+        maxReplicas: 11
+        pollingInterval: 30
+        cooldownPeriod: 300
+        restoreToOriginalReplicaCount: false
+        scaledObject:
+            annotations: {}
+            # Custom annotations for ScaledObject resource
+            #  annotations:
+            # key: value
+        triggers: []
+        #     - type: prometheus
+        #       metadata:
+        #         serverAddress: http://&lt;prometheus-host&gt;:9090
+        #         metricName: http_requests_total
+        #         threshold: '100'
+        #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
+
+        behavior: {}
+    #     scaleDown:
+    #       stabilizationWindowSeconds: 300
+    #       policies:
+    #       - type: Pods
+    #         value: 1
+    #         periodSeconds: 180
+    #     scaleUp:
+    #       stabilizationWindowSeconds: 300
+    #       policies:
+    #       - type: Pods
+    #         value: 2
+    #         periodSeconds: 60
+
+    # -- Enable mimalloc as a drop-in replacement for malloc.
+    ## ref: https://github.com/microsoft/mimalloc
+    ##
+    enableMimalloc: true
+    ## Override NGINX template
+    customTemplate:
+        configMapName: ""
+        configMapKey: ""
</span>     service:
<span class="gd">-      annotations: {}
-      # prometheus.io/scrape: "true"
-      # prometheus.io/port: "10254"
-
-      # clusterIP: ""
-
-      # -- List of IP addresses at which the stats-exporter service is available
-      ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-      ##
-      externalIPs: []
-
-      # loadBalancerIP: ""
-      loadBalancerSourceRanges: []
-      servicePort: 10254
-      type: ClusterIP
-      # externalTrafficPolicy: ""
-      # nodePort: ""
-
-    serviceMonitor:
-      enabled: false
-      additionalLabels: {}
-      ## The label to use to retrieve the job name from.
-      ## jobLabel: "app.kubernetes.io/name"
-      namespace: ""
-      namespaceSelector: {}
-      ## Default: scrape .Release.Namespace only
-      ## To scrape all, use the following:
-      ## namespaceSelector:
-      ##   any: true
-      scrapeInterval: 30s
-      # honorLabels: true
-      targetLabels: []
-      relabelings: []
-      metricRelabelings: []
-
-    prometheusRule:
-      enabled: false
-      additionalLabels: {}
-      # namespace: ""
-      rules: []
-        # # These are just examples rules, please adapt them to your needs
-        # - alert: NGINXConfigFailed
-        #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
-        #   for: 1s
-        #   labels:
-        #     severity: critical
-        #   annotations:
-        #     description: bad ingress config - nginx config test failed
-        #     summary: uninstall the latest ingress changes to allow config reloads to resume
-        # - alert: NGINXCertificateExpiry
-        #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
-        #   for: 1s
-        #   labels:
-        #     severity: critical
-        #   annotations:
-        #     description: ssl certificate(s) will expire in less then a week
-        #     summary: renew expiring certificates to avoid downtime
-        # - alert: NGINXTooMany500s
-        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-        #   for: 1m
-        #   labels:
-        #     severity: warning
-        #   annotations:
-        #     description: Too many 5XXs
-        #     summary: More than 5% of all requests returned 5XX, this requires your attention
-        # - alert: NGINXTooMany400s
-        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-        #   for: 1m
-        #   labels:
-        #     severity: warning
-        #   annotations:
-        #     description: Too many 4XXs
-        #     summary: More than 5% of all requests returned 4XX, this requires your attention
-
-  # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
-  # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
-  # to 300, allowing the draining of connections up to five minutes.
-  # If the active connections end before that, the pod will terminate gracefully at that time.
-  # To effectively take advantage of this feature, the Configmap feature
-  # worker-shutdown-timeout new value is 240s instead of 10s.
-  ##
-  lifecycle:
-    preStop:
-      exec:
-        command:
-          - /wait-shutdown
-
-  priorityClassName: ""
-
</span><span class="gi">+        enabled: true
+        # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
+        # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
+        # It allows choosing the protocol for each backend specified in the Kubernetes service.
+        # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
+        # Will be ignored for Kubernetes versions older than 1.20
+        ##
+        appProtocol: true
+        annotations: {}
+        labels: {}
+        # clusterIP: ""
+
+        # -- List of IP addresses at which the controller services are available
+        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+        ##
+        externalIPs: []
+        # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
+        loadBalancerIP: ""
+        loadBalancerSourceRanges: []
+        enableHttp: true
+        enableHttps: true
+        ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
+        ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+        # externalTrafficPolicy: ""
+
+        ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
+        ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
+        # sessionAffinity: ""
+
+        ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
+        ## the service controller allocates a port from your cluster’s NodePort range.
+        ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+        # healthCheckNodePort: 0
+
+        # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
+        # SingleStack, PreferDualStack or RequireDualStack.
+        # The ipFamilies and clusterIPs fields depend on the value of this field.
+        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+        ipFamilyPolicy: "SingleStack"
+        # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
+        # based on cluster configuration and the ipFamilyPolicy field.
+        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+        ipFamilies:
+            - IPv4
+        ports:
+            http: 80
+            https: 443
+        targetPorts:
+            http: http
+            https: https
+        type: LoadBalancer
+        ## type: NodePort
+        ## nodePorts:
+        ##   http: 32080
+        ##   https: 32443
+        ##   tcp:
+        ##     8080: 32808
+        nodePorts:
+            http: ""
+            https: ""
+            tcp: {}
+            udp: {}
+        external:
+            enabled: true
+        internal:
+            # -- Enables an additional internal load balancer (besides the external one).
+            enabled: false
+            # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
+            annotations: {}
+            # loadBalancerIP: ""
+
+            # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
+            loadBalancerSourceRanges: []
+            ## Set external traffic policy to: "Local" to preserve source IP on
+            ## providers supporting it
+            ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+            # externalTrafficPolicy: ""
+    # shareProcessNamespace enables process namespace sharing within the pod.
+    # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
+    shareProcessNamespace: false
+    # -- Additional containers to be added to the controller pod.
+    # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
+    extraContainers: []
+    #  - name: my-sidecar
+    #    image: nginx:latest
+    #  - name: lemonldap-ng-controller
+    #    image: lemonldapng/lemonldap-ng-controller:0.2.0
+    #    args:
+    #      - /lemonldap-ng-controller
+    #      - --alsologtostderr
+    #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
+    #    env:
+    #      - name: POD_NAME
+    #        valueFrom:
+    #          fieldRef:
+    #            fieldPath: metadata.name
+    #      - name: POD_NAMESPACE
+    #        valueFrom:
+    #          fieldRef:
+    #            fieldPath: metadata.namespace
+    #    volumeMounts:
+    #    - name: copy-portal-skins
+    #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
+
+    # -- Additional volumeMounts to the controller main container.
+    extraVolumeMounts: []
+    #  - name: copy-portal-skins
+    #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+    # -- Additional volumes to the controller pod.
+    extraVolumes: []
+    #  - name: copy-portal-skins
+    #    emptyDir: {}
+
+    # -- Containers, which are run before the app containers are started.
+    extraInitContainers: []
+    # - name: init-myservice
+    #   image: busybox
+    #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
+
+    # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
+    extraModules: []
+    #   containerSecurityContext:
+    #     allowPrivilegeEscalation: false
+    #
+    # The image must contain a `/usr/local/bin/init_module.sh` executable, which
+    # will be executed as initContainers, to move its config files within the
+    # mounted volume.
+
+    opentelemetry:
+        enabled: false
+        image: registry.k8s.io/ingress-nginx/opentelemetry:v20230107-helm-chart-4.4.2-2-g96b3d2165@sha256:331b9bebd6acfcd2d3048abbdd86555f5be76b7e3d0b5af4300b04235c6056c9
+        containerSecurityContext:
+            allowPrivilegeEscalation: false
+    admissionWebhooks:
+        annotations: {}
+        # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
+
+        ## Additional annotations to the admission webhooks.
+        ## These annotations will be added to the ValidatingWebhookConfiguration and
+        ## the Jobs Spec of the admission webhooks.
+        enabled: true
+        # -- Additional environment variables to set
+        extraEnvs: []
+        # extraEnvs:
+        #   - name: FOO
+        #     valueFrom:
+        #       secretKeyRef:
+        #         key: FOO
+        #         name: secret-resource
+        # -- Admission Webhook failure policy to use
+        failurePolicy: Fail
+        # timeoutSeconds: 10
+        port: 8443
+        certificate: "/usr/local/certificates/cert"
+        key: "/usr/local/certificates/key"
+        namespaceSelector: {}
+        objectSelector: {}
+        # -- Labels to be added to admission webhooks
+        labels: {}
+        # -- Use an existing PSP instead of creating one
+        existingPsp: ""
+        networkPolicyEnabled: false
+        service:
+            annotations: {}
+            # clusterIP: ""
+            externalIPs: []
+            # loadBalancerIP: ""
+            loadBalancerSourceRanges: []
+            servicePort: 443
+            type: ClusterIP
+        createSecretJob:
+            securityContext:
+                allowPrivilegeEscalation: false
+            resources: {}
+            # limits:
+            #   cpu: 10m
+            #   memory: 20Mi
+            # requests:
+            #   cpu: 10m
+            #   memory: 20Mi
+        patchWebhookJob:
+            securityContext:
+                allowPrivilegeEscalation: false
+            resources: {}
+        patch:
+            enabled: true
+            image:
+                registry: registry.k8s.io
+                image: ingress-nginx/kube-webhook-certgen
+                ## for backwards compatibility consider setting the full image url via the repository value below
+                ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+                ## repository:
+                tag: v20220916-gd32f8c343
+                digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
+                pullPolicy: IfNotPresent
+            # -- Provide a priority class name to the webhook patching job
+            ##
+            priorityClassName: ""
+            podAnnotations: {}
+            nodeSelector:
+                kubernetes.io/os: linux
+            tolerations: []
+            # -- Labels to be added to patch job resources
+            labels: {}
+            securityContext:
+                runAsNonRoot: true
+                runAsUser: 2000
+                fsGroup: 2000
+        # Use certmanager to generate webhook certs
+        certManager:
+            enabled: false
+            # self-signed root certificate
+            rootCert:
+                # default to be 5y
+                duration: ""
+            admissionCert:
+                # default to be 1y
+                duration: ""
+                # issuerRef:
+                #   name: "issuer"
+                #   kind: "ClusterIssuer"
+    metrics:
+        port: 10254
+        portName: metrics
+        # if this port is changed, change healthz-port: in extraArgs: accordingly
+        enabled: false
+        service:
+            annotations: {}
+            # prometheus.io/scrape: "true"
+            # prometheus.io/port: "10254"
+            # -- Labels to be added to the metrics service resource
+            labels: {}
+            # clusterIP: ""
+
+            # -- List of IP addresses at which the stats-exporter service is available
+            ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+            ##
+            externalIPs: []
+            # loadBalancerIP: ""
+            loadBalancerSourceRanges: []
+            servicePort: 10254
+            type: ClusterIP
+            # externalTrafficPolicy: ""
+            # nodePort: ""
+        serviceMonitor:
+            enabled: false
+            additionalLabels: {}
+            ## The label to use to retrieve the job name from.
+            ## jobLabel: "app.kubernetes.io/name"
+            namespace: ""
+            namespaceSelector: {}
+            ## Default: scrape .Release.Namespace only
+            ## To scrape all, use the following:
+            ## namespaceSelector:
+            ##   any: true
+            scrapeInterval: 30s
+            # honorLabels: true
+            targetLabels: []
+            relabelings: []
+            metricRelabelings: []
+        prometheusRule:
+            enabled: false
+            additionalLabels: {}
+            # namespace: ""
+            rules: []
+            # # These are just examples rules, please adapt them to your needs
+            # - alert: NGINXConfigFailed
+            #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
+            #   for: 1s
+            #   labels:
+            #     severity: critical
+            #   annotations:
+            #     description: bad ingress config - nginx config test failed
+            #     summary: uninstall the latest ingress changes to allow config reloads to resume
+            # - alert: NGINXCertificateExpiry
+            #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
+            #   for: 1s
+            #   labels:
+            #     severity: critical
+            #   annotations:
+            #     description: ssl certificate(s) will expire in less then a week
+            #     summary: renew expiring certificates to avoid downtime
+            # - alert: NGINXTooMany500s
+            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+            #   for: 1m
+            #   labels:
+            #     severity: warning
+            #   annotations:
+            #     description: Too many 5XXs
+            #     summary: More than 5% of all requests returned 5XX, this requires your attention
+            # - alert: NGINXTooMany400s
+            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+            #   for: 1m
+            #   labels:
+            #     severity: warning
+            #   annotations:
+            #     description: Too many 4XXs
+            #     summary: More than 5% of all requests returned 4XX, this requires your attention
+    # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
+    # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
+    # to 300, allowing the draining of connections up to five minutes.
+    # If the active connections end before that, the pod will terminate gracefully at that time.
+    # To effectively take advantage of this feature, the Configmap feature
+    # worker-shutdown-timeout new value is 240s instead of 10s.
+    ##
+    lifecycle:
+        preStop:
+            exec:
+                command:
+                    - /wait-shutdown
+    priorityClassName: ""
</span> # -- Rollback limit
 ##
 revisionHistoryLimit: 10
<span class="gd">-
</span> ## Default 404 backend
 ##
 defaultBackend:
<span class="gd">-  ##
-  enabled: false
-
-  name: defaultbackend
-  image:
-    registry: registry.k8s.io
-    image: defaultbackend-amd64
-    ## for backwards compatibility consider setting the full image url via the repository value below
-    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-    ## repository:
-    tag: "1.5"
-    pullPolicy: IfNotPresent
-    # nobody user -&gt; uid 65534
-    runAsUser: 65534
-    runAsNonRoot: true
-    readOnlyRootFilesystem: true
-    allowPrivilegeEscalation: false
-
-  # -- Use an existing PSP instead of creating one
-  existingPsp: ""
-
-  extraArgs: {}
-
-  serviceAccount:
-    create: true
-    name: ""
-    automountServiceAccountToken: true
-  # -- Additional environment variables to set for defaultBackend pods
-  extraEnvs: []
-
-  port: 8080
-
-  ## Readiness and liveness probes for default backend
-  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
-  ##
-  livenessProbe:
-    failureThreshold: 3
-    initialDelaySeconds: 30
-    periodSeconds: 10
-    successThreshold: 1
-    timeoutSeconds: 5
-  readinessProbe:
-    failureThreshold: 6
-    initialDelaySeconds: 0
-    periodSeconds: 5
-    successThreshold: 1
-    timeoutSeconds: 5
-
-  # -- Node tolerations for server scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: []
-  #  - key: "key"
-  #    operator: "Equal|Exists"
-  #    value: "value"
-  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  affinity: {}
-
-  # -- Security Context policies for controller pods
-  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  # notes on enabling and using sysctls
-  ##
-  podSecurityContext: {}
-
-  # -- Security Context policies for controller main container.
-  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  # notes on enabling and using sysctls
-  ##
-  containerSecurityContext: {}
-
-  # -- Labels to add to the pod container metadata
-  podLabels: {}
-  #  key: value
-
-  # -- Node labels for default backend pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector:
-    kubernetes.io/os: linux
-
-  # -- Annotations to be added to default backend pods
-  ##
-  podAnnotations: {}
-
-  replicaCount: 1
-
-  minAvailable: 1
-
-  resources: {}
-  # limits:
-  #   cpu: 10m
-  #   memory: 20Mi
-  # requests:
-  #   cpu: 10m
-  #   memory: 20Mi
-
-  extraVolumeMounts: []
-  ## Additional volumeMounts to the default backend container.
-  #  - name: copy-portal-skins
-  #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-  extraVolumes: []
-  ## Additional volumes to the default backend pod.
-  #  - name: copy-portal-skins
-  #    emptyDir: {}
-
-  autoscaling:
-    annotations: {}
</span><span class="gi">+    ##
</span>     enabled: false
<span class="gd">-    minReplicas: 1
-    maxReplicas: 2
-    targetCPUUtilizationPercentage: 50
-    targetMemoryUtilizationPercentage: 50
-
-  service:
-    annotations: {}
-
-    # clusterIP: ""
-
-    # -- List of IP addresses at which the default backend service is available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    name: defaultbackend
+    image:
+        registry: registry.k8s.io
+        image: defaultbackend-amd64
+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
+        tag: "1.5"
+        pullPolicy: IfNotPresent
+        # nobody user -&gt; uid 65534
+        runAsUser: 65534
+        runAsNonRoot: true
+        readOnlyRootFilesystem: true
+        allowPrivilegeEscalation: false
+    # -- Use an existing PSP instead of creating one
+    existingPsp: ""
+    extraArgs: {}
+    serviceAccount:
+        create: true
+        name: ""
+        automountServiceAccountToken: true
+    # -- Additional environment variables to set for defaultBackend pods
+    extraEnvs: []
+    port: 8080
+    ## Readiness and liveness probes for default backend
+    ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
</span>     ##
<span class="gd">-    externalIPs: []
-
-    # loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-    servicePort: 80
-    type: ClusterIP
</span><span class="gi">+    livenessProbe:
+        failureThreshold: 3
+        initialDelaySeconds: 30
+        periodSeconds: 10
+        successThreshold: 1
+        timeoutSeconds: 5
+    readinessProbe:
+        failureThreshold: 6
+        initialDelaySeconds: 0
+        periodSeconds: 5
+        successThreshold: 1
+        timeoutSeconds: 5
+    # -- The update strategy to apply to the Deployment or DaemonSet
+    ##
+    updateStrategy: {}
+    #  rollingUpdate:
+    #    maxUnavailable: 1
+    #  type: RollingUpdate
</span> 
<span class="gd">-  priorityClassName: ""
-  # -- Labels to be added to the default backend resources
-  labels: {}
</span><span class="gi">+    # -- `minReadySeconds` to avoid killing pods before we are ready
+    ##
+    minReadySeconds: 0
+    # -- Node tolerations for server scheduling to nodes with taints
+    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+    ##
+    tolerations: []
+    #  - key: "key"
+    #    operator: "Equal|Exists"
+    #    value: "value"
+    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+    affinity: {}
+    # -- Security Context policies for controller pods
+    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+    # notes on enabling and using sysctls
+    ##
+    podSecurityContext: {}
+    # -- Security Context policies for controller main container.
+    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+    # notes on enabling and using sysctls
+    ##
+    containerSecurityContext: {}
+    # -- Labels to add to the pod container metadata
+    podLabels: {}
+    #  key: value
</span> 
<span class="gi">+    # -- Node labels for default backend pod assignment
+    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+    ##
+    nodeSelector:
+        kubernetes.io/os: linux
+    # -- Annotations to be added to default backend pods
+    ##
+    podAnnotations: {}
+    replicaCount: 1
+    minAvailable: 1
+    resources: {}
+    # limits:
+    #   cpu: 10m
+    #   memory: 20Mi
+    # requests:
+    #   cpu: 10m
+    #   memory: 20Mi
+
+    extraVolumeMounts: []
+    ## Additional volumeMounts to the default backend container.
+    #  - name: copy-portal-skins
+    #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+    extraVolumes: []
+    ## Additional volumes to the default backend pod.
+    #  - name: copy-portal-skins
+    #    emptyDir: {}
+
+    autoscaling:
+        annotations: {}
+        enabled: false
+        minReplicas: 1
+        maxReplicas: 2
+        targetCPUUtilizationPercentage: 50
+        targetMemoryUtilizationPercentage: 50
+    service:
+        annotations: {}
+        # clusterIP: ""
+
+        # -- List of IP addresses at which the default backend service is available
+        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+        ##
+        externalIPs: []
+        # loadBalancerIP: ""
+        loadBalancerSourceRanges: []
+        servicePort: 80
+        type: ClusterIP
+    priorityClassName: ""
+    # -- Labels to be added to the default backend resources
+    labels: {}
</span> ## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
 rbac:
<span class="gd">-  create: true
-  scope: false
-
</span><span class="gi">+    create: true
+    scope: false
</span> ## If true, create &amp; use Pod Security Policy resources
 ## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
 podSecurityPolicy:
<span class="gd">-  enabled: false
-
</span><span class="gi">+    enabled: false
</span> serviceAccount:
<span class="gd">-  create: true
-  name: ""
-  automountServiceAccountToken: true
-  # -- Annotations for the controller service account
-  annotations: {}
-
</span><span class="gi">+    create: true
+    name: ""
+    automountServiceAccountToken: true
+    # -- Annotations for the controller service account
+    annotations: {}
</span> # -- Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
 imagePullSecrets: []
<span class="p">@@ -964,7 +882,6 @@</span> udp: {}
 # -- Prefix for TCP and UDP ports names in ingress controller service
 ## Some cloud providers, like Yandex Cloud may have a requirements for a port name regex to support cloud load balancer integration
 portNamePrefix: ""
<span class="gd">-
</span> # -- (string) A base64-encoded Diffie-Hellman parameter.
 # This can be generated with: `openssl dhparam 4096 2&gt; /dev/null | base64`
 ## Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
<span class="err">
</span></code></pre></div></div> <h2 id="442"> <a href="#442" class="anchor-heading" aria-labelledby="442"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.2 </h2> <p><strong>Release date:</strong> 2022-12-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.5.1&amp;color=success" alt="AppVersion: 1.5.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>roll helm chart forward</li> </ul> <h3 id="default-value-changes-18"> <a href="#default-value-changes-18" class="anchor-heading" aria-labelledby="default-value-changes-18"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="440"> <a href="#440" class="anchor-heading" aria-labelledby="440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.0 </h2> <p><strong>Release date:</strong> 2022-12-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.5.1&amp;color=success" alt="AppVersion: 1.5.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>revert 1.5.2</li> </ul> <h3 id="default-value-changes-19"> <a href="#default-value-changes-19" class="anchor-heading" aria-labelledby="default-value-changes-19"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index e5f8922a0..b7089addb 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -14,190 +14,222 @@</span> commonLabels: {}
 # myLabel: aakkmd
 
 controller:
<span class="gd">-    name: controller
-    image:
-        ## Keep false as default for now!
-        chroot: false
-        registry: registry.k8s.io
-        image: ingress-nginx/controller
-        ## for backwards compatibility consider setting the full image url via the repository value below
-        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        ## repository:
-        tag: "v1.5.2"
-        digest: sha256:3870522ed937c9efb94bfa31a7eb16009831567a0d4cbe01846fc5486d622655
-        digestChroot: sha256:84613555694f2c59a8b2551126d226c9aa648544ebf0cde1e0df942f7dbce42b
-        pullPolicy: IfNotPresent
-        # www-data -&gt; uid 101
-        runAsUser: 101
-        allowPrivilegeEscalation: true
-    # -- Use an existing PSP instead of creating one
-    existingPsp: ""
-    # -- Configures the controller container name
-    containerName: controller
-    # -- Configures the ports that the nginx-controller listens on
-    containerPort:
-        http: 80
-        https: 443
-    # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
-    config: {}
-    # -- Annotations to be added to the controller config configuration configmap.
-    configAnnotations: {}
-    # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
-    proxySetHeaders: {}
-    # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
-    addHeaders: {}
-    # -- Optionally customize the pod dnsConfig.
-    dnsConfig: {}
-    # -- Optionally customize the pod hostname.
-    hostname: {}
-    # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
-    # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
-    # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
-    dnsPolicy: ClusterFirst
-    # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
-    # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
-    reportNodeInternalIp: false
-    # -- Process Ingress objects without ingressClass annotation/ingressClassName field
-    # Overrides value for --watch-ingress-without-class flag of the controller binary
-    # Defaults to false
-    watchIngressWithoutClass: false
-    # -- Process IngressClass per name (additionally as per spec.controller).
-    ingressClassByName: false
-    # -- This configuration defines if Ingress Controller should allow users to set
-    # their own *-snippet annotations, otherwise this is forbidden / dropped
-    # when users add those annotations.
-    # Global snippets in ConfigMap are still respected
-    allowSnippetAnnotations: true
-    # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
-    # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
-    # is merged
-    hostNetwork: false
-    ## Use host ports 80 and 443
-    ## Disabled by default
-    hostPort:
-        # -- Enable 'hostPort' or not
-        enabled: false
-        ports:
-            # -- 'hostPort' http port
-            http: 80
-            # -- 'hostPort' https port
-            https: 443
-    # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
-    electionID: ""
-    ## This section refers to the creation of the IngressClass resource
-    ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
-    ingressClassResource:
-        # -- Name of the ingressClass
-        name: nginx
-        # -- Is this ingressClass enabled or not
-        enabled: true
-        # -- Is this the default ingressClass for the cluster
-        default: false
-        # -- Controller-value of the controller that is processing this ingressClass
-        controllerValue: "k8s.io/ingress-nginx"
-        # -- Parameters is a link to a custom resource containing additional
-        # configuration for the controller. This is optional if the controller
-        # does not require extra parameters.
-        parameters: {}
-    # -- For backwards compatibility with ingress.class annotation, use ingressClass.
-    # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
-    ingressClass: nginx
-    # -- Labels to add to the pod container metadata
-    podLabels: {}
-    #  key: value
-
-    # -- Security Context policies for controller pods
-    podSecurityContext: {}
-    # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
-    sysctls: {}
-    # sysctls:
-    #   "net.core.somaxconn": "8192"
-
-    # -- Allows customization of the source of the IP address or FQDN to report
-    # in the ingress status field. By default, it reads the information provided
-    # by the service. If disable, the status field reports the IP address of the
-    # node or nodes where an ingress controller pod is running.
-    publishService:
-        # -- Enable 'publishService' or not
-        enabled: true
-        # -- Allows overriding of the publish service to bind to
-        # Must be &lt;namespace&gt;/&lt;service_name&gt;
-        pathOverride: ""
-    # Limit the scope of the controller to a specific namespace
-    scope:
-        # -- Enable 'scope' or not
-        enabled: false
-        # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
-        namespace: ""
-        # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
-        # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
-        namespaceSelector: ""
-    # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
-    configMapNamespace: ""
-    tcp:
-        # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
-        configMapNamespace: ""
-        # -- Annotations to be added to the tcp config configmap
-        annotations: {}
-    udp:
-        # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
-        configMapNamespace: ""
-        # -- Annotations to be added to the udp config configmap
-        annotations: {}
-    # -- Maxmind license key to download GeoLite2 Databases.
-    ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
-    maxmindLicenseKey: ""
-    # -- Additional command line arguments to pass to nginx-ingress-controller
-    # E.g. to specify the default SSL certificate you can use
-    extraArgs: {}
-    ## extraArgs:
-    ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
</span><span class="gi">+  name: controller
+  image:
+    ## Keep false as default for now!
+    chroot: false
+    registry: registry.k8s.io
+    image: ingress-nginx/controller
+    ## for backwards compatibility consider setting the full image url via the repository value below
+    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    ## repository:
+    tag: "v1.5.1"
+    digest: sha256:4ba73c697770664c1e00e9f968de14e08f606ff961c76e5d7033a4a9c593c629
+    digestChroot: sha256:c1c091b88a6c936a83bd7b098662760a87868d12452529bad0d178fb36147345
+    pullPolicy: IfNotPresent
+    # www-data -&gt; uid 101
+    runAsUser: 101
+    allowPrivilegeEscalation: true
+
+  # -- Use an existing PSP instead of creating one
+  existingPsp: ""
+
+  # -- Configures the controller container name
+  containerName: controller
+
+  # -- Configures the ports that the nginx-controller listens on
+  containerPort:
+    http: 80
+    https: 443
+
+  # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
+  config: {}
+
+  # -- Annotations to be added to the controller config configuration configmap.
+  configAnnotations: {}
+
+  # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
+  proxySetHeaders: {}
+
+  # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
+  addHeaders: {}
+
+  # -- Optionally customize the pod dnsConfig.
+  dnsConfig: {}
+
+  # -- Optionally customize the pod hostname.
+  hostname: {}
+
+  # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
+  # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
+  # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
+  dnsPolicy: ClusterFirst
+
+  # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
+  # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
+  reportNodeInternalIp: false
+
+  # -- Process Ingress objects without ingressClass annotation/ingressClassName field
+  # Overrides value for --watch-ingress-without-class flag of the controller binary
+  # Defaults to false
+  watchIngressWithoutClass: false
+
+  # -- Process IngressClass per name (additionally as per spec.controller).
+  ingressClassByName: false
+
+  # -- This configuration defines if Ingress Controller should allow users to set
+  # their own *-snippet annotations, otherwise this is forbidden / dropped
+  # when users add those annotations.
+  # Global snippets in ConfigMap are still respected
+  allowSnippetAnnotations: true
+
+  # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
+  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
+  # is merged
+  hostNetwork: false
+
+  ## Use host ports 80 and 443
+  ## Disabled by default
+  hostPort:
+    # -- Enable 'hostPort' or not
+    enabled: false
+    ports:
+      # -- 'hostPort' http port
+      http: 80
+      # -- 'hostPort' https port
+      https: 443
+
+  # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
+  electionID: ""
+
+  ## This section refers to the creation of the IngressClass resource
+  ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
+  ingressClassResource:
+    # -- Name of the ingressClass
+    name: nginx
+    # -- Is this ingressClass enabled or not
+    enabled: true
+    # -- Is this the default ingressClass for the cluster
+    default: false
+    # -- Controller-value of the controller that is processing this ingressClass
+    controllerValue: "k8s.io/ingress-nginx"
+
+    # -- Parameters is a link to a custom resource containing additional
+    # configuration for the controller. This is optional if the controller
+    # does not require extra parameters.
+    parameters: {}
+
+  # -- For backwards compatibility with ingress.class annotation, use ingressClass.
+  # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
+  ingressClass: nginx
+
+  # -- Labels to add to the pod container metadata
+  podLabels: {}
+  #  key: value
+
+  # -- Security Context policies for controller pods
+  podSecurityContext: {}
+
+  # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
+  sysctls: {}
+  # sysctls:
+  #   "net.core.somaxconn": "8192"
+
+  # -- Allows customization of the source of the IP address or FQDN to report
+  # in the ingress status field. By default, it reads the information provided
+  # by the service. If disable, the status field reports the IP address of the
+  # node or nodes where an ingress controller pod is running.
+  publishService:
+    # -- Enable 'publishService' or not
+    enabled: true
+    # -- Allows overriding of the publish service to bind to
+    # Must be &lt;namespace&gt;/&lt;service_name&gt;
+    pathOverride: ""
+
+  # Limit the scope of the controller to a specific namespace
+  scope:
+    # -- Enable 'scope' or not
+    enabled: false
+    # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
+    namespace: ""
+    # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
+    # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
+    namespaceSelector: ""
</span> 
<span class="gd">-    # -- Additional environment variables to set
-    extraEnvs: []
-    # extraEnvs:
-    #   - name: FOO
-    #     valueFrom:
-    #       secretKeyRef:
-    #         key: FOO
-    #         name: secret-resource
</span><span class="gi">+  # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
+  configMapNamespace: ""
</span> 
<span class="gd">-    # -- Use a `DaemonSet` or `Deployment`
-    kind: Deployment
-    # -- Annotations to be added to the controller Deployment or DaemonSet
-    ##
</span><span class="gi">+  tcp:
+    # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    # -- Annotations to be added to the tcp config configmap
</span>     annotations: {}
<span class="gd">-    #  keel.sh/pollSchedule: "@every 60m"
-
-    # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
-    ##
-    labels: {}
-    #  keel.sh/policy: patch
-    #  keel.sh/trigger: poll
</span> 
<span class="gd">-    # -- The update strategy to apply to the Deployment or DaemonSet
-    ##
-    updateStrategy: {}
-    #  rollingUpdate:
-    #    maxUnavailable: 1
-    #  type: RollingUpdate
</span><span class="gi">+  udp:
+    # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    # -- Annotations to be added to the udp config configmap
+    annotations: {}
</span> 
<span class="gd">-    # -- `minReadySeconds` to avoid killing pods before we are ready
-    ##
-    minReadySeconds: 0
-    # -- Node tolerations for server scheduling to nodes with taints
-    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-    ##
-    tolerations: []
-    #  - key: "key"
-    #    operator: "Equal|Exists"
-    #    value: "value"
-    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-    # -- Affinity and anti-affinity rules for server scheduling to nodes
-    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
-    ##
-    affinity: {}
</span><span class="gi">+  # -- Maxmind license key to download GeoLite2 Databases.
+  ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
+  maxmindLicenseKey: ""
+
+  # -- Additional command line arguments to pass to nginx-ingress-controller
+  # E.g. to specify the default SSL certificate you can use
+  extraArgs: {}
+  ## extraArgs:
+  ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
+
+  # -- Additional environment variables to set
+  extraEnvs: []
+  # extraEnvs:
+  #   - name: FOO
+  #     valueFrom:
+  #       secretKeyRef:
+  #         key: FOO
+  #         name: secret-resource
+
+  # -- Use a `DaemonSet` or `Deployment`
+  kind: Deployment
+
+  # -- Annotations to be added to the controller Deployment or DaemonSet
+  ##
+  annotations: {}
+  #  keel.sh/pollSchedule: "@every 60m"
+
+  # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
+  ##
+  labels: {}
+  #  keel.sh/policy: patch
+  #  keel.sh/trigger: poll
+
+
+  # -- The update strategy to apply to the Deployment or DaemonSet
+  ##
+  updateStrategy: {}
+  #  rollingUpdate:
+  #    maxUnavailable: 1
+  #  type: RollingUpdate
+
+  # -- `minReadySeconds` to avoid killing pods before we are ready
+  ##
+  minReadySeconds: 0
+
+
+  # -- Node tolerations for server scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+  #  - key: "key"
+  #    operator: "Equal|Exists"
+  #    value: "value"
+  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+  # -- Affinity and anti-affinity rules for server scheduling to nodes
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
+  ##
+  affinity: {}
</span>     # # An example of preferred pod anti-affinity, weight is in the range 1-100
     # podAntiAffinity:
     #   preferredDuringSchedulingIgnoredDuringExecution:
<span class="p">@@ -238,10 +270,10 @@</span> controller:
     #         - controller
     #     topologyKey: "kubernetes.io/hostname"
 
<span class="gd">-    # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
-    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
-    ##
-    topologySpreadConstraints: []
</span><span class="gi">+  # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+  ##
+  topologySpreadConstraints: []
</span>     # - maxSkew: 1
     #   topologyKey: topology.kubernetes.io/zone
     #   whenUnsatisfiable: DoNotSchedule
<span class="p">@@ -249,605 +281,669 @@</span> controller:
     #     matchLabels:
     #       app.kubernetes.io/instance: ingress-nginx-internal
 
<span class="gd">-    # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
-    ## wait up to five minutes for the drain of connections
</span><span class="gi">+  # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
+  ## wait up to five minutes for the drain of connections
+  ##
+  terminationGracePeriodSeconds: 300
+
+  # -- Node labels for controller pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+  ##
+  nodeSelector:
+    kubernetes.io/os: linux
+
+  ## Liveness and readiness probe values
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
+  ##
+  ## startupProbe:
+  ##   httpGet:
+  ##     # should match container.healthCheckPath
+  ##     path: "/healthz"
+  ##     port: 10254
+  ##     scheme: HTTP
+  ##   initialDelaySeconds: 5
+  ##   periodSeconds: 5
+  ##   timeoutSeconds: 2
+  ##   successThreshold: 1
+  ##   failureThreshold: 5
+  livenessProbe:
+    httpGet:
+      # should match container.healthCheckPath
+      path: "/healthz"
+      port: 10254
+      scheme: HTTP
+    initialDelaySeconds: 10
+    periodSeconds: 10
+    timeoutSeconds: 1
+    successThreshold: 1
+    failureThreshold: 5
+  readinessProbe:
+    httpGet:
+      # should match container.healthCheckPath
+      path: "/healthz"
+      port: 10254
+      scheme: HTTP
+    initialDelaySeconds: 10
+    periodSeconds: 10
+    timeoutSeconds: 1
+    successThreshold: 1
+    failureThreshold: 3
+
+
+  # -- Path of the health check endpoint. All requests received on the port defined by
+  # the healthz-port parameter are forwarded internally to this path.
+  healthCheckPath: "/healthz"
+
+  # -- Address to bind the health check endpoint.
+  # It is better to set this option to the internal node address
+  # if the ingress nginx controller is running in the `hostNetwork: true` mode.
+  healthCheckHost: ""
+
+  # -- Annotations to be added to controller pods
+  ##
+  podAnnotations: {}
+
+  replicaCount: 1
+
+  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+  minAvailable: 1
+  # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+  # maxUnavailable: 1
+
+  ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
+  ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
+  ## Ideally, there should be no limits.
+  ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
+  resources:
+  ##  limits:
+  ##    cpu: 100m
+  ##    memory: 90Mi
+    requests:
+      cpu: 100m
+      memory: 90Mi
+
+  # Mutually exclusive with keda autoscaling
+  autoscaling:
+    apiVersion: autoscaling/v2
+    enabled: false
+    annotations: {}
+    minReplicas: 1
+    maxReplicas: 11
+    targetCPUUtilizationPercentage: 50
+    targetMemoryUtilizationPercentage: 50
+    behavior: {}
+      # scaleDown:
+      #   stabilizationWindowSeconds: 300
+      #   policies:
+      #   - type: Pods
+      #     value: 1
+      #     periodSeconds: 180
+      # scaleUp:
+      #   stabilizationWindowSeconds: 300
+      #   policies:
+      #   - type: Pods
+      #     value: 2
+      #     periodSeconds: 60
+
+  autoscalingTemplate: []
+  # Custom or additional autoscaling metrics
+  # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
+  # - type: Pods
+  #   pods:
+  #     metric:
+  #       name: nginx_ingress_controller_nginx_process_requests_total
+  #     target:
+  #       type: AverageValue
+  #       averageValue: 10000m
+
+  # Mutually exclusive with hpa autoscaling
+  keda:
+    apiVersion: "keda.sh/v1alpha1"
+    ## apiVersion changes with keda 1.x vs 2.x
+    ## 2.x = keda.sh/v1alpha1
+    ## 1.x = keda.k8s.io/v1alpha1
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 11
+    pollingInterval: 30
+    cooldownPeriod: 300
+    restoreToOriginalReplicaCount: false
+    scaledObject:
+      annotations: {}
+      # Custom annotations for ScaledObject resource
+      #  annotations:
+      # key: value
+    triggers: []
+ #     - type: prometheus
+ #       metadata:
+ #         serverAddress: http://&lt;prometheus-host&gt;:9090
+ #         metricName: http_requests_total
+ #         threshold: '100'
+ #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
+
+    behavior: {}
+ #     scaleDown:
+ #       stabilizationWindowSeconds: 300
+ #       policies:
+ #       - type: Pods
+ #         value: 1
+ #         periodSeconds: 180
+ #     scaleUp:
+ #       stabilizationWindowSeconds: 300
+ #       policies:
+ #       - type: Pods
+ #         value: 2
+ #         periodSeconds: 60
+
+  # -- Enable mimalloc as a drop-in replacement for malloc.
+  ## ref: https://github.com/microsoft/mimalloc
+  ##
+  enableMimalloc: true
+
+  ## Override NGINX template
+  customTemplate:
+    configMapName: ""
+    configMapKey: ""
+
+  service:
+    enabled: true
+
+    # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
+    # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
+    # It allows choosing the protocol for each backend specified in the Kubernetes service.
+    # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
+    # Will be ignored for Kubernetes versions older than 1.20
</span>     ##
<span class="gd">-    terminationGracePeriodSeconds: 300
-    # -- Node labels for controller pod assignment
-    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+    appProtocol: true
+
+    annotations: {}
+    labels: {}
+    # clusterIP: ""
+
+    # -- List of IP addresses at which the controller services are available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span>     ##
<span class="gd">-    nodeSelector:
</span><span class="gi">+    externalIPs: []
+
+    # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+
+    enableHttp: true
+    enableHttps: true
+
+    ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
+    ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+    # externalTrafficPolicy: ""
+
+    ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
+    # sessionAffinity: ""
+
+    ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
+    ## the service controller allocates a port from your cluster’s NodePort range.
+    ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+    # healthCheckNodePort: 0
+
+    # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
+    # SingleStack, PreferDualStack or RequireDualStack.
+    # The ipFamilies and clusterIPs fields depend on the value of this field.
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+    ipFamilyPolicy: "SingleStack"
+
+    # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
+    # based on cluster configuration and the ipFamilyPolicy field.
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+    ipFamilies:
+      - IPv4
+
+    ports:
+      http: 80
+      https: 443
+
+    targetPorts:
+      http: http
+      https: https
+
+    type: LoadBalancer
+
+    ## type: NodePort
+    ## nodePorts:
+    ##   http: 32080
+    ##   https: 32443
+    ##   tcp:
+    ##     8080: 32808
+    nodePorts:
+      http: ""
+      https: ""
+      tcp: {}
+      udp: {}
+
+    external:
+      enabled: true
+
+    internal:
+      # -- Enables an additional internal load balancer (besides the external one).
+      enabled: false
+      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
+      annotations: {}
+
+      # loadBalancerIP: ""
+
+      # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
+      loadBalancerSourceRanges: []
+
+      ## Set external traffic policy to: "Local" to preserve source IP on
+      ## providers supporting it
+      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+      # externalTrafficPolicy: ""
+
+  # shareProcessNamespace enables process namespace sharing within the pod.
+  # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
+  shareProcessNamespace: false
+
+  # -- Additional containers to be added to the controller pod.
+  # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
+  extraContainers: []
+  #  - name: my-sidecar
+  #    image: nginx:latest
+  #  - name: lemonldap-ng-controller
+  #    image: lemonldapng/lemonldap-ng-controller:0.2.0
+  #    args:
+  #      - /lemonldap-ng-controller
+  #      - --alsologtostderr
+  #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
+  #    env:
+  #      - name: POD_NAME
+  #        valueFrom:
+  #          fieldRef:
+  #            fieldPath: metadata.name
+  #      - name: POD_NAMESPACE
+  #        valueFrom:
+  #          fieldRef:
+  #            fieldPath: metadata.namespace
+  #    volumeMounts:
+  #    - name: copy-portal-skins
+  #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
+
+  # -- Additional volumeMounts to the controller main container.
+  extraVolumeMounts: []
+  #  - name: copy-portal-skins
+  #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+  # -- Additional volumes to the controller pod.
+  extraVolumes: []
+  #  - name: copy-portal-skins
+  #    emptyDir: {}
+
+  # -- Containers, which are run before the app containers are started.
+  extraInitContainers: []
+  # - name: init-myservice
+  #   image: busybox
+  #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
+
+  # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
+  extraModules: []
+  #   containerSecurityContext:
+  #     allowPrivilegeEscalation: false
+  #
+  # The image must contain a `/usr/local/bin/init_module.sh` executable, which
+  # will be executed as initContainers, to move its config files within the
+  # mounted volume.
+
+  opentelemetry:
+    enabled: false
+    image: registry.k8s.io/ingress-nginx/opentelemetry:v20221114-controller-v1.5.1-6-ga66ee73c5@sha256:41076fd9fb4255677c1a3da1ac3fc41477f06eba3c7ebf37ffc8f734dad51d7c
+    containerSecurityContext:
+      allowPrivilegeEscalation: false
+
+  admissionWebhooks:
+    annotations: {}
+    # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
+
+    ## Additional annotations to the admission webhooks.
+    ## These annotations will be added to the ValidatingWebhookConfiguration and
+    ## the Jobs Spec of the admission webhooks.
+    enabled: true
+    # -- Additional environment variables to set
+    extraEnvs: []
+    # extraEnvs:
+    #   - name: FOO
+    #     valueFrom:
+    #       secretKeyRef:
+    #         key: FOO
+    #         name: secret-resource
+    # -- Admission Webhook failure policy to use
+    failurePolicy: Fail
+    # timeoutSeconds: 10
+    port: 8443
+    certificate: "/usr/local/certificates/cert"
+    key: "/usr/local/certificates/key"
+    namespaceSelector: {}
+    objectSelector: {}
+    # -- Labels to be added to admission webhooks
+    labels: {}
+
+    # -- Use an existing PSP instead of creating one
+    existingPsp: ""
+    networkPolicyEnabled: false
+
+    service:
+      annotations: {}
+      # clusterIP: ""
+      externalIPs: []
+      # loadBalancerIP: ""
+      loadBalancerSourceRanges: []
+      servicePort: 443
+      type: ClusterIP
+
+    createSecretJob:
+      securityContext:
+        allowPrivilegeEscalation: false
+      resources: {}
+        # limits:
+        #   cpu: 10m
+        #   memory: 20Mi
+        # requests:
+        #   cpu: 10m
+        #   memory: 20Mi
+
+    patchWebhookJob:
+      securityContext:
+        allowPrivilegeEscalation: false
+      resources: {}
+
+    patch:
+      enabled: true
+      image:
+        registry: registry.k8s.io
+        image: ingress-nginx/kube-webhook-certgen
+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
+        tag: v20220916-gd32f8c343
+        digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
+        pullPolicy: IfNotPresent
+      # -- Provide a priority class name to the webhook patching job
+      ##
+      priorityClassName: ""
+      podAnnotations: {}
+      nodeSelector:
</span>         kubernetes.io/os: linux
<span class="gd">-    ## Liveness and readiness probe values
-    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
-    ##
-    ## startupProbe:
-    ##   httpGet:
-    ##     # should match container.healthCheckPath
-    ##     path: "/healthz"
-    ##     port: 10254
-    ##     scheme: HTTP
-    ##   initialDelaySeconds: 5
-    ##   periodSeconds: 5
-    ##   timeoutSeconds: 2
-    ##   successThreshold: 1
-    ##   failureThreshold: 5
-    livenessProbe:
-        httpGet:
-            # should match container.healthCheckPath
-            path: "/healthz"
-            port: 10254
-            scheme: HTTP
-        initialDelaySeconds: 10
-        periodSeconds: 10
-        timeoutSeconds: 1
-        successThreshold: 1
-        failureThreshold: 5
-    readinessProbe:
-        httpGet:
-            # should match container.healthCheckPath
-            path: "/healthz"
-            port: 10254
-            scheme: HTTP
-        initialDelaySeconds: 10
-        periodSeconds: 10
-        timeoutSeconds: 1
-        successThreshold: 1
-        failureThreshold: 3
-    # -- Path of the health check endpoint. All requests received on the port defined by
-    # the healthz-port parameter are forwarded internally to this path.
-    healthCheckPath: "/healthz"
-    # -- Address to bind the health check endpoint.
-    # It is better to set this option to the internal node address
-    # if the ingress nginx controller is running in the `hostNetwork: true` mode.
-    healthCheckHost: ""
-    # -- Annotations to be added to controller pods
-    ##
-    podAnnotations: {}
-    replicaCount: 1
-    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
-    minAvailable: 1
-    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
-    # maxUnavailable: 1
-
-    ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
-    ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
-    ## Ideally, there should be no limits.
-    ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
-    resources:
-        ##  limits:
-        ##    cpu: 100m
-        ##    memory: 90Mi
-        requests:
-            cpu: 100m
-            memory: 90Mi
-    # Mutually exclusive with keda autoscaling
-    autoscaling:
-        apiVersion: autoscaling/v2
-        enabled: false
-        annotations: {}
-        minReplicas: 1
-        maxReplicas: 11
-        targetCPUUtilizationPercentage: 50
-        targetMemoryUtilizationPercentage: 50
-        behavior: {}
-        # scaleDown:
-        #   stabilizationWindowSeconds: 300
-        #   policies:
-        #   - type: Pods
-        #     value: 1
-        #     periodSeconds: 180
-        # scaleUp:
-        #   stabilizationWindowSeconds: 300
-        #   policies:
-        #   - type: Pods
-        #     value: 2
-        #     periodSeconds: 60
-    autoscalingTemplate: []
-    # Custom or additional autoscaling metrics
-    # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
-    # - type: Pods
-    #   pods:
-    #     metric:
-    #       name: nginx_ingress_controller_nginx_process_requests_total
-    #     target:
-    #       type: AverageValue
-    #       averageValue: 10000m
-
-    # Mutually exclusive with hpa autoscaling
-    keda:
-        apiVersion: "keda.sh/v1alpha1"
-        ## apiVersion changes with keda 1.x vs 2.x
-        ## 2.x = keda.sh/v1alpha1
-        ## 1.x = keda.k8s.io/v1alpha1
-        enabled: false
-        minReplicas: 1
-        maxReplicas: 11
-        pollingInterval: 30
-        cooldownPeriod: 300
-        restoreToOriginalReplicaCount: false
-        scaledObject:
-            annotations: {}
-            # Custom annotations for ScaledObject resource
-            #  annotations:
-            # key: value
-        triggers: []
-        #     - type: prometheus
-        #       metadata:
-        #         serverAddress: http://&lt;prometheus-host&gt;:9090
-        #         metricName: http_requests_total
-        #         threshold: '100'
-        #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
-
-        behavior: {}
-    #     scaleDown:
-    #       stabilizationWindowSeconds: 300
-    #       policies:
-    #       - type: Pods
-    #         value: 1
-    #         periodSeconds: 180
-    #     scaleUp:
-    #       stabilizationWindowSeconds: 300
-    #       policies:
-    #       - type: Pods
-    #         value: 2
-    #         periodSeconds: 60
-
-    # -- Enable mimalloc as a drop-in replacement for malloc.
-    ## ref: https://github.com/microsoft/mimalloc
-    ##
-    enableMimalloc: true
-    ## Override NGINX template
-    customTemplate:
-        configMapName: ""
-        configMapKey: ""
</span><span class="gi">+      tolerations: []
+      # -- Labels to be added to patch job resources
+      labels: {}
+      securityContext:
+        runAsNonRoot: true
+        runAsUser: 2000
+        fsGroup: 2000
+
+    # Use certmanager to generate webhook certs
+    certManager:
+      enabled: false
+      # self-signed root certificate
+      rootCert:
+        duration: ""  # default to be 5y
+      admissionCert:
+        duration: ""  # default to be 1y
+      # issuerRef:
+      #   name: "issuer"
+      #   kind: "ClusterIssuer"
+
+  metrics:
+    port: 10254
+    portName: metrics
+    # if this port is changed, change healthz-port: in extraArgs: accordingly
+    enabled: false
+
</span>     service:
<span class="gd">-        enabled: true
-        # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
-        # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
-        # It allows choosing the protocol for each backend specified in the Kubernetes service.
-        # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
-        # Will be ignored for Kubernetes versions older than 1.20
-        ##
-        appProtocol: true
-        annotations: {}
-        labels: {}
-        # clusterIP: ""
-
-        # -- List of IP addresses at which the controller services are available
-        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-        ##
-        externalIPs: []
-        # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
-        loadBalancerIP: ""
-        loadBalancerSourceRanges: []
-        enableHttp: true
-        enableHttps: true
-        ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
-        ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-        # externalTrafficPolicy: ""
-
-        ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
-        ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
-        # sessionAffinity: ""
-
-        ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
-        ## the service controller allocates a port from your cluster’s NodePort range.
-        ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
-        # healthCheckNodePort: 0
-
-        # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
-        # SingleStack, PreferDualStack or RequireDualStack.
-        # The ipFamilies and clusterIPs fields depend on the value of this field.
-        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-        ipFamilyPolicy: "SingleStack"
-        # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
-        # based on cluster configuration and the ipFamilyPolicy field.
-        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-        ipFamilies:
-            - IPv4
-        ports:
-            http: 80
-            https: 443
-        targetPorts:
-            http: http
-            https: https
-        type: LoadBalancer
-        ## type: NodePort
-        ## nodePorts:
-        ##   http: 32080
-        ##   https: 32443
-        ##   tcp:
-        ##     8080: 32808
-        nodePorts:
-            http: ""
-            https: ""
-            tcp: {}
-            udp: {}
-        external:
-            enabled: true
-        internal:
-            # -- Enables an additional internal load balancer (besides the external one).
-            enabled: false
-            # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
-            annotations: {}
-            # loadBalancerIP: ""
-
-            # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
-            loadBalancerSourceRanges: []
-            ## Set external traffic policy to: "Local" to preserve source IP on
-            ## providers supporting it
-            ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-            # externalTrafficPolicy: ""
-    # shareProcessNamespace enables process namespace sharing within the pod.
-    # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
-    shareProcessNamespace: false
-    # -- Additional containers to be added to the controller pod.
-    # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
-    extraContainers: []
-    #  - name: my-sidecar
-    #    image: nginx:latest
-    #  - name: lemonldap-ng-controller
-    #    image: lemonldapng/lemonldap-ng-controller:0.2.0
-    #    args:
-    #      - /lemonldap-ng-controller
-    #      - --alsologtostderr
-    #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
-    #    env:
-    #      - name: POD_NAME
-    #        valueFrom:
-    #          fieldRef:
-    #            fieldPath: metadata.name
-    #      - name: POD_NAMESPACE
-    #        valueFrom:
-    #          fieldRef:
-    #            fieldPath: metadata.namespace
-    #    volumeMounts:
-    #    - name: copy-portal-skins
-    #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
-
-    # -- Additional volumeMounts to the controller main container.
-    extraVolumeMounts: []
-    #  - name: copy-portal-skins
-    #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-    # -- Additional volumes to the controller pod.
-    extraVolumes: []
-    #  - name: copy-portal-skins
-    #    emptyDir: {}
-
-    # -- Containers, which are run before the app containers are started.
-    extraInitContainers: []
-    # - name: init-myservice
-    #   image: busybox
-    #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
-
-    # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
-    extraModules: []
-    #   containerSecurityContext:
-    #     allowPrivilegeEscalation: false
-    #
-    # The image must contain a `/usr/local/bin/init_module.sh` executable, which
-    # will be executed as initContainers, to move its config files within the
-    # mounted volume.
-
-    opentelemetry:
-        enabled: false
-        image: registry.k8s.io/ingress-nginx/opentelemetry:v20221114-controller-v1.5.1-6-ga66ee73c5@sha256:41076fd9fb4255677c1a3da1ac3fc41477f06eba3c7ebf37ffc8f734dad51d7c
-        containerSecurityContext:
-            allowPrivilegeEscalation: false
-    admissionWebhooks:
-        annotations: {}
-        # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
-
-        ## Additional annotations to the admission webhooks.
-        ## These annotations will be added to the ValidatingWebhookConfiguration and
-        ## the Jobs Spec of the admission webhooks.
-        enabled: true
-        # -- Additional environment variables to set
-        extraEnvs: []
-        # extraEnvs:
-        #   - name: FOO
-        #     valueFrom:
-        #       secretKeyRef:
-        #         key: FOO
-        #         name: secret-resource
-        # -- Admission Webhook failure policy to use
-        failurePolicy: Fail
-        # timeoutSeconds: 10
-        port: 8443
-        certificate: "/usr/local/certificates/cert"
-        key: "/usr/local/certificates/key"
-        namespaceSelector: {}
-        objectSelector: {}
-        # -- Labels to be added to admission webhooks
-        labels: {}
-        # -- Use an existing PSP instead of creating one
-        existingPsp: ""
-        networkPolicyEnabled: false
-        service:
-            annotations: {}
-            # clusterIP: ""
-            externalIPs: []
-            # loadBalancerIP: ""
-            loadBalancerSourceRanges: []
-            servicePort: 443
-            type: ClusterIP
-        createSecretJob:
-            securityContext:
-                allowPrivilegeEscalation: false
-            resources: {}
-            # limits:
-            #   cpu: 10m
-            #   memory: 20Mi
-            # requests:
-            #   cpu: 10m
-            #   memory: 20Mi
-        patchWebhookJob:
-            securityContext:
-                allowPrivilegeEscalation: false
-            resources: {}
-        patch:
-            enabled: true
-            image:
-                registry: registry.k8s.io
-                image: ingress-nginx/kube-webhook-certgen
-                ## for backwards compatibility consider setting the full image url via the repository value below
-                ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-                ## repository:
-                tag: v20220916-gd32f8c343
-                digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
-                pullPolicy: IfNotPresent
-            # -- Provide a priority class name to the webhook patching job
-            ##
-            priorityClassName: ""
-            podAnnotations: {}
-            nodeSelector:
-                kubernetes.io/os: linux
-            tolerations: []
-            # -- Labels to be added to patch job resources
-            labels: {}
-            securityContext:
-                runAsNonRoot: true
-                runAsUser: 2000
-                fsGroup: 2000
-        # Use certmanager to generate webhook certs
-        certManager:
-            enabled: false
-            # self-signed root certificate
-            rootCert:
-                # default to be 5y
-                duration: ""
-            admissionCert:
-                # default to be 1y
-                duration: ""
-                # issuerRef:
-                #   name: "issuer"
-                #   kind: "ClusterIssuer"
-    metrics:
-        port: 10254
-        portName: metrics
-        # if this port is changed, change healthz-port: in extraArgs: accordingly
-        enabled: false
-        service:
-            annotations: {}
-            # prometheus.io/scrape: "true"
-            # prometheus.io/port: "10254"
-
-            # clusterIP: ""
-
-            # -- List of IP addresses at which the stats-exporter service is available
-            ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-            ##
-            externalIPs: []
-            # loadBalancerIP: ""
-            loadBalancerSourceRanges: []
-            servicePort: 10254
-            type: ClusterIP
-            # externalTrafficPolicy: ""
-            # nodePort: ""
-        serviceMonitor:
-            enabled: false
-            additionalLabels: {}
-            ## The label to use to retrieve the job name from.
-            ## jobLabel: "app.kubernetes.io/name"
-            namespace: ""
-            namespaceSelector: {}
-            ## Default: scrape .Release.Namespace only
-            ## To scrape all, use the following:
-            ## namespaceSelector:
-            ##   any: true
-            scrapeInterval: 30s
-            # honorLabels: true
-            targetLabels: []
-            relabelings: []
-            metricRelabelings: []
-        prometheusRule:
-            enabled: false
-            additionalLabels: {}
-            # namespace: ""
-            rules: []
-            # # These are just examples rules, please adapt them to your needs
-            # - alert: NGINXConfigFailed
-            #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
-            #   for: 1s
-            #   labels:
-            #     severity: critical
-            #   annotations:
-            #     description: bad ingress config - nginx config test failed
-            #     summary: uninstall the latest ingress changes to allow config reloads to resume
-            # - alert: NGINXCertificateExpiry
-            #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
-            #   for: 1s
-            #   labels:
-            #     severity: critical
-            #   annotations:
-            #     description: ssl certificate(s) will expire in less then a week
-            #     summary: renew expiring certificates to avoid downtime
-            # - alert: NGINXTooMany500s
-            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-            #   for: 1m
-            #   labels:
-            #     severity: warning
-            #   annotations:
-            #     description: Too many 5XXs
-            #     summary: More than 5% of all requests returned 5XX, this requires your attention
-            # - alert: NGINXTooMany400s
-            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-            #   for: 1m
-            #   labels:
-            #     severity: warning
-            #   annotations:
-            #     description: Too many 4XXs
-            #     summary: More than 5% of all requests returned 4XX, this requires your attention
-    # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
-    # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
-    # to 300, allowing the draining of connections up to five minutes.
-    # If the active connections end before that, the pod will terminate gracefully at that time.
-    # To effectively take advantage of this feature, the Configmap feature
-    # worker-shutdown-timeout new value is 240s instead of 10s.
-    ##
-    lifecycle:
-        preStop:
-            exec:
-                command:
-                    - /wait-shutdown
-    priorityClassName: ""
</span><span class="gi">+      annotations: {}
+      # prometheus.io/scrape: "true"
+      # prometheus.io/port: "10254"
+
+      # clusterIP: ""
+
+      # -- List of IP addresses at which the stats-exporter service is available
+      ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+      ##
+      externalIPs: []
+
+      # loadBalancerIP: ""
+      loadBalancerSourceRanges: []
+      servicePort: 10254
+      type: ClusterIP
+      # externalTrafficPolicy: ""
+      # nodePort: ""
+
+    serviceMonitor:
+      enabled: false
+      additionalLabels: {}
+      ## The label to use to retrieve the job name from.
+      ## jobLabel: "app.kubernetes.io/name"
+      namespace: ""
+      namespaceSelector: {}
+      ## Default: scrape .Release.Namespace only
+      ## To scrape all, use the following:
+      ## namespaceSelector:
+      ##   any: true
+      scrapeInterval: 30s
+      # honorLabels: true
+      targetLabels: []
+      relabelings: []
+      metricRelabelings: []
+
+    prometheusRule:
+      enabled: false
+      additionalLabels: {}
+      # namespace: ""
+      rules: []
+        # # These are just examples rules, please adapt them to your needs
+        # - alert: NGINXConfigFailed
+        #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
+        #   for: 1s
+        #   labels:
+        #     severity: critical
+        #   annotations:
+        #     description: bad ingress config - nginx config test failed
+        #     summary: uninstall the latest ingress changes to allow config reloads to resume
+        # - alert: NGINXCertificateExpiry
+        #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
+        #   for: 1s
+        #   labels:
+        #     severity: critical
+        #   annotations:
+        #     description: ssl certificate(s) will expire in less then a week
+        #     summary: renew expiring certificates to avoid downtime
+        # - alert: NGINXTooMany500s
+        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+        #   for: 1m
+        #   labels:
+        #     severity: warning
+        #   annotations:
+        #     description: Too many 5XXs
+        #     summary: More than 5% of all requests returned 5XX, this requires your attention
+        # - alert: NGINXTooMany400s
+        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+        #   for: 1m
+        #   labels:
+        #     severity: warning
+        #   annotations:
+        #     description: Too many 4XXs
+        #     summary: More than 5% of all requests returned 4XX, this requires your attention
+
+  # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
+  # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
+  # to 300, allowing the draining of connections up to five minutes.
+  # If the active connections end before that, the pod will terminate gracefully at that time.
+  # To effectively take advantage of this feature, the Configmap feature
+  # worker-shutdown-timeout new value is 240s instead of 10s.
+  ##
+  lifecycle:
+    preStop:
+      exec:
+        command:
+          - /wait-shutdown
+
+  priorityClassName: ""
+
</span> # -- Rollback limit
 ##
 revisionHistoryLimit: 10
<span class="gi">+
</span> ## Default 404 backend
 ##
 defaultBackend:
<span class="gd">-    ##
</span><span class="gi">+  ##
+  enabled: false
+
+  name: defaultbackend
+  image:
+    registry: registry.k8s.io
+    image: defaultbackend-amd64
+    ## for backwards compatibility consider setting the full image url via the repository value below
+    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    ## repository:
+    tag: "1.5"
+    pullPolicy: IfNotPresent
+    # nobody user -&gt; uid 65534
+    runAsUser: 65534
+    runAsNonRoot: true
+    readOnlyRootFilesystem: true
+    allowPrivilegeEscalation: false
+
+  # -- Use an existing PSP instead of creating one
+  existingPsp: ""
+
+  extraArgs: {}
+
+  serviceAccount:
+    create: true
+    name: ""
+    automountServiceAccountToken: true
+  # -- Additional environment variables to set for defaultBackend pods
+  extraEnvs: []
+
+  port: 8080
+
+  ## Readiness and liveness probes for default backend
+  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
+  ##
+  livenessProbe:
+    failureThreshold: 3
+    initialDelaySeconds: 30
+    periodSeconds: 10
+    successThreshold: 1
+    timeoutSeconds: 5
+  readinessProbe:
+    failureThreshold: 6
+    initialDelaySeconds: 0
+    periodSeconds: 5
+    successThreshold: 1
+    timeoutSeconds: 5
+
+  # -- Node tolerations for server scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+  #  - key: "key"
+  #    operator: "Equal|Exists"
+  #    value: "value"
+  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+  affinity: {}
+
+  # -- Security Context policies for controller pods
+  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  # notes on enabling and using sysctls
+  ##
+  podSecurityContext: {}
+
+  # -- Security Context policies for controller main container.
+  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  # notes on enabling and using sysctls
+  ##
+  containerSecurityContext: {}
+
+  # -- Labels to add to the pod container metadata
+  podLabels: {}
+  #  key: value
+
+  # -- Node labels for default backend pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+  ##
+  nodeSelector:
+    kubernetes.io/os: linux
+
+  # -- Annotations to be added to default backend pods
+  ##
+  podAnnotations: {}
+
+  replicaCount: 1
+
+  minAvailable: 1
+
+  resources: {}
+  # limits:
+  #   cpu: 10m
+  #   memory: 20Mi
+  # requests:
+  #   cpu: 10m
+  #   memory: 20Mi
+
+  extraVolumeMounts: []
+  ## Additional volumeMounts to the default backend container.
+  #  - name: copy-portal-skins
+  #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+  extraVolumes: []
+  ## Additional volumes to the default backend pod.
+  #  - name: copy-portal-skins
+  #    emptyDir: {}
+
+  autoscaling:
+    annotations: {}
</span>     enabled: false
<span class="gd">-    name: defaultbackend
-    image:
-        registry: registry.k8s.io
-        image: defaultbackend-amd64
-        ## for backwards compatibility consider setting the full image url via the repository value below
-        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        ## repository:
-        tag: "1.5"
-        pullPolicy: IfNotPresent
-        # nobody user -&gt; uid 65534
-        runAsUser: 65534
-        runAsNonRoot: true
-        readOnlyRootFilesystem: true
-        allowPrivilegeEscalation: false
-    # -- Use an existing PSP instead of creating one
-    existingPsp: ""
-    extraArgs: {}
-    serviceAccount:
-        create: true
-        name: ""
-        automountServiceAccountToken: true
-    # -- Additional environment variables to set for defaultBackend pods
-    extraEnvs: []
-    port: 8080
-    ## Readiness and liveness probes for default backend
-    ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
-    ##
-    livenessProbe:
-        failureThreshold: 3
-        initialDelaySeconds: 30
-        periodSeconds: 10
-        successThreshold: 1
-        timeoutSeconds: 5
-    readinessProbe:
-        failureThreshold: 6
-        initialDelaySeconds: 0
-        periodSeconds: 5
-        successThreshold: 1
-        timeoutSeconds: 5
-    # -- Node tolerations for server scheduling to nodes with taints
-    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-    ##
-    tolerations: []
-    #  - key: "key"
-    #    operator: "Equal|Exists"
-    #    value: "value"
-    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-    affinity: {}
-    # -- Security Context policies for controller pods
-    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-    # notes on enabling and using sysctls
-    ##
-    podSecurityContext: {}
-    # -- Security Context policies for controller main container.
-    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-    # notes on enabling and using sysctls
-    ##
-    containerSecurityContext: {}
-    # -- Labels to add to the pod container metadata
-    podLabels: {}
-    #  key: value
</span><span class="gi">+    minReplicas: 1
+    maxReplicas: 2
+    targetCPUUtilizationPercentage: 50
+    targetMemoryUtilizationPercentage: 50
</span> 
<span class="gd">-    # -- Node labels for default backend pod assignment
-    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-    ##
-    nodeSelector:
-        kubernetes.io/os: linux
-    # -- Annotations to be added to default backend pods
</span><span class="gi">+  service:
+    annotations: {}
+
+    # clusterIP: ""
+
+    # -- List of IP addresses at which the default backend service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span>     ##
<span class="gd">-    podAnnotations: {}
-    replicaCount: 1
-    minAvailable: 1
-    resources: {}
-    # limits:
-    #   cpu: 10m
-    #   memory: 20Mi
-    # requests:
-    #   cpu: 10m
-    #   memory: 20Mi
-
-    extraVolumeMounts: []
-    ## Additional volumeMounts to the default backend container.
-    #  - name: copy-portal-skins
-    #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-    extraVolumes: []
-    ## Additional volumes to the default backend pod.
-    #  - name: copy-portal-skins
-    #    emptyDir: {}
-
-    autoscaling:
-        annotations: {}
-        enabled: false
-        minReplicas: 1
-        maxReplicas: 2
-        targetCPUUtilizationPercentage: 50
-        targetMemoryUtilizationPercentage: 50
-    service:
-        annotations: {}
-        # clusterIP: ""
-
-        # -- List of IP addresses at which the default backend service is available
-        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-        ##
-        externalIPs: []
-        # loadBalancerIP: ""
-        loadBalancerSourceRanges: []
-        servicePort: 80
-        type: ClusterIP
-    priorityClassName: ""
-    # -- Labels to be added to the default backend resources
-    labels: {}
</span><span class="gi">+    externalIPs: []
+
+    # loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 80
+    type: ClusterIP
+
+  priorityClassName: ""
+  # -- Labels to be added to the default backend resources
+  labels: {}
+
</span> ## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
 rbac:
<span class="gd">-    create: true
-    scope: false
</span><span class="gi">+  create: true
+  scope: false
+
</span> ## If true, create &amp; use Pod Security Policy resources
 ## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
 podSecurityPolicy:
<span class="gd">-    enabled: false
</span><span class="gi">+  enabled: false
+
</span> serviceAccount:
<span class="gd">-    create: true
-    name: ""
-    automountServiceAccountToken: true
-    # -- Annotations for the controller service account
-    annotations: {}
</span><span class="gi">+  create: true
+  name: ""
+  automountServiceAccountToken: true
+  # -- Annotations for the controller service account
+  annotations: {}
+
</span> # -- Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
 imagePullSecrets: []
<span class="p">@@ -868,6 +964,7 @@</span> udp: {}
 # -- Prefix for TCP and UDP ports names in ingress controller service
 ## Some cloud providers, like Yandex Cloud may have a requirements for a port name regex to support cloud load balancer integration
 portNamePrefix: ""
<span class="gi">+
</span> # -- (string) A base64-encoded Diffie-Hellman parameter.
 # This can be generated with: `openssl dhparam 4096 2&gt; /dev/null | base64`
 ## Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
<span class="err">
</span></code></pre></div></div> <h2 id="441"> <a href="#441" class="anchor-heading" aria-labelledby="441"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.1 </h2> <p><strong>Release date:</strong> 2022-12-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.5.2&amp;color=success" alt="AppVersion: 1.5.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Automated Release Controller 1.5.2 (#9455)</li> <li>HPA: Add <code class="language-plaintext highlighter-rouge">controller.autoscaling.annotations</code> to <code class="language-plaintext highlighter-rouge">values.yaml</code>. (#9253)</li> <li>feat(helm): Optionally use cert-manager instead admission patch (#9279)</li> <li>update OpenTelemetry image (#9308)</li> <li>fix(hpa): deprecated api version, bump to v2 (#9348)</li> <li>Fix typos found by codespell (#9353)</li> <li>remove the configmap related permissions (#9310)</li> <li>Fixed indentation in commented-out autoscaling (#9225)</li> <li>fix broken annotation yaml (#9243)</li> <li>PDB: Add <code class="language-plaintext highlighter-rouge">maxUnavailable</code>. (#9278)</li> <li>add containerSecurityContext to extraModules init containers (kubernetes#9016) (#9242)</li> </ul> <h3 id="default-value-changes-20"> <a href="#default-value-changes-20" class="anchor-heading" aria-labelledby="default-value-changes-20"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 6304f2637..e5f8922a0 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -14,222 +14,190 @@</span> commonLabels: {}
 # myLabel: aakkmd
 
 controller:
<span class="gd">-  name: controller
-  image:
-    ## Keep false as default for now!
-    chroot: false
-    registry: registry.k8s.io
-    image: ingress-nginx/controller
-    ## for backwards compatibility consider setting the full image url via the repository value below
-    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-    ## repository:
-    tag: "v1.5.1"
-    digest: sha256:4ba73c697770664c1e00e9f968de14e08f606ff961c76e5d7033a4a9c593c629
-    digestChroot: sha256:c1c091b88a6c936a83bd7b098662760a87868d12452529bad0d178fb36147345
-    pullPolicy: IfNotPresent
-    # www-data -&gt; uid 101
-    runAsUser: 101
-    allowPrivilegeEscalation: true
-
-  # -- Use an existing PSP instead of creating one
-  existingPsp: ""
-
-  # -- Configures the controller container name
-  containerName: controller
-
-  # -- Configures the ports that the nginx-controller listens on
-  containerPort:
-    http: 80
-    https: 443
-
-  # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
-  config: {}
-
-  # -- Annotations to be added to the controller config configuration configmap.
-  configAnnotations: {}
-
-  # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
-  proxySetHeaders: {}
-
-  # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
-  addHeaders: {}
-
-  # -- Optionally customize the pod dnsConfig.
-  dnsConfig: {}
-
-  # -- Optionally customize the pod hostname.
-  hostname: {}
-
-  # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
-  # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
-  # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
-  dnsPolicy: ClusterFirst
-
-  # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
-  # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
-  reportNodeInternalIp: false
-
-  # -- Process Ingress objects without ingressClass annotation/ingressClassName field
-  # Overrides value for --watch-ingress-without-class flag of the controller binary
-  # Defaults to false
-  watchIngressWithoutClass: false
-
-  # -- Process IngressClass per name (additionally as per spec.controller).
-  ingressClassByName: false
-
-  # -- This configuration defines if Ingress Controller should allow users to set
-  # their own *-snippet annotations, otherwise this is forbidden / dropped
-  # when users add those annotations.
-  # Global snippets in ConfigMap are still respected
-  allowSnippetAnnotations: true
-
-  # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
-  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
-  # is merged
-  hostNetwork: false
-
-  ## Use host ports 80 and 443
-  ## Disabled by default
-  hostPort:
-    # -- Enable 'hostPort' or not
-    enabled: false
-    ports:
-      # -- 'hostPort' http port
-      http: 80
-      # -- 'hostPort' https port
-      https: 443
-
-  # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
-  electionID: ""
-
-  ## This section refers to the creation of the IngressClass resource
-  ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
-  ingressClassResource:
-    # -- Name of the ingressClass
-    name: nginx
-    # -- Is this ingressClass enabled or not
-    enabled: true
-    # -- Is this the default ingressClass for the cluster
-    default: false
-    # -- Controller-value of the controller that is processing this ingressClass
-    controllerValue: "k8s.io/ingress-nginx"
-
-    # -- Parameters is a link to a custom resource containing additional
-    # configuration for the controller. This is optional if the controller
-    # does not require extra parameters.
-    parameters: {}
-
-  # -- For backwards compatibility with ingress.class annotation, use ingressClass.
-  # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
-  ingressClass: nginx
-
-  # -- Labels to add to the pod container metadata
-  podLabels: {}
-  #  key: value
-
-  # -- Security Context policies for controller pods
-  podSecurityContext: {}
-
-  # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
-  sysctls: {}
-  # sysctls:
-  #   "net.core.somaxconn": "8192"
-
-  # -- Allows customization of the source of the IP address or FQDN to report
-  # in the ingress status field. By default, it reads the information provided
-  # by the service. If disable, the status field reports the IP address of the
-  # node or nodes where an ingress controller pod is running.
-  publishService:
-    # -- Enable 'publishService' or not
-    enabled: true
-    # -- Allows overriding of the publish service to bind to
-    # Must be &lt;namespace&gt;/&lt;service_name&gt;
-    pathOverride: ""
-
-  # Limit the scope of the controller to a specific namespace
-  scope:
-    # -- Enable 'scope' or not
-    enabled: false
-    # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
-    namespace: ""
-    # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
-    # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
-    namespaceSelector: ""
</span><span class="gi">+    name: controller
+    image:
+        ## Keep false as default for now!
+        chroot: false
+        registry: registry.k8s.io
+        image: ingress-nginx/controller
+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
+        tag: "v1.5.2"
+        digest: sha256:3870522ed937c9efb94bfa31a7eb16009831567a0d4cbe01846fc5486d622655
+        digestChroot: sha256:84613555694f2c59a8b2551126d226c9aa648544ebf0cde1e0df942f7dbce42b
+        pullPolicy: IfNotPresent
+        # www-data -&gt; uid 101
+        runAsUser: 101
+        allowPrivilegeEscalation: true
+    # -- Use an existing PSP instead of creating one
+    existingPsp: ""
+    # -- Configures the controller container name
+    containerName: controller
+    # -- Configures the ports that the nginx-controller listens on
+    containerPort:
+        http: 80
+        https: 443
+    # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
+    config: {}
+    # -- Annotations to be added to the controller config configuration configmap.
+    configAnnotations: {}
+    # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
+    proxySetHeaders: {}
+    # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
+    addHeaders: {}
+    # -- Optionally customize the pod dnsConfig.
+    dnsConfig: {}
+    # -- Optionally customize the pod hostname.
+    hostname: {}
+    # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
+    # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
+    # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
+    dnsPolicy: ClusterFirst
+    # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
+    # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
+    reportNodeInternalIp: false
+    # -- Process Ingress objects without ingressClass annotation/ingressClassName field
+    # Overrides value for --watch-ingress-without-class flag of the controller binary
+    # Defaults to false
+    watchIngressWithoutClass: false
+    # -- Process IngressClass per name (additionally as per spec.controller).
+    ingressClassByName: false
+    # -- This configuration defines if Ingress Controller should allow users to set
+    # their own *-snippet annotations, otherwise this is forbidden / dropped
+    # when users add those annotations.
+    # Global snippets in ConfigMap are still respected
+    allowSnippetAnnotations: true
+    # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
+    # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
+    # is merged
+    hostNetwork: false
+    ## Use host ports 80 and 443
+    ## Disabled by default
+    hostPort:
+        # -- Enable 'hostPort' or not
+        enabled: false
+        ports:
+            # -- 'hostPort' http port
+            http: 80
+            # -- 'hostPort' https port
+            https: 443
+    # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
+    electionID: ""
+    ## This section refers to the creation of the IngressClass resource
+    ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
+    ingressClassResource:
+        # -- Name of the ingressClass
+        name: nginx
+        # -- Is this ingressClass enabled or not
+        enabled: true
+        # -- Is this the default ingressClass for the cluster
+        default: false
+        # -- Controller-value of the controller that is processing this ingressClass
+        controllerValue: "k8s.io/ingress-nginx"
+        # -- Parameters is a link to a custom resource containing additional
+        # configuration for the controller. This is optional if the controller
+        # does not require extra parameters.
+        parameters: {}
+    # -- For backwards compatibility with ingress.class annotation, use ingressClass.
+    # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
+    ingressClass: nginx
+    # -- Labels to add to the pod container metadata
+    podLabels: {}
+    #  key: value
+
+    # -- Security Context policies for controller pods
+    podSecurityContext: {}
+    # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
+    sysctls: {}
+    # sysctls:
+    #   "net.core.somaxconn": "8192"
+
+    # -- Allows customization of the source of the IP address or FQDN to report
+    # in the ingress status field. By default, it reads the information provided
+    # by the service. If disable, the status field reports the IP address of the
+    # node or nodes where an ingress controller pod is running.
+    publishService:
+        # -- Enable 'publishService' or not
+        enabled: true
+        # -- Allows overriding of the publish service to bind to
+        # Must be &lt;namespace&gt;/&lt;service_name&gt;
+        pathOverride: ""
+    # Limit the scope of the controller to a specific namespace
+    scope:
+        # -- Enable 'scope' or not
+        enabled: false
+        # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
+        namespace: ""
+        # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
+        # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
+        namespaceSelector: ""
+    # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    tcp:
+        # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
+        configMapNamespace: ""
+        # -- Annotations to be added to the tcp config configmap
+        annotations: {}
+    udp:
+        # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
+        configMapNamespace: ""
+        # -- Annotations to be added to the udp config configmap
+        annotations: {}
+    # -- Maxmind license key to download GeoLite2 Databases.
+    ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
+    maxmindLicenseKey: ""
+    # -- Additional command line arguments to pass to nginx-ingress-controller
+    # E.g. to specify the default SSL certificate you can use
+    extraArgs: {}
+    ## extraArgs:
+    ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
</span> 
<span class="gd">-  # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
-  configMapNamespace: ""
</span><span class="gi">+    # -- Additional environment variables to set
+    extraEnvs: []
+    # extraEnvs:
+    #   - name: FOO
+    #     valueFrom:
+    #       secretKeyRef:
+    #         key: FOO
+    #         name: secret-resource
</span> 
<span class="gd">-  tcp:
-    # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
-    configMapNamespace: ""
-    # -- Annotations to be added to the tcp config configmap
</span><span class="gi">+    # -- Use a `DaemonSet` or `Deployment`
+    kind: Deployment
+    # -- Annotations to be added to the controller Deployment or DaemonSet
+    ##
</span>     annotations: {}
<span class="gi">+    #  keel.sh/pollSchedule: "@every 60m"
</span> 
<span class="gd">-  udp:
-    # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
-    configMapNamespace: ""
-    # -- Annotations to be added to the udp config configmap
-    annotations: {}
</span><span class="gi">+    # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
+    ##
+    labels: {}
+    #  keel.sh/policy: patch
+    #  keel.sh/trigger: poll
</span> 
<span class="gd">-  # -- Maxmind license key to download GeoLite2 Databases.
-  ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
-  maxmindLicenseKey: ""
-
-  # -- Additional command line arguments to pass to nginx-ingress-controller
-  # E.g. to specify the default SSL certificate you can use
-  extraArgs: {}
-  ## extraArgs:
-  ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
-
-  # -- Additional environment variables to set
-  extraEnvs: []
-  # extraEnvs:
-  #   - name: FOO
-  #     valueFrom:
-  #       secretKeyRef:
-  #         key: FOO
-  #         name: secret-resource
-
-  # -- Use a `DaemonSet` or `Deployment`
-  kind: Deployment
-
-  # -- Annotations to be added to the controller Deployment or DaemonSet
-  ##
-  annotations: {}
-  #  keel.sh/pollSchedule: "@every 60m"
-
-  # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
-  ##
-  labels: {}
-  #  keel.sh/policy: patch
-  #  keel.sh/trigger: poll
-
-
-  # -- The update strategy to apply to the Deployment or DaemonSet
-  ##
-  updateStrategy: {}
-  #  rollingUpdate:
-  #    maxUnavailable: 1
-  #  type: RollingUpdate
-
-  # -- `minReadySeconds` to avoid killing pods before we are ready
-  ##
-  minReadySeconds: 0
-
-
-  # -- Node tolerations for server scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: []
-  #  - key: "key"
-  #    operator: "Equal|Exists"
-  #    value: "value"
-  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  # -- Affinity and anti-affinity rules for server scheduling to nodes
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
-  ##
-  affinity: {}
</span><span class="gi">+    # -- The update strategy to apply to the Deployment or DaemonSet
+    ##
+    updateStrategy: {}
+    #  rollingUpdate:
+    #    maxUnavailable: 1
+    #  type: RollingUpdate
+
+    # -- `minReadySeconds` to avoid killing pods before we are ready
+    ##
+    minReadySeconds: 0
+    # -- Node tolerations for server scheduling to nodes with taints
+    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+    ##
+    tolerations: []
+    #  - key: "key"
+    #    operator: "Equal|Exists"
+    #    value: "value"
+    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+    # -- Affinity and anti-affinity rules for server scheduling to nodes
+    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
+    ##
+    affinity: {}
</span>     # # An example of preferred pod anti-affinity, weight is in the range 1-100
     # podAntiAffinity:
     #   preferredDuringSchedulingIgnoredDuringExecution:
<span class="p">@@ -270,10 +238,10 @@</span> controller:
     #         - controller
     #     topologyKey: "kubernetes.io/hostname"
 
<span class="gd">-  # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
-  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
-  ##
-  topologySpreadConstraints: []
</span><span class="gi">+    # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
+    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+    ##
+    topologySpreadConstraints: []
</span>     # - maxSkew: 1
     #   topologyKey: topology.kubernetes.io/zone
     #   whenUnsatisfiable: DoNotSchedule
<span class="p">@@ -281,647 +249,605 @@</span> controller:
     #     matchLabels:
     #       app.kubernetes.io/instance: ingress-nginx-internal
 
<span class="gd">-  # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
-  ## wait up to five minutes for the drain of connections
-  ##
-  terminationGracePeriodSeconds: 300
-
-  # -- Node labels for controller pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector:
-    kubernetes.io/os: linux
-
-  ## Liveness and readiness probe values
-  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
-  ##
-  ## startupProbe:
-  ##   httpGet:
-  ##     # should match container.healthCheckPath
-  ##     path: "/healthz"
-  ##     port: 10254
-  ##     scheme: HTTP
-  ##   initialDelaySeconds: 5
-  ##   periodSeconds: 5
-  ##   timeoutSeconds: 2
-  ##   successThreshold: 1
-  ##   failureThreshold: 5
-  livenessProbe:
-    httpGet:
-      # should match container.healthCheckPath
-      path: "/healthz"
-      port: 10254
-      scheme: HTTP
-    initialDelaySeconds: 10
-    periodSeconds: 10
-    timeoutSeconds: 1
-    successThreshold: 1
-    failureThreshold: 5
-  readinessProbe:
-    httpGet:
-      # should match container.healthCheckPath
-      path: "/healthz"
-      port: 10254
-      scheme: HTTP
-    initialDelaySeconds: 10
-    periodSeconds: 10
-    timeoutSeconds: 1
-    successThreshold: 1
-    failureThreshold: 3
-
-
-  # -- Path of the health check endpoint. All requests received on the port defined by
-  # the healthz-port parameter are forwarded internally to this path.
-  healthCheckPath: "/healthz"
-
-  # -- Address to bind the health check endpoint.
-  # It is better to set this option to the internal node address
-  # if the ingress nginx controller is running in the `hostNetwork: true` mode.
-  healthCheckHost: ""
-
-  # -- Annotations to be added to controller pods
-  ##
-  podAnnotations: {}
-
-  replicaCount: 1
-
-  minAvailable: 1
-
-  ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
-  ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
-  ## Ideally, there should be no limits.
-  ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
-  resources:
-  ##  limits:
-  ##    cpu: 100m
-  ##    memory: 90Mi
-    requests:
-      cpu: 100m
-      memory: 90Mi
-
-  # Mutually exclusive with keda autoscaling
-  autoscaling:
-    enabled: false
-    minReplicas: 1
-    maxReplicas: 11
-    targetCPUUtilizationPercentage: 50
-    targetMemoryUtilizationPercentage: 50
-    behavior: {}
-      # scaleDown:
-      #   stabilizationWindowSeconds: 300
-      #  policies:
-      #   - type: Pods
-      #     value: 1
-      #     periodSeconds: 180
-      # scaleUp:
-      #   stabilizationWindowSeconds: 300
-      #   policies:
-      #   - type: Pods
-      #     value: 2
-      #     periodSeconds: 60
-
-  autoscalingTemplate: []
-  # Custom or additional autoscaling metrics
-  # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
-  # - type: Pods
-  #   pods:
-  #     metric:
-  #       name: nginx_ingress_controller_nginx_process_requests_total
-  #     target:
-  #       type: AverageValue
-  #       averageValue: 10000m
-
-  # Mutually exclusive with hpa autoscaling
-  keda:
-    apiVersion: "keda.sh/v1alpha1"
-    ## apiVersion changes with keda 1.x vs 2.x
-    ## 2.x = keda.sh/v1alpha1
-    ## 1.x = keda.k8s.io/v1alpha1
-    enabled: false
-    minReplicas: 1
-    maxReplicas: 11
-    pollingInterval: 30
-    cooldownPeriod: 300
-    restoreToOriginalReplicaCount: false
-    scaledObject:
-      annotations: {}
-      # Custom annotations for ScaledObject resource
-      #  annotations:
-      # key: value
-    triggers: []
- #     - type: prometheus
- #       metadata:
- #         serverAddress: http://&lt;prometheus-host&gt;:9090
- #         metricName: http_requests_total
- #         threshold: '100'
- #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
-
-    behavior: {}
- #     scaleDown:
- #       stabilizationWindowSeconds: 300
- #       policies:
- #       - type: Pods
- #         value: 1
- #         periodSeconds: 180
- #     scaleUp:
- #       stabilizationWindowSeconds: 300
- #       policies:
- #       - type: Pods
- #         value: 2
- #         periodSeconds: 60
-
-  # -- Enable mimalloc as a drop-in replacement for malloc.
-  ## ref: https://github.com/microsoft/mimalloc
-  ##
-  enableMimalloc: true
-
-  ## Override NGINX template
-  customTemplate:
-    configMapName: ""
-    configMapKey: ""
-
-  service:
-    enabled: true
-
-    # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
-    # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
-    # It allows choosing the protocol for each backend specified in the Kubernetes service.
-    # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
-    # Will be ignored for Kubernetes versions older than 1.20
</span><span class="gi">+    # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
+    ## wait up to five minutes for the drain of connections
</span>     ##
<span class="gd">-    appProtocol: true
-
-    annotations: {}
-    labels: {}
-    # clusterIP: ""
-
-    # -- List of IP addresses at which the controller services are available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    terminationGracePeriodSeconds: 300
+    # -- Node labels for controller pod assignment
+    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span>     ##
<span class="gd">-    externalIPs: []
-
-    # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-
-    enableHttp: true
-    enableHttps: true
-
-    ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
-    ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-    # externalTrafficPolicy: ""
-
-    ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
-    # sessionAffinity: ""
-
-    ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
-    ## the service controller allocates a port from your cluster’s NodePort range.
-    ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
-    # healthCheckNodePort: 0
-
-    # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
-    # SingleStack, PreferDualStack or RequireDualStack.
-    # The ipFamilies and clusterIPs fields depend on the value of this field.
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-    ipFamilyPolicy: "SingleStack"
-
-    # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
-    # based on cluster configuration and the ipFamilyPolicy field.
-    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
-    ipFamilies:
-      - IPv4
-
-    ports:
-      http: 80
-      https: 443
-
-    targetPorts:
-      http: http
-      https: https
-
-    type: LoadBalancer
-
-    ## type: NodePort
-    ## nodePorts:
-    ##   http: 32080
-    ##   https: 32443
-    ##   tcp:
-    ##     8080: 32808
-    nodePorts:
-      http: ""
-      https: ""
-      tcp: {}
-      udp: {}
-
-    external:
-      enabled: true
-
-    internal:
-      # -- Enables an additional internal load balancer (besides the external one).
-      enabled: false
-      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
-      annotations: {}
-
-      # loadBalancerIP: ""
-
-      # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
-      loadBalancerSourceRanges: []
-
-      ## Set external traffic policy to: "Local" to preserve source IP on
-      ## providers supporting it
-      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
-      # externalTrafficPolicy: ""
-
-  # shareProcessNamespace enables process namespace sharing within the pod.
-  # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
-  shareProcessNamespace: false
-
-  # -- Additional containers to be added to the controller pod.
-  # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
-  extraContainers: []
-  #  - name: my-sidecar
-  #    image: nginx:latest
-  #  - name: lemonldap-ng-controller
-  #    image: lemonldapng/lemonldap-ng-controller:0.2.0
-  #    args:
-  #      - /lemonldap-ng-controller
-  #      - --alsologtostderr
-  #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
-  #    env:
-  #      - name: POD_NAME
-  #        valueFrom:
-  #          fieldRef:
-  #            fieldPath: metadata.name
-  #      - name: POD_NAMESPACE
-  #        valueFrom:
-  #          fieldRef:
-  #            fieldPath: metadata.namespace
-  #    volumeMounts:
-  #    - name: copy-portal-skins
-  #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
-
-  # -- Additional volumeMounts to the controller main container.
-  extraVolumeMounts: []
-  #  - name: copy-portal-skins
-  #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-  # -- Additional volumes to the controller pod.
-  extraVolumes: []
-  #  - name: copy-portal-skins
-  #    emptyDir: {}
-
-  # -- Containers, which are run before the app containers are started.
-  extraInitContainers: []
-  # - name: init-myservice
-  #   image: busybox
-  #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
-
-  extraModules: []
-  ## Modules, which are mounted into the core nginx image
-  # - name: opentelemetry
-  #   image: registry.k8s.io/ingress-nginx/opentelemetry:v20220906-g981ce38a7@sha256:aa079daa7efd93aa830e26483a49a6343354518360929494bad1d0ad3303142e
-  #
-  # The image must contain a `/usr/local/bin/init_module.sh` executable, which
-  # will be executed as initContainers, to move its config files within the
-  # mounted volume.
-
-  admissionWebhooks:
-    annotations: {}
-    # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
-
-    ## Additional annotations to the admission webhooks.
-    ## These annotations will be added to the ValidatingWebhookConfiguration and
-    ## the Jobs Spec of the admission webhooks.
-    enabled: true
-    # -- Additional environment variables to set
-    extraEnvs: []
-    # extraEnvs:
-    #   - name: FOO
-    #     valueFrom:
-    #       secretKeyRef:
-    #         key: FOO
-    #         name: secret-resource
-    # -- Admission Webhook failure policy to use
-    failurePolicy: Fail
-    # timeoutSeconds: 10
-    port: 8443
-    certificate: "/usr/local/certificates/cert"
-    key: "/usr/local/certificates/key"
-    namespaceSelector: {}
-    objectSelector: {}
-    # -- Labels to be added to admission webhooks
-    labels: {}
-
-    # -- Use an existing PSP instead of creating one
-    existingPsp: ""
-    networkPolicyEnabled: false
-
-    service:
-      annotations: {}
-      # clusterIP: ""
-      externalIPs: []
-      # loadBalancerIP: ""
-      loadBalancerSourceRanges: []
-      servicePort: 443
-      type: ClusterIP
-
-    createSecretJob:
-      securityContext:
-        allowPrivilegeEscalation: false
-      resources: {}
-        # limits:
-        #   cpu: 10m
-        #   memory: 20Mi
-        # requests:
-        #   cpu: 10m
-        #   memory: 20Mi
-
-    patchWebhookJob:
-      securityContext:
-        allowPrivilegeEscalation: false
-      resources: {}
-
-    patch:
-      enabled: true
-      image:
-        registry: registry.k8s.io
-        image: ingress-nginx/kube-webhook-certgen
-        ## for backwards compatibility consider setting the full image url via the repository value below
-        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        ## repository:
-        tag: v20220916-gd32f8c343
-        digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
-        pullPolicy: IfNotPresent
-      # -- Provide a priority class name to the webhook patching job
-      ##
-      priorityClassName: ""
-      podAnnotations: {}
-      nodeSelector:
</span><span class="gi">+    nodeSelector:
</span>         kubernetes.io/os: linux
<span class="gd">-      tolerations: []
-      # -- Labels to be added to patch job resources
-      labels: {}
-      securityContext:
-        runAsNonRoot: true
-        runAsUser: 2000
-        fsGroup: 2000
-
-
-  metrics:
-    port: 10254
-    portName: metrics
-    # if this port is changed, change healthz-port: in extraArgs: accordingly
-    enabled: false
-
</span><span class="gi">+    ## Liveness and readiness probe values
+    ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
+    ##
+    ## startupProbe:
+    ##   httpGet:
+    ##     # should match container.healthCheckPath
+    ##     path: "/healthz"
+    ##     port: 10254
+    ##     scheme: HTTP
+    ##   initialDelaySeconds: 5
+    ##   periodSeconds: 5
+    ##   timeoutSeconds: 2
+    ##   successThreshold: 1
+    ##   failureThreshold: 5
+    livenessProbe:
+        httpGet:
+            # should match container.healthCheckPath
+            path: "/healthz"
+            port: 10254
+            scheme: HTTP
+        initialDelaySeconds: 10
+        periodSeconds: 10
+        timeoutSeconds: 1
+        successThreshold: 1
+        failureThreshold: 5
+    readinessProbe:
+        httpGet:
+            # should match container.healthCheckPath
+            path: "/healthz"
+            port: 10254
+            scheme: HTTP
+        initialDelaySeconds: 10
+        periodSeconds: 10
+        timeoutSeconds: 1
+        successThreshold: 1
+        failureThreshold: 3
+    # -- Path of the health check endpoint. All requests received on the port defined by
+    # the healthz-port parameter are forwarded internally to this path.
+    healthCheckPath: "/healthz"
+    # -- Address to bind the health check endpoint.
+    # It is better to set this option to the internal node address
+    # if the ingress nginx controller is running in the `hostNetwork: true` mode.
+    healthCheckHost: ""
+    # -- Annotations to be added to controller pods
+    ##
+    podAnnotations: {}
+    replicaCount: 1
+    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+    minAvailable: 1
+    # -- Define either 'minAvailable' or 'maxUnavailable', never both.
+    # maxUnavailable: 1
+
+    ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
+    ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
+    ## Ideally, there should be no limits.
+    ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
+    resources:
+        ##  limits:
+        ##    cpu: 100m
+        ##    memory: 90Mi
+        requests:
+            cpu: 100m
+            memory: 90Mi
+    # Mutually exclusive with keda autoscaling
+    autoscaling:
+        apiVersion: autoscaling/v2
+        enabled: false
+        annotations: {}
+        minReplicas: 1
+        maxReplicas: 11
+        targetCPUUtilizationPercentage: 50
+        targetMemoryUtilizationPercentage: 50
+        behavior: {}
+        # scaleDown:
+        #   stabilizationWindowSeconds: 300
+        #   policies:
+        #   - type: Pods
+        #     value: 1
+        #     periodSeconds: 180
+        # scaleUp:
+        #   stabilizationWindowSeconds: 300
+        #   policies:
+        #   - type: Pods
+        #     value: 2
+        #     periodSeconds: 60
+    autoscalingTemplate: []
+    # Custom or additional autoscaling metrics
+    # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
+    # - type: Pods
+    #   pods:
+    #     metric:
+    #       name: nginx_ingress_controller_nginx_process_requests_total
+    #     target:
+    #       type: AverageValue
+    #       averageValue: 10000m
+
+    # Mutually exclusive with hpa autoscaling
+    keda:
+        apiVersion: "keda.sh/v1alpha1"
+        ## apiVersion changes with keda 1.x vs 2.x
+        ## 2.x = keda.sh/v1alpha1
+        ## 1.x = keda.k8s.io/v1alpha1
+        enabled: false
+        minReplicas: 1
+        maxReplicas: 11
+        pollingInterval: 30
+        cooldownPeriod: 300
+        restoreToOriginalReplicaCount: false
+        scaledObject:
+            annotations: {}
+            # Custom annotations for ScaledObject resource
+            #  annotations:
+            # key: value
+        triggers: []
+        #     - type: prometheus
+        #       metadata:
+        #         serverAddress: http://&lt;prometheus-host&gt;:9090
+        #         metricName: http_requests_total
+        #         threshold: '100'
+        #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
+
+        behavior: {}
+    #     scaleDown:
+    #       stabilizationWindowSeconds: 300
+    #       policies:
+    #       - type: Pods
+    #         value: 1
+    #         periodSeconds: 180
+    #     scaleUp:
+    #       stabilizationWindowSeconds: 300
+    #       policies:
+    #       - type: Pods
+    #         value: 2
+    #         periodSeconds: 60
+
+    # -- Enable mimalloc as a drop-in replacement for malloc.
+    ## ref: https://github.com/microsoft/mimalloc
+    ##
+    enableMimalloc: true
+    ## Override NGINX template
+    customTemplate:
+        configMapName: ""
+        configMapKey: ""
</span>     service:
<span class="gd">-      annotations: {}
-      # prometheus.io/scrape: "true"
-      # prometheus.io/port: "10254"
-
-      # clusterIP: ""
-
-      # -- List of IP addresses at which the stats-exporter service is available
-      ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-      ##
-      externalIPs: []
-
-      # loadBalancerIP: ""
-      loadBalancerSourceRanges: []
-      servicePort: 10254
-      type: ClusterIP
-      # externalTrafficPolicy: ""
-      # nodePort: ""
-
-    serviceMonitor:
-      enabled: false
-      additionalLabels: {}
-      ## The label to use to retrieve the job name from.
-      ## jobLabel: "app.kubernetes.io/name"
-      namespace: ""
-      namespaceSelector: {}
-      ## Default: scrape .Release.Namespace only
-      ## To scrape all, use the following:
-      ## namespaceSelector:
-      ##   any: true
-      scrapeInterval: 30s
-      # honorLabels: true
-      targetLabels: []
-      relabelings: []
-      metricRelabelings: []
-
-    prometheusRule:
-      enabled: false
-      additionalLabels: {}
-      # namespace: ""
-      rules: []
-        # # These are just examples rules, please adapt them to your needs
-        # - alert: NGINXConfigFailed
-        #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
-        #   for: 1s
-        #   labels:
-        #     severity: critical
-        #   annotations:
-        #     description: bad ingress config - nginx config test failed
-        #     summary: uninstall the latest ingress changes to allow config reloads to resume
-        # - alert: NGINXCertificateExpiry
-        #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
-        #   for: 1s
-        #   labels:
-        #     severity: critical
-        #   annotations:
-        #     description: ssl certificate(s) will expire in less then a week
-        #     summary: renew expiring certificates to avoid downtime
-        # - alert: NGINXTooMany500s
-        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-        #   for: 1m
-        #   labels:
-        #     severity: warning
-        #   annotations:
-        #     description: Too many 5XXs
-        #     summary: More than 5% of all requests returned 5XX, this requires your attention
-        # - alert: NGINXTooMany400s
-        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
-        #   for: 1m
-        #   labels:
-        #     severity: warning
-        #   annotations:
-        #     description: Too many 4XXs
-        #     summary: More than 5% of all requests returned 4XX, this requires your attention
-
-  # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
-  # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
-  # to 300, allowing the draining of connections up to five minutes.
-  # If the active connections end before that, the pod will terminate gracefully at that time.
-  # To effectively take advantage of this feature, the Configmap feature
-  # worker-shutdown-timeout new value is 240s instead of 10s.
-  ##
-  lifecycle:
-    preStop:
-      exec:
-        command:
-          - /wait-shutdown
-
-  priorityClassName: ""
-
</span><span class="gi">+        enabled: true
+        # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
+        # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
+        # It allows choosing the protocol for each backend specified in the Kubernetes service.
+        # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
+        # Will be ignored for Kubernetes versions older than 1.20
+        ##
+        appProtocol: true
+        annotations: {}
+        labels: {}
+        # clusterIP: ""
+
+        # -- List of IP addresses at which the controller services are available
+        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+        ##
+        externalIPs: []
+        # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
+        loadBalancerIP: ""
+        loadBalancerSourceRanges: []
+        enableHttp: true
+        enableHttps: true
+        ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
+        ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+        # externalTrafficPolicy: ""
+
+        ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
+        ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
+        # sessionAffinity: ""
+
+        ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
+        ## the service controller allocates a port from your cluster’s NodePort range.
+        ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+        # healthCheckNodePort: 0
+
+        # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
+        # SingleStack, PreferDualStack or RequireDualStack.
+        # The ipFamilies and clusterIPs fields depend on the value of this field.
+        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+        ipFamilyPolicy: "SingleStack"
+        # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
+        # based on cluster configuration and the ipFamilyPolicy field.
+        ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+        ipFamilies:
+            - IPv4
+        ports:
+            http: 80
+            https: 443
+        targetPorts:
+            http: http
+            https: https
+        type: LoadBalancer
+        ## type: NodePort
+        ## nodePorts:
+        ##   http: 32080
+        ##   https: 32443
+        ##   tcp:
+        ##     8080: 32808
+        nodePorts:
+            http: ""
+            https: ""
+            tcp: {}
+            udp: {}
+        external:
+            enabled: true
+        internal:
+            # -- Enables an additional internal load balancer (besides the external one).
+            enabled: false
+            # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
+            annotations: {}
+            # loadBalancerIP: ""
+
+            # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
+            loadBalancerSourceRanges: []
+            ## Set external traffic policy to: "Local" to preserve source IP on
+            ## providers supporting it
+            ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+            # externalTrafficPolicy: ""
+    # shareProcessNamespace enables process namespace sharing within the pod.
+    # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
+    shareProcessNamespace: false
+    # -- Additional containers to be added to the controller pod.
+    # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
+    extraContainers: []
+    #  - name: my-sidecar
+    #    image: nginx:latest
+    #  - name: lemonldap-ng-controller
+    #    image: lemonldapng/lemonldap-ng-controller:0.2.0
+    #    args:
+    #      - /lemonldap-ng-controller
+    #      - --alsologtostderr
+    #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
+    #    env:
+    #      - name: POD_NAME
+    #        valueFrom:
+    #          fieldRef:
+    #            fieldPath: metadata.name
+    #      - name: POD_NAMESPACE
+    #        valueFrom:
+    #          fieldRef:
+    #            fieldPath: metadata.namespace
+    #    volumeMounts:
+    #    - name: copy-portal-skins
+    #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
+
+    # -- Additional volumeMounts to the controller main container.
+    extraVolumeMounts: []
+    #  - name: copy-portal-skins
+    #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+    # -- Additional volumes to the controller pod.
+    extraVolumes: []
+    #  - name: copy-portal-skins
+    #    emptyDir: {}
+
+    # -- Containers, which are run before the app containers are started.
+    extraInitContainers: []
+    # - name: init-myservice
+    #   image: busybox
+    #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
+
+    # -- Modules, which are mounted into the core nginx image. See values.yaml for a sample to add opentelemetry module
+    extraModules: []
+    #   containerSecurityContext:
+    #     allowPrivilegeEscalation: false
+    #
+    # The image must contain a `/usr/local/bin/init_module.sh` executable, which
+    # will be executed as initContainers, to move its config files within the
+    # mounted volume.
+
+    opentelemetry:
+        enabled: false
+        image: registry.k8s.io/ingress-nginx/opentelemetry:v20221114-controller-v1.5.1-6-ga66ee73c5@sha256:41076fd9fb4255677c1a3da1ac3fc41477f06eba3c7ebf37ffc8f734dad51d7c
+        containerSecurityContext:
+            allowPrivilegeEscalation: false
+    admissionWebhooks:
+        annotations: {}
+        # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
+
+        ## Additional annotations to the admission webhooks.
+        ## These annotations will be added to the ValidatingWebhookConfiguration and
+        ## the Jobs Spec of the admission webhooks.
+        enabled: true
+        # -- Additional environment variables to set
+        extraEnvs: []
+        # extraEnvs:
+        #   - name: FOO
+        #     valueFrom:
+        #       secretKeyRef:
+        #         key: FOO
+        #         name: secret-resource
+        # -- Admission Webhook failure policy to use
+        failurePolicy: Fail
+        # timeoutSeconds: 10
+        port: 8443
+        certificate: "/usr/local/certificates/cert"
+        key: "/usr/local/certificates/key"
+        namespaceSelector: {}
+        objectSelector: {}
+        # -- Labels to be added to admission webhooks
+        labels: {}
+        # -- Use an existing PSP instead of creating one
+        existingPsp: ""
+        networkPolicyEnabled: false
+        service:
+            annotations: {}
+            # clusterIP: ""
+            externalIPs: []
+            # loadBalancerIP: ""
+            loadBalancerSourceRanges: []
+            servicePort: 443
+            type: ClusterIP
+        createSecretJob:
+            securityContext:
+                allowPrivilegeEscalation: false
+            resources: {}
+            # limits:
+            #   cpu: 10m
+            #   memory: 20Mi
+            # requests:
+            #   cpu: 10m
+            #   memory: 20Mi
+        patchWebhookJob:
+            securityContext:
+                allowPrivilegeEscalation: false
+            resources: {}
+        patch:
+            enabled: true
+            image:
+                registry: registry.k8s.io
+                image: ingress-nginx/kube-webhook-certgen
+                ## for backwards compatibility consider setting the full image url via the repository value below
+                ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+                ## repository:
+                tag: v20220916-gd32f8c343
+                digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
+                pullPolicy: IfNotPresent
+            # -- Provide a priority class name to the webhook patching job
+            ##
+            priorityClassName: ""
+            podAnnotations: {}
+            nodeSelector:
+                kubernetes.io/os: linux
+            tolerations: []
+            # -- Labels to be added to patch job resources
+            labels: {}
+            securityContext:
+                runAsNonRoot: true
+                runAsUser: 2000
+                fsGroup: 2000
+        # Use certmanager to generate webhook certs
+        certManager:
+            enabled: false
+            # self-signed root certificate
+            rootCert:
+                # default to be 5y
+                duration: ""
+            admissionCert:
+                # default to be 1y
+                duration: ""
+                # issuerRef:
+                #   name: "issuer"
+                #   kind: "ClusterIssuer"
+    metrics:
+        port: 10254
+        portName: metrics
+        # if this port is changed, change healthz-port: in extraArgs: accordingly
+        enabled: false
+        service:
+            annotations: {}
+            # prometheus.io/scrape: "true"
+            # prometheus.io/port: "10254"
+
+            # clusterIP: ""
+
+            # -- List of IP addresses at which the stats-exporter service is available
+            ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+            ##
+            externalIPs: []
+            # loadBalancerIP: ""
+            loadBalancerSourceRanges: []
+            servicePort: 10254
+            type: ClusterIP
+            # externalTrafficPolicy: ""
+            # nodePort: ""
+        serviceMonitor:
+            enabled: false
+            additionalLabels: {}
+            ## The label to use to retrieve the job name from.
+            ## jobLabel: "app.kubernetes.io/name"
+            namespace: ""
+            namespaceSelector: {}
+            ## Default: scrape .Release.Namespace only
+            ## To scrape all, use the following:
+            ## namespaceSelector:
+            ##   any: true
+            scrapeInterval: 30s
+            # honorLabels: true
+            targetLabels: []
+            relabelings: []
+            metricRelabelings: []
+        prometheusRule:
+            enabled: false
+            additionalLabels: {}
+            # namespace: ""
+            rules: []
+            # # These are just examples rules, please adapt them to your needs
+            # - alert: NGINXConfigFailed
+            #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
+            #   for: 1s
+            #   labels:
+            #     severity: critical
+            #   annotations:
+            #     description: bad ingress config - nginx config test failed
+            #     summary: uninstall the latest ingress changes to allow config reloads to resume
+            # - alert: NGINXCertificateExpiry
+            #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
+            #   for: 1s
+            #   labels:
+            #     severity: critical
+            #   annotations:
+            #     description: ssl certificate(s) will expire in less then a week
+            #     summary: renew expiring certificates to avoid downtime
+            # - alert: NGINXTooMany500s
+            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+            #   for: 1m
+            #   labels:
+            #     severity: warning
+            #   annotations:
+            #     description: Too many 5XXs
+            #     summary: More than 5% of all requests returned 5XX, this requires your attention
+            # - alert: NGINXTooMany400s
+            #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
+            #   for: 1m
+            #   labels:
+            #     severity: warning
+            #   annotations:
+            #     description: Too many 4XXs
+            #     summary: More than 5% of all requests returned 4XX, this requires your attention
+    # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
+    # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
+    # to 300, allowing the draining of connections up to five minutes.
+    # If the active connections end before that, the pod will terminate gracefully at that time.
+    # To effectively take advantage of this feature, the Configmap feature
+    # worker-shutdown-timeout new value is 240s instead of 10s.
+    ##
+    lifecycle:
+        preStop:
+            exec:
+                command:
+                    - /wait-shutdown
+    priorityClassName: ""
</span> # -- Rollback limit
 ##
 revisionHistoryLimit: 10
<span class="gd">-
</span> ## Default 404 backend
 ##
 defaultBackend:
<span class="gd">-  ##
-  enabled: false
-
-  name: defaultbackend
-  image:
-    registry: registry.k8s.io
-    image: defaultbackend-amd64
-    ## for backwards compatibility consider setting the full image url via the repository value below
-    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-    ## repository:
-    tag: "1.5"
-    pullPolicy: IfNotPresent
-    # nobody user -&gt; uid 65534
-    runAsUser: 65534
-    runAsNonRoot: true
-    readOnlyRootFilesystem: true
-    allowPrivilegeEscalation: false
-
-  # -- Use an existing PSP instead of creating one
-  existingPsp: ""
-
-  extraArgs: {}
-
-  serviceAccount:
-    create: true
-    name: ""
-    automountServiceAccountToken: true
-  # -- Additional environment variables to set for defaultBackend pods
-  extraEnvs: []
-
-  port: 8080
-
-  ## Readiness and liveness probes for default backend
-  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
-  ##
-  livenessProbe:
-    failureThreshold: 3
-    initialDelaySeconds: 30
-    periodSeconds: 10
-    successThreshold: 1
-    timeoutSeconds: 5
-  readinessProbe:
-    failureThreshold: 6
-    initialDelaySeconds: 0
-    periodSeconds: 5
-    successThreshold: 1
-    timeoutSeconds: 5
-
-  # -- Node tolerations for server scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: []
-  #  - key: "key"
-  #    operator: "Equal|Exists"
-  #    value: "value"
-  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  affinity: {}
-
-  # -- Security Context policies for controller pods
-  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  # notes on enabling and using sysctls
-  ##
-  podSecurityContext: {}
-
-  # -- Security Context policies for controller main container.
-  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  # notes on enabling and using sysctls
-  ##
-  containerSecurityContext: {}
-
-  # -- Labels to add to the pod container metadata
-  podLabels: {}
-  #  key: value
-
-  # -- Node labels for default backend pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector:
-    kubernetes.io/os: linux
-
-  # -- Annotations to be added to default backend pods
-  ##
-  podAnnotations: {}
-
-  replicaCount: 1
-
-  minAvailable: 1
-
-  resources: {}
-  # limits:
-  #   cpu: 10m
-  #   memory: 20Mi
-  # requests:
-  #   cpu: 10m
-  #   memory: 20Mi
-
-  extraVolumeMounts: []
-  ## Additional volumeMounts to the default backend container.
-  #  - name: copy-portal-skins
-  #   mountPath: /var/lib/lemonldap-ng/portal/skins
-
-  extraVolumes: []
-  ## Additional volumes to the default backend pod.
-  #  - name: copy-portal-skins
-  #    emptyDir: {}
-
-  autoscaling:
-    annotations: {}
</span><span class="gi">+    ##
</span>     enabled: false
<span class="gd">-    minReplicas: 1
-    maxReplicas: 2
-    targetCPUUtilizationPercentage: 50
-    targetMemoryUtilizationPercentage: 50
-
-  service:
-    annotations: {}
-
-    # clusterIP: ""
-
-    # -- List of IP addresses at which the default backend service is available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    name: defaultbackend
+    image:
+        registry: registry.k8s.io
+        image: defaultbackend-amd64
+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
+        tag: "1.5"
+        pullPolicy: IfNotPresent
+        # nobody user -&gt; uid 65534
+        runAsUser: 65534
+        runAsNonRoot: true
+        readOnlyRootFilesystem: true
+        allowPrivilegeEscalation: false
+    # -- Use an existing PSP instead of creating one
+    existingPsp: ""
+    extraArgs: {}
+    serviceAccount:
+        create: true
+        name: ""
+        automountServiceAccountToken: true
+    # -- Additional environment variables to set for defaultBackend pods
+    extraEnvs: []
+    port: 8080
+    ## Readiness and liveness probes for default backend
+    ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
</span>     ##
<span class="gd">-    externalIPs: []
-
-    # loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-    servicePort: 80
-    type: ClusterIP
-
-  priorityClassName: ""
-  # -- Labels to be added to the default backend resources
-  labels: {}
</span><span class="gi">+    livenessProbe:
+        failureThreshold: 3
+        initialDelaySeconds: 30
+        periodSeconds: 10
+        successThreshold: 1
+        timeoutSeconds: 5
+    readinessProbe:
+        failureThreshold: 6
+        initialDelaySeconds: 0
+        periodSeconds: 5
+        successThreshold: 1
+        timeoutSeconds: 5
+    # -- Node tolerations for server scheduling to nodes with taints
+    ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+    ##
+    tolerations: []
+    #  - key: "key"
+    #    operator: "Equal|Exists"
+    #    value: "value"
+    #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
+    affinity: {}
+    # -- Security Context policies for controller pods
+    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+    # notes on enabling and using sysctls
+    ##
+    podSecurityContext: {}
+    # -- Security Context policies for controller main container.
+    # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+    # notes on enabling and using sysctls
+    ##
+    containerSecurityContext: {}
+    # -- Labels to add to the pod container metadata
+    podLabels: {}
+    #  key: value
</span> 
<span class="gi">+    # -- Node labels for default backend pod assignment
+    ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+    ##
+    nodeSelector:
+        kubernetes.io/os: linux
+    # -- Annotations to be added to default backend pods
+    ##
+    podAnnotations: {}
+    replicaCount: 1
+    minAvailable: 1
+    resources: {}
+    # limits:
+    #   cpu: 10m
+    #   memory: 20Mi
+    # requests:
+    #   cpu: 10m
+    #   memory: 20Mi
+
+    extraVolumeMounts: []
+    ## Additional volumeMounts to the default backend container.
+    #  - name: copy-portal-skins
+    #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+    extraVolumes: []
+    ## Additional volumes to the default backend pod.
+    #  - name: copy-portal-skins
+    #    emptyDir: {}
+
+    autoscaling:
+        annotations: {}
+        enabled: false
+        minReplicas: 1
+        maxReplicas: 2
+        targetCPUUtilizationPercentage: 50
+        targetMemoryUtilizationPercentage: 50
+    service:
+        annotations: {}
+        # clusterIP: ""
+
+        # -- List of IP addresses at which the default backend service is available
+        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+        ##
+        externalIPs: []
+        # loadBalancerIP: ""
+        loadBalancerSourceRanges: []
+        servicePort: 80
+        type: ClusterIP
+    priorityClassName: ""
+    # -- Labels to be added to the default backend resources
+    labels: {}
</span> ## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
 rbac:
<span class="gd">-  create: true
-  scope: false
-
</span><span class="gi">+    create: true
+    scope: false
</span> ## If true, create &amp; use Pod Security Policy resources
 ## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
 podSecurityPolicy:
<span class="gd">-  enabled: false
-
</span><span class="gi">+    enabled: false
</span> serviceAccount:
<span class="gd">-  create: true
-  name: ""
-  automountServiceAccountToken: true
-  # -- Annotations for the controller service account
-  annotations: {}
-
</span><span class="gi">+    create: true
+    name: ""
+    automountServiceAccountToken: true
+    # -- Annotations for the controller service account
+    annotations: {}
</span> # -- Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
 imagePullSecrets: []
<span class="p">@@ -942,7 +868,6 @@</span> udp: {}
 # -- Prefix for TCP and UDP ports names in ingress controller service
 ## Some cloud providers, like Yandex Cloud may have a requirements for a port name regex to support cloud load balancer integration
 portNamePrefix: ""
<span class="gd">-
</span> # -- (string) A base64-encoded Diffie-Hellman parameter.
 # This can be generated with: `openssl dhparam 4096 2&gt; /dev/null | base64`
 ## Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
<span class="err">
</span></code></pre></div></div> <h2 id="440-1"> <a href="#440-1" class="anchor-heading" aria-labelledby="440-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.0 </h2> <p><strong>Release date:</strong> 2022-11-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.5.1&amp;color=success" alt="AppVersion: 1.5.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>udate readme, charts and static deploys for release 1.5.1 (#9280)</li> <li>Adding support for disabling liveness and readiness probes in the Helm chart (#9238)</li> <li>add:(admission-webhooks) ability to set securityContext for job-containers createSecret and patchWebhook (#9186)</li> <li>Update CHANGELOG.md (#9147)</li> <li>#7652 - Updated Helm chart to use the fullname for the electionID if not specified. (#9133)</li> <li>Rename controller-wehbooks-networkpolicy.yaml -&gt; controller-webhooks-networkpolicy.yaml. (#9123)</li> </ul> <h3 id="default-value-changes-21"> <a href="#default-value-changes-21" class="anchor-heading" aria-labelledby="default-value-changes-21"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index a5f6dc776..6304f2637 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.4.0"
-    digest: sha256:34ee929b111ffc7aa426ffd409af44da48e5a0eea1eb2207994d9e0c0882d143
-    digestChroot: sha256:b67e889f1db8692de7e41d4d9aef8de56645bf048261f31fa7f8bfc6ea2222a0
</span><span class="gi">+    tag: "v1.5.1"
+    digest: sha256:4ba73c697770664c1e00e9f968de14e08f606ff961c76e5d7033a4a9c593c629
+    digestChroot: sha256:c1c091b88a6c936a83bd7b098662760a87868d12452529bad0d178fb36147345
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -99,8 +99,8 @@</span> controller:
       # -- 'hostPort' https port
       https: 443
 
<span class="gd">-  # -- Election ID to use for status update
-  electionID: ingress-controller-leader
</span><span class="gi">+  # -- Election ID to use for status update, by default it uses the controller name combined with a suffix of 'leader'
+  electionID: ""
</span> 
   ## This section refers to the creation of the IngressClass resource
   ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
<span class="p">@@ -627,6 +627,8 @@</span> controller:
       type: ClusterIP
 
     createSecretJob:
<span class="gi">+      securityContext:
+        allowPrivilegeEscalation: false
</span>       resources: {}
         # limits:
         #   cpu: 10m
<span class="p">@@ -636,6 +638,8 @@</span> controller:
         #   memory: 20Mi
 
     patchWebhookJob:
<span class="gi">+      securityContext:
+        allowPrivilegeEscalation: false
</span>       resources: {}
 
     patch:
<span class="err">
</span></code></pre></div></div> <h2 id="430"> <a href="#430" class="anchor-heading" aria-labelledby="430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.3.0 </h2> <p><strong>Release date:</strong> 2022-10-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.4.0&amp;color=success" alt="AppVersion: 1.4.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update for 1.4.0 release</li> <li>Fix yaml formatting error with multiple annotations (#9104)</li> <li>Merge pull request #9046 from anders-swanson/revert-8665-metrics-port-name</li> <li>kubewebhookcertgen sha change after go1191 (#9059)</li> <li>fix chroot module mount path (#9090)</li> <li>fix: do not apply job-patch psp on Kubernetes 1.25 and newer (#9074)</li> <li>feat: switch from endpoints to endpointslices (#8890)</li> <li>update OpenTelemetry image (#9036)</li> <li>Fix for Docs check</li> <li>Document new values key</li> <li>parameterize port name</li> <li>Revert “Metrics port name (Helm) (#8665)”</li> </ul> <h3 id="default-value-changes-22"> <a href="#default-value-changes-22" class="anchor-heading" aria-labelledby="default-value-changes-22"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 9ec174f7e..a5f6dc776 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.3.1"
-    digest: sha256:54f7fe2c6c5a9db9a0ebf1131797109bb7a4d91f56b9b362bde2abd237dd1974
-    digestChroot: sha256:a8466b19c621bd550b1645e27a004a5cc85009c858a9ab19490216735ac432b1
</span><span class="gi">+    tag: "v1.4.0"
+    digest: sha256:34ee929b111ffc7aa426ffd409af44da48e5a0eea1eb2207994d9e0c0882d143
+    digestChroot: sha256:b67e889f1db8692de7e41d4d9aef8de56645bf048261f31fa7f8bfc6ea2222a0
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -580,7 +580,7 @@</span> controller:
   extraModules: []
   ## Modules, which are mounted into the core nginx image
   # - name: opentelemetry
<span class="gd">-  #   image: registry.k8s.io/ingress-nginx/opentelemetry:v20220801-g00ee51f09@sha256:482562feba02ad178411efc284f8eb803a185e3ea5588b6111ccbc20b816b427
</span><span class="gi">+  #   image: registry.k8s.io/ingress-nginx/opentelemetry:v20220906-g981ce38a7@sha256:aa079daa7efd93aa830e26483a49a6343354518360929494bad1d0ad3303142e
</span>   #
   # The image must contain a `/usr/local/bin/init_module.sh` executable, which
   # will be executed as initContainers, to move its config files within the
<span class="p">@@ -646,8 +646,8 @@</span> controller:
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         ## repository:
<span class="gd">-        tag: v1.3.0
-        digest: sha256:549e71a6ca248c5abd51cdb73dbc3083df62cf92ed5e6147c780e30f7e007a47
</span><span class="gi">+        tag: v20220916-gd32f8c343
+        digest: sha256:39c5b2e3310dc4264d638ad28d9d1d96c4cbb2b2dcfb52368fe4e3c63f61e10f
</span>         pullPolicy: IfNotPresent
       # -- Provide a priority class name to the webhook patching job
       ##
<span class="p">@@ -666,6 +666,7 @@</span> controller:
 
   metrics:
     port: 10254
<span class="gi">+    portName: metrics
</span>     # if this port is changed, change healthz-port: in extraArgs: accordingly
     enabled: false
 
<span class="err">
</span></code></pre></div></div> <h2 id="425"> <a href="#425" class="anchor-heading" aria-labelledby="425"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.5 </h2> <p><strong>Release date:</strong> 2022-09-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.3.1&amp;color=success" alt="AppVersion: 1.3.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updates for fixing 1.3.1 release (#9023)</li> </ul> <h3 id="default-value-changes-23"> <a href="#default-value-changes-23" class="anchor-heading" aria-labelledby="default-value-changes-23"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1889e4901..9ec174f7e 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.3.0"
-    digest: sha256:d1707ca76d3b044ab8a28277a2466a02100ee9f58a86af1535a3edf9323ea1b5
-    digestChroot: sha256:0fcb91216a22aae43b374fc2e6a03b8afe9e8c78cbf07a09d75636dc4ea3c191
</span><span class="gi">+    tag: "v1.3.1"
+    digest: sha256:54f7fe2c6c5a9db9a0ebf1131797109bb7a4d91f56b9b362bde2abd237dd1974
+    digestChroot: sha256:a8466b19c621bd550b1645e27a004a5cc85009c858a9ab19490216735ac432b1
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="424"> <a href="#424" class="anchor-heading" aria-labelledby="424"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.4 </h2> <p><strong>Release date:</strong> 2022-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.3.1&amp;color=success" alt="AppVersion: 1.3.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release 1.3.1 (#9014)</li> </ul> <h3 id="default-value-changes-24"> <a href="#default-value-changes-24" class="anchor-heading" aria-labelledby="default-value-changes-24"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="423"> <a href="#423" class="anchor-heading" aria-labelledby="423"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.3 </h2> <p><strong>Release date:</strong> 2022-08-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.3.0&amp;color=success" alt="AppVersion: 1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>revert changes to configmap resource permissions (#8959)</li> <li>Metrics port name (Helm) (#8665)</li> </ul> <h3 id="default-value-changes-25"> <a href="#default-value-changes-25" class="anchor-heading" aria-labelledby="default-value-changes-25"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="422"> <a href="#422" class="anchor-heading" aria-labelledby="422"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.2 </h2> <p><strong>Release date:</strong> 2022-08-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.3.0&amp;color=success" alt="AppVersion: 1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>securityContext in admission-webhook now configurable e.g. to set seccompProfiles (#8930)</li> <li>Add NetworkPolicy support (#8928)</li> <li>feat: using LeaseLock for election (#8921)</li> </ul> <h3 id="default-value-changes-26"> <a href="#default-value-changes-26" class="anchor-heading" aria-labelledby="default-value-changes-26"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index fed3a5b05..1889e4901 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -615,6 +615,7 @@</span> controller:
 
     # -- Use an existing PSP instead of creating one
     existingPsp: ""
<span class="gi">+    networkPolicyEnabled: false
</span> 
     service:
       annotations: {}
<span class="p">@@ -657,8 +658,11 @@</span> controller:
       tolerations: []
       # -- Labels to be added to patch job resources
       labels: {}
<span class="gd">-      runAsUser: 2000
-      fsGroup: 2000
</span><span class="gi">+      securityContext:
+        runAsNonRoot: true
+        runAsUser: 2000
+        fsGroup: 2000
+
</span> 
   metrics:
     port: 10254
<span class="err">
</span></code></pre></div></div> <h2 id="421"> <a href="#421" class="anchor-heading" aria-labelledby="421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.1 </h2> <p><strong>Release date:</strong> 2022-08-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.3.0&amp;color=success" alt="AppVersion: 1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updated to new images built today (#8896)</li> </ul> <h3 id="default-value-changes-27"> <a href="#default-value-changes-27" class="anchor-heading" aria-labelledby="default-value-changes-27"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index cddc2c742..fed3a5b05 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -580,7 +580,7 @@</span> controller:
   extraModules: []
   ## Modules, which are mounted into the core nginx image
   # - name: opentelemetry
<span class="gd">-  #   image: registry.k8s.io/ingress-nginx/opentelemetry:v20220415-controller-v1.2.0-beta.0-2-g81c2afd97@sha256:ce61e2cf0b347dffebb2dcbf57c33891d2217c1bad9c0959c878e5be671ef941
</span><span class="gi">+  #   image: registry.k8s.io/ingress-nginx/opentelemetry:v20220801-g00ee51f09@sha256:482562feba02ad178411efc284f8eb803a185e3ea5588b6111ccbc20b816b427
</span>   #
   # The image must contain a `/usr/local/bin/init_module.sh` executable, which
   # will be executed as initContainers, to move its config files within the
<span class="p">@@ -645,8 +645,8 @@</span> controller:
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         ## repository:
<span class="gd">-        tag: v1.1.1
-        digest: sha256:64d8c73dca984af206adf9d6d7e46aa550362b1d7a01f3a0a91b20cc67868660
</span><span class="gi">+        tag: v1.3.0
+        digest: sha256:549e71a6ca248c5abd51cdb73dbc3083df62cf92ed5e6147c780e30f7e007a47
</span>         pullPolicy: IfNotPresent
       # -- Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="420"> <a href="#420" class="anchor-heading" aria-labelledby="420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.0 </h2> <p><strong>Release date:</strong> 2022-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.3.0&amp;color=success" alt="AppVersion: 1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.20.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.20.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.3.0 (#8811)</li> <li>Add condition for monitoring.coreos.com/v1 API (#8770)</li> <li>feat: migrate leaderelection lock to leases (#8733)</li> <li>support extraEnvs for job resources in helm chart (#8545)</li> </ul> <h3 id="default-value-changes-28"> <a href="#default-value-changes-28" class="anchor-heading" aria-labelledby="default-value-changes-28"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 695f23b06..cddc2c742 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.2.1"
-    digest: sha256:5516d103a9c2ecc4f026efbd4b40662ce22dc1f824fb129ed121460aaa5c47f8
-    digestChroot: sha256:d301551cf62bc3fb75c69fa56f7aa1d9e87b5079333adaf38afe84d9b7439355
</span><span class="gi">+    tag: "v1.3.0"
+    digest: sha256:d1707ca76d3b044ab8a28277a2466a02100ee9f58a86af1535a3edf9323ea1b5
+    digestChroot: sha256:0fcb91216a22aae43b374fc2e6a03b8afe9e8c78cbf07a09d75636dc4ea3c191
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -594,6 +594,15 @@</span> controller:
     ## These annotations will be added to the ValidatingWebhookConfiguration and
     ## the Jobs Spec of the admission webhooks.
     enabled: true
<span class="gi">+    # -- Additional environment variables to set
+    extraEnvs: []
+    # extraEnvs:
+    #   - name: FOO
+    #     valueFrom:
+    #       secretKeyRef:
+    #         key: FOO
+    #         name: secret-resource
+    # -- Admission Webhook failure policy to use
</span>     failurePolicy: Fail
     # timeoutSeconds: 10
     port: 8443
<span class="err">
</span></code></pre></div></div> <h2 id="414"> <a href="#414" class="anchor-heading" aria-labelledby="414"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.4 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.1&amp;color=success" alt="AppVersion: 1.2.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>changed k8s.gcr.io to registry.k8s.io (#8667)</li> </ul> <h3 id="default-value-changes-29"> <a href="#default-value-changes-29" class="anchor-heading" aria-labelledby="default-value-changes-29"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d204b2583..695f23b06 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -18,7 +18,7 @@</span> controller:
   image:
     ## Keep false as default for now!
     chroot: false
<span class="gd">-    registry: k8s.gcr.io
</span><span class="gi">+    registry: registry.k8s.io
</span>     image: ingress-nginx/controller
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
<span class="p">@@ -580,7 +580,7 @@</span> controller:
   extraModules: []
   ## Modules, which are mounted into the core nginx image
   # - name: opentelemetry
<span class="gd">-  #   image: k8s.gcr.io/ingress-nginx/opentelemetry:v20220415-controller-v1.2.0-beta.0-2-g81c2afd97@sha256:ce61e2cf0b347dffebb2dcbf57c33891d2217c1bad9c0959c878e5be671ef941
</span><span class="gi">+  #   image: registry.k8s.io/ingress-nginx/opentelemetry:v20220415-controller-v1.2.0-beta.0-2-g81c2afd97@sha256:ce61e2cf0b347dffebb2dcbf57c33891d2217c1bad9c0959c878e5be671ef941
</span>   #
   # The image must contain a `/usr/local/bin/init_module.sh` executable, which
   # will be executed as initContainers, to move its config files within the
<span class="p">@@ -631,7 +631,7 @@</span> controller:
     patch:
       enabled: true
       image:
<span class="gd">-        registry: k8s.gcr.io
</span><span class="gi">+        registry: registry.k8s.io
</span>         image: ingress-nginx/kube-webhook-certgen
         ## for backwards compatibility consider setting the full image url via the repository value below
         ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
<span class="p">@@ -758,7 +758,7 @@</span> defaultBackend:
 
   name: defaultbackend
   image:
<span class="gd">-    registry: k8s.gcr.io
</span><span class="gi">+    registry: registry.k8s.io
</span>     image: defaultbackend-amd64
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
<span class="err">
</span></code></pre></div></div> <h2 id="413"> <a href="#413" class="anchor-heading" aria-labelledby="413"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.3 </h2> <p><strong>Release date:</strong> 2022-05-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.1&amp;color=success" alt="AppVersion: 1.2.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore: release v1.2.1 (#8646)</li> </ul> <h3 id="default-value-changes-30"> <a href="#default-value-changes-30" class="anchor-heading" aria-labelledby="default-value-changes-30"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index f52f71d8e..d204b2583 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.2.0"
-    digest: sha256:d8196e3bc1e72547c5dec66d6556c0ff92a23f6d0919b206be170bc90d5f9185
-    digestChroot: sha256:fb17f1700b77d4fcc52ca6f83ffc2821861ae887dbb87149cf5cbc52bea425e5
</span><span class="gi">+    tag: "v1.2.1"
+    digest: sha256:5516d103a9c2ecc4f026efbd4b40662ce22dc1f824fb129ed121460aaa5c47f8
+    digestChroot: sha256:d301551cf62bc3fb75c69fa56f7aa1d9e87b5079333adaf38afe84d9b7439355
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="412"> <a href="#412" class="anchor-heading" aria-labelledby="412"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.2 </h2> <p><strong>Release date:</strong> 2022-05-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.0&amp;color=success" alt="AppVersion: 1.2.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump chart version to 4.1.2 (#8607)</li> <li>Add CAP_SYS_CHROOT to DS/PSP when needed (#8587)</li> </ul> <h3 id="default-value-changes-31"> <a href="#default-value-changes-31" class="anchor-heading" aria-labelledby="default-value-changes-31"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="411"> <a href="#411" class="anchor-heading" aria-labelledby="411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.1 </h2> <p><strong>Release date:</strong> 2022-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.0&amp;color=success" alt="AppVersion: 1.2.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add portNamePreffix Helm chart parameter (#8458)</li> <li>Add documentation for controller.service.loadBalancerIP in Helm chart (#8522)</li> </ul> <h3 id="default-value-changes-32"> <a href="#default-value-changes-32" class="anchor-heading" aria-labelledby="default-value-changes-32"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index e6e21e1ad..f52f71d8e 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -460,7 +460,8 @@</span> controller:
     ##
     externalIPs: []
 
<span class="gd">-    # loadBalancerIP: ""
</span><span class="gi">+    # -- Used by cloud providers to connect the resulting `LoadBalancer` to a pre-existing static IP according to https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
+    loadBalancerIP: ""
</span>     loadBalancerSourceRanges: []
 
     enableHttp: true
<span class="p">@@ -920,6 +921,10 @@</span> tcp: {}
 udp: {}
 #  53: "kube-system/kube-dns:53"
 
<span class="gi">+# -- Prefix for TCP and UDP ports names in ingress controller service
+## Some cloud providers, like Yandex Cloud may have a requirements for a port name regex to support cloud load balancer integration
+portNamePrefix: ""
+
</span> # -- (string) A base64-encoded Diffie-Hellman parameter.
 # This can be generated with: `openssl dhparam 4096 2&gt; /dev/null | base64`
 ## Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
<span class="err">
</span></code></pre></div></div> <h2 id="410"> <a href="#410" class="anchor-heading" aria-labelledby="410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.0 </h2> <p><strong>Release date:</strong> 2022-04-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.0&amp;color=success" alt="AppVersion: 1.2.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>changes for release v1.2.0 (#8491)</li> </ul> <h3 id="default-value-changes-33"> <a href="#default-value-changes-33" class="anchor-heading" aria-labelledby="default-value-changes-33"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 674e1f4c9..e6e21e1ad 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.2.0-beta.1"
-    digest: sha256:7059739637c30865f74cae403fffa55c2cb6d9779cd15654480dd0e4f850d536
-    digestChroot: sha256:5344d8367295be743703f19eea137e7a3253efc2d0ec8aee131b85d3258f9780
</span><span class="gi">+    tag: "v1.2.0"
+    digest: sha256:d8196e3bc1e72547c5dec66d6556c0ff92a23f6d0919b206be170bc90d5f9185
+    digestChroot: sha256:fb17f1700b77d4fcc52ca6f83ffc2821861ae887dbb87149cf5cbc52bea425e5
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -578,8 +578,8 @@</span> controller:
 
   extraModules: []
   ## Modules, which are mounted into the core nginx image
<span class="gd">-  # - name: opentelemetry:v20220331-controller-v1.1.2-36-g7517b7ecf@sha256:e3f635474b5da24ccd0ea6b078fb190dae68b8b4a44b52bea19ec2561f0102ec
-  #   image: k8s.gcr.io/ingress-nginx/opentelemetry:
</span><span class="gi">+  # - name: opentelemetry
+  #   image: k8s.gcr.io/ingress-nginx/opentelemetry:v20220415-controller-v1.2.0-beta.0-2-g81c2afd97@sha256:ce61e2cf0b347dffebb2dcbf57c33891d2217c1bad9c0959c878e5be671ef941
</span>   #
   # The image must contain a `/usr/local/bin/init_module.sh` executable, which
   # will be executed as initContainers, to move its config files within the
<span class="p">@@ -908,13 +908,13 @@</span> serviceAccount:
 imagePullSecrets: []
 # - name: secretName
 
<span class="gd">-# -- TCP service key:value pairs
</span><span class="gi">+# -- TCP service key-value pairs
</span> ## Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
 ##
 tcp: {}
 #  8080: "default/example-tcp-svc:9000"
 
<span class="gd">-# -- UDP service key:value pairs
</span><span class="gi">+# -- UDP service key-value pairs
</span> ## Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
 ##
 udp: {}
<span class="err">
</span></code></pre></div></div> <h2 id="410-beta1"> <a href="#410-beta1" class="anchor-heading" aria-labelledby="410-beta1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.0-beta.1 </h2> <p><strong>Release date:</strong> 2022-04-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.0-beta.1&amp;color=success" alt="AppVersion: 1.2.0-beta.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release chart v1.2.0-beta.1 (#8484)</li> </ul> <h3 id="default-value-changes-34"> <a href="#default-value-changes-34" class="anchor-heading" aria-labelledby="default-value-changes-34"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d3d2ef693..674e1f4c9 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -23,9 +23,9 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.2.0-beta.0"
-    digest: sha256:92115f5062568ebbcd450cd2cf9bffdef8df9fc61e7d5868ba8a7c9d773e0961
-    digestChroot: sha256:0082f0f547b147a30ad85a5d6d2ceb3edbf0848b2008ed754365b6678bdea9a5
</span><span class="gi">+    tag: "v1.2.0-beta.1"
+    digest: sha256:7059739637c30865f74cae403fffa55c2cb6d9779cd15654480dd0e4f850d536
+    digestChroot: sha256:5344d8367295be743703f19eea137e7a3253efc2d0ec8aee131b85d3258f9780
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="410-beta0"> <a href="#410-beta0" class="anchor-heading" aria-labelledby="410-beta0"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.0-beta.0 </h2> <p><strong>Release date:</strong> 2022-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.2.0-beta.0&amp;color=success" alt="AppVersion: 1.2.0-beta.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore: v1.2.0-beta.0 release (#8465)</li> <li>Jail/chroot nginx process inside controller container (#8337)</li> <li>replace deprecated topology key in example with current one (#8444)</li> <li>Darwin arm64 (#8399)</li> <li>force helm release to artifact hub (#8417)</li> </ul> <h3 id="default-value-changes-35"> <a href="#default-value-changes-35" class="anchor-heading" aria-labelledby="default-value-changes-35"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index cea8cebe8..d3d2ef693 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -16,13 +16,16 @@</span> commonLabels: {}
 controller:
   name: controller
   image:
<span class="gi">+    ## Keep false as default for now!
+    chroot: false
</span>     registry: k8s.gcr.io
     image: ingress-nginx/controller
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.1.3"
-    digest: sha256:31f47c1e202b39fadecf822a9b76370bd4baed199a005b3e7d4d1455f4fd3fe2
</span><span class="gi">+    tag: "v1.2.0-beta.0"
+    digest: sha256:92115f5062568ebbcd450cd2cf9bffdef8df9fc61e7d5868ba8a7c9d773e0961
+    digestChroot: sha256:0082f0f547b147a30ad85a5d6d2ceb3edbf0848b2008ed754365b6678bdea9a5
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -272,7 +275,7 @@</span> controller:
   ##
   topologySpreadConstraints: []
     # - maxSkew: 1
<span class="gd">-    #   topologyKey: failure-domain.beta.kubernetes.io/zone
</span><span class="gi">+    #   topologyKey: topology.kubernetes.io/zone
</span>     #   whenUnsatisfiable: DoNotSchedule
     #   labelSelector:
     #     matchLabels:
<span class="err">
</span></code></pre></div></div> <h2 id="4019"> <a href="#4019" class="anchor-heading" aria-labelledby="4019"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.19 </h2> <p><strong>Release date:</strong> 2022-04-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.3&amp;color=success" alt="AppVersion: 1.1.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release 1.1.3 details (#8411)</li> <li>base img update for e2e-test-runner &amp; opentelemetry</li> <li>Add the shareProcessNamespace as a configurable setting. (#8287)</li> </ul> <h3 id="default-value-changes-36"> <a href="#default-value-changes-36" class="anchor-heading" aria-labelledby="default-value-changes-36"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c887dc051..cea8cebe8 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -21,8 +21,8 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.1.2"
-    digest: sha256:28b11ce69e57843de44e3db6413e98d09de0f6688e33d4bd384002a44f78405c
</span><span class="gi">+    tag: "v1.1.3"
+    digest: sha256:31f47c1e202b39fadecf822a9b76370bd4baed199a005b3e7d4d1455f4fd3fe2
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -529,6 +529,10 @@</span> controller:
       ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
       # externalTrafficPolicy: ""
 
<span class="gi">+  # shareProcessNamespace enables process namespace sharing within the pod.
+  # This can be used for example to signal log rotation using `kill -USR1` from a sidecar.
+  shareProcessNamespace: false
+
</span>   # -- Additional containers to be added to the controller pod.
   # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
   extraContainers: []
<span class="p">@@ -571,8 +575,8 @@</span> controller:
 
   extraModules: []
   ## Modules, which are mounted into the core nginx image
<span class="gd">-  # - name: opentelemetry
-  #   image: busybox
</span><span class="gi">+  # - name: opentelemetry:v20220331-controller-v1.1.2-36-g7517b7ecf@sha256:e3f635474b5da24ccd0ea6b078fb190dae68b8b4a44b52bea19ec2561f0102ec
+  #   image: k8s.gcr.io/ingress-nginx/opentelemetry:
</span>   #
   # The image must contain a `/usr/local/bin/init_module.sh` executable, which
   # will be executed as initContainers, to move its config files within the
<span class="err">
</span></code></pre></div></div> <h2 id="4018"> <a href="#4018" class="anchor-heading" aria-labelledby="4018"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.18 </h2> <p><strong>Release date:</strong> 2022-03-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.2&amp;color=success" alt="AppVersion: 1.1.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release-v1.1.2-continued (#8294)</li> <li>Add fsGroup value to admission-webhooks/job-patch charts (#8267)</li> <li>Minor fix for missing pathType property (#8244)</li> </ul> <h3 id="default-value-changes-37"> <a href="#default-value-changes-37" class="anchor-heading" aria-labelledby="default-value-changes-37"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index eb6db4a05..c887dc051 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -21,8 +21,8 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.1.1"
-    digest: sha256:0bc88eb15f9e7f84e8e56c14fa5735aaa488b840983f87bd79b1054190e660de
</span><span class="gi">+    tag: "v1.1.2"
+    digest: sha256:28b11ce69e57843de44e3db6413e98d09de0f6688e33d4bd384002a44f78405c
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -641,6 +641,7 @@</span> controller:
       # -- Labels to be added to patch job resources
       labels: {}
       runAsUser: 2000
<span class="gi">+      fsGroup: 2000
</span> 
   metrics:
     port: 10254
<span class="err">
</span></code></pre></div></div> <h2 id="4017"> <a href="#4017" class="anchor-heading" aria-labelledby="4017"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.17 </h2> <p><strong>Release date:</strong> 2022-02-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.1&amp;color=success" alt="AppVersion: 1.1.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add ingress.class (#8136)</li> <li>Remove Capabilities.APIVersions for Kustomize to parse file (#7829)</li> <li>chore: add Artifact Hub lint (#8204)</li> <li>Adding annotations to the controller service account (#8173)</li> </ul> <h3 id="default-value-changes-38"> <a href="#default-value-changes-38" class="anchor-heading" aria-labelledby="default-value-changes-38"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index bddd1eb5c..eb6db4a05 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -116,6 +116,10 @@</span> controller:
     # does not require extra parameters.
     parameters: {}
 
<span class="gi">+  # -- For backwards compatibility with ingress.class annotation, use ingressClass.
+  # Algorithm is as follows, first ingressClassName is considered, if not present, controller looks for ingress.class annotation
+  ingressClass: nginx
+
</span>   # -- Labels to add to the pod container metadata
   podLabels: {}
   #  key: value
<span class="p">@@ -888,6 +892,8 @@</span> serviceAccount:
   create: true
   name: ""
   automountServiceAccountToken: true
<span class="gi">+  # -- Annotations for the controller service account
+  annotations: {}
</span> 
 # -- Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
<span class="err">
</span></code></pre></div></div> <h2 id="4016"> <a href="#4016" class="anchor-heading" aria-labelledby="4016"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.16 </h2> <p><strong>Release date:</strong> 2022-01-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.1&amp;color=success" alt="AppVersion: 1.1.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>helm: ServiceMonitor: sane default namespaceSelector (#7998)</li> <li>#7271 feat: avoid-pdb-creation-when-default-backend-disabled-and-replicas-gt-1 (#8155)</li> <li>Last attempt to fix helm docs (#8153)</li> <li>Trigger new helmdoc generation</li> <li>Automatically generate helm docs (#8151)</li> <li>Support additonal labels and all Kubernetes recommanded labels (#7186)</li> <li>First sidecar module: OpenTelemetry (#8013)</li> </ul> <h3 id="default-value-changes-39"> <a href="#default-value-changes-39" class="anchor-heading" aria-labelledby="default-value-changes-39"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 93096dda1..bddd1eb5c 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -7,6 +7,12 @@</span>
 # nameOverride:
 # fullnameOverride:
 
<span class="gi">+## Labels to apply to all resources
+##
+commonLabels: {}
+# scmhash: abc123
+# myLabel: aakkmd
+
</span> controller:
   name: controller
   image:
<span class="p">@@ -28,7 +34,7 @@</span> controller:
   # -- Configures the controller container name
   containerName: controller
 
<span class="gd">-  # -- Configures the ports the nginx-controller listens on
</span><span class="gi">+  # -- Configures the ports that the nginx-controller listens on
</span>   containerPort:
     http: 80
     https: 443
<span class="p">@@ -36,7 +42,7 @@</span> controller:
   # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
   config: {}
 
<span class="gd">-  # -- Annotations to be added to the controller config configuration configmap
</span><span class="gi">+  # -- Annotations to be added to the controller config configuration configmap.
</span>   configAnnotations: {}
 
   # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
<span class="p">@@ -65,7 +71,7 @@</span> controller:
   # Defaults to false
   watchIngressWithoutClass: false
 
<span class="gd">-  # -- Process IngressClass per name (additionally as per spec.controller)
</span><span class="gi">+  # -- Process IngressClass per name (additionally as per spec.controller).
</span>   ingressClassByName: false
 
   # -- This configuration defines if Ingress Controller should allow users to set
<span class="p">@@ -559,6 +565,15 @@</span> controller:
   #   image: busybox
   #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
 
<span class="gi">+  extraModules: []
+  ## Modules, which are mounted into the core nginx image
+  # - name: opentelemetry
+  #   image: busybox
+  #
+  # The image must contain a `/usr/local/bin/init_module.sh` executable, which
+  # will be executed as initContainers, to move its config files within the
+  # mounted volume.
+
</span>   admissionWebhooks:
     annotations: {}
     # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
<span class="err">
</span></code></pre></div></div> <h2 id="4015"> <a href="#4015" class="anchor-heading" aria-labelledby="4015"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.15 </h2> <p><strong>Release date:</strong> 2022-01-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.1&amp;color=success" alt="AppVersion: 1.1.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>changes for release v1.1.1 (#8125)</li> </ul> <h3 id="default-value-changes-40"> <a href="#default-value-changes-40" class="anchor-heading" aria-labelledby="default-value-changes-40"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index e923b3e15..93096dda1 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     ## for backwards compatibility consider setting the full image url via the repository value below
     ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     ## repository:
<span class="gd">-    tag: "v1.1.0"
-    digest: sha256:f766669fdcf3dc26347ed273a55e754b427eb4411ee075a53f30718b4499076a
</span><span class="gi">+    tag: "v1.1.1"
+    digest: sha256:0bc88eb15f9e7f84e8e56c14fa5735aaa488b840983f87bd79b1054190e660de
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -96,9 +96,13 @@</span> controller:
   ## This section refers to the creation of the IngressClass resource
   ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
   ingressClassResource:
<span class="gi">+    # -- Name of the ingressClass
</span>     name: nginx
<span class="gi">+    # -- Is this ingressClass enabled or not
</span>     enabled: true
<span class="gi">+    # -- Is this the default ingressClass for the cluster
</span>     default: false
<span class="gi">+    # -- Controller-value of the controller that is processing this ingressClass
</span>     controllerValue: "k8s.io/ingress-nginx"
 
     # -- Parameters is a link to a custom resource containing additional
<span class="err">
</span></code></pre></div></div> <h2 id="4014"> <a href="#4014" class="anchor-heading" aria-labelledby="4014"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.14 </h2> <p><strong>Release date:</strong> 2022-01-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.0&amp;color=success" alt="AppVersion: 1.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>docs(charts): using helm-docs for chart (#8061)</li> <li>Add newline indenting to admission webhook annotations (#8015)</li> </ul> <h3 id="default-value-changes-41"> <a href="#default-value-changes-41" class="anchor-heading" aria-labelledby="default-value-changes-41"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index a96bfbfd0..e923b3e15 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -12,9 +12,9 @@</span> controller:
   image:
     registry: k8s.gcr.io
     image: ingress-nginx/controller
<span class="gd">-    # for backwards compatibility consider setting the full image url via the repository value below
-    # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-    # repository:
</span><span class="gi">+    ## for backwards compatibility consider setting the full image url via the repository value below
+    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    ## repository:
</span>     tag: "v1.1.0"
     digest: sha256:f766669fdcf3dc26347ed273a55e754b427eb4411ee075a53f30718b4499076a
     pullPolicy: IfNotPresent
<span class="p">@@ -22,154 +22,149 @@</span> controller:
     runAsUser: 101
     allowPrivilegeEscalation: true
 
<span class="gd">-  # Use an existing PSP instead of creating one
</span><span class="gi">+  # -- Use an existing PSP instead of creating one
</span>   existingPsp: ""
 
<span class="gd">-  # Configures the controller container name
</span><span class="gi">+  # -- Configures the controller container name
</span>   containerName: controller
 
<span class="gd">-  # Configures the ports the nginx-controller listens on
</span><span class="gi">+  # -- Configures the ports the nginx-controller listens on
</span>   containerPort:
     http: 80
     https: 443
 
<span class="gd">-  # Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
</span><span class="gi">+  # -- Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
</span>   config: {}
 
<span class="gd">-  ## Annotations to be added to the controller config configuration configmap
-  ##
</span><span class="gi">+  # -- Annotations to be added to the controller config configuration configmap
</span>   configAnnotations: {}
 
<span class="gd">-  # Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
</span><span class="gi">+  # -- Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
</span>   proxySetHeaders: {}
 
<span class="gd">-  # Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
</span><span class="gi">+  # -- Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
</span>   addHeaders: {}
 
<span class="gd">-  # Optionally customize the pod dnsConfig.
</span><span class="gi">+  # -- Optionally customize the pod dnsConfig.
</span>   dnsConfig: {}
 
<span class="gd">-  # Optionally customize the pod hostname.
</span><span class="gi">+  # -- Optionally customize the pod hostname.
</span>   hostname: {}
 
<span class="gd">-  # Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
</span><span class="gi">+  # -- Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
</span>   # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
   # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
   dnsPolicy: ClusterFirst
 
<span class="gd">-  # Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
</span><span class="gi">+  # -- Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
</span>   # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
   reportNodeInternalIp: false
 
<span class="gd">-  # Process Ingress objects without ingressClass annotation/ingressClassName field
</span><span class="gi">+  # -- Process Ingress objects without ingressClass annotation/ingressClassName field
</span>   # Overrides value for --watch-ingress-without-class flag of the controller binary
   # Defaults to false
   watchIngressWithoutClass: false
 
<span class="gd">-  # Process IngressClass per name (additionally as per spec.controller)
</span><span class="gi">+  # -- Process IngressClass per name (additionally as per spec.controller)
</span>   ingressClassByName: false
 
<span class="gd">-  # This configuration defines if Ingress Controller should allow users to set
</span><span class="gi">+  # -- This configuration defines if Ingress Controller should allow users to set
</span>   # their own *-snippet annotations, otherwise this is forbidden / dropped
   # when users add those annotations.
   # Global snippets in ConfigMap are still respected
   allowSnippetAnnotations: true
 
<span class="gd">-  # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
</span><span class="gi">+  # -- Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
</span>   # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
   # is merged
   hostNetwork: false
 
   ## Use host ports 80 and 443
   ## Disabled by default
<span class="gd">-  ##
</span>   hostPort:
<span class="gi">+    # -- Enable 'hostPort' or not
</span>     enabled: false
     ports:
<span class="gi">+      # -- 'hostPort' http port
</span>       http: 80
<span class="gi">+      # -- 'hostPort' https port
</span>       https: 443
 
<span class="gd">-  ## Election ID to use for status update
-  ##
</span><span class="gi">+  # -- Election ID to use for status update
</span>   electionID: ingress-controller-leader
 
<span class="gd">-  # This section refers to the creation of the IngressClass resource
-  # IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
</span><span class="gi">+  ## This section refers to the creation of the IngressClass resource
+  ## IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
</span>   ingressClassResource:
     name: nginx
     enabled: true
     default: false
     controllerValue: "k8s.io/ingress-nginx"
 
<span class="gd">-    # Parameters is a link to a custom resource containing additional
</span><span class="gi">+    # -- Parameters is a link to a custom resource containing additional
</span>     # configuration for the controller. This is optional if the controller
     # does not require extra parameters.
     parameters: {}
 
<span class="gd">-  # labels to add to the pod container metadata
</span><span class="gi">+  # -- Labels to add to the pod container metadata
</span>   podLabels: {}
   #  key: value
 
<span class="gd">-  ## Security Context policies for controller pods
-  ##
</span><span class="gi">+  # -- Security Context policies for controller pods
</span>   podSecurityContext: {}
 
<span class="gd">-  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  ## notes on enabling and using sysctls
-  ###
</span><span class="gi">+  # -- See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for notes on enabling and using sysctls
</span>   sysctls: {}
   # sysctls:
   #   "net.core.somaxconn": "8192"
 
<span class="gd">-  ## Allows customization of the source of the IP address or FQDN to report
-  ## in the ingress status field. By default, it reads the information provided
-  ## by the service. If disable, the status field reports the IP address of the
-  ## node or nodes where an ingress controller pod is running.
</span><span class="gi">+  # -- Allows customization of the source of the IP address or FQDN to report
+  # in the ingress status field. By default, it reads the information provided
+  # by the service. If disable, the status field reports the IP address of the
+  # node or nodes where an ingress controller pod is running.
</span>   publishService:
<span class="gi">+    # -- Enable 'publishService' or not
</span>     enabled: true
<span class="gd">-    ## Allows overriding of the publish service to bind to
-    ## Must be &lt;namespace&gt;/&lt;service_name&gt;
-    ##
</span><span class="gi">+    # -- Allows overriding of the publish service to bind to
+    # Must be &lt;namespace&gt;/&lt;service_name&gt;
</span>     pathOverride: ""
 
<span class="gd">-  ## Limit the scope of the controller
-  ##
</span><span class="gi">+  # Limit the scope of the controller to a specific namespace
</span>   scope:
<span class="gi">+    # -- Enable 'scope' or not
</span>     enabled: false
<span class="gd">-    namespace: ""   # defaults to $(POD_NAMESPACE)
-    # When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
-    #   only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
</span><span class="gi">+    # -- Namespace to limit the controller to; defaults to $(POD_NAMESPACE)
+    namespace: ""
+    # -- When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
+    # only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
</span>     namespaceSelector: ""
 
<span class="gd">-  ## Allows customization of the configmap / nginx-configmap namespace
-  ##
-  configMapNamespace: ""   # defaults to $(POD_NAMESPACE)
</span><span class="gi">+  # -- Allows customization of the configmap / nginx-configmap namespace; defaults to $(POD_NAMESPACE)
+  configMapNamespace: ""
</span> 
<span class="gd">-  ## Allows customization of the tcp-services-configmap
-  ##
</span>   tcp:
<span class="gd">-    configMapNamespace: ""   # defaults to $(POD_NAMESPACE)
-    ## Annotations to be added to the tcp config configmap
</span><span class="gi">+    # -- Allows customization of the tcp-services-configmap; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    # -- Annotations to be added to the tcp config configmap
</span>     annotations: {}
 
<span class="gd">-  ## Allows customization of the udp-services-configmap
-  ##
</span>   udp:
<span class="gd">-    configMapNamespace: ""   # defaults to $(POD_NAMESPACE)
-    ## Annotations to be added to the udp config configmap
</span><span class="gi">+    # -- Allows customization of the udp-services-configmap; defaults to $(POD_NAMESPACE)
+    configMapNamespace: ""
+    # -- Annotations to be added to the udp config configmap
</span>     annotations: {}
 
<span class="gd">-  # Maxmind license key to download GeoLite2 Databases
-  # https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
</span><span class="gi">+  # -- Maxmind license key to download GeoLite2 Databases.
+  ## https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
</span>   maxmindLicenseKey: ""
 
<span class="gd">-  ## Additional command line arguments to pass to nginx-ingress-controller
-  ## E.g. to specify the default SSL certificate you can use
</span><span class="gi">+  # -- Additional command line arguments to pass to nginx-ingress-controller
+  # E.g. to specify the default SSL certificate you can use
+  extraArgs: {}
</span>   ## extraArgs:
   ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
<span class="gd">-  extraArgs: {}
</span> 
<span class="gd">-  ## Additional environment variables to set
</span><span class="gi">+  # -- Additional environment variables to set
</span>   extraEnvs: []
   # extraEnvs:
   #   - name: FOO
<span class="p">@@ -178,35 +173,34 @@</span> controller:
   #         key: FOO
   #         name: secret-resource
 
<span class="gd">-  ## DaemonSet or Deployment
-  ##
</span><span class="gi">+  # -- Use a `DaemonSet` or `Deployment`
</span>   kind: Deployment
 
<span class="gd">-  ## Annotations to be added to the controller Deployment or DaemonSet
</span><span class="gi">+  # -- Annotations to be added to the controller Deployment or DaemonSet
</span>   ##
   annotations: {}
   #  keel.sh/pollSchedule: "@every 60m"
 
<span class="gd">-  ## Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
</span><span class="gi">+  # -- Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
</span>   ##
   labels: {}
   #  keel.sh/policy: patch
   #  keel.sh/trigger: poll
 
 
<span class="gd">-  # The update strategy to apply to the Deployment or DaemonSet
</span><span class="gi">+  # -- The update strategy to apply to the Deployment or DaemonSet
</span>   ##
   updateStrategy: {}
   #  rollingUpdate:
   #    maxUnavailable: 1
   #  type: RollingUpdate
 
<span class="gd">-  # minReadySeconds to avoid killing pods before we are ready
</span><span class="gi">+  # -- `minReadySeconds` to avoid killing pods before we are ready
</span>   ##
   minReadySeconds: 0
 
 
<span class="gd">-  ## Node tolerations for server scheduling to nodes with taints
</span><span class="gi">+  # -- Node tolerations for server scheduling to nodes with taints
</span>   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
   tolerations: []
<span class="p">@@ -215,7 +209,7 @@</span> controller:
   #    value: "value"
   #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
 
<span class="gd">-  ## Affinity and anti-affinity
</span><span class="gi">+  # -- Affinity and anti-affinity rules for server scheduling to nodes
</span>   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
   ##
   affinity: {}
<span class="p">@@ -259,7 +253,7 @@</span> controller:
     #         - controller
     #     topologyKey: "kubernetes.io/hostname"
 
<span class="gd">-  ## Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
</span><span class="gi">+  # -- Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
</span>   ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
   ##
   topologySpreadConstraints: []
<span class="p">@@ -270,12 +264,12 @@</span> controller:
     #     matchLabels:
     #       app.kubernetes.io/instance: ingress-nginx-internal
 
<span class="gd">-  ## terminationGracePeriodSeconds
</span><span class="gi">+  # -- `terminationGracePeriodSeconds` to avoid killing pods before we are ready
</span>   ## wait up to five minutes for the drain of connections
   ##
   terminationGracePeriodSeconds: 300
 
<span class="gd">-  ## Node labels for controller pod assignment
</span><span class="gi">+  # -- Node labels for controller pod assignment
</span>   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
   nodeSelector:
<span class="p">@@ -284,17 +278,17 @@</span> controller:
   ## Liveness and readiness probe values
   ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
   ##
<span class="gd">-  # startupProbe:
-  #   httpGet:
-  #     # should match container.healthCheckPath
-  #     path: "/healthz"
-  #     port: 10254
-  #     scheme: HTTP
-  #   initialDelaySeconds: 5
-  #   periodSeconds: 5
-  #   timeoutSeconds: 2
-  #   successThreshold: 1
-  #   failureThreshold: 5
</span><span class="gi">+  ## startupProbe:
+  ##   httpGet:
+  ##     # should match container.healthCheckPath
+  ##     path: "/healthz"
+  ##     port: 10254
+  ##     scheme: HTTP
+  ##   initialDelaySeconds: 5
+  ##   periodSeconds: 5
+  ##   timeoutSeconds: 2
+  ##   successThreshold: 1
+  ##   failureThreshold: 5
</span>   livenessProbe:
     httpGet:
       # should match container.healthCheckPath
<span class="p">@@ -319,16 +313,16 @@</span> controller:
     failureThreshold: 3
 
 
<span class="gd">-  # Path of the health check endpoint. All requests received on the port defined by
</span><span class="gi">+  # -- Path of the health check endpoint. All requests received on the port defined by
</span>   # the healthz-port parameter are forwarded internally to this path.
   healthCheckPath: "/healthz"
 
<span class="gd">-  # Address to bind the health check endpoint.
</span><span class="gi">+  # -- Address to bind the health check endpoint.
</span>   # It is better to set this option to the internal node address
<span class="gd">-  # if the ingress nginx controller is running in the hostNetwork: true mode.
</span><span class="gi">+  # if the ingress nginx controller is running in the `hostNetwork: true` mode.
</span>   healthCheckHost: ""
 
<span class="gd">-  ## Annotations to be added to controller pods
</span><span class="gi">+  # -- Annotations to be added to controller pods
</span>   ##
   podAnnotations: {}
 
<span class="p">@@ -336,14 +330,14 @@</span> controller:
 
   minAvailable: 1
 
<span class="gd">-  # Define requests resources to avoid probe issues due to CPU utilization in busy nodes
-  # ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
-  # Ideally, there should be no limits.
-  # https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
</span><span class="gi">+  ## Define requests resources to avoid probe issues due to CPU utilization in busy nodes
+  ## ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
+  ## Ideally, there should be no limits.
+  ## https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
</span>   resources:
<span class="gd">-  #  limits:
-  #    cpu: 100m
-  #    memory: 90Mi
</span><span class="gi">+  ##  limits:
+  ##    cpu: 100m
+  ##    memory: 90Mi
</span>     requests:
       cpu: 100m
       memory: 90Mi
<span class="p">@@ -383,9 +377,9 @@</span> controller:
   # Mutually exclusive with hpa autoscaling
   keda:
     apiVersion: "keda.sh/v1alpha1"
<span class="gd">-  # apiVersion changes with keda 1.x vs 2.x
-  # 2.x = keda.sh/v1alpha1
-  # 1.x = keda.k8s.io/v1alpha1
</span><span class="gi">+    ## apiVersion changes with keda 1.x vs 2.x
+    ## 2.x = keda.sh/v1alpha1
+    ## 1.x = keda.k8s.io/v1alpha1
</span>     enabled: false
     minReplicas: 1
     maxReplicas: 11
<span class="p">@@ -419,7 +413,7 @@</span> controller:
  #         value: 2
  #         periodSeconds: 60
 
<span class="gd">-  ## Enable mimalloc as a drop-in replacement for malloc.
</span><span class="gi">+  # -- Enable mimalloc as a drop-in replacement for malloc.
</span>   ## ref: https://github.com/microsoft/mimalloc
   ##
   enableMimalloc: true
<span class="p">@@ -432,11 +426,11 @@</span> controller:
   service:
     enabled: true
 
<span class="gd">-    ## If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
-    ## using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
-    ## It allows choosing the protocol for each backend specified in the Kubernetes service.
-    ## See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
-    ## Will be ignored for Kubernetes versions older than 1.20
</span><span class="gi">+    # -- If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
+    # using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
+    # It allows choosing the protocol for each backend specified in the Kubernetes service.
+    # See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
+    # Will be ignored for Kubernetes versions older than 1.20
</span>     ##
     appProtocol: true
 
<span class="p">@@ -444,7 +438,7 @@</span> controller:
     labels: {}
     # clusterIP: ""
 
<span class="gd">-    ## List of IP addresses at which the controller services are available
</span><span class="gi">+    # -- List of IP addresses at which the controller services are available
</span>     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
     ##
     externalIPs: []
<span class="p">@@ -468,14 +462,14 @@</span> controller:
     ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
     # healthCheckNodePort: 0
 
<span class="gd">-    ## Represents the dual-stack-ness requested or required by this Service. Possible values are
-    ## SingleStack, PreferDualStack or RequireDualStack.
-    ## The ipFamilies and clusterIPs fields depend on the value of this field.
</span><span class="gi">+    # -- Represents the dual-stack-ness requested or required by this Service. Possible values are
+    # SingleStack, PreferDualStack or RequireDualStack.
+    # The ipFamilies and clusterIPs fields depend on the value of this field.
</span>     ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
     ipFamilyPolicy: "SingleStack"
 
<span class="gd">-    ## List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
-    ## based on cluster configuration and the ipFamilyPolicy field.
</span><span class="gi">+    # -- List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
+    # based on cluster configuration and the ipFamilyPolicy field.
</span>     ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
     ipFamilies:
       - IPv4
<span class="p">@@ -490,12 +484,12 @@</span> controller:
 
     type: LoadBalancer
 
<span class="gd">-    # type: NodePort
-    # nodePorts:
-    #   http: 32080
-    #   https: 32443
-    #   tcp:
-    #     8080: 32808
</span><span class="gi">+    ## type: NodePort
+    ## nodePorts:
+    ##   http: 32080
+    ##   https: 32443
+    ##   tcp:
+    ##     8080: 32808
</span>     nodePorts:
       http: ""
       https: ""
<span class="p">@@ -505,15 +499,15 @@</span> controller:
     external:
       enabled: true
 
<span class="gd">-    ## Enables an additional internal load balancer (besides the external one).
-    ## Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
</span>     internal:
<span class="gi">+      # -- Enables an additional internal load balancer (besides the external one).
</span>       enabled: false
<span class="gi">+      # -- Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
</span>       annotations: {}
 
       # loadBalancerIP: ""
 
<span class="gd">-      ## Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
</span><span class="gi">+      # -- Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
</span>       loadBalancerSourceRanges: []
 
       ## Set external traffic policy to: "Local" to preserve source IP on
<span class="p">@@ -521,9 +515,9 @@</span> controller:
       ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
       # externalTrafficPolicy: ""
 
<span class="gi">+  # -- Additional containers to be added to the controller pod.
+  # See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
</span>   extraContainers: []
<span class="gd">-  ## Additional containers to be added to the controller pod.
-  ## See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
</span>   #  - name: my-sidecar
   #    image: nginx:latest
   #  - name: lemonldap-ng-controller
<span class="p">@@ -545,18 +539,18 @@</span> controller:
   #    - name: copy-portal-skins
   #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
 
<span class="gi">+  # -- Additional volumeMounts to the controller main container.
</span>   extraVolumeMounts: []
<span class="gd">-  ## Additional volumeMounts to the controller main container.
</span>   #  - name: copy-portal-skins
   #   mountPath: /var/lib/lemonldap-ng/portal/skins
 
<span class="gi">+  # -- Additional volumes to the controller pod.
</span>   extraVolumes: []
<span class="gd">-  ## Additional volumes to the controller pod.
</span>   #  - name: copy-portal-skins
   #    emptyDir: {}
 
<span class="gi">+  # -- Containers, which are run before the app containers are started.
</span>   extraInitContainers: []
<span class="gd">-  ## Containers, which are run before the app containers are started.
</span>   # - name: init-myservice
   #   image: busybox
   #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
<span class="p">@@ -576,10 +570,10 @@</span> controller:
     key: "/usr/local/certificates/key"
     namespaceSelector: {}
     objectSelector: {}
<span class="gd">-    ## Labels to be added to admission webhooks
</span><span class="gi">+    # -- Labels to be added to admission webhooks
</span>     labels: {}
 
<span class="gd">-    # Use an existing PSP instead of creating one
</span><span class="gi">+    # -- Use an existing PSP instead of creating one
</span>     existingPsp: ""
 
     service:
<span class="p">@@ -608,20 +602,20 @@</span> controller:
       image:
         registry: k8s.gcr.io
         image: ingress-nginx/kube-webhook-certgen
<span class="gd">-        # for backwards compatibility consider setting the full image url via the repository value below
-        # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-        # repository:
</span><span class="gi">+        ## for backwards compatibility consider setting the full image url via the repository value below
+        ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        ## repository:
</span>         tag: v1.1.1
         digest: sha256:64d8c73dca984af206adf9d6d7e46aa550362b1d7a01f3a0a91b20cc67868660
         pullPolicy: IfNotPresent
<span class="gd">-      ## Provide a priority class name to the webhook patching job
</span><span class="gi">+      # -- Provide a priority class name to the webhook patching job
</span>       ##
       priorityClassName: ""
       podAnnotations: {}
       nodeSelector:
         kubernetes.io/os: linux
       tolerations: []
<span class="gd">-      ## Labels to be added to patch job resources
</span><span class="gi">+      # -- Labels to be added to patch job resources
</span>       labels: {}
       runAsUser: 2000
 
<span class="p">@@ -637,7 +631,7 @@</span> controller:
 
       # clusterIP: ""
 
<span class="gd">-      ## List of IP addresses at which the stats-exporter service is available
</span><span class="gi">+      # -- List of IP addresses at which the stats-exporter service is available
</span>       ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
       ##
       externalIPs: []
<span class="p">@@ -652,14 +646,14 @@</span> controller:
     serviceMonitor:
       enabled: false
       additionalLabels: {}
<span class="gd">-      # The label to use to retrieve the job name from.
-      # jobLabel: "app.kubernetes.io/name"
</span><span class="gi">+      ## The label to use to retrieve the job name from.
+      ## jobLabel: "app.kubernetes.io/name"
</span>       namespace: ""
       namespaceSelector: {}
<span class="gd">-      # Default: scrape .Release.Namespace only
-      # To scrape all, use the following:
-      # namespaceSelector:
-      #   any: true
</span><span class="gi">+      ## Default: scrape .Release.Namespace only
+      ## To scrape all, use the following:
+      ## namespaceSelector:
+      ##   any: true
</span>       scrapeInterval: 30s
       # honorLabels: true
       targetLabels: []
<span class="p">@@ -705,12 +699,12 @@</span> controller:
         #     description: Too many 4XXs
         #     summary: More than 5% of all requests returned 4XX, this requires your attention
 
<span class="gd">-  ## Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
-  ## With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
-  ## to 300, allowing the draining of connections up to five minutes.
-  ## If the active connections end before that, the pod will terminate gracefully at that time.
-  ## To effectively take advantage of this feature, the Configmap feature
-  ## worker-shutdown-timeout new value is 240s instead of 10s.
</span><span class="gi">+  # -- Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
+  # With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
+  # to 300, allowing the draining of connections up to five minutes.
+  # If the active connections end before that, the pod will terminate gracefully at that time.
+  # To effectively take advantage of this feature, the Configmap feature
+  # worker-shutdown-timeout new value is 240s instead of 10s.
</span>   ##
   lifecycle:
     preStop:
<span class="p">@@ -720,7 +714,7 @@</span> controller:
 
   priorityClassName: ""
 
<span class="gd">-## Rollback limit
</span><span class="gi">+# -- Rollback limit
</span> ##
 revisionHistoryLimit: 10
 
<span class="p">@@ -734,9 +728,9 @@</span> defaultBackend:
   image:
     registry: k8s.gcr.io
     image: defaultbackend-amd64
<span class="gd">-    # for backwards compatibility consider setting the full image url via the repository value below
-    # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
-    # repository:
</span><span class="gi">+    ## for backwards compatibility consider setting the full image url via the repository value below
+    ## use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    ## repository:
</span>     tag: "1.5"
     pullPolicy: IfNotPresent
     # nobody user -&gt; uid 65534
<span class="p">@@ -745,7 +739,7 @@</span> defaultBackend:
     readOnlyRootFilesystem: true
     allowPrivilegeEscalation: false
 
<span class="gd">-  # Use an existing PSP instead of creating one
</span><span class="gi">+  # -- Use an existing PSP instead of creating one
</span>   existingPsp: ""
 
   extraArgs: {}
<span class="p">@@ -754,7 +748,7 @@</span> defaultBackend:
     create: true
     name: ""
     automountServiceAccountToken: true
<span class="gd">-  ## Additional environment variables to set for defaultBackend pods
</span><span class="gi">+  # -- Additional environment variables to set for defaultBackend pods
</span>   extraEnvs: []
 
   port: 8080
<span class="p">@@ -775,7 +769,7 @@</span> defaultBackend:
     successThreshold: 1
     timeoutSeconds: 5
 
<span class="gd">-  ## Node tolerations for server scheduling to nodes with taints
</span><span class="gi">+  # -- Node tolerations for server scheduling to nodes with taints
</span>   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
   tolerations: []
<span class="p">@@ -786,29 +780,29 @@</span> defaultBackend:
 
   affinity: {}
 
<span class="gd">-  ## Security Context policies for controller pods
-  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  ## notes on enabling and using sysctls
</span><span class="gi">+  # -- Security Context policies for controller pods
+  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  # notes on enabling and using sysctls
</span>   ##
   podSecurityContext: {}
 
<span class="gd">-  ## Security Context policies for controller main container.
-  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  ## notes on enabling and using sysctls
</span><span class="gi">+  # -- Security Context policies for controller main container.
+  # See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  # notes on enabling and using sysctls
</span>   ##
   containerSecurityContext: {}
 
<span class="gd">-  # labels to add to the pod container metadata
</span><span class="gi">+  # -- Labels to add to the pod container metadata
</span>   podLabels: {}
   #  key: value
 
<span class="gd">-  ## Node labels for default backend pod assignment
</span><span class="gi">+  # -- Node labels for default backend pod assignment
</span>   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
   nodeSelector:
     kubernetes.io/os: linux
 
<span class="gd">-  ## Annotations to be added to default backend pods
</span><span class="gi">+  # -- Annotations to be added to default backend pods
</span>   ##
   podAnnotations: {}
 
<span class="p">@@ -847,7 +841,7 @@</span> defaultBackend:
 
     # clusterIP: ""
 
<span class="gd">-    ## List of IP addresses at which the default backend service is available
</span><span class="gi">+    # -- List of IP addresses at which the default backend service is available
</span>     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
     ##
     externalIPs: []
<span class="p">@@ -858,7 +852,7 @@</span> defaultBackend:
     type: ClusterIP
 
   priorityClassName: ""
<span class="gd">-  ## Labels to be added to the default backend resources
</span><span class="gi">+  # -- Labels to be added to the default backend resources
</span>   labels: {}
 
 ## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
<span class="p">@@ -866,8 +860,8 @@</span> rbac:
   create: true
   scope: false
 
<span class="gd">-# If true, create &amp; use Pod Security Policy resources
-# https://kubernetes.io/docs/concepts/policy/pod-security-policy/
</span><span class="gi">+## If true, create &amp; use Pod Security Policy resources
+## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
</span> podSecurityPolicy:
   enabled: false
 
<span class="p">@@ -876,24 +870,24 @@</span> serviceAccount:
   name: ""
   automountServiceAccountToken: true
 
<span class="gd">-## Optional array of imagePullSecrets containing private registry credentials
</span><span class="gi">+# -- Optional array of imagePullSecrets containing private registry credentials
</span> ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
 imagePullSecrets: []
 # - name: secretName
 
<span class="gd">-# TCP service key:value pairs
-# Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
</span><span class="gi">+# -- TCP service key:value pairs
+## Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
</span> ##
 tcp: {}
 #  8080: "default/example-tcp-svc:9000"
 
<span class="gd">-# UDP service key:value pairs
-# Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
</span><span class="gi">+# -- UDP service key:value pairs
+## Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
</span> ##
 udp: {}
 #  53: "kube-system/kube-dns:53"
 
<span class="gd">-# A base64ed Diffie-Hellman parameter
-# This can be generated with: openssl dhparam 4096 2&gt; /dev/null | base64
-# Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
</span><span class="gi">+# -- (string) A base64-encoded Diffie-Hellman parameter.
+# This can be generated with: `openssl dhparam 4096 2&gt; /dev/null | base64`
+## Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
</span> dhParam:
<span class="err">
</span></code></pre></div></div> <h2 id="4013"> <a href="#4013" class="anchor-heading" aria-labelledby="4013"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.13 </h2> <p><strong>Release date:</strong> 2021-12-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.0&amp;color=success" alt="AppVersion: 1.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add relabelings in controller-servicemonitor.yaml (#8008)</li> </ul> <h3 id="default-value-changes-42"> <a href="#default-value-changes-42" class="anchor-heading" aria-labelledby="default-value-changes-42"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index cf84ea807..a96bfbfd0 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -663,6 +663,7 @@</span> controller:
       scrapeInterval: 30s
       # honorLabels: true
       targetLabels: []
<span class="gi">+      relabelings: []
</span>       metricRelabelings: []
 
     prometheusRule:
<span class="err">
</span></code></pre></div></div> <h2 id="4012"> <a href="#4012" class="anchor-heading" aria-labelledby="4012"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.12 </h2> <p><strong>Release date:</strong> 2021-11-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.0&amp;color=success" alt="AppVersion: 1.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>allow set annotations for admission Jobs (#7979)</li> </ul> <h3 id="default-value-changes-43"> <a href="#default-value-changes-43" class="anchor-heading" aria-labelledby="default-value-changes-43"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 01ab72dd3..cf84ea807 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -563,6 +563,11 @@</span> controller:
 
   admissionWebhooks:
     annotations: {}
<span class="gi">+    # ignore-check.kube-linter.io/no-read-only-rootfs: "This deployment needs write access to root filesystem".
+
+    ## Additional annotations to the admission webhooks.
+    ## These annotations will be added to the ValidatingWebhookConfiguration and
+    ## the Jobs Spec of the admission webhooks.
</span>     enabled: true
     failurePolicy: Fail
     # timeoutSeconds: 10
<span class="err">
</span></code></pre></div></div> <h2 id="4011"> <a href="#4011" class="anchor-heading" aria-labelledby="4011"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.11 </h2> <p><strong>Release date:</strong> 2021-11-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.0&amp;color=success" alt="AppVersion: 1.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Making Kube service appProtocol field optional (#7873)</li> </ul> <h3 id="default-value-changes-44"> <a href="#default-value-changes-44" class="anchor-heading" aria-labelledby="default-value-changes-44"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 3f7b3e0e8..01ab72dd3 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -432,6 +432,14 @@</span> controller:
   service:
     enabled: true
 
<span class="gi">+    ## If enabled is adding an appProtocol option for Kubernetes service. An appProtocol field replacing annotations that were
+    ## using for setting a backend protocol. Here is an example for AWS: service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
+    ## It allows choosing the protocol for each backend specified in the Kubernetes service.
+    ## See the following GitHub issue for more details about the purpose: https://github.com/kubernetes/kubernetes/issues/40244
+    ## Will be ignored for Kubernetes versions older than 1.20
+    ##
+    appProtocol: true
+
</span>     annotations: {}
     labels: {}
     # clusterIP: ""
<span class="err">
</span></code></pre></div></div> <h2 id="4010"> <a href="#4010" class="anchor-heading" aria-labelledby="4010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.10 </h2> <p><strong>Release date:</strong> 2021-11-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.1.0&amp;color=success" alt="AppVersion: 1.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release updates for v1.1.0 (#7964)</li> <li>applied allowPrivilegeEscalation=false (#7948)</li> </ul> <h3 id="default-value-changes-45"> <a href="#default-value-changes-45" class="anchor-heading" aria-labelledby="default-value-changes-45"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d11fc5a2d..3f7b3e0e8 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.5"
-    digest: sha256:55a1fcda5b7657c372515fe402c3e39ad93aa59f6e4378e82acd99912fe6028d
</span><span class="gi">+    tag: "v1.1.0"
+    digest: sha256:f766669fdcf3dc26347ed273a55e754b427eb4411ee075a53f30718b4499076a
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="409"> <a href="#409" class="anchor-heading" aria-labelledby="409"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.9 </h2> <p><strong>Release date:</strong> 2021-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.5&amp;color=success" alt="AppVersion: 1.0.5"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[Helm] Add labels to resources (#6992)</li> </ul> <h3 id="default-value-changes-46"> <a href="#default-value-changes-46" class="anchor-heading" aria-labelledby="default-value-changes-46"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d572f3e62..d11fc5a2d 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -187,7 +187,7 @@</span> controller:
   annotations: {}
   #  keel.sh/pollSchedule: "@every 60m"
 
<span class="gd">-  ## Labels to be added to the controller Deployment or DaemonSet
</span><span class="gi">+  ## Labels to be added to the controller Deployment or DaemonSet and other resources that do not have option to specify labels
</span>   ##
   labels: {}
   #  keel.sh/policy: patch
<span class="p">@@ -563,6 +563,8 @@</span> controller:
     key: "/usr/local/certificates/key"
     namespaceSelector: {}
     objectSelector: {}
<span class="gi">+    ## Labels to be added to admission webhooks
+    labels: {}
</span> 
     # Use an existing PSP instead of creating one
     existingPsp: ""
<span class="p">@@ -606,6 +608,8 @@</span> controller:
       nodeSelector:
         kubernetes.io/os: linux
       tolerations: []
<span class="gi">+      ## Labels to be added to patch job resources
+      labels: {}
</span>       runAsUser: 2000
 
   metrics:
<span class="p">@@ -840,6 +844,8 @@</span> defaultBackend:
     type: ClusterIP
 
   priorityClassName: ""
<span class="gi">+  ## Labels to be added to the default backend resources
+  labels: {}
</span> 
 ## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
 rbac:
<span class="err">
</span></code></pre></div></div> <h2 id="408"> <a href="#408" class="anchor-heading" aria-labelledby="408"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.8 </h2> <p><strong>Release date:</strong> 2021-11-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.5&amp;color=success" alt="AppVersion: 1.0.5"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Force helm v4.0.8 release (#7928)</li> </ul> <h3 id="default-value-changes-47"> <a href="#default-value-changes-47" class="anchor-heading" aria-labelledby="default-value-changes-47"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="407"> <a href="#407" class="anchor-heading" aria-labelledby="407"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.7 </h2> <p><strong>Release date:</strong> 2021-11-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.5&amp;color=success" alt="AppVersion: 1.0.5"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.0.5 documents (#7924)</li> <li>helm chart: choice option for internal/external loadbalancer type service (#7806)</li> <li>Allow setting of container securityContext (#7533)</li> <li>support watch namespaces matched namespace selector (#7472)</li> <li>Fix Ingress resources in docs (#7579)</li> <li>Remove double spacing (#7830)</li> <li>priorityClassName should be in “ “ (#7512)</li> <li>ServiceMonitor namespaceSelector defaults to current namespace (#7001)</li> <li>Remove deprecated annotation in helm chart example (#7813)</li> <li>Refactor: update DaemonSet and Deployment command params to use templates (#7689)</li> </ul> <h3 id="default-value-changes-48"> <a href="#default-value-changes-48" class="anchor-heading" aria-labelledby="default-value-changes-48"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 86028fdd2..d572f3e62 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.4"
-    digest: sha256:545cff00370f28363dad31e3b59a94ba377854d3a11f18988f5f9e56841ef9ef
</span><span class="gi">+    tag: "v1.0.5"
+    digest: sha256:55a1fcda5b7657c372515fe402c3e39ad93aa59f6e4378e82acd99912fe6028d
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -137,6 +137,9 @@</span> controller:
   scope:
     enabled: false
     namespace: ""   # defaults to $(POD_NAMESPACE)
<span class="gi">+    # When scope.enabled == false, instead of watching all namespaces, we watching namespaces whose labels
+    #   only match with namespaceSelector. Format like foo=bar. Defaults to empty, means watching all namespaces.
+    namespaceSelector: ""
</span> 
   ## Allows customization of the configmap / nginx-configmap namespace
   ##
<span class="p">@@ -491,6 +494,9 @@</span> controller:
       tcp: {}
       udp: {}
 
<span class="gi">+    external:
+      enabled: true
+
</span>     ## Enables an additional internal load balancer (besides the external one).
     ## Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
     internal:
<span class="p">@@ -768,6 +774,12 @@</span> defaultBackend:
   ##
   podSecurityContext: {}
 
<span class="gi">+  ## Security Context policies for controller main container.
+  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  ## notes on enabling and using sysctls
+  ##
+  containerSecurityContext: {}
+
</span>   # labels to add to the pod container metadata
   podLabels: {}
   #  key: value
<span class="err">
</span></code></pre></div></div> <h2 id="406"> <a href="#406" class="anchor-heading" aria-labelledby="406"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.6 </h2> <p><strong>Release date:</strong> 2021-10-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.4&amp;color=success" alt="AppVersion: 1.0.4"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.0.4 (#7805)</li> <li>Update ingress-nginx/kube-webhook-certgen image to latest v1.1.1 (#7793)</li> <li>Support ipFamilyPolicy and ipFamilies fields in Helm Chart (#7651)</li> <li>added ingressClassName field in example ingress (#7797)</li> <li>Add service-metrics port protocol (#7782)</li> </ul> <h3 id="default-value-changes-49"> <a href="#default-value-changes-49" class="anchor-heading" aria-labelledby="default-value-changes-49"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c4d3ef389..86028fdd2 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.3"
-    digest: sha256:4ade87838eb8256b094fbb5272d7dda9b6c7fa8b759e6af5383c1300996a7452
</span><span class="gi">+    tag: "v1.0.4"
+    digest: sha256:545cff00370f28363dad31e3b59a94ba377854d3a11f18988f5f9e56841ef9ef
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -444,20 +444,31 @@</span> controller:
     enableHttp: true
     enableHttps: true
 
<span class="gd">-    ## Set external traffic policy to: "Local" to preserve source IP on
-    ## providers supporting it
</span><span class="gi">+    ## Set external traffic policy to: "Local" to preserve source IP on providers supporting it.
</span>     ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
     # externalTrafficPolicy: ""
 
<span class="gd">-    # Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
-    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
</span><span class="gi">+    ## Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
</span>     # sessionAffinity: ""
 
<span class="gd">-    # specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
-    # the service controller allocates a port from your cluster’s NodePort range.
-    # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
</span><span class="gi">+    ## Specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
+    ## the service controller allocates a port from your cluster’s NodePort range.
+    ## Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
</span>     # healthCheckNodePort: 0
 
<span class="gi">+    ## Represents the dual-stack-ness requested or required by this Service. Possible values are
+    ## SingleStack, PreferDualStack or RequireDualStack.
+    ## The ipFamilies and clusterIPs fields depend on the value of this field.
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+    ipFamilyPolicy: "SingleStack"
+
+    ## List of IP families (e.g. IPv4, IPv6) assigned to the service. This field is usually assigned automatically
+    ## based on cluster configuration and the ipFamilyPolicy field.
+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/dual-stack/
+    ipFamilies:
+      - IPv4
+
</span>     ports:
       http: 80
       https: 443
<span class="p">@@ -579,8 +590,8 @@</span> controller:
         # for backwards compatibility consider setting the full image url via the repository value below
         # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         # repository:
<span class="gd">-        tag: v1.0
-        digest: sha256:f3b6b39a6062328c095337b4cadcefd1612348fdd5190b1dcbcb9b9e90bd8068
</span><span class="gi">+        tag: v1.1.1
+        digest: sha256:64d8c73dca984af206adf9d6d7e46aa550362b1d7a01f3a0a91b20cc67868660
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="405"> <a href="#405" class="anchor-heading" aria-labelledby="405"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.5 </h2> <p><strong>Release date:</strong> 2021-10-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.3&amp;color=success" alt="AppVersion: 1.0.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump the version to fix the build issues (#7751)</li> </ul> <h3 id="default-value-changes-50"> <a href="#default-value-changes-50" class="anchor-heading" aria-labelledby="default-value-changes-50"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="404"> <a href="#404" class="anchor-heading" aria-labelledby="404"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.4 </h2> <p><strong>Release date:</strong> 2021-10-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.3&amp;color=success" alt="AppVersion: 1.0.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.0.3 (#7743)</li> </ul> <h3 id="default-value-changes-51"> <a href="#default-value-changes-51" class="anchor-heading" aria-labelledby="default-value-changes-51"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 602b7f563..c4d3ef389 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.2"
-    digest: sha256:85b53b493d6d658d8c013449223b0ffd739c76d76dc9bf9000786669ec04e049
</span><span class="gi">+    tag: "v1.0.3"
+    digest: sha256:4ade87838eb8256b094fbb5272d7dda9b6c7fa8b759e6af5383c1300996a7452
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="403"> <a href="#403" class="anchor-heading" aria-labelledby="403"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.3 </h2> <p><strong>Release date:</strong> 2021-09-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.2&amp;color=success" alt="AppVersion: 1.0.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1.0.2 (#7709)</li> </ul> <h3 id="default-value-changes-52"> <a href="#default-value-changes-52" class="anchor-heading" aria-labelledby="default-value-changes-52"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 8cf1ee8b4..602b7f563 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.1"
-    digest: sha256:26bbd57f32bac3b30f90373005ef669aae324a4de4c19588a13ddba399c6664e
</span><span class="gi">+    tag: "v1.0.2"
+    digest: sha256:85b53b493d6d658d8c013449223b0ffd739c76d76dc9bf9000786669ec04e049
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="402"> <a href="#402" class="anchor-heading" aria-labelledby="402"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.2 </h2> <p><strong>Release date:</strong> 2021-09-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.1&amp;color=success" alt="AppVersion: 1.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>preparing release v1.0.1 (#7681)</li> <li>Change enable-snippet to allow-snippet-annotation (#7670)</li> <li>Add option to force enabling snippet directives (#7665)</li> <li>Add new flag to watch ingressclass by name instead of spec (#7609)</li> <li>Helm notes outputs non nil value for ingress.class annotation (#7611)</li> <li>fix charts README.md to give additional detail on prometheus metrics … (#7601)</li> <li>add same tcp and udp ports to internal load balancer (#7511)</li> <li>Add a flag to specify address to bind the healthz server (#7541)</li> </ul> <h3 id="default-value-changes-53"> <a href="#default-value-changes-53" class="anchor-heading" aria-labelledby="default-value-changes-53"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index e64e4ca2f..8cf1ee8b4 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.0"
-    digest: sha256:0851b34f69f69352bf168e6ccf30e1e20714a264ab1ecd1933e4d8c0fc3215c6
</span><span class="gi">+    tag: "v1.0.1"
+    digest: sha256:26bbd57f32bac3b30f90373005ef669aae324a4de4c19588a13ddba399c6664e
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -66,6 +66,15 @@</span> controller:
   # Defaults to false
   watchIngressWithoutClass: false
 
<span class="gi">+  # Process IngressClass per name (additionally as per spec.controller)
+  ingressClassByName: false
+
+  # This configuration defines if Ingress Controller should allow users to set
+  # their own *-snippet annotations, otherwise this is forbidden / dropped
+  # when users add those annotations.
+  # Global snippets in ConfigMap are still respected
+  allowSnippetAnnotations: true
+
</span>   # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
   # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
   # is merged
<span class="p">@@ -311,6 +320,11 @@</span> controller:
   # the healthz-port parameter are forwarded internally to this path.
   healthCheckPath: "/healthz"
 
<span class="gi">+  # Address to bind the health check endpoint.
+  # It is better to set this option to the internal node address
+  # if the ingress nginx controller is running in the hostNetwork: true mode.
+  healthCheckHost: ""
+
</span>   ## Annotations to be added to controller pods
   ##
   podAnnotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="401"> <a href="#401" class="anchor-heading" aria-labelledby="401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.1 </h2> <p><strong>Release date:</strong> 2021-08-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.0&amp;color=success" alt="AppVersion: 1.0.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release v1.0.0 (#7535)</li> <li>Add appProtocol field to all ServicePorts (#7493)</li> <li>[Helm] Make HPA behavior configurable (#7203)</li> </ul> <h3 id="default-value-changes-54"> <a href="#default-value-changes-54" class="anchor-heading" aria-labelledby="default-value-changes-54"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1c3c1e021..e64e4ca2f 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v1.0.0-beta.3"
-    digest: sha256:44a7a06b71187a4529b0a9edee5cc22bdf71b414470eff696c3869ea8d90a695
</span><span class="gi">+    tag: "v1.0.0"
+    digest: sha256:0851b34f69f69352bf168e6ccf30e1e20714a264ab1ecd1933e4d8c0fc3215c6
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -338,6 +338,19 @@</span> controller:
     maxReplicas: 11
     targetCPUUtilizationPercentage: 50
     targetMemoryUtilizationPercentage: 50
<span class="gi">+    behavior: {}
+      # scaleDown:
+      #   stabilizationWindowSeconds: 300
+      #  policies:
+      #   - type: Pods
+      #     value: 1
+      #     periodSeconds: 180
+      # scaleUp:
+      #   stabilizationWindowSeconds: 300
+      #   policies:
+      #   - type: Pods
+      #     value: 2
+      #     periodSeconds: 60
</span> 
   autoscalingTemplate: []
   # Custom or additional autoscaling metrics
<span class="err">
</span></code></pre></div></div> <h2 id="400-beta3"> <a href="#400-beta3" class="anchor-heading" aria-labelledby="400-beta3"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.0-beta.3 </h2> <p><strong>Release date:</strong> 2021-08-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=1.0.0-beta.3&amp;color=success" alt="AppVersion: 1.0.0-beta.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v1 (#7470)</li> </ul> <h3 id="default-value-changes-55"> <a href="#default-value-changes-55" class="anchor-heading" aria-labelledby="default-value-changes-55"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 54ee795e6..1c3c1e021 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v0.49.0"
-    digest: sha256:e9707504ad0d4c119036b6d41ace4a33596139d3feb9ccb6617813ce48c3eeef
</span><span class="gi">+    tag: "v1.0.0-beta.3"
+    digest: sha256:44a7a06b71187a4529b0a9edee5cc22bdf71b414470eff696c3869ea8d90a695
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -61,6 +61,11 @@</span> controller:
   # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
   reportNodeInternalIp: false
 
<span class="gi">+  # Process Ingress objects without ingressClass annotation/ingressClassName field
+  # Overrides value for --watch-ingress-without-class flag of the controller binary
+  # Defaults to false
+  watchIngressWithoutClass: false
+
</span>   # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
   # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
   # is merged
<span class="p">@@ -79,15 +84,13 @@</span> controller:
   ##
   electionID: ingress-controller-leader
 
<span class="gd">-  ## Name of the ingress class to route through this controller
-  ##
-  ingressClass: nginx
-
</span>   # This section refers to the creation of the IngressClass resource
<span class="gd">-  # IngressClass resources are supported since k8s &gt;= 1.18
</span><span class="gi">+  # IngressClass resources are supported since k8s &gt;= 1.18 and required since k8s &gt;= 1.19
</span>   ingressClassResource:
<span class="gd">-    enabled: false
</span><span class="gi">+    name: nginx
+    enabled: true
</span>     default: false
<span class="gi">+    controllerValue: "k8s.io/ingress-nginx"
</span> 
     # Parameters is a link to a custom resource containing additional
     # configuration for the controller. This is optional if the controller
<span class="p">@@ -124,23 +127,23 @@</span> controller:
   ##
   scope:
     enabled: false
<span class="gd">-    namespace: ""   # defaults to .Release.Namespace
</span><span class="gi">+    namespace: ""   # defaults to $(POD_NAMESPACE)
</span> 
   ## Allows customization of the configmap / nginx-configmap namespace
   ##
<span class="gd">-  configMapNamespace: ""   # defaults to .Release.Namespace
</span><span class="gi">+  configMapNamespace: ""   # defaults to $(POD_NAMESPACE)
</span> 
   ## Allows customization of the tcp-services-configmap
   ##
   tcp:
<span class="gd">-    configMapNamespace: ""   # defaults to .Release.Namespace
</span><span class="gi">+    configMapNamespace: ""   # defaults to $(POD_NAMESPACE)
</span>     ## Annotations to be added to the tcp config configmap
     annotations: {}
 
   ## Allows customization of the udp-services-configmap
   ##
   udp:
<span class="gd">-    configMapNamespace: ""   # defaults to .Release.Namespace
</span><span class="gi">+    configMapNamespace: ""   # defaults to $(POD_NAMESPACE)
</span>     ## Annotations to be added to the udp config configmap
     annotations: {}
 
<span class="p">@@ -544,12 +547,13 @@</span> controller:
     patch:
       enabled: true
       image:
<span class="gd">-        registry: docker.io
-        image: jettech/kube-webhook-certgen
</span><span class="gi">+        registry: k8s.gcr.io
+        image: ingress-nginx/kube-webhook-certgen
</span>         # for backwards compatibility consider setting the full image url via the repository value below
         # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
         # repository:
<span class="gd">-        tag: v1.5.1
</span><span class="gi">+        tag: v1.0
+        digest: sha256:f3b6b39a6062328c095337b4cadcefd1612348fdd5190b1dcbcb9b9e90bd8068
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="3360"> <a href="#3360" class="anchor-heading" aria-labelledby="3360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.36.0 </h2> <p><strong>Release date:</strong> 2021-08-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Prepare for v0.49.0 release (#7509)</li> <li>Add linux node selector as default (#7481)</li> <li>Add hostname value to override pod’s hostname (#7386)</li> <li>Change all master reference to main (#7369)</li> <li>Helm - Enable configuring request and limit for containers in webhook jobs (#7434)</li> <li>Add scope configuration check. (#6864)</li> <li>Bump PDB API version to v1 (#7421)</li> </ul> <h3 id="default-value-changes-56"> <a href="#default-value-changes-56" class="anchor-heading" aria-labelledby="default-value-changes-56"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index f5496eb61..54ee795e6 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -1,5 +1,5 @@</span>
 ## nginx configuration
<span class="gd">-## Ref: https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/nginx-configuration/index.md
</span><span class="gi">+## Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/index.md
</span> ##
 
 ## Overrides for generated resource names
<span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v0.48.1"
-    digest: sha256:e9fb216ace49dfa4a5983b183067e97496e7a8b307d2093f4278cd550c303899
</span><span class="gi">+    tag: "v0.49.0"
+    digest: sha256:e9707504ad0d4c119036b6d41ace4a33596139d3feb9ccb6617813ce48c3eeef
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -40,7 +40,7 @@</span> controller:
   ##
   configAnnotations: {}
 
<span class="gd">-  # Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/customization/custom-headers
</span><span class="gi">+  # Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/custom-headers
</span>   proxySetHeaders: {}
 
   # Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
<span class="p">@@ -49,6 +49,9 @@</span> controller:
   # Optionally customize the pod dnsConfig.
   dnsConfig: {}
 
<span class="gi">+  # Optionally customize the pod hostname.
+  hostname: {}
+
</span>   # Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
   # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
   # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
<span class="p">@@ -526,6 +529,18 @@</span> controller:
       servicePort: 443
       type: ClusterIP
 
<span class="gi">+    createSecretJob:
+      resources: {}
+        # limits:
+        #   cpu: 10m
+        #   memory: 20Mi
+        # requests:
+        #   cpu: 10m
+        #   memory: 20Mi
+
+    patchWebhookJob:
+      resources: {}
+
</span>     patch:
       enabled: true
       image:
<span class="p">@@ -540,7 +555,8 @@</span> controller:
       ##
       priorityClassName: ""
       podAnnotations: {}
<span class="gd">-      nodeSelector: {}
</span><span class="gi">+      nodeSelector:
+        kubernetes.io/os: linux
</span>       tolerations: []
       runAsUser: 2000
 
<span class="p">@@ -717,7 +733,8 @@</span> defaultBackend:
   ## Node labels for default backend pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="gd">-  nodeSelector: {}
</span><span class="gi">+  nodeSelector:
+    kubernetes.io/os: linux
</span> 
   ## Annotations to be added to default backend pods
   ##
<span class="p">@@ -770,7 +787,7 @@</span> defaultBackend:
 
   priorityClassName: ""
 
<span class="gd">-## Enable RBAC as per https://github.com/kubernetes/ingress/tree/master/examples/rbac/nginx and https://github.com/kubernetes/ingress/issues/266
</span><span class="gi">+## Enable RBAC as per https://github.com/kubernetes/ingress-nginx/blob/main/docs/deploy/rbac.md and https://github.com/kubernetes/ingress-nginx/issues/266
</span> rbac:
   create: true
   scope: false
<span class="p">@@ -791,18 +808,18 @@</span> imagePullSecrets: []
 # - name: secretName
 
 # TCP service key:value pairs
<span class="gd">-# Ref: https://github.com/kubernetes/contrib/tree/master/ingress/controllers/nginx/examples/tcp
</span><span class="gi">+# Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
</span> ##
 tcp: {}
 #  8080: "default/example-tcp-svc:9000"
 
 # UDP service key:value pairs
<span class="gd">-# Ref: https://github.com/kubernetes/contrib/tree/master/ingress/controllers/nginx/examples/udp
</span><span class="gi">+# Ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/exposing-tcp-udp-services.md
</span> ##
 udp: {}
 #  53: "kube-system/kube-dns:53"
 
 # A base64ed Diffie-Hellman parameter
 # This can be generated with: openssl dhparam 4096 2&gt; /dev/null | base64
<span class="gd">-# Ref: https://github.com/krmichel/ingress-nginx/blob/master/docs/examples/customization/ssl-dh-param
</span><span class="gi">+# Ref: https://github.com/kubernetes/ingress-nginx/tree/main/docs/examples/customization/ssl-dh-param
</span> dhParam:
<span class="err">
</span></code></pre></div></div> <h2 id="3350"> <a href="#3350" class="anchor-heading" aria-labelledby="3350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.35.0 </h2> <p><strong>Release date:</strong> 2021-08-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fixed chart version (#7423)</li> <li>aws-load-balancer-internal is a boolean value (#7353)</li> <li>Automatically add area labels to help triaging (#7387)</li> <li>update OWNERS and aliases files (#7365)</li> <li>Add cpanato as Helm chart approver (#7364)</li> <li>update v0.48.1 (#7350)</li> </ul> <h3 id="default-value-changes-57"> <a href="#default-value-changes-57" class="anchor-heading" aria-labelledby="default-value-changes-57"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 460b19884..f5496eb61 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v0.47.0"
-    digest: sha256:a1e4efc107be0bb78f32eaec37bef17d7a0c81bec8066cdf2572508d21351d0b
</span><span class="gi">+    tag: "v0.48.1"
+    digest: sha256:e9fb216ace49dfa4a5983b183067e97496e7a8b307d2093f4278cd550c303899
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3340"> <a href="#3340" class="anchor-heading" aria-labelledby="3340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.34.0 </h2> <p><strong>Release date:</strong> 2021-06-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>release: helm chart v3.34.0 (#7258)</li> <li>added namespace field in the namespace scoped resource templates of helm chart (#7256)</li> <li>helm: add new ingressClass resource (#6882)</li> </ul> <h3 id="default-value-changes-58"> <a href="#default-value-changes-58" class="anchor-heading" aria-labelledby="default-value-changes-58"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 42fe0c77e..460b19884 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -80,6 +80,17 @@</span> controller:
   ##
   ingressClass: nginx
 
<span class="gi">+  # This section refers to the creation of the IngressClass resource
+  # IngressClass resources are supported since k8s &gt;= 1.18
+  ingressClassResource:
+    enabled: false
+    default: false
+
+    # Parameters is a link to a custom resource containing additional
+    # configuration for the controller. This is optional if the controller
+    # does not require extra parameters.
+    parameters: {}
+
</span>   # labels to add to the pod container metadata
   podLabels: {}
   #  key: value
<span class="err">
</span></code></pre></div></div> <h2 id="3330"> <a href="#3330" class="anchor-heading" aria-labelledby="3330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.33.0 </h2> <p><strong>Release date:</strong> 2021-06-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v0.47.0 (#7211)</li> </ul> <h3 id="default-value-changes-59"> <a href="#default-value-changes-59" class="anchor-heading" aria-labelledby="default-value-changes-59"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c3f7011f5..42fe0c77e 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -15,8 +15,8 @@</span> controller:
     # for backwards compatibility consider setting the full image url via the repository value below
     # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
     # repository:
<span class="gd">-    tag: "v0.46.0"
-    digest: sha256:52f0058bed0a17ab0fb35628ba97e8d52b5d32299fbc03cc0f6c7b9ff036b61a
</span><span class="gi">+    tag: "v0.47.0"
+    digest: sha256:a1e4efc107be0bb78f32eaec37bef17d7a0c81bec8066cdf2572508d21351d0b
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3320"> <a href="#3320" class="anchor-heading" aria-labelledby="3320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.32.0 </h2> <p><strong>Release date:</strong> 2021-06-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add annotations for HPA (#7117)</li> <li>Update controller-poddisruptionbudget.yaml (#6734)</li> <li>Commented by default deprecated repository key/value pair (#7174)</li> <li>updated values.yaml and templates to have separate values for registry and image with container images, left repository value for backwards compatability (#7095)</li> </ul> <h3 id="default-value-changes-60"> <a href="#default-value-changes-60" class="anchor-heading" aria-labelledby="default-value-changes-60"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index cd1f90760..c3f7011f5 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -10,7 +10,11 @@</span>
 controller:
   name: controller
   image:
<span class="gd">-    repository: k8s.gcr.io/ingress-nginx/controller
</span><span class="gi">+    registry: k8s.gcr.io
+    image: ingress-nginx/controller
+    # for backwards compatibility consider setting the full image url via the repository value below
+    # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    # repository:
</span>     tag: "v0.46.0"
     digest: sha256:52f0058bed0a17ab0fb35628ba97e8d52b5d32299fbc03cc0f6c7b9ff036b61a
     pullPolicy: IfNotPresent
<span class="p">@@ -514,7 +518,11 @@</span> controller:
     patch:
       enabled: true
       image:
<span class="gd">-        repository: docker.io/jettech/kube-webhook-certgen
</span><span class="gi">+        registry: docker.io
+        image: jettech/kube-webhook-certgen
+        # for backwards compatibility consider setting the full image url via the repository value below
+        # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+        # repository:
</span>         tag: v1.5.1
         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
<span class="p">@@ -631,7 +639,11 @@</span> defaultBackend:
 
   name: defaultbackend
   image:
<span class="gd">-    repository: k8s.gcr.io/defaultbackend-amd64
</span><span class="gi">+    registry: k8s.gcr.io
+    image: defaultbackend-amd64
+    # for backwards compatibility consider setting the full image url via the repository value below
+    # use *either* current default registry/image or repository format or installing chart by providing the values.yaml will fail
+    # repository:
</span>     tag: "1.5"
     pullPolicy: IfNotPresent
     # nobody user -&gt; uid 65534
<span class="p">@@ -723,6 +735,7 @@</span> defaultBackend:
   #    emptyDir: {}
 
   autoscaling:
<span class="gi">+    annotations: {}
</span>     enabled: false
     minReplicas: 1
     maxReplicas: 2
<span class="err">
</span></code></pre></div></div> <h2 id="3310"> <a href="#3310" class="anchor-heading" aria-labelledby="3310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.31.0 </h2> <p><strong>Release date:</strong> 2021-05-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for custom probes (#7137)</li> <li>Merge pull request #7046 from amirschw/controller-name</li> <li>fix typos</li> </ul> <h3 id="default-value-changes-61"> <a href="#default-value-changes-61" class="anchor-heading" aria-labelledby="default-value-changes-61"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 95726f236..cd1f90760 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -12,7 +12,7 @@</span> controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
     tag: "v0.46.0"
<span class="gd">-    digest: sha256:c4390c53f348c3bd4e60a5dd6a11c35799ae78c49388090140b9d72ccede1755
</span><span class="gi">+    digest: sha256:52f0058bed0a17ab0fb35628ba97e8d52b5d32299fbc03cc0f6c7b9ff036b61a
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -21,6 +21,9 @@</span> controller:
   # Use an existing PSP instead of creating one
   existingPsp: ""
 
<span class="gi">+  # Configures the controller container name
+  containerName: controller
+
</span>   # Configures the ports the nginx-controller listens on
   containerPort:
     http: 80
<span class="p">@@ -248,20 +251,40 @@</span> controller:
   ## Liveness and readiness probe values
   ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
   ##
<span class="gi">+  # startupProbe:
+  #   httpGet:
+  #     # should match container.healthCheckPath
+  #     path: "/healthz"
+  #     port: 10254
+  #     scheme: HTTP
+  #   initialDelaySeconds: 5
+  #   periodSeconds: 5
+  #   timeoutSeconds: 2
+  #   successThreshold: 1
+  #   failureThreshold: 5
</span>   livenessProbe:
<span class="gd">-    failureThreshold: 5
</span><span class="gi">+    httpGet:
+      # should match container.healthCheckPath
+      path: "/healthz"
+      port: 10254
+      scheme: HTTP
</span>     initialDelaySeconds: 10
     periodSeconds: 10
<span class="gd">-    successThreshold: 1
</span>     timeoutSeconds: 1
<span class="gd">-    port: 10254
</span><span class="gi">+    successThreshold: 1
+    failureThreshold: 5
</span>   readinessProbe:
<span class="gd">-    failureThreshold: 3
</span><span class="gi">+    httpGet:
+      # should match container.healthCheckPath
+      path: "/healthz"
+      port: 10254
+      scheme: HTTP
</span>     initialDelaySeconds: 10
     periodSeconds: 10
<span class="gd">-    successThreshold: 1
</span>     timeoutSeconds: 1
<span class="gd">-    port: 10254
</span><span class="gi">+    successThreshold: 1
+    failureThreshold: 3
+
</span> 
   # Path of the health check endpoint. All requests received on the port defined by
   # the healthz-port parameter are forwarded internally to this path.
<span class="err">
</span></code></pre></div></div> <h2 id="3300"> <a href="#3300" class="anchor-heading" aria-labelledby="3300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.30.0 </h2> <p><strong>Release date:</strong> 2021-04-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>update the helm chart</li> <li>Merge pull request #6836 from RammusXu/patch-1</li> <li>[docs] Documentation for Oracle Cloud Infrastructure integration</li> <li>[Helm] allow configuring controller container name</li> </ul> <h3 id="default-value-changes-62"> <a href="#default-value-changes-62" class="anchor-heading" aria-labelledby="default-value-changes-62"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 9f4201b30..95726f236 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -11,7 +11,7 @@</span> controller:
   name: controller
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.45.0"
</span><span class="gi">+    tag: "v0.46.0"
</span>     digest: sha256:c4390c53f348c3bd4e60a5dd6a11c35799ae78c49388090140b9d72ccede1755
     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
<span class="err">
</span></code></pre></div></div> <h2 id="3290"> <a href="#3290" class="anchor-heading" aria-labelledby="3290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.29.0 </h2> <p><strong>Release date:</strong> 2021-04-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘master’ of github.com:kubernetes/ingress-nginx into add-servicemonitor-joblabel</li> <li>Support existing PSPs in Helm chart</li> </ul> <h3 id="default-value-changes-63"> <a href="#default-value-changes-63" class="anchor-heading" aria-labelledby="default-value-changes-63"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 0b5738807..9f4201b30 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -18,6 +18,9 @@</span> controller:
     runAsUser: 101
     allowPrivilegeEscalation: true
 
<span class="gi">+  # Use an existing PSP instead of creating one
+  existingPsp: ""
+
</span>   # Configures the ports the nginx-controller listens on
   containerPort:
     http: 80
<span class="p">@@ -473,6 +476,9 @@</span> controller:
     namespaceSelector: {}
     objectSelector: {}
 
<span class="gi">+    # Use an existing PSP instead of creating one
+    existingPsp: ""
+
</span>     service:
       annotations: {}
       # clusterIP: ""
<span class="p">@@ -611,6 +617,9 @@</span> defaultBackend:
     readOnlyRootFilesystem: true
     allowPrivilegeEscalation: false
 
<span class="gi">+  # Use an existing PSP instead of creating one
+  existingPsp: ""
+
</span>   extraArgs: {}
 
   serviceAccount:
<span class="err">
</span></code></pre></div></div> <h2 id="3280"> <a href="#3280" class="anchor-heading" aria-labelledby="3280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.28.0 </h2> <p><strong>Release date:</strong> 2021-04-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘master’ into add-servicemonitor-joblabel</li> <li>Remove trailing spaces</li> <li>Update changelog</li> <li>Release helm chart v3.27.0</li> </ul> <h3 id="default-value-changes-64"> <a href="#default-value-changes-64" class="anchor-heading" aria-labelledby="default-value-changes-64"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index f4689f254..0b5738807 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -11,8 +11,8 @@</span> controller:
   name: controller
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.44.0"
-    digest: sha256:3dd0fac48073beaca2d67a78c746c7593f9c575168a17139a9955a82c63c4b9a
</span><span class="gi">+    tag: "v0.45.0"
+    digest: sha256:c4390c53f348c3bd4e60a5dd6a11c35799ae78c49388090140b9d72ccede1755
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3270"> <a href="#3270" class="anchor-heading" aria-labelledby="3270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.27.0 </h2> <p><strong>Release date:</strong> 2021-04-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump chart version and update changelog</li> <li>Add option to specify job label for service monitor</li> </ul> <h3 id="default-value-changes-65"> <a href="#default-value-changes-65" class="anchor-heading" aria-labelledby="default-value-changes-65"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 5c8eb6ce6..f4689f254 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -523,6 +523,8 @@</span> controller:
     serviceMonitor:
       enabled: false
       additionalLabels: {}
<span class="gi">+      # The label to use to retrieve the job name from.
+      # jobLabel: "app.kubernetes.io/name"
</span>       namespace: ""
       namespaceSelector: {}
       # Default: scrape .Release.Namespace only
<span class="err">
</span></code></pre></div></div> <h2 id="3260"> <a href="#3260" class="anchor-heading" aria-labelledby="3260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.26.0 </h2> <p><strong>Release date:</strong> 2021-03-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>changed value of serviceport</li> </ul> <h3 id="default-value-changes-66"> <a href="#default-value-changes-66" class="anchor-heading" aria-labelledby="default-value-changes-66"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 863c6087d..5c8eb6ce6 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -515,7 +515,7 @@</span> controller:
 
       # loadBalancerIP: ""
       loadBalancerSourceRanges: []
<span class="gd">-      servicePort: 9913
</span><span class="gi">+      servicePort: 10254
</span>       type: ClusterIP
       # externalTrafficPolicy: ""
       # nodePort: ""
<span class="err">
</span></code></pre></div></div> <h2 id="3250"> <a href="#3250" class="anchor-heading" aria-labelledby="3250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.25.0 </h2> <p><strong>Release date:</strong> 2021-03-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add ability to specify automountServiceAccountToken</li> </ul> <h3 id="default-value-changes-67"> <a href="#default-value-changes-67" class="anchor-heading" aria-labelledby="default-value-changes-67"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 7152c7960..863c6087d 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -614,6 +614,7 @@</span> defaultBackend:
   serviceAccount:
     create: true
     name: ""
<span class="gi">+    automountServiceAccountToken: true
</span>   ## Additional environment variables to set for defaultBackend pods
   extraEnvs: []
 
<span class="p">@@ -724,6 +725,7 @@</span> podSecurityPolicy:
 serviceAccount:
   create: true
   name: ""
<span class="gi">+  automountServiceAccountToken: true
</span> 
 ## Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
<span class="err">
</span></code></pre></div></div> <h2 id="3240"> <a href="#3240" class="anchor-heading" aria-labelledby="3240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.24.0 </h2> <p><strong>Release date:</strong> 2021-02-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat(chart) Add volumes to default-backend deployment</li> </ul> <h3 id="default-value-changes-68"> <a href="#default-value-changes-68" class="anchor-heading" aria-labelledby="default-value-changes-68"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1915b447b..7152c7960 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -11,8 +11,8 @@</span> controller:
   name: controller
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.43.0"
-    digest: sha256:9bba603b99bf25f6d117cf1235b6598c16033ad027b143c90fa5b3cc583c5713
</span><span class="gi">+    tag: "v0.44.0"
+    digest: sha256:3dd0fac48073beaca2d67a78c746c7593f9c575168a17139a9955a82c63c4b9a
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -677,6 +677,16 @@</span> defaultBackend:
   #   cpu: 10m
   #   memory: 20Mi
 
<span class="gi">+  extraVolumeMounts: []
+  ## Additional volumeMounts to the default backend container.
+  #  - name: copy-portal-skins
+  #   mountPath: /var/lib/lemonldap-ng/portal/skins
+
+  extraVolumes: []
+  ## Additional volumes to the default backend pod.
+  #  - name: copy-portal-skins
+  #    emptyDir: {}
+
</span>   autoscaling:
     enabled: false
     minReplicas: 1
<span class="err">
</span></code></pre></div></div> <h2 id="3220"> <a href="#3220" class="anchor-heading" aria-labelledby="3220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.22.0 </h2> <p><strong>Release date:</strong> 2021-02-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>More information for earlier than GKE 1.17</li> <li>Release v0.44.0</li> </ul> <h3 id="default-value-changes-69"> <a href="#default-value-changes-69" class="anchor-heading" aria-labelledby="default-value-changes-69"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3230"> <a href="#3230" class="anchor-heading" aria-labelledby="3230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.23.0 </h2> <p><strong>Release date:</strong> 2021-02-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart v3.23.0</li> <li>Update GKE internal LB annotations</li> </ul> <h3 id="default-value-changes-70"> <a href="#default-value-changes-70" class="anchor-heading" aria-labelledby="default-value-changes-70"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1915b447b..2f4c820e2 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -11,8 +11,8 @@</span> controller:
   name: controller
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.43.0"
-    digest: sha256:9bba603b99bf25f6d117cf1235b6598c16033ad027b143c90fa5b3cc583c5713
</span><span class="gi">+    tag: "v0.44.0"
+    digest: sha256:3dd0fac48073beaca2d67a78c746c7593f9c575168a17139a9955a82c63c4b9a
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3220-1"> <a href="#3220-1" class="anchor-heading" aria-labelledby="3220-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.22.0 </h2> <p><strong>Release date:</strong> 2021-01-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart v3.22.0</li> <li>Merge pull request #6817 from kundan2707/wrongconfigpath</li> <li>Allow use of numeric namespaces in helm chart</li> <li>corrected nginx configuration doc path</li> <li>Add value for configuring a custom Diffie-Hellman parameters file</li> </ul> <h3 id="default-value-changes-71"> <a href="#default-value-changes-71" class="anchor-heading" aria-labelledby="default-value-changes-71"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 28538d113..1915b447b 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -1,5 +1,5 @@</span>
 ## nginx configuration
<span class="gd">-## Ref: https://github.com/kubernetes/ingress-nginx/blob/master/controllers/nginx/configuration.md
</span><span class="gi">+## Ref: https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/nginx-configuration/index.md
</span> ##
 
 ## Overrides for generated resource names
<span class="p">@@ -731,3 +731,8 @@</span> tcp: {}
 ##
 udp: {}
 #  53: "kube-system/kube-dns:53"
<span class="gi">+
+# A base64ed Diffie-Hellman parameter
+# This can be generated with: openssl dhparam 4096 2&gt; /dev/null | base64
+# Ref: https://github.com/krmichel/ingress-nginx/blob/master/docs/examples/customization/ssl-dh-param
+dhParam:
</span><span class="err">
</span></code></pre></div></div> <h2 id="3210"> <a href="#3210" class="anchor-heading" aria-labelledby="3210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.21.0 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart v3.21.0</li> <li>Remove ClusterRole when scope option is enabled</li> <li>Update kube-webhook-certgen image to v1.5.1</li> <li>Merge pull request #6783 from irizzant/keda-scaledobject-annotations</li> <li>Add custom ScaledObject annotations</li> <li>Adding in the serviceAccount name</li> </ul> <h3 id="default-value-changes-72"> <a href="#default-value-changes-72" class="anchor-heading" aria-labelledby="default-value-changes-72"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c4f4105cc..28538d113 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -315,6 +315,11 @@</span> controller:
     pollingInterval: 30
     cooldownPeriod: 300
     restoreToOriginalReplicaCount: false
<span class="gi">+    scaledObject:
+      annotations: {}
+      # Custom annotations for ScaledObject resource
+      #  annotations:
+      # key: value
</span>     triggers: []
  #     - type: prometheus
  #       metadata:
<span class="p">@@ -481,7 +486,7 @@</span> controller:
       enabled: true
       image:
         repository: docker.io/jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.5.0
</span><span class="gi">+        tag: v1.5.1
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="p">@@ -608,7 +613,7 @@</span> defaultBackend:
 
   serviceAccount:
     create: true
<span class="gd">-    name:
</span><span class="gi">+    name: ""
</span>   ## Additional environment variables to set for defaultBackend pods
   extraEnvs: []
 
<span class="p">@@ -708,7 +713,7 @@</span> podSecurityPolicy:
 
 serviceAccount:
   create: true
<span class="gd">-  name:
</span><span class="gi">+  name: ""
</span> 
 ## Optional array of imagePullSecrets containing private registry credentials
 ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
<span class="err">
</span></code></pre></div></div> <h2 id="3201"> <a href="#3201" class="anchor-heading" aria-labelledby="3201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.20.1 </h2> <p><strong>Release date:</strong> 2021-01-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix scaleTargetRef definition for KEDA v.2</li> </ul> <h3 id="default-value-changes-73"> <a href="#default-value-changes-73" class="anchor-heading" aria-labelledby="default-value-changes-73"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3200"> <a href="#3200" class="anchor-heading" aria-labelledby="3200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.20.0 </h2> <p><strong>Release date:</strong> 2021-01-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Do not create HPA if default backend not enabled</li> <li>Merge pull request #6667 from tsuyo/patch-1</li> </ul> <h3 id="default-value-changes-74"> <a href="#default-value-changes-74" class="anchor-heading" aria-labelledby="default-value-changes-74"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3190"> <a href="#3190" class="anchor-heading" aria-labelledby="3190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.19.0 </h2> <p><strong>Release date:</strong> 2020-12-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart v3.19.0</li> </ul> <h3 id="default-value-changes-75"> <a href="#default-value-changes-75" class="anchor-heading" aria-labelledby="default-value-changes-75"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 0af3acdcc..c4f4105cc 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -11,8 +11,8 @@</span> controller:
   name: controller
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.42.0"
-    digest: sha256:f7187418c647af4a0039938b0ab36c2322ac3662d16be69f9cc178bfd25f7eee
</span><span class="gi">+    tag: "v0.43.0"
+    digest: sha256:9bba603b99bf25f6d117cf1235b6598c16033ad027b143c90fa5b3cc583c5713
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3180"> <a href="#3180" class="anchor-heading" aria-labelledby="3180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.18.0 </h2> <p><strong>Release date:</strong> 2020-12-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.0&amp;color=success" alt="AppVersion: 0.42.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart</li> <li>Merge pull request #6691 from dzirg44/ingress-config</li> <li>Merge pull request #6688 from mhulscher/psp-emptydir</li> <li>Change: toYaml to range</li> <li>feat: allow volume-type emptyDir in controller podsecuritypolicy</li> <li>Add GeoIP Local mirror support</li> </ul> <h3 id="default-value-changes-76"> <a href="#default-value-changes-76" class="anchor-heading" aria-labelledby="default-value-changes-76"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3170"> <a href="#3170" class="anchor-heading" aria-labelledby="3170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.17.0 </h2> <p><strong>Release date:</strong> 2020-12-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.0&amp;color=success" alt="AppVersion: 0.42.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart v3.17.0</li> <li>Correct the value for setting a static IP</li> </ul> <h3 id="default-value-changes-77"> <a href="#default-value-changes-77" class="anchor-heading" aria-labelledby="default-value-changes-77"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 953dd62b0..0af3acdcc 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -11,8 +11,8 @@</span> controller:
   name: controller
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.41.2"
-    digest: sha256:1f4f402b9c14f3ae92b11ada1dfe9893a88f0faeb0b2f4b903e2c67a0c3bf0de
</span><span class="gi">+    tag: "v0.42.0"
+    digest: sha256:f7187418c647af4a0039938b0ab36c2322ac3662d16be69f9cc178bfd25f7eee
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3161"> <a href="#3161" class="anchor-heading" aria-labelledby="3161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.16.1 </h2> <p><strong>Release date:</strong> 2020-12-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix chart-releaser action</li> </ul> <h3 id="default-value-changes-78"> <a href="#default-value-changes-78" class="anchor-heading" aria-labelledby="default-value-changes-78"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3160"> <a href="#3160" class="anchor-heading" aria-labelledby="3160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.16.0 </h2> <p><strong>Release date:</strong> 2020-12-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Adding LoadBalancerIP value for internal service</li> </ul> <h3 id="default-value-changes-79"> <a href="#default-value-changes-79" class="anchor-heading" aria-labelledby="default-value-changes-79"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 80ade3fea..953dd62b0 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -407,6 +407,8 @@</span> controller:
       enabled: false
       annotations: {}
 
<span class="gi">+      # loadBalancerIP: ""
+
</span>       ## Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
       loadBalancerSourceRanges: []
 
<span class="err">
</span></code></pre></div></div> <h2 id="3152"> <a href="#3152" class="anchor-heading" aria-labelledby="3152"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.15.2 </h2> <p><strong>Release date:</strong> 2020-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix helm chart releaser action</li> </ul> <h3 id="default-value-changes-80"> <a href="#default-value-changes-80" class="anchor-heading" aria-labelledby="default-value-changes-80"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3151"> <a href="#3151" class="anchor-heading" aria-labelledby="3151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.15.1 </h2> <p><strong>Release date:</strong> 2020-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix helm chart releaser action</li> <li>Fix chart-releaser action</li> <li>Rollback chart-releaser action</li> <li>Update github actions</li> </ul> <h3 id="default-value-changes-81"> <a href="#default-value-changes-81" class="anchor-heading" aria-labelledby="default-value-changes-81"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3150"> <a href="#3150" class="anchor-heading" aria-labelledby="3150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.15.0 </h2> <p><strong>Release date:</strong> 2020-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: move maxmindLicenseKey to controller.maxmindLicenseKey</li> <li>Allow custom service names for controller and backend (#6457)</li> </ul> <h3 id="default-value-changes-82"> <a href="#default-value-changes-82" class="anchor-heading" aria-labelledby="default-value-changes-82"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 7e2e54c72..80ade3fea 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -1,7 +1,14 @@</span>
 ## nginx configuration
 ## Ref: https://github.com/kubernetes/ingress-nginx/blob/master/controllers/nginx/configuration.md
 ##
<span class="gi">+
+## Overrides for generated resource names
+# See templates/_helpers.tpl
+# nameOverride:
+# fullnameOverride:
+
</span> controller:
<span class="gi">+  name: controller
</span>   image:
     repository: k8s.gcr.io/ingress-nginx/controller
     tag: "v0.41.2"
<span class="p">@@ -113,6 +120,10 @@</span> controller:
     ## Annotations to be added to the udp config configmap
     annotations: {}
 
<span class="gi">+  # Maxmind license key to download GeoLite2 Databases
+  # https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
+  maxmindLicenseKey: ""
+
</span>   ## Additional command line arguments to pass to nginx-ingress-controller
   ## E.g. to specify the default SSL certificate you can use
   ## extraArgs:
<span class="p">@@ -574,16 +585,13 @@</span> controller:
 ##
 revisionHistoryLimit: 10
 
<span class="gd">-# Maxmind license key to download GeoLite2 Databases
-# https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
-maxmindLicenseKey: ""
-
</span> ## Default 404 backend
 ##
 defaultBackend:
   ##
   enabled: false
 
<span class="gi">+  name: defaultbackend
</span>   image:
     repository: k8s.gcr.io/defaultbackend-amd64
     tag: "1.5"
<span class="err">
</span></code></pre></div></div> <h2 id="3130"> <a href="#3130" class="anchor-heading" aria-labelledby="3130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.13.0 </h2> <p><strong>Release date:</strong> 2020-12-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart v3.13.0</li> <li>Delete the test file</li> <li>Fix the name of default backend variable</li> <li>Fix helm repo update command</li> </ul> <h3 id="default-value-changes-83"> <a href="#default-value-changes-83" class="anchor-heading" aria-labelledby="default-value-changes-83"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3120"> <a href="#3120" class="anchor-heading" aria-labelledby="3120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.12.0 </h2> <p><strong>Release date:</strong> 2020-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Remove helm2 support and update docs</li> </ul> <h3 id="default-value-changes-84"> <a href="#default-value-changes-84" class="anchor-heading" aria-labelledby="default-value-changes-84"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3111"> <a href="#3111" class="anchor-heading" aria-labelledby="3111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.11.1 </h2> <p><strong>Release date:</strong> 2020-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Reorder HPA resource list to work with GitOps tooling</li> <li>Add Chart changelog instructions</li> <li>Documenting change</li> </ul> <h3 id="default-value-changes-85"> <a href="#default-value-changes-85" class="anchor-heading" aria-labelledby="default-value-changes-85"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3110"> <a href="#3110" class="anchor-heading" aria-labelledby="3110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.11.0 </h2> <p><strong>Release date:</strong> 2020-11-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Support Keda Autoscaling</li> <li>Release 0.41.2</li> </ul> <h3 id="default-value-changes-86"> <a href="#default-value-changes-86" class="anchor-heading" aria-labelledby="default-value-changes-86"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index f62f466a1..7e2e54c72 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -273,6 +273,7 @@</span> controller:
       cpu: 100m
       memory: 90Mi
 
<span class="gi">+  # Mutually exclusive with keda autoscaling
</span>   autoscaling:
     enabled: false
     minReplicas: 1
<span class="p">@@ -291,6 +292,40 @@</span> controller:
   #       type: AverageValue
   #       averageValue: 10000m
 
<span class="gi">+  # Mutually exclusive with hpa autoscaling
+  keda:
+    apiVersion: "keda.sh/v1alpha1"
+  # apiVersion changes with keda 1.x vs 2.x
+  # 2.x = keda.sh/v1alpha1
+  # 1.x = keda.k8s.io/v1alpha1
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 11
+    pollingInterval: 30
+    cooldownPeriod: 300
+    restoreToOriginalReplicaCount: false
+    triggers: []
+ #     - type: prometheus
+ #       metadata:
+ #         serverAddress: http://&lt;prometheus-host&gt;:9090
+ #         metricName: http_requests_total
+ #         threshold: '100'
+ #         query: sum(rate(http_requests_total{deployment="my-deployment"}[2m]))
+
+    behavior: {}
+ #     scaleDown:
+ #       stabilizationWindowSeconds: 300
+ #       policies:
+ #       - type: Pods
+ #         value: 1
+ #         periodSeconds: 180
+ #     scaleUp:
+ #       stabilizationWindowSeconds: 300
+ #       policies:
+ #       - type: Pods
+ #         value: 2
+ #         periodSeconds: 60
+
</span>   ## Enable mimalloc as a drop-in replacement for malloc.
   ## ref: https://github.com/microsoft/mimalloc
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="3101"> <a href="#3101" class="anchor-heading" aria-labelledby="3101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.10.1 </h2> <p><strong>Release date:</strong> 2020-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.2&amp;color=success" alt="AppVersion: 0.41.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release chart 3.10.1</li> </ul> <h3 id="default-value-changes-87"> <a href="#default-value-changes-87" class="anchor-heading" aria-labelledby="default-value-changes-87"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1b8346df6..f62f466a1 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.41.1"
-    digest: sha256:595f5c08aaa2bdfd1afdfb2e0f1a668bc85d96f80c097ddb3d4241f0c9122549
</span><span class="gi">+    tag: "v0.41.2"
+    digest: sha256:1f4f402b9c14f3ae92b11ada1dfe9893a88f0faeb0b2f4b903e2c67a0c3bf0de
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="3100"> <a href="#3100" class="anchor-heading" aria-labelledby="3100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.10.0 </h2> <p><strong>Release date:</strong> 2020-11-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.1&amp;color=success" alt="AppVersion: 0.41.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release chart 3.10.0</li> <li>Merge pull request #6423 from lablabs/default-backend-autoscaling</li> </ul> <h3 id="default-value-changes-88"> <a href="#default-value-changes-88" class="anchor-heading" aria-labelledby="default-value-changes-88"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index b1b5b4fd1..1b8346df6 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.41.0"
-    digest: sha256:e6019e536cfb921afb99408d5292fa88b017c49dd29d05fc8dbc456aa770d590
</span><span class="gi">+    tag: "v0.41.1"
+    digest: sha256:595f5c08aaa2bdfd1afdfb2e0f1a668bc85d96f80c097ddb3d4241f0c9122549
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="390"> <a href="#390" class="anchor-heading" aria-labelledby="390"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.9.0 </h2> <p><strong>Release date:</strong> 2020-11-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.0&amp;color=success" alt="AppVersion: 0.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add Default backend HPA autoscaling.</li> <li>Alternate to respecting setting admissionWebhooks.failurePolicy in values.yaml</li> </ul> <h3 id="default-value-changes-89"> <a href="#default-value-changes-89" class="anchor-heading" aria-labelledby="default-value-changes-89"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1f3e5783f..b1b5b4fd1 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -627,6 +627,13 @@</span> defaultBackend:
   #   cpu: 10m
   #   memory: 20Mi
 
<span class="gi">+  autoscaling:
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 2
+    targetCPUUtilizationPercentage: 50
+    targetMemoryUtilizationPercentage: 50
+
</span>   service:
     annotations: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="380"> <a href="#380" class="anchor-heading" aria-labelledby="380"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.8.0 </h2> <p><strong>Release date:</strong> 2020-11-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.41.0&amp;color=success" alt="AppVersion: 0.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release 0.41.0 chart</li> <li>Merge pull request #6356 from AlexisMtr/pod-security-context</li> <li>Add securitycontext settings on defaultbackend</li> <li>Merge pull request #6401 from ivanov-aleksander/fix/annotations</li> <li>Merge pull request #6377 from nxf5025/internal-lb-source-ranges</li> <li>Added loadBalancerSourceRanges for internal lbs</li> <li>fix controller service annotations</li> <li>Update jettech/kube-webhook-certgen image</li> <li>Update helm stable repo</li> <li>Enable validation of ingress definitions from extensions package</li> </ul> <h3 id="default-value-changes-90"> <a href="#default-value-changes-90" class="anchor-heading" aria-labelledby="default-value-changes-90"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 94fe19ccf..1f3e5783f 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.40.2"
-    digest: sha256:46ba23c3fbaafd9e5bd01ea85b2f921d9f2217be082580edc22e6c704a83f02f
</span><span class="gi">+    tag: "v0.41.0"
+    digest: sha256:e6019e536cfb921afb99408d5292fa88b017c49dd29d05fc8dbc456aa770d590
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -361,6 +361,9 @@</span> controller:
       enabled: false
       annotations: {}
 
<span class="gi">+      ## Restrict access For LoadBalancer service. Defaults to 0.0.0.0/0.
+      loadBalancerSourceRanges: []
+
</span>       ## Set external traffic policy to: "Local" to preserve source IP on
       ## providers supporting it
       ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
<span class="p">@@ -430,7 +433,7 @@</span> controller:
       enabled: true
       image:
         repository: docker.io/jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.3.0
</span><span class="gi">+        tag: v1.5.0
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="p">@@ -552,6 +555,9 @@</span> defaultBackend:
     pullPolicy: IfNotPresent
     # nobody user -&gt; uid 65534
     runAsUser: 65534
<span class="gi">+    runAsNonRoot: true
+    readOnlyRootFilesystem: true
+    allowPrivilegeEscalation: false
</span> 
   extraArgs: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="371"> <a href="#371" class="anchor-heading" aria-labelledby="371"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.7.1 </h2> <p><strong>Release date:</strong> 2020-10-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.2&amp;color=success" alt="AppVersion: 0.40.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix liveness and readiness probe path in daemonset chart</li> </ul> <h3 id="default-value-changes-91"> <a href="#default-value-changes-91" class="anchor-heading" aria-labelledby="default-value-changes-91"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="370"> <a href="#370" class="anchor-heading" aria-labelledby="370"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.7.0 </h2> <p><strong>Release date:</strong> 2020-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.2&amp;color=success" alt="AppVersion: 0.40.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix podAnnotations quotes for #6315</li> </ul> <h3 id="default-value-changes-92"> <a href="#default-value-changes-92" class="anchor-heading" aria-labelledby="default-value-changes-92"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="360"> <a href="#360" class="anchor-heading" aria-labelledby="360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.6.0 </h2> <p><strong>Release date:</strong> 2020-10-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.2&amp;color=success" alt="AppVersion: 0.40.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add default linux nodeSelector</li> </ul> <h3 id="default-value-changes-93"> <a href="#default-value-changes-93" class="anchor-heading" aria-labelledby="default-value-changes-93"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index d465b5ae8..94fe19ccf 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -228,7 +228,8 @@</span> controller:
   ## Node labels for controller pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="gd">-  nodeSelector: {}
</span><span class="gi">+  nodeSelector:
+    kubernetes.io/os: linux
</span> 
   ## Liveness and readiness probe values
   ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
<span class="err">
</span></code></pre></div></div> <h2 id="351"> <a href="#351" class="anchor-heading" aria-labelledby="351"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.5.1 </h2> <p><strong>Release date:</strong> 2020-10-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.2&amp;color=success" alt="AppVersion: 0.40.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix helm chart release</li> </ul> <h3 id="default-value-changes-94"> <a href="#default-value-changes-94" class="anchor-heading" aria-labelledby="default-value-changes-94"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="350"> <a href="#350" class="anchor-heading" aria-labelledby="350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.5.0 </h2> <p><strong>Release date:</strong> 2020-10-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.2&amp;color=success" alt="AppVersion: 0.40.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow Helm Chart to customize admission webhook’s annotations, timeoutSeconds, namespaceSelector, objectSelector and cert files locations</li> </ul> <h3 id="default-value-changes-95"> <a href="#default-value-changes-95" class="anchor-heading" aria-labelledby="default-value-changes-95"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index a7de6052e..d465b5ae8 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -406,9 +406,15 @@</span> controller:
   #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
 
   admissionWebhooks:
<span class="gi">+    annotations: {}
</span>     enabled: true
     failurePolicy: Fail
<span class="gi">+    # timeoutSeconds: 10
</span>     port: 8443
<span class="gi">+    certificate: "/usr/local/certificates/cert"
+    key: "/usr/local/certificates/key"
+    namespaceSelector: {}
+    objectSelector: {}
</span> 
     service:
       annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="341"> <a href="#341" class="anchor-heading" aria-labelledby="341"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.4.1 </h2> <p><strong>Release date:</strong> 2020-10-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.2&amp;color=success" alt="AppVersion: 0.40.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update to 0.40.2 in helm chart</li> </ul> <h3 id="default-value-changes-96"> <a href="#default-value-changes-96" class="anchor-heading" aria-labelledby="default-value-changes-96"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c5a618735..a7de6052e 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.40.1"
-    digest: sha256:abffcf2d25e3e7c7b67a315a7c664ec79a1588c9c945d3c7a75637c2f55caec6
</span><span class="gi">+    tag: "v0.40.2"
+    digest: sha256:46ba23c3fbaafd9e5bd01ea85b2f921d9f2217be082580edc22e6c704a83f02f
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="340"> <a href="#340" class="anchor-heading" aria-labelledby="340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.4.0 </h2> <p><strong>Release date:</strong> 2020-10-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.1&amp;color=success" alt="AppVersion: 0.40.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update helm chart</li> </ul> <h3 id="default-value-changes-97"> <a href="#default-value-changes-97" class="anchor-heading" aria-labelledby="default-value-changes-97"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index b763b86dd..c5a618735 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.40.0"
-    digest: sha256:b954d8ff1466eb236162c644bd64e9027a212c82b484cbe47cc21da45fe8bc59
</span><span class="gi">+    tag: "v0.40.1"
+    digest: sha256:abffcf2d25e3e7c7b67a315a7c664ec79a1588c9c945d3c7a75637c2f55caec6
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="331"> <a href="#331" class="anchor-heading" aria-labelledby="331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.3.1 </h2> <p><strong>Release date:</strong> 2020-10-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.0&amp;color=success" alt="AppVersion: 0.40.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart</li> <li>Fix chart markdown link</li> </ul> <h3 id="default-value-changes-98"> <a href="#default-value-changes-98" class="anchor-heading" aria-labelledby="default-value-changes-98"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index f914e7144..b763b86dd 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -1,5 +1,5 @@</span>
 ## nginx configuration
<span class="gd">-## Ref: https://github.com/kubernetes/ingress/blob/master/controllers/nginx/configuration.md
</span><span class="gi">+## Ref: https://github.com/kubernetes/ingress-nginx/blob/master/controllers/nginx/configuration.md
</span> ##
 controller:
   image:
<span class="err">
</span></code></pre></div></div> <h2 id="340-1"> <a href="#340-1" class="anchor-heading" aria-labelledby="340-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.4.0 </h2> <p><strong>Release date:</strong> 2020-09-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.40.0&amp;color=success" alt="AppVersion: 0.40.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v0.40.0</li> <li>Add admission controller e2e test</li> </ul> <h3 id="default-value-changes-99"> <a href="#default-value-changes-99" class="anchor-heading" aria-labelledby="default-value-changes-99"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index cc1703440..f914e7144 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: k8s.gcr.io/ingress-nginx/controller
<span class="gd">-    tag: "v0.35.0"
-    digest: sha256:fc4979d8b8443a831c9789b5155cded454cb7de737a8b727bc2ba0106d2eae8b
</span><span class="gi">+    tag: "v0.40.0"
+    digest: sha256:b954d8ff1466eb236162c644bd64e9027a212c82b484cbe47cc21da45fe8bc59
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="330"> <a href="#330" class="anchor-heading" aria-labelledby="330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.3.0 </h2> <p><strong>Release date:</strong> 2020-09-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Refactor parsing of key values</li> </ul> <h3 id="default-value-changes-100"> <a href="#default-value-changes-100" class="anchor-heading" aria-labelledby="default-value-changes-100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="320"> <a href="#320" class="anchor-heading" aria-labelledby="320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2.0 </h2> <p><strong>Release date:</strong> 2020-09-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add helm chart options to expose metrics service as NodePort</li> </ul> <h3 id="default-value-changes-101"> <a href="#default-value-changes-101" class="anchor-heading" aria-labelledby="default-value-changes-101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index af4f18ce2..cc1703440 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -454,6 +454,8 @@</span> controller:
       loadBalancerSourceRanges: []
       servicePort: 9913
       type: ClusterIP
<span class="gi">+      # externalTrafficPolicy: ""
+      # nodePort: ""
</span> 
     serviceMonitor:
       enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="310"> <a href="#310" class="anchor-heading" aria-labelledby="310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.0 </h2> <p><strong>Release date:</strong> 2020-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix helm chart admissionReviewVersions regression</li> </ul> <h3 id="default-value-changes-102"> <a href="#default-value-changes-102" class="anchor-heading" aria-labelledby="default-value-changes-102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="300"> <a href="#300" class="anchor-heading" aria-labelledby="300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.0 </h2> <p><strong>Release date:</strong> 2020-09-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge pull request #6169 from jdkelley/jdkelley/typo-fix</li> </ul> <h3 id="default-value-changes-103"> <a href="#default-value-changes-103" class="anchor-heading" aria-labelledby="default-value-changes-103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 43ef238b9..af4f18ce2 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -293,7 +293,7 @@</span> controller:
   ## Enable mimalloc as a drop-in replacement for malloc.
   ## ref: https://github.com/microsoft/mimalloc
   ##
<span class="gd">-  enableMimalloc: false
</span><span class="gi">+  enableMimalloc: true
</span> 
   ## Override NGINX template
   customTemplate:
<span class="p">@@ -423,7 +423,7 @@</span> controller:
       enabled: true
       image:
         repository: docker.io/jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.2.2
</span><span class="gi">+        tag: v1.3.0
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="2160"> <a href="#2160" class="anchor-heading" aria-labelledby="2160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.16.0 </h2> <p><strong>Release date:</strong> 2020-09-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix Typo in example prometheus rules</li> </ul> <h3 id="default-value-changes-104"> <a href="#default-value-changes-104" class="anchor-heading" aria-labelledby="default-value-changes-104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 324ab8cdf..43ef238b9 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -498,7 +498,7 @@</span> controller:
         #     severity: warning
         #   annotations:
         #     description: Too many 5XXs
<span class="gd">-        #     summary: More than 5% of the all requests did return 5XX, this require your attention
</span><span class="gi">+        #     summary: More than 5% of all requests returned 5XX, this requires your attention
</span>         # - alert: NGINXTooMany400s
         #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
         #   for: 1m
<span class="p">@@ -506,7 +506,7 @@</span> controller:
         #     severity: warning
         #   annotations:
         #     description: Too many 4XXs
<span class="gd">-        #     summary: More than 5% of the all requests did return 4XX, this require your attention
</span><span class="gi">+        #     summary: More than 5% of all requests returned 4XX, this requires your attention
</span> 
   ## Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
   ## With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
<span class="err">
</span></code></pre></div></div> <h2 id="300-1"> <a href="#300-1" class="anchor-heading" aria-labelledby="300-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.0 </h2> <p><strong>Release date:</strong> 2020-09-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update chart requirements</li> <li>Merge pull request #6127 from naioja/aj_aks_internal_lb</li> </ul> <h3 id="default-value-changes-105"> <a href="#default-value-changes-105" class="anchor-heading" aria-labelledby="default-value-changes-105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 324ab8cdf..793ef2db0 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -293,7 +293,7 @@</span> controller:
   ## Enable mimalloc as a drop-in replacement for malloc.
   ## ref: https://github.com/microsoft/mimalloc
   ##
<span class="gd">-  enableMimalloc: false
</span><span class="gi">+  enableMimalloc: true
</span> 
   ## Override NGINX template
   customTemplate:
<span class="p">@@ -423,7 +423,7 @@</span> controller:
       enabled: true
       image:
         repository: docker.io/jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.2.2
</span><span class="gi">+        tag: v1.3.0
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="2160-1"> <a href="#2160-1" class="anchor-heading" aria-labelledby="2160-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.16.0 </h2> <p><strong>Release date:</strong> 2020-09-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add <code class="language-plaintext highlighter-rouge">topologySpreadConstraint</code> to controller</li> <li>AKS example of adding an internal loadbalancer This is a simple example of adding an Azure internal loadbalancer when creating the ingress controller.</li> </ul> <h3 id="default-value-changes-106"> <a href="#default-value-changes-106" class="anchor-heading" aria-labelledby="default-value-changes-106"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 1d9d8236f..324ab8cdf 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -209,6 +209,17 @@</span> controller:
     #         - controller
     #     topologyKey: "kubernetes.io/hostname"
 
<span class="gi">+  ## Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+  ##
+  topologySpreadConstraints: []
+    # - maxSkew: 1
+    #   topologyKey: failure-domain.beta.kubernetes.io/zone
+    #   whenUnsatisfiable: DoNotSchedule
+    #   labelSelector:
+    #     matchLabels:
+    #       app.kubernetes.io/instance: ingress-nginx-internal
+
</span>   ## terminationGracePeriodSeconds
   ## wait up to five minutes for the drain of connections
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="2150"> <a href="#2150" class="anchor-heading" aria-labelledby="2150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.15.0 </h2> <p><strong>Release date:</strong> 2020-08-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Adding parameter for externalTrafficPolicy in internal controller service spec</li> </ul> <h3 id="default-value-changes-107"> <a href="#default-value-changes-107" class="anchor-heading" aria-labelledby="default-value-changes-107"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 8452388d3..1d9d8236f 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -349,6 +349,11 @@</span> controller:
       enabled: false
       annotations: {}
 
<span class="gi">+      ## Set external traffic policy to: "Local" to preserve source IP on
+      ## providers supporting it
+      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
+      # externalTrafficPolicy: ""
+
</span>   extraContainers: []
   ## Additional containers to be added to the controller pod.
   ## See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
<span class="err">
</span></code></pre></div></div> <h2 id="2140"> <a href="#2140" class="anchor-heading" aria-labelledby="2140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.14.0 </h2> <p><strong>Release date:</strong> 2020-09-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bumping minor version due to new functionality (.Values.Controller.labels)</li> <li>Misc fixes for nginx-ingress chart for better keel and prometheus-operator integration Update: allow values.yaml without labels to pass</li> </ul> <h3 id="default-value-changes-108"> <a href="#default-value-changes-108" class="anchor-heading" aria-labelledby="default-value-changes-108"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2131"> <a href="#2131" class="anchor-heading" aria-labelledby="2131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.13.1 </h2> <p><strong>Release date:</strong> 2020-08-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Misc fixes for nginx-ingress chart for better keel and prometheus-operator integration</li> </ul> <h3 id="default-value-changes-109"> <a href="#default-value-changes-109" class="anchor-heading" aria-labelledby="default-value-changes-109"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index a82ca0698..8452388d3 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -135,6 +135,14 @@</span> controller:
   ## Annotations to be added to the controller Deployment or DaemonSet
   ##
   annotations: {}
<span class="gi">+  #  keel.sh/pollSchedule: "@every 60m"
+
+  ## Labels to be added to the controller Deployment or DaemonSet
+  ##
+  labels: {}
+  #  keel.sh/policy: patch
+  #  keel.sh/trigger: poll
+
</span> 
   # The update strategy to apply to the Deployment or DaemonSet
   ##
<span class="p">@@ -451,19 +459,35 @@</span> controller:
       # namespace: ""
       rules: []
         # # These are just examples rules, please adapt them to your needs
<span class="gd">-        # - alert: TooMany500s
</span><span class="gi">+        # - alert: NGINXConfigFailed
+        #   expr: count(nginx_ingress_controller_config_last_reload_successful == 0) &gt; 0
+        #   for: 1s
+        #   labels:
+        #     severity: critical
+        #   annotations:
+        #     description: bad ingress config - nginx config test failed
+        #     summary: uninstall the latest ingress changes to allow config reloads to resume
+        # - alert: NGINXCertificateExpiry
+        #   expr: (avg(nginx_ingress_controller_ssl_expire_time_seconds) by (host) - time()) &lt; 604800
+        #   for: 1s
+        #   labels:
+        #     severity: critical
+        #   annotations:
+        #     description: ssl certificate(s) will expire in less then a week
+        #     summary: renew expiring certificates to avoid downtime
+        # - alert: NGINXTooMany500s
</span>         #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
         #   for: 1m
         #   labels:
<span class="gd">-        #     severity: critical
</span><span class="gi">+        #     severity: warning
</span>         #   annotations:
         #     description: Too many 5XXs
         #     summary: More than 5% of the all requests did return 5XX, this require your attention
<span class="gd">-        # - alert: TooMany400s
</span><span class="gi">+        # - alert: NGINXTooMany400s
</span>         #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
         #   for: 1m
         #   labels:
<span class="gd">-        #     severity: critical
</span><span class="gi">+        #     severity: warning
</span>         #   annotations:
         #     description: Too many 4XXs
         #     summary: More than 5% of the all requests did return 4XX, this require your attention
<span class="p">@@ -472,7 +496,7 @@</span> controller:
   ## With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
   ## to 300, allowing the draining of connections up to five minutes.
   ## If the active connections end before that, the pod will terminate gracefully at that time.
<span class="gd">-  ## To efectively take advantage of this feature, the Configmap feature
</span><span class="gi">+  ## To effectively take advantage of this feature, the Configmap feature
</span>   ## worker-shutdown-timeout new value is 240s instead of 10s.
   ##
   lifecycle:
<span class="err">
</span></code></pre></div></div> <h2 id="2130"> <a href="#2130" class="anchor-heading" aria-labelledby="2130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.13.0 </h2> <p><strong>Release date:</strong> 2020-08-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.35.0&amp;color=success" alt="AppVersion: 0.35.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release v0.35.0</li> <li>Switch images to k8s.gcr.io after Vanity Domain Flip</li> </ul> <h3 id="default-value-changes-110"> <a href="#default-value-changes-110" class="anchor-heading" aria-labelledby="default-value-changes-110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 7955dac0e..a82ca0698 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -3,9 +3,9 @@</span>
 ##
 controller:
   image:
<span class="gd">-    repository: us.gcr.io/k8s-artifacts-prod/ingress-nginx/controller
-    tag: "v0.34.1"
-    digest: sha256:0e072dddd1f7f8fc8909a2ca6f65e76c5f0d2fcfb8be47935ae3457e8bbceb20
</span><span class="gi">+    repository: k8s.gcr.io/ingress-nginx/controller
+    tag: "v0.35.0"
+    digest: sha256:fc4979d8b8443a831c9789b5155cded454cb7de737a8b727bc2ba0106d2eae8b
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="2121"> <a href="#2121" class="anchor-heading" aria-labelledby="2121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.12.1 </h2> <p><strong>Release date:</strong> 2020-08-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Sync helm chart affinity examples</li> </ul> <h3 id="default-value-changes-111"> <a href="#default-value-changes-111" class="anchor-heading" aria-labelledby="default-value-changes-111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index afa41219b..7955dac0e 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -168,10 +168,18 @@</span> controller:
     #     podAffinityTerm:
     #       labelSelector:
     #         matchExpressions:
<span class="gd">-    #         - key: app
</span><span class="gi">+    #         - key: app.kubernetes.io/name
</span>     #           operator: In
     #           values:
     #           - ingress-nginx
<span class="gi">+    #         - key: app.kubernetes.io/instance
+    #           operator: In
+    #           values:
+    #           - ingress-nginx
+    #         - key: app.kubernetes.io/component
+    #           operator: In
+    #           values:
+    #           - controller
</span>     #       topologyKey: kubernetes.io/hostname
 
     # # An example of required pod anti-affinity
<span class="p">@@ -179,10 +187,18 @@</span> controller:
     #   requiredDuringSchedulingIgnoredDuringExecution:
     #   - labelSelector:
     #       matchExpressions:
<span class="gd">-    #       - key: app
</span><span class="gi">+    #       - key: app.kubernetes.io/name
</span>     #         operator: In
     #         values:
     #         - ingress-nginx
<span class="gi">+    #       - key: app.kubernetes.io/instance
+    #         operator: In
+    #         values:
+    #         - ingress-nginx
+    #       - key: app.kubernetes.io/component
+    #         operator: In
+    #         values:
+    #         - controller
</span>     #     topologyKey: "kubernetes.io/hostname"
 
   ## terminationGracePeriodSeconds
<span class="err">
</span></code></pre></div></div> <h2 id="2120"> <a href="#2120" class="anchor-heading" aria-labelledby="2120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.12.0 </h2> <p><strong>Release date:</strong> 2020-08-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge pull request #6039 from calvinbui/master</li> <li>Fix YAML linting</li> <li>Direct link to index.yaml for easy browsing by end users without CLI</li> </ul> <h3 id="default-value-changes-112"> <a href="#default-value-changes-112" class="anchor-heading" aria-labelledby="default-value-changes-112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index df1dea785..afa41219b 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -426,6 +426,8 @@</span> controller:
       #   any: true
       scrapeInterval: 30s
       # honorLabels: true
<span class="gi">+      targetLabels: []
+      metricRelabelings: []
</span> 
     prometheusRule:
       enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="2113"> <a href="#2113" class="anchor-heading" aria-labelledby="2113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.11.3 </h2> <p><strong>Release date:</strong> 2020-08-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix chart readme link in upgrade section. Removes redundant URL in favor of zero-downtime section header anchor</li> </ul> <h3 id="default-value-changes-113"> <a href="#default-value-changes-113" class="anchor-heading" aria-labelledby="default-value-changes-113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2120-1"> <a href="#2120-1" class="anchor-heading" aria-labelledby="2120-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.12.0 </h2> <p><strong>Release date:</strong> 2020-08-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add configurable serviceMonitor metricRelabelling and targetLabels</li> </ul> <h3 id="default-value-changes-114"> <a href="#default-value-changes-114" class="anchor-heading" aria-labelledby="default-value-changes-114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index df1dea785..afa41219b 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -426,6 +426,8 @@</span> controller:
       #   any: true
       scrapeInterval: 30s
       # honorLabels: true
<span class="gi">+      targetLabels: []
+      metricRelabelings: []
</span> 
     prometheusRule:
       enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="2113-1"> <a href="#2113-1" class="anchor-heading" aria-labelledby="2113-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.11.3 </h2> <p><strong>Release date:</strong> 2020-08-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump chart version PATCH</li> <li>Initial readme changes, with upgrade info on migrating from stable/nginx-ingress</li> </ul> <h3 id="default-value-changes-115"> <a href="#default-value-changes-115" class="anchor-heading" aria-labelledby="default-value-changes-115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2112"> <a href="#2112" class="anchor-heading" aria-labelledby="2112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.11.2 </h2> <p><strong>Release date:</strong> 2020-07-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump chart patch version</li> <li>Use Env expansion for namespace in args</li> </ul> <h3 id="default-value-changes-116"> <a href="#default-value-changes-116" class="anchor-heading" aria-labelledby="default-value-changes-116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2111"> <a href="#2111" class="anchor-heading" aria-labelledby="2111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.11.1 </h2> <p><strong>Release date:</strong> 2020-07-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.1&amp;color=success" alt="AppVersion: 0.34.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release helm chart for v0.34.1</li> </ul> <h3 id="default-value-changes-117"> <a href="#default-value-changes-117" class="anchor-heading" aria-labelledby="default-value-changes-117"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 2328493c1..df1dea785 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,8 +4,8 @@</span>
 controller:
   image:
     repository: us.gcr.io/k8s-artifacts-prod/ingress-nginx/controller
<span class="gd">-    tag: "v0.34.0"
-    digest: sha256:56633bd00dab33d92ba14c6e709126a762d54a75a6e72437adefeaaca0abb069
</span><span class="gi">+    tag: "v0.34.1"
+    digest: sha256:0e072dddd1f7f8fc8909a2ca6f65e76c5f0d2fcfb8be47935ae3457e8bbceb20
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="2110"> <a href="#2110" class="anchor-heading" aria-labelledby="2110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.11.0 </h2> <p><strong>Release date:</strong> 2020-07-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.34.0&amp;color=success" alt="AppVersion: 0.34.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update helm chart for v0.34.0</li> <li>Make liveness probe more fault tolerant than readiness probe</li> </ul> <h3 id="default-value-changes-118"> <a href="#default-value-changes-118" class="anchor-heading" aria-labelledby="default-value-changes-118"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 917b25a6b..2328493c1 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -3,8 +3,9 @@</span>
 ##
 controller:
   image:
<span class="gd">-    repository: quay.io/kubernetes-ingress-controller/nginx-ingress-controller
-    tag: "0.33.0"
</span><span class="gi">+    repository: us.gcr.io/k8s-artifacts-prod/ingress-nginx/controller
+    tag: "v0.34.0"
+    digest: sha256:56633bd00dab33d92ba14c6e709126a762d54a75a6e72437adefeaaca0abb069
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -198,7 +199,7 @@</span> controller:
   ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
   ##
   livenessProbe:
<span class="gd">-    failureThreshold: 3
</span><span class="gi">+    failureThreshold: 5
</span>     initialDelaySeconds: 10
     periodSeconds: 10
     successThreshold: 1
<span class="err">
</span></code></pre></div></div> <h2 id="2100"> <a href="#2100" class="anchor-heading" aria-labelledby="2100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.10.0 </h2> <p><strong>Release date:</strong> 2020-07-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update jettech/kube-webhook-certgen image</li> </ul> <h3 id="default-value-changes-119"> <a href="#default-value-changes-119" class="anchor-heading" aria-labelledby="default-value-changes-119"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 3367e2b92..917b25a6b 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -382,7 +382,7 @@</span> controller:
       enabled: true
       image:
         repository: docker.io/jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.2.0
</span><span class="gi">+        tag: v1.2.2
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="291"> <a href="#291" class="anchor-heading" aria-labelledby="291"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.9.1 </h2> <p><strong>Release date:</strong> 2020-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add quoting to sysctls because numeric values need to be presented as strings (#5823)</li> </ul> <h3 id="default-value-changes-120"> <a href="#default-value-changes-120" class="anchor-heading" aria-labelledby="default-value-changes-120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="290"> <a href="#290" class="anchor-heading" aria-labelledby="290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.9.0 </h2> <p><strong>Release date:</strong> 2020-06-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Use fully qualified images to avoid cri-o issues</li> </ul> <h3 id="default-value-changes-121"> <a href="#default-value-changes-121" class="anchor-heading" aria-labelledby="default-value-changes-121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 766565627..3367e2b92 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -381,7 +381,7 @@</span> controller:
     patch:
       enabled: true
       image:
<span class="gd">-        repository: jettech/kube-webhook-certgen
</span><span class="gi">+        repository: docker.io/jettech/kube-webhook-certgen
</span>         tag: v1.2.0
         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
<span class="err">
</span></code></pre></div></div> <h2 id="280"> <a href="#280" class="anchor-heading" aria-labelledby="280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.8.0 </h2> <p><strong>Release date:</strong> 2020-06-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Use admissionregistration.k8s.io/v1beta1 to be k8s &lt; 1.16 compatible</li> </ul> <h3 id="default-value-changes-122"> <a href="#default-value-changes-122" class="anchor-heading" aria-labelledby="default-value-changes-122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="271"> <a href="#271" class="anchor-heading" aria-labelledby="271"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.7.1 </h2> <p><strong>Release date:</strong> 2020-06-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update ValidatingWebhook for Ingress to support –dry-run=server</li> </ul> <h3 id="default-value-changes-123"> <a href="#default-value-changes-123" class="anchor-heading" aria-labelledby="default-value-changes-123"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="270"> <a href="#270" class="anchor-heading" aria-labelledby="270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.7.0 </h2> <p><strong>Release date:</strong> 2020-06-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add custom metric to hpa template</li> </ul> <h3 id="default-value-changes-124"> <a href="#default-value-changes-124" class="anchor-heading" aria-labelledby="default-value-changes-124"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index fdf0bdd7a..766565627 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -243,6 +243,17 @@</span> controller:
     targetCPUUtilizationPercentage: 50
     targetMemoryUtilizationPercentage: 50
 
<span class="gi">+  autoscalingTemplate: []
+  # Custom or additional autoscaling metrics
+  # ref: https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-custom-metrics
+  # - type: Pods
+  #   pods:
+  #     metric:
+  #       name: nginx_ingress_controller_nginx_process_requests_total
+  #     target:
+  #       type: AverageValue
+  #       averageValue: 10000m
+
</span>   ## Enable mimalloc as a drop-in replacement for malloc.
   ## ref: https://github.com/microsoft/mimalloc
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="260"> <a href="#260" class="anchor-heading" aria-labelledby="260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.6.0 </h2> <p><strong>Release date:</strong> 2020-06-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add sysctl exemptions to controller PSP</li> <li>Merge pull request #5717 from geoblink/feature/add-support-for-internal-load-balancer</li> </ul> <h3 id="default-value-changes-125"> <a href="#default-value-changes-125" class="anchor-heading" aria-labelledby="default-value-changes-125"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index c75d1e92b..fdf0bdd7a 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -67,11 +67,16 @@</span> controller:
   #  key: value
 
   ## Security Context policies for controller pods
<span class="gd">-  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
-  ## notes on enabling and using sysctls
</span>   ##
   podSecurityContext: {}
 
<span class="gi">+  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
+  ## notes on enabling and using sysctls
+  ###
+  sysctls: {}
+  # sysctls:
+  #   "net.core.somaxconn": "8192"
+
</span>   ## Allows customization of the source of the IP address or FQDN to report
   ## in the ingress status field. By default, it reads the information provided
   ## by the service. If disable, the status field reports the IP address of the
<span class="err">
</span></code></pre></div></div> <h2 id="250"> <a href="#250" class="anchor-heading" aria-labelledby="250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.5.0 </h2> <p><strong>Release date:</strong> 2020-06-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for an internal load balancer along with an external one</li> <li>Fix controller.publishService.enabled on README</li> </ul> <h3 id="default-value-changes-126"> <a href="#default-value-changes-126" class="anchor-heading" aria-labelledby="default-value-changes-126"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index cdc473d1d..c75d1e92b 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -302,6 +302,12 @@</span> controller:
       tcp: {}
       udp: {}
 
<span class="gi">+    ## Enables an additional internal load balancer (besides the external one).
+    ## Annotations are mandatory for the load balancer to come up. Varies with the cloud service.
+    internal:
+      enabled: false
+      annotations: {}
+
</span>   extraContainers: []
   ## Additional containers to be added to the controller pod.
   ## See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
<span class="err">
</span></code></pre></div></div> <h2 id="240"> <a href="#240" class="anchor-heading" aria-labelledby="240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.4.0 </h2> <p><strong>Release date:</strong> 2020-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.33.0&amp;color=success" alt="AppVersion: 0.33.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release 0.33.0</li> <li>Add minor doc fixes to user guide and chart readme</li> </ul> <h3 id="default-value-changes-127"> <a href="#default-value-changes-127" class="anchor-heading" aria-labelledby="default-value-changes-127"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index aa3b44283..cdc473d1d 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,7 +4,7 @@</span>
 controller:
   image:
     repository: quay.io/kubernetes-ingress-controller/nginx-ingress-controller
<span class="gd">-    tag: "0.32.0"
</span><span class="gi">+    tag: "0.33.0"
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="err">
</span></code></pre></div></div> <h2 id="230"> <a href="#230" class="anchor-heading" aria-labelledby="230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.0 </h2> <p><strong>Release date:</strong> 2020-05-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.32.0&amp;color=success" alt="AppVersion: 0.32.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow pulling images by digest</li> </ul> <h3 id="default-value-changes-128"> <a href="#default-value-changes-128" class="anchor-heading" aria-labelledby="default-value-changes-128"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="220"> <a href="#220" class="anchor-heading" aria-labelledby="220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.0 </h2> <p><strong>Release date:</strong> 2020-05-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.32.0&amp;color=success" alt="AppVersion: 0.32.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add toleration support for admission webhooks</li> </ul> <h3 id="default-value-changes-129"> <a href="#default-value-changes-129" class="anchor-heading" aria-labelledby="default-value-changes-129"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 54a97348c..aa3b44283 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -367,6 +367,7 @@</span> controller:
       priorityClassName: ""
       podAnnotations: {}
       nodeSelector: {}
<span class="gi">+      tolerations: []
</span>       runAsUser: 2000
 
   metrics:
<span class="err">
</span></code></pre></div></div> <h2 id="210"> <a href="#210" class="anchor-heading" aria-labelledby="210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1.0 </h2> <p><strong>Release date:</strong> 2020-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.32.0&amp;color=success" alt="AppVersion: 0.32.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release chart 2.1.0</li> <li>Merge pull request #5494 from janosi/wh_runasuser</li> <li>Merge pull request #5504 from janosi/wh_imagepullsecret</li> <li>Move webhook runAsUser from patch.image.runAsUser to patch.runAsUser</li> <li>Update job-patchWebhook.yaml</li> <li>Add configuration option for the imagePullSecrets in the WH jobs</li> <li>Add configuration option for the runAsUser parameter of the webhook patch job</li> </ul> <h3 id="default-value-changes-130"> <a href="#default-value-changes-130" class="anchor-heading" aria-labelledby="default-value-changes-130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 895a44759..54a97348c 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -367,6 +367,7 @@</span> controller:
       priorityClassName: ""
       podAnnotations: {}
       nodeSelector: {}
<span class="gi">+      runAsUser: 2000
</span> 
   metrics:
     port: 10254
<span class="err">
</span></code></pre></div></div> <h2 id="203"> <a href="#203" class="anchor-heading" aria-labelledby="203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.3 </h2> <p><strong>Release date:</strong> 2020-05-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.32.0&amp;color=success" alt="AppVersion: 0.32.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release 0.32.0</li> <li>Fix chart maxmindLicenseKey location</li> <li>Remove obsolete default backend settings</li> </ul> <h3 id="default-value-changes-131"> <a href="#default-value-changes-131" class="anchor-heading" aria-labelledby="default-value-changes-131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 5d06cb5ea..895a44759 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -4,7 +4,7 @@</span>
 controller:
   image:
     repository: quay.io/kubernetes-ingress-controller/nginx-ingress-controller
<span class="gd">-    tag: "0.31.1"
</span><span class="gi">+    tag: "0.32.0"
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -54,11 +54,6 @@</span> controller:
       http: 80
       https: 443
 
<span class="gd">-  ## Required only if defaultBackend.enabled = false
-  ## Must be &lt;namespace&gt;/&lt;service_name&gt;
-  ##
-  defaultBackendService: ""
-
</span>   ## Election ID to use for status update
   ##
   electionID: ingress-controller-leader
<span class="p">@@ -449,11 +444,13 @@</span> controller:
 ##
 revisionHistoryLimit: 10
 
<span class="gi">+# Maxmind license key to download GeoLite2 Databases
+# https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
+maxmindLicenseKey: ""
+
</span> ## Default 404 backend
 ##
 defaultBackend:
<span class="gd">-
-  ## If false, controller.defaultBackendService must be provided
</span>   ##
   enabled: false
 
<span class="p">@@ -464,10 +461,6 @@</span> defaultBackend:
     # nobody user -&gt; uid 65534
     runAsUser: 65534
 
<span class="gd">-  # Maxmind license key to download GeoLite2 Databases
-  # https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
-  maxmindLicenseKey: ""
-
</span>   extraArgs: {}
 
   serviceAccount:
<span class="err">
</span></code></pre></div></div> <h2 id="202"> <a href="#202" class="anchor-heading" aria-labelledby="202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.2 </h2> <p><strong>Release date:</strong> 2020-04-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.31.1&amp;color=success" alt="AppVersion: 0.31.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix chart missing default backend name</li> <li>Update job image</li> <li>Update admission webhook annotations</li> <li>Fix helper for defaultbackend name</li> <li>fix(Chart): Mismatch between values.yml and README.md</li> </ul> <h3 id="default-value-changes-132"> <a href="#default-value-changes-132" class="anchor-heading" aria-labelledby="default-value-changes-132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 819424a3a..5d06cb5ea 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -365,7 +365,7 @@</span> controller:
       enabled: true
       image:
         repository: jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.0.0
</span><span class="gi">+        tag: v1.2.0
</span>         pullPolicy: IfNotPresent
       ## Provide a priority class name to the webhook patching job
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="201"> <a href="#201" class="anchor-heading" aria-labelledby="201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.1 </h2> <p><strong>Release date:</strong> 2020-04-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.31.1&amp;color=success" alt="AppVersion: 0.31.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Release 0.31.1</li> <li>Update chart instructions</li> <li>Release 0.31.0</li> <li>update notes.txt example with networking.k8s.io</li> <li>Add support for IngressClass and ingress.class annotation</li> <li>Add e2e tests for helm chart</li> <li>Remove chart old podSecurityPolicy check</li> <li>Fix deployment strategy</li> <li>Remove duplicated annotations definition and refactor hostPort configuration</li> <li>Add lifecycle hook and option to enable mimalloc</li> <li>Add script to generate yaml files from helm</li> <li>Set default resource requests limits</li> <li>Fix hostPort chart indentation</li> <li>Fix valid semver comparison to allow dev images</li> <li>Merge pull request #5252 from aledbf/tag</li> <li>Check chart controller image tag</li> <li>Merge pull request #5249 from aledbf/hostport</li> <li>Add support for custom healthz path in helm chart</li> <li>Add support for hostPort in Deployment</li> <li>Configuration configmap should always be created</li> <li>Remove checks for older versions</li> <li>Fix controller container name</li> <li>Hardcode component names.</li> <li>Merge pull request #5205 from aledbf/chart</li> <li>Add OWNERS file for helm chart</li> <li>Cleanup chart code</li> </ul> <h3 id="default-value-changes-133"> <a href="#default-value-changes-133" class="anchor-heading" aria-labelledby="default-value-changes-133"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 792827956..819424a3a 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -2,10 +2,9 @@</span>
 ## Ref: https://github.com/kubernetes/ingress/blob/master/controllers/nginx/configuration.md
 ##
 controller:
<span class="gd">-  name: controller
</span>   image:
     repository: quay.io/kubernetes-ingress-controller/nginx-ingress-controller
<span class="gd">-    tag: "0.30.0"
</span><span class="gi">+    tag: "0.31.1"
</span>     pullPolicy: IfNotPresent
     # www-data -&gt; uid 101
     runAsUser: 101
<span class="p">@@ -29,11 +28,6 @@</span> controller:
   # Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
   addHeaders: {}
 
<span class="gd">-  # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
-  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
-  # is merged
-  hostNetwork: false
-
</span>   # Optionally customize the pod dnsConfig.
   dnsConfig: {}
 
<span class="p">@@ -46,11 +40,17 @@</span> controller:
   # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
   reportNodeInternalIp: false
 
<span class="gd">-  ## Use host ports 80 and 443
-  daemonset:
-    useHostPort: false
</span><span class="gi">+  # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
+  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
+  # is merged
+  hostNetwork: false
</span> 
<span class="gd">-    hostPorts:
</span><span class="gi">+  ## Use host ports 80 and 443
+  ## Disabled by default
+  ##
+  hostPort:
+    enabled: false
+    ports:
</span>       http: 80
       https: 443
 
<span class="p">@@ -77,10 +77,12 @@</span> controller:
   ##
   podSecurityContext: {}
 
<span class="gd">-  ## Allows customization of the external service
-  ## the ingress will be bound to via DNS
</span><span class="gi">+  ## Allows customization of the source of the IP address or FQDN to report
+  ## in the ingress status field. By default, it reads the information provided
+  ## by the service. If disable, the status field reports the IP address of the
+  ## node or nodes where an ingress controller pod is running.
</span>   publishService:
<span class="gd">-    enabled: false
</span><span class="gi">+    enabled: true
</span>     ## Allows overriding of the publish service to bind to
     ## Must be &lt;namespace&gt;/&lt;service_name&gt;
     ##
<span class="p">@@ -129,9 +131,9 @@</span> controller:
   ##
   kind: Deployment
 
<span class="gd">-  ## Annotations to be added to the controller deployment
</span><span class="gi">+  ## Annotations to be added to the controller Deployment or DaemonSet
</span>   ##
<span class="gd">-  deploymentAnnotations: {}
</span><span class="gi">+  annotations: {}
</span> 
   # The update strategy to apply to the Deployment or DaemonSet
   ##
<span class="p">@@ -183,8 +185,9 @@</span> controller:
     #     topologyKey: "kubernetes.io/hostname"
 
   ## terminationGracePeriodSeconds
<span class="gi">+  ## wait up to five minutes for the drain of connections
</span>   ##
<span class="gd">-  terminationGracePeriodSeconds: 60
</span><span class="gi">+  terminationGracePeriodSeconds: 300
</span> 
   ## Node labels for controller pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
<span class="p">@@ -209,6 +212,10 @@</span> controller:
     timeoutSeconds: 1
     port: 10254
 
<span class="gi">+  # Path of the health check endpoint. All requests received on the port defined by
+  # the healthz-port parameter are forwarded internally to this path.
+  healthCheckPath: "/healthz"
+
</span>   ## Annotations to be added to controller pods
   ##
   podAnnotations: {}
<span class="p">@@ -217,13 +224,17 @@</span> controller:
 
   minAvailable: 1
 
<span class="gd">-  resources: {}
</span><span class="gi">+  # Define requests resources to avoid probe issues due to CPU utilization in busy nodes
+  # ref: https://github.com/kubernetes/ingress-nginx/issues/4735#issuecomment-551204903
+  # Ideally, there should be no limits.
+  # https://engineering.indeedblog.com/blog/2019/12/cpu-throttling-regression-fix/
+  resources:
</span>   #  limits:
   #    cpu: 100m
<span class="gd">-  #    memory: 64Mi
-  #  requests:
-  #    cpu: 100m
-  #    memory: 64Mi
</span><span class="gi">+  #    memory: 90Mi
+    requests:
+      cpu: 100m
+      memory: 90Mi
</span> 
   autoscaling:
     enabled: false
<span class="p">@@ -232,6 +243,11 @@</span> controller:
     targetCPUUtilizationPercentage: 50
     targetMemoryUtilizationPercentage: 50
 
<span class="gi">+  ## Enable mimalloc as a drop-in replacement for malloc.
+  ## ref: https://github.com/microsoft/mimalloc
+  ##
+  enableMimalloc: false
+
</span>   ## Override NGINX template
   customTemplate:
     configMapName: ""
<span class="p">@@ -242,8 +258,6 @@</span> controller:
 
     annotations: {}
     labels: {}
<span class="gd">-    ## Deprecated, instead simply do not provide a clusterIP value
-    omitClusterIP: false
</span>     # clusterIP: ""
 
     ## List of IP addresses at which the controller services are available
<span class="p">@@ -251,7 +265,7 @@</span> controller:
     ##
     externalIPs: []
 
<span class="gd">-    loadBalancerIP: ""
</span><span class="gi">+    # loadBalancerIP: ""
</span>     loadBalancerSourceRanges: []
 
     enableHttp: true
<span class="p">@@ -260,13 +274,16 @@</span> controller:
     ## Set external traffic policy to: "Local" to preserve source IP on
     ## providers supporting it
     ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
<span class="gd">-    externalTrafficPolicy: ""
</span><span class="gi">+    # externalTrafficPolicy: ""
</span> 
     # Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
     # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
<span class="gd">-    sessionAffinity: ""
</span><span class="gi">+    # sessionAffinity: ""
</span> 
<span class="gd">-    healthCheckNodePort: 0
</span><span class="gi">+    # specifies the health check node port (numeric port number) for the service. If healthCheckNodePort isn’t specified,
+    # the service controller allocates a port from your cluster’s NodePort range.
+    # Ref: https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
+    # healthCheckNodePort: 0
</span> 
     ports:
       http: 80
<span class="p">@@ -337,11 +354,9 @@</span> controller:
 
     service:
       annotations: {}
<span class="gd">-      ## Deprecated, instead simply do not provide a clusterIP value
-      omitClusterIP: false
</span>       # clusterIP: ""
       externalIPs: []
<span class="gd">-      loadBalancerIP: ""
</span><span class="gi">+      # loadBalancerIP: ""
</span>       loadBalancerSourceRanges: []
       servicePort: 443
       type: ClusterIP
<span class="p">@@ -368,8 +383,6 @@</span> controller:
       # prometheus.io/scrape: "true"
       # prometheus.io/port: "10254"
 
<span class="gd">-      ## Deprecated, instead simply do not provide a clusterIP value
-      omitClusterIP: false
</span>       # clusterIP: ""
 
       ## List of IP addresses at which the stats-exporter service is available
<span class="p">@@ -377,7 +390,7 @@</span> controller:
       ##
       externalIPs: []
 
<span class="gd">-      loadBalancerIP: ""
</span><span class="gi">+      # loadBalancerIP: ""
</span>       loadBalancerSourceRanges: []
       servicePort: 9913
       type: ClusterIP
<span class="p">@@ -397,7 +410,7 @@</span> controller:
     prometheusRule:
       enabled: false
       additionalLabels: {}
<span class="gd">-      namespace: ""
</span><span class="gi">+      # namespace: ""
</span>       rules: []
         # # These are just examples rules, please adapt them to your needs
         # - alert: TooMany500s
<span class="p">@@ -417,8 +430,18 @@</span> controller:
         #     description: Too many 4XXs
         #     summary: More than 5% of the all requests did return 4XX, this require your attention
 
<span class="gd">-
-  lifecycle: {}
</span><span class="gi">+  ## Improve connection draining when ingress controller pod is deleted using a lifecycle hook:
+  ## With this new hook, we increased the default terminationGracePeriodSeconds from 30 seconds
+  ## to 300, allowing the draining of connections up to five minutes.
+  ## If the active connections end before that, the pod will terminate gracefully at that time.
+  ## To efectively take advantage of this feature, the Configmap feature
+  ## worker-shutdown-timeout new value is 240s instead of 10s.
+  ##
+  lifecycle:
+    preStop:
+      exec:
+        command:
+          - /wait-shutdown
</span> 
   priorityClassName: ""
 
<span class="p">@@ -434,7 +457,6 @@</span> defaultBackend:
   ##
   enabled: false
 
<span class="gd">-  name: default-backend
</span>   image:
     repository: k8s.gcr.io/defaultbackend-amd64
     tag: "1.5"
<span class="p">@@ -516,8 +538,7 @@</span> defaultBackend:
 
   service:
     annotations: {}
<span class="gd">-    ## Deprecated, instead simply do not provide a clusterIP value
-    omitClusterIP: false
</span><span class="gi">+
</span>     # clusterIP: ""
 
     ## List of IP addresses at which the default backend service is available
<span class="p">@@ -525,7 +546,7 @@</span> defaultBackend:
     ##
     externalIPs: []
 
<span class="gd">-    loadBalancerIP: ""
</span><span class="gi">+    # loadBalancerIP: ""
</span>     loadBalancerSourceRanges: []
     servicePort: 80
     type: ClusterIP
<span class="err">
</span></code></pre></div></div> <h2 id="200"> <a href="#200" class="anchor-heading" aria-labelledby="200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.0 </h2> <p><strong>Release date:</strong> 2020-02-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.30.0&amp;color=success" alt="AppVersion: 0.30.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update helm templates to match new chart name</li> <li>Use recommended labels and label helpers</li> <li>Merge pull request #5178 from gregsidelinger/master</li> <li>Sync chart PR #20984 (#5171)</li> <li>Updating README with new annotations options</li> <li>Adding annotations support to configmaps</li> <li>Use local chart directory for dev-env and e2e tests (#5165)</li> </ul> <h3 id="default-value-changes-134"> <a href="#default-value-changes-134" class="anchor-heading" aria-labelledby="default-value-changes-134"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/ingress-nginx/values.yaml b/charts/ingress-nginx/values.yaml
index 6b9e52ea2..792827956 100644
</span><span class="gd">--- a/charts/ingress-nginx/values.yaml
</span><span class="gi">+++ b/charts/ingress-nginx/values.yaml
</span><span class="p">@@ -19,6 +19,10 @@</span> controller:
   # Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
   config: {}
 
<span class="gi">+  ## Annotations to be added to the controller config configuration configmap
+  ##
+  configAnnotations: {}
+
</span>   # Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/customization/custom-headers
   proxySetHeaders: {}
 
<span class="p">@@ -92,15 +96,19 @@</span> controller:
   ##
   configMapNamespace: ""   # defaults to .Release.Namespace
 
<span class="gd">-  ## Allows customization of the tcp-services-configmap namespace
</span><span class="gi">+  ## Allows customization of the tcp-services-configmap
</span>   ##
   tcp:
     configMapNamespace: ""   # defaults to .Release.Namespace
<span class="gi">+    ## Annotations to be added to the tcp config configmap
+    annotations: {}
</span> 
<span class="gd">-  ## Allows customization of the udp-services-configmap namespace
</span><span class="gi">+  ## Allows customization of the udp-services-configmap
</span>   ##
   udp:
     configMapNamespace: ""   # defaults to .Release.Namespace
<span class="gi">+    ## Annotations to be added to the udp config configmap
+    annotations: {}
</span> 
   ## Additional command line arguments to pass to nginx-ingress-controller
   ## E.g. to specify the default SSL certificate you can use
<span class="p">@@ -160,7 +168,7 @@</span> controller:
     #         - key: app
     #           operator: In
     #           values:
<span class="gd">-    #           - nginx-ingress
</span><span class="gi">+    #           - ingress-nginx
</span>     #       topologyKey: kubernetes.io/hostname
 
     # # An example of required pod anti-affinity
<span class="p">@@ -171,7 +179,7 @@</span> controller:
     #       - key: app
     #         operator: In
     #         values:
<span class="gd">-    #         - nginx-ingress
</span><span class="gi">+    #         - ingress-nginx
</span>     #     topologyKey: "kubernetes.io/hostname"
 
   ## terminationGracePeriodSeconds
<span class="p">@@ -527,6 +535,7 @@</span> defaultBackend:
 ## Enable RBAC as per https://github.com/kubernetes/ingress/tree/master/examples/rbac/nginx and https://github.com/kubernetes/ingress/issues/266
 rbac:
   create: true
<span class="gi">+  scope: false
</span> 
 # If true, create &amp; use Pod Security Policy resources
 # https://kubernetes.io/docs/concepts/policy/pod-security-policy/
<span class="err">
</span></code></pre></div></div> <h2 id="1320"> <a href="#1320" class="anchor-heading" aria-labelledby="1320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.32.0 </h2> <p><strong>Release date:</strong> 2020-02-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.30.0&amp;color=success" alt="AppVersion: 0.30.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Start migration of helm chart (#5159)</li> </ul> <h3 id="default-value-changes-135"> <a href="#default-value-changes-135" class="anchor-heading" aria-labelledby="default-value-changes-135"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## nginx configuration
## Ref: https://github.com/kubernetes/ingress/blob/master/controllers/nginx/configuration.md
##
<span class="p">controller:
</span>  name: controller
  image:
    repository: quay.io/kubernetes-ingress-controller/nginx-ingress-controller
    tag: "0.30.0"
    pullPolicy: IfNotPresent
    # www-data -&gt; uid 101
    runAsUser: 101
    allowPrivilegeEscalation: true
<span class="err">
</span>  # Configures the ports the nginx-controller listens on
  containerPort:
    http: 80
    https: 443
<span class="err">
</span>  # Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
  config: {}
<span class="err">
</span>  # Will add custom headers before sending traffic to backends according to https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/customization/custom-headers
  proxySetHeaders: {}
<span class="err">
</span>  # Will add custom headers before sending response traffic to the client according to: https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#add-headers
  addHeaders: {}
<span class="err">
</span>  # Required for use with CNI based kubernetes installations (such as ones set up by kubeadm),
  # since CNI and hostport don't mix yet. Can be deprecated once https://github.com/kubernetes/kubernetes/issues/23920
  # is merged
  hostNetwork: false
<span class="err">
</span>  # Optionally customize the pod dnsConfig.
  dnsConfig: {}
<span class="err">
</span>  # Optionally change this to ClusterFirstWithHostNet in case you have 'hostNetwork: true'.
  # By default, while using host network, name resolution uses the host's DNS. If you wish nginx-controller
  # to keep resolving names inside the k8s network, use ClusterFirstWithHostNet.
  dnsPolicy: ClusterFirst
<span class="err">
</span>  # Bare-metal considerations via the host network https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network
  # Ingress status was blank because there is no Service exposing the NGINX Ingress controller in a configuration using the host network, the default --publish-service flag used in standard cloud setups does not apply
  reportNodeInternalIp: false
<span class="err">
</span>  ## Use host ports 80 and 443
  daemonset:
    useHostPort: false
<span class="err">
</span>    hostPorts:
      http: 80
      https: 443
<span class="err">
</span>  ## Required only if defaultBackend.enabled = false
  ## Must be &lt;namespace&gt;/&lt;service_name&gt;
  ##
  defaultBackendService: ""
<span class="err">
</span>  ## Election ID to use for status update
  ##
  electionID: ingress-controller-leader
<span class="err">
</span>  ## Name of the ingress class to route through this controller
  ##
  ingressClass: nginx
<span class="err">
</span>  # labels to add to the pod container metadata
  podLabels: {}
  #  key: value
<span class="err">
</span>  ## Security Context policies for controller pods
  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
  ## notes on enabling and using sysctls
  ##
  podSecurityContext: {}
<span class="err">
</span>  ## Allows customization of the external service
  ## the ingress will be bound to via DNS
  publishService:
    enabled: false
    ## Allows overriding of the publish service to bind to
    ## Must be &lt;namespace&gt;/&lt;service_name&gt;
    ##
    pathOverride: ""
<span class="err">
</span>  ## Limit the scope of the controller
  ##
  scope:
    enabled: false
    namespace: ""   # defaults to .Release.Namespace
<span class="err">
</span>  ## Allows customization of the configmap / nginx-configmap namespace
  ##
  configMapNamespace: ""   # defaults to .Release.Namespace
<span class="err">
</span>  ## Allows customization of the tcp-services-configmap namespace
  ##
  tcp:
    configMapNamespace: ""   # defaults to .Release.Namespace
<span class="err">
</span>  ## Allows customization of the udp-services-configmap namespace
  ##
  udp:
    configMapNamespace: ""   # defaults to .Release.Namespace
<span class="err">
</span>  ## Additional command line arguments to pass to nginx-ingress-controller
  ## E.g. to specify the default SSL certificate you can use
  ## extraArgs:
  ##   default-ssl-certificate: "&lt;namespace&gt;/&lt;secret_name&gt;"
  extraArgs: {}
<span class="err">
</span>  ## Additional environment variables to set
  extraEnvs: []
  # extraEnvs:
  #   - name: FOO
  #     valueFrom:
  #       secretKeyRef:
  #         key: FOO
  #         name: secret-resource
<span class="err">
</span>  ## DaemonSet or Deployment
  ##
  kind: Deployment
<span class="err">
</span>  ## Annotations to be added to the controller deployment
  ##
  deploymentAnnotations: {}
<span class="err">
</span>  # The update strategy to apply to the Deployment or DaemonSet
  ##
  updateStrategy: {}
  #  rollingUpdate:
  #    maxUnavailable: 1
  #  type: RollingUpdate
<span class="err">
</span>  # minReadySeconds to avoid killing pods before we are ready
  ##
  minReadySeconds: 0
<span class="err">

</span>  ## Node tolerations for server scheduling to nodes with taints
  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
  ##
  tolerations: []
  #  - key: "key"
  #    operator: "Equal|Exists"
  #    value: "value"
  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
<span class="err">
</span>  ## Affinity and anti-affinity
  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ##
  affinity: {}
    # # An example of preferred pod anti-affinity, weight is in the range 1-100
    # podAntiAffinity:
    #   preferredDuringSchedulingIgnoredDuringExecution:
    #   - weight: 100
    #     podAffinityTerm:
    #       labelSelector:
    #         matchExpressions:
    #         - key: app
    #           operator: In
    #           values:
    #           - nginx-ingress
    #       topologyKey: kubernetes.io/hostname
<span class="err">
</span>    # # An example of required pod anti-affinity
    # podAntiAffinity:
    #   requiredDuringSchedulingIgnoredDuringExecution:
    #   - labelSelector:
    #       matchExpressions:
    #       - key: app
    #         operator: In
    #         values:
    #         - nginx-ingress
    #     topologyKey: "kubernetes.io/hostname"
<span class="err">
</span>  ## terminationGracePeriodSeconds
  ##
  terminationGracePeriodSeconds: 60
<span class="err">
</span>  ## Node labels for controller pod assignment
  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}
<span class="err">
</span>  ## Liveness and readiness probe values
  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes
  ##
  livenessProbe:
    failureThreshold: 3
    initialDelaySeconds: 10
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 1
    port: 10254
  readinessProbe:
    failureThreshold: 3
    initialDelaySeconds: 10
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 1
    port: 10254
<span class="err">
</span>  ## Annotations to be added to controller pods
  ##
  podAnnotations: {}
<span class="err">
</span>  replicaCount: 1
<span class="err">
</span>  minAvailable: 1
<span class="err">
</span>  resources: {}
  #  limits:
  #    cpu: 100m
  #    memory: 64Mi
  #  requests:
  #    cpu: 100m
  #    memory: 64Mi
<span class="err">
</span>  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 11
    targetCPUUtilizationPercentage: 50
    targetMemoryUtilizationPercentage: 50
<span class="err">
</span>  ## Override NGINX template
  customTemplate:
    configMapName: ""
    configMapKey: ""
<span class="err">
</span>  service:
    enabled: true
<span class="err">
</span>    annotations: {}
    labels: {}
    ## Deprecated, instead simply do not provide a clusterIP value
    omitClusterIP: false
    # clusterIP: ""
<span class="err">
</span>    ## List of IP addresses at which the controller services are available
    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
    ##
    externalIPs: []
<span class="err">
</span>    loadBalancerIP: ""
    loadBalancerSourceRanges: []
<span class="err">
</span>    enableHttp: true
    enableHttps: true
<span class="err">
</span>    ## Set external traffic policy to: "Local" to preserve source IP on
    ## providers supporting it
    ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
    externalTrafficPolicy: ""
<span class="err">
</span>    # Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
    sessionAffinity: ""
<span class="err">
</span>    healthCheckNodePort: 0
<span class="err">
</span>    ports:
      http: 80
      https: 443
<span class="err">
</span>    targetPorts:
      http: http
      https: https
<span class="err">
</span>    type: LoadBalancer
<span class="err">
</span>    # type: NodePort
    # nodePorts:
    #   http: 32080
    #   https: 32443
    #   tcp:
    #     8080: 32808
    nodePorts:
      http: ""
      https: ""
      tcp: {}
      udp: {}
<span class="err">
</span>  extraContainers: []
  ## Additional containers to be added to the controller pod.
  ## See https://github.com/lemonldap-ng-controller/lemonldap-ng-controller as example.
  #  - name: my-sidecar
  #    image: nginx:latest
  #  - name: lemonldap-ng-controller
  #    image: lemonldapng/lemonldap-ng-controller:0.2.0
  #    args:
  #      - /lemonldap-ng-controller
  #      - --alsologtostderr
  #      - --configmap=$(POD_NAMESPACE)/lemonldap-ng-configuration
  #    env:
  #      - name: POD_NAME
  #        valueFrom:
  #          fieldRef:
  #            fieldPath: metadata.name
  #      - name: POD_NAMESPACE
  #        valueFrom:
  #          fieldRef:
  #            fieldPath: metadata.namespace
  #    volumeMounts:
  #    - name: copy-portal-skins
  #      mountPath: /srv/var/lib/lemonldap-ng/portal/skins
<span class="err">
</span>  extraVolumeMounts: []
  ## Additional volumeMounts to the controller main container.
  #  - name: copy-portal-skins
  #   mountPath: /var/lib/lemonldap-ng/portal/skins
<span class="err">
</span>  extraVolumes: []
  ## Additional volumes to the controller pod.
  #  - name: copy-portal-skins
  #    emptyDir: {}
<span class="err">
</span>  extraInitContainers: []
  ## Containers, which are run before the app containers are started.
  # - name: init-myservice
  #   image: busybox
  #   command: ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
<span class="err">
</span>  admissionWebhooks:
    enabled: true
    failurePolicy: Fail
    port: 8443
<span class="err">
</span>    service:
      annotations: {}
      ## Deprecated, instead simply do not provide a clusterIP value
      omitClusterIP: false
      # clusterIP: ""
      externalIPs: []
      loadBalancerIP: ""
      loadBalancerSourceRanges: []
      servicePort: 443
      type: ClusterIP
<span class="err">
</span>    patch:
      enabled: true
      image:
        repository: jettech/kube-webhook-certgen
        tag: v1.0.0
        pullPolicy: IfNotPresent
      ## Provide a priority class name to the webhook patching job
      ##
      priorityClassName: ""
      podAnnotations: {}
      nodeSelector: {}
<span class="err">
</span>  metrics:
    port: 10254
    # if this port is changed, change healthz-port: in extraArgs: accordingly
    enabled: false
<span class="err">
</span>    service:
      annotations: {}
      # prometheus.io/scrape: "true"
      # prometheus.io/port: "10254"
<span class="err">
</span>      ## Deprecated, instead simply do not provide a clusterIP value
      omitClusterIP: false
      # clusterIP: ""
<span class="err">
</span>      ## List of IP addresses at which the stats-exporter service is available
      ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
      ##
      externalIPs: []
<span class="err">
</span>      loadBalancerIP: ""
      loadBalancerSourceRanges: []
      servicePort: 9913
      type: ClusterIP
<span class="err">
</span>    serviceMonitor:
      enabled: false
      additionalLabels: {}
      namespace: ""
      namespaceSelector: {}
      # Default: scrape .Release.Namespace only
      # To scrape all, use the following:
      # namespaceSelector:
      #   any: true
      scrapeInterval: 30s
      # honorLabels: true
<span class="err">
</span>    prometheusRule:
      enabled: false
      additionalLabels: {}
      namespace: ""
      rules: []
        # # These are just examples rules, please adapt them to your needs
        # - alert: TooMany500s
        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"5.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
        #   for: 1m
        #   labels:
        #     severity: critical
        #   annotations:
        #     description: Too many 5XXs
        #     summary: More than 5% of the all requests did return 5XX, this require your attention
        # - alert: TooMany400s
        #   expr: 100 * ( sum( nginx_ingress_controller_requests{status=~"4.+"} ) / sum(nginx_ingress_controller_requests) ) &gt; 5
        #   for: 1m
        #   labels:
        #     severity: critical
        #   annotations:
        #     description: Too many 4XXs
        #     summary: More than 5% of the all requests did return 4XX, this require your attention
<span class="err">

</span>  lifecycle: {}
<span class="err">
</span>  priorityClassName: ""
<span class="err">
</span>## Rollback limit
##
<span class="p">revisionHistoryLimit: 10
</span><span class="err">
</span>## Default 404 backend
##
<span class="p">defaultBackend:
</span><span class="err">
</span>  ## If false, controller.defaultBackendService must be provided
  ##
  enabled: false
<span class="err">
</span>  name: default-backend
  image:
    repository: k8s.gcr.io/defaultbackend-amd64
    tag: "1.5"
    pullPolicy: IfNotPresent
    # nobody user -&gt; uid 65534
    runAsUser: 65534
<span class="err">
</span>  # Maxmind license key to download GeoLite2 Databases
  # https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases
  maxmindLicenseKey: ""
<span class="err">
</span>  extraArgs: {}
<span class="err">
</span>  serviceAccount:
    create: true
    name:
  ## Additional environment variables to set for defaultBackend pods
  extraEnvs: []
<span class="err">
</span>  port: 8080
<span class="err">
</span>  ## Readiness and liveness probes for default backend
  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
  ##
  livenessProbe:
    failureThreshold: 3
    initialDelaySeconds: 30
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 5
  readinessProbe:
    failureThreshold: 6
    initialDelaySeconds: 0
    periodSeconds: 5
    successThreshold: 1
    timeoutSeconds: 5
<span class="err">
</span>  ## Node tolerations for server scheduling to nodes with taints
  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
  ##
  tolerations: []
  #  - key: "key"
  #    operator: "Equal|Exists"
  #    value: "value"
  #    effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
<span class="err">
</span>  affinity: {}
<span class="err">
</span>  ## Security Context policies for controller pods
  ## See https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/ for
  ## notes on enabling and using sysctls
  ##
  podSecurityContext: {}
<span class="err">
</span>  # labels to add to the pod container metadata
  podLabels: {}
  #  key: value
<span class="err">
</span>  ## Node labels for default backend pod assignment
  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}
<span class="err">
</span>  ## Annotations to be added to default backend pods
  ##
  podAnnotations: {}
<span class="err">
</span>  replicaCount: 1
<span class="err">
</span>  minAvailable: 1
<span class="err">
</span>  resources: {}
  # limits:
  #   cpu: 10m
  #   memory: 20Mi
  # requests:
  #   cpu: 10m
  #   memory: 20Mi
<span class="err">
</span>  service:
    annotations: {}
    ## Deprecated, instead simply do not provide a clusterIP value
    omitClusterIP: false
    # clusterIP: ""
<span class="err">
</span>    ## List of IP addresses at which the default backend service is available
    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
    ##
    externalIPs: []
<span class="err">
</span>    loadBalancerIP: ""
    loadBalancerSourceRanges: []
    servicePort: 80
    type: ClusterIP
<span class="err">
</span>  priorityClassName: ""
<span class="err">
</span>## Enable RBAC as per https://github.com/kubernetes/ingress/tree/master/examples/rbac/nginx and https://github.com/kubernetes/ingress/issues/266
<span class="p">rbac:
</span>  create: true
<span class="err">
</span># If true, create &amp; use Pod Security Policy resources
# https://kubernetes.io/docs/concepts/policy/pod-security-policy/
<span class="p">podSecurityPolicy:
</span>  enabled: false
<span class="err">
</span><span class="p">serviceAccount:
</span>  create: true
  name:
<span class="err">
</span>## Optional array of imagePullSecrets containing private registry credentials
## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
<span class="p">imagePullSecrets: []
</span># - name: secretName
<span class="err">
</span># TCP service key:value pairs
# Ref: https://github.com/kubernetes/contrib/tree/master/ingress/controllers/nginx/examples/tcp
##
<span class="p">tcp: {}
</span>#  8080: "default/example-tcp-svc:9000"
<span class="err">
</span># UDP service key:value pairs
# Ref: https://github.com/kubernetes/contrib/tree/master/ingress/controllers/nginx/examples/udp
##
<span class="p">udp: {}
</span>#  53: "kube-system/kube-dns:53"
<span class="err">
</span></code></pre></div></div>
<hr> <p>Autogenerated from Helm Chart and git history using <a href="https://github.com/mogensen/helm-changelog" target="_blank" rel="noopener noreferrer">helm-changelog</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
