<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(34)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(34) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(7) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(34) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list > li.nav-list-item:nth-child(34) > ul.nav-list { display: block; } </style> <script src="/changelogs/assets/js/vendor/lunr.min.js"></script> <script src="/changelogs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>prometheus-postgres-exporter | Changelogs</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="prometheus-postgres-exporter" /> <meta name="author" content="Baptiste ROUX" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://baprx.github.io/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" /> <meta property="og:url" content="https://baprx.github.io/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" /> <meta property="og:site_name" content="Changelogs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="prometheus-postgres-exporter" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Baptiste ROUX"},"headline":"prometheus-postgres-exporter","url":"https://baprx.github.io/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewbox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewbox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewbox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewbox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/changelogs/" class="site-title lh-tight"> Changelogs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewbox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list">
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in argoproj/argo-helm category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/argoproj/argo-helm" class="nav-list-link">argoproj/argo-helm</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-events" class="nav-list-link">argo-events</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-rollouts" class="nav-list-link">argo-rollouts</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-apps" class="nav-list-link">argocd-apps</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-image-updater" class="nav-list-link">argocd-image-updater</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in authelia/chartrepo category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/authelia/chartrepo" class="nav-list-link">authelia/chartrepo</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/authelia/chartrepo/authelia" class="nav-list-link">authelia</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in bitnami/charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/bitnami/charts" class="nav-list-link">bitnami/charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/CHART_NAME" class="nav-list-link">CHART_NAME</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/airflow" class="nav-list-link">airflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apache" class="nav-list-link">apache</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apisix" class="nav-list-link">apisix</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/appsmith" class="nav-list-link">appsmith</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/aspnet-core" class="nav-list-link">aspnet-core</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cassandra" class="nav-list-link">cassandra</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cert-manager" class="nav-list-link">cert-manager</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/clickhouse" class="nav-list-link">clickhouse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/common" class="nav-list-link">common</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/concourse" class="nav-list-link">concourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/consul" class="nav-list-link">consul</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/contour" class="nav-list-link">contour</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/deepspeed" class="nav-list-link">deepspeed</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/discourse" class="nav-list-link">discourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/dokuwiki" class="nav-list-link">dokuwiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/drupal" class="nav-list-link">drupal</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ejbca" class="nav-list-link">ejbca</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/elasticsearch" class="nav-list-link">elasticsearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/etcd" class="nav-list-link">etcd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/external-dns" class="nav-list-link">external-dns</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flink" class="nav-list-link">flink</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluentd" class="nav-list-link">fluentd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flux" class="nav-list-link">flux</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ghost" class="nav-list-link">ghost</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/gitea" class="nav-list-link">gitea</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-loki" class="nav-list-link">grafana-loki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-mimir" class="nav-list-link">grafana-mimir</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-operator" class="nav-list-link">grafana-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-tempo" class="nav-list-link">grafana-tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/haproxy" class="nav-list-link">haproxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/harbor" class="nav-list-link">harbor</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/influxdb" class="nav-list-link">influxdb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jaeger" class="nav-list-link">jaeger</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jasperreports" class="nav-list-link">jasperreports</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jenkins" class="nav-list-link">jenkins</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/joomla" class="nav-list-link">joomla</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jupyterhub" class="nav-list-link">jupyterhub</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kafka" class="nav-list-link">kafka</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/keycloak" class="nav-list-link">keycloak</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kiam" class="nav-list-link">kiam</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kibana" class="nav-list-link">kibana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kong" class="nav-list-link">kong</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-prometheus" class="nav-list-link">kube-prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubeapps" class="nav-list-link">kubeapps</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kuberay" class="nav-list-link">kuberay</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubernetes-event-exporter" class="nav-list-link">kubernetes-event-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/logstash" class="nav-list-link">logstash</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/magento" class="nav-list-link">magento</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb" class="nav-list-link">mariadb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb-galera" class="nav-list-link">mariadb-galera</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mastodon" class="nav-list-link">mastodon</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/matomo" class="nav-list-link">matomo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mediawiki" class="nav-list-link">mediawiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/memcached" class="nav-list-link">memcached</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metallb" class="nav-list-link">metallb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metrics-server" class="nav-list-link">metrics-server</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/milvus" class="nav-list-link">milvus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/minio" class="nav-list-link">minio</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mlflow" class="nav-list-link">mlflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb" class="nav-list-link">mongodb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb-sharded" class="nav-list-link">mongodb-sharded</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/moodle" class="nav-list-link">moodle</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/multus-cni" class="nav-list-link">multus-cni</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mysql" class="nav-list-link">mysql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nats" class="nav-list-link">nats</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx" class="nav-list-link">nginx</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx-ingress-controller" class="nav-list-link">nginx-ingress-controller</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/node-exporter" class="nav-list-link">node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/oauth2-proxy" class="nav-list-link">oauth2-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/odoo" class="nav-list-link">odoo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opencart" class="nav-list-link">opencart</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opensearch" class="nav-list-link">opensearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/osclass" class="nav-list-link">osclass</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/parse" class="nav-list-link">parse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpbb" class="nav-list-link">phpbb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpmyadmin" class="nav-list-link">phpmyadmin</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pinniped" class="nav-list-link">pinniped</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql" class="nav-list-link">postgresql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql-ha" class="nav-list-link">postgresql-ha</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prestashop" class="nav-list-link">prestashop</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pytorch" class="nav-list-link">pytorch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq" class="nav-list-link">rabbitmq</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq-cluster-operator" class="nav-list-link">rabbitmq-cluster-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis" class="nav-list-link">redis</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis-cluster" class="nav-list-link">redis-cluster</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redmine" class="nav-list-link">redmine</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/schema-registry" class="nav-list-link">schema-registry</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sealed-secrets" class="nav-list-link">sealed-secrets</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/solr" class="nav-list-link">solr</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sonarqube" class="nav-list-link">sonarqube</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spark" class="nav-list-link">spark</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spring-cloud-dataflow" class="nav-list-link">spring-cloud-dataflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/supabase" class="nav-list-link">supabase</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tensorflow-resnet" class="nav-list-link">tensorflow-resnet</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/thanos" class="nav-list-link">thanos</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tomcat" class="nav-list-link">tomcat</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/vault" class="nav-list-link">vault</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/whereabouts" class="nav-list-link">whereabouts</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wildfly" class="nav-list-link">wildfly</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wordpress" class="nav-list-link">wordpress</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/zookeeper" class="nav-list-link">zookeeper</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in grafana/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/grafana/helm-charts" class="nav-list-link">grafana/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/agent-operator" class="nav-list-link">agent-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs" class="nav-list-link">enterprise-logs</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs-simple" class="nav-list-link">enterprise-logs-simple</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-metrics" class="nav-list-link">enterprise-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/lgtm-distributed" class="nav-list-link">lgtm-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-canary" class="nav-list-link">loki-canary</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-distributed" class="nav-list-link">loki-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-stack" class="nav-list-link">loki-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/promtail" class="nav-list-link">promtail</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/rollout-operator" class="nav-list-link">rollout-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/snyk-exporter" class="nav-list-link">snyk-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/synthetic-monitoring-agent" class="nav-list-link">synthetic-monitoring-agent</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo" class="nav-list-link">tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-distributed" class="nav-list-link">tempo-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-vulture" class="nav-list-link">tempo-vulture</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in kubernetes/ingress-nginx category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/kubernetes/ingress-nginx" class="nav-list-link">kubernetes/ingress-nginx</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/kubernetes/ingress-nginx/ingress-nginx" class="nav-list-link">ingress-nginx</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in minio/operator category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/minio/operator" class="nav-list-link">minio/operator</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/minio/operator/operator" class="nav-list-link">operator</a></li>
<li class="nav-list-item"><a href="/changelogs/minio/operator/tenant" class="nav-list-link">tenant</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in prometheus-community/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/prometheus-community/helm-charts" class="nav-list-link">prometheus-community/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager" class="nav-list-link">alertmanager</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager-snmp-notifier" class="nav-list-link">alertmanager-snmp-notifier</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/crds" class="nav-list-link">crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/jiralert" class="nav-list-link">jiralert</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" class="nav-list-link">kube-prometheus-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prom-label-proxy" class="nav-list-link">prom-label-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-adapter" class="nav-list-link">prometheus-adapter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-blackbox-exporter" class="nav-list-link">prometheus-blackbox-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-cloudwatch-exporter" class="nav-list-link">prometheus-cloudwatch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-conntrack-stats-exporter" class="nav-list-link">prometheus-conntrack-stats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-consul-exporter" class="nav-list-link">prometheus-consul-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-couchdb-exporter" class="nav-list-link">prometheus-couchdb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-druid-exporter" class="nav-list-link">prometheus-druid-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-elasticsearch-exporter" class="nav-list-link">prometheus-elasticsearch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-fastly-exporter" class="nav-list-link">prometheus-fastly-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-ipmi-exporter" class="nav-list-link">prometheus-ipmi-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-json-exporter" class="nav-list-link">prometheus-json-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-kafka-exporter" class="nav-list-link">prometheus-kafka-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-memcached-exporter" class="nav-list-link">prometheus-memcached-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-modbus-exporter" class="nav-list-link">prometheus-modbus-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mongodb-exporter" class="nav-list-link">prometheus-mongodb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mysql-exporter" class="nav-list-link">prometheus-mysql-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nats-exporter" class="nav-list-link">prometheus-nats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nginx-exporter" class="nav-list-link">prometheus-nginx-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-node-exporter" class="nav-list-link">prometheus-node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-opencost-exporter" class="nav-list-link">prometheus-opencost-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-admission-webhook" class="nav-list-link">prometheus-operator-admission-webhook</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-crds" class="nav-list-link">prometheus-operator-crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pgbouncer-exporter" class="nav-list-link">prometheus-pgbouncer-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingdom-exporter" class="nav-list-link">prometheus-pingdom-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingmesh-exporter" class="nav-list-link">prometheus-pingmesh-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" class="nav-list-link">prometheus-postgres-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pushgateway" class="nav-list-link">prometheus-pushgateway</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-rabbitmq-exporter" class="nav-list-link">prometheus-rabbitmq-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-redis-exporter" class="nav-list-link">prometheus-redis-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-smartctl-exporter" class="nav-list-link">prometheus-smartctl-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-snmp-exporter" class="nav-list-link">prometheus-snmp-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-stackdriver-exporter" class="nav-list-link">prometheus-stackdriver-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-statsd-exporter" class="nav-list-link">prometheus-statsd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-systemd-exporter" class="nav-list-link">prometheus-systemd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-to-sd" class="nav-list-link">prometheus-to-sd</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-windows-exporter" class="nav-list-link">prometheus-windows-exporter</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in traefik/traefik-helm-chart category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/traefik/traefik-helm-chart" class="nav-list-link">traefik/traefik-helm-chart</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/traefik/traefik-helm-chart/traefik" class="nav-list-link">traefik</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in vmware-tanzu/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/vmware-tanzu/helm-charts" class="nav-list-link">vmware-tanzu/helm-charts</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/vmware-tanzu/helm-charts/velero" class="nav-list-link">velero</a></li></ul>
</li>
</ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Changelogs" aria-label="Search Changelogs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/changelogs/prometheus-community/helm-charts">prometheus-community/helm-charts</a></li> <li class="breadcrumb-nav-list-item"><span>prometheus-postgres-exporter</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="prometheus-postgres-exporter"> <a href="#prometheus-postgres-exporter" class="anchor-heading" aria-labelledby="prometheus-postgres-exporter"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> prometheus-postgres-exporter </h1> <h2 id="530"> <a href="#530" class="anchor-heading" aria-labelledby="530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.3.0 </h2> <p><strong>Release date:</strong> 2023-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.15.0&amp;color=success" alt="AppVersion: v0.15.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> - introduced priorityClassName (#4069)</li> </ul> <h3 id="default-value-changes"> <a href="#default-value-changes" class="anchor-heading" aria-labelledby="default-value-changes"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 67857415..c94c36cf 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -61,6 +61,8 @@</span> prometheusRule:
     #     description: replication for {{ template "prometheus-postgres-exporter.fullname" . }} PostgreSQL is lagging by {{ "{{ $value }}" }} hour(s).
     #     summary: PostgreSQL replication is lagging by {{ "{{ $value }}" }} hour(s).
 
<span class="gi">+priorityClassName: ""
+
</span> resources: {}
   # We usually recommend not to specify default resources and to leave this as a conscious
   # choice for the user. This also increases chances charts run on environments with little
<span class="err">
</span></code></pre></div></div> <h2 id="520"> <a href="#520" class="anchor-heading" aria-labelledby="520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.2.0 </h2> <p><strong>Release date:</strong> 2023-11-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.15.0&amp;color=success" alt="AppVersion: v0.15.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Upgrade postgres-exporter version (#3976)</li> </ul> <h3 id="default-value-changes-1"> <a href="#default-value-changes-1" class="anchor-heading" aria-labelledby="default-value-changes-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="510"> <a href="#510" class="anchor-heading" aria-labelledby="510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.0 </h2> <p><strong>Release date:</strong> 2023-09-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.14.0&amp;color=success" alt="AppVersion: v0.14.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Upgrade postgres-exporter version (#3832)</li> </ul> <h3 id="default-value-changes-2"> <a href="#default-value-changes-2" class="anchor-heading" aria-labelledby="default-value-changes-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="500"> <a href="#500" class="anchor-heading" aria-labelledby="500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.0.0 </h2> <p><strong>Release date:</strong> 2023-08-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.13.2&amp;color=success" alt="AppVersion: v0.13.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update / template labels / use appVersion as tag (#3692)</li> </ul> <h3 id="default-value-changes-3"> <a href="#default-value-changes-3" class="anchor-heading" aria-labelledby="default-value-changes-3"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index add817c7..67857415 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -1,12 +1,9 @@</span>
<span class="gd">-# Default values for prometheus-postgres-exporter.
-# This is a YAML-formatted file.
-# Declare variables to be passed into your templates.
-
</span> replicaCount: 1
 
 image:
   repository: quay.io/prometheuscommunity/postgres-exporter
<span class="gd">-  tag: v0.13.1
</span><span class="gi">+  # if not set appVersion field from Chart.yaml is used
+  tag: ""
</span>   pullPolicy: IfNotPresent
 
   ## Optionally specify an array of imagePullSecrets.
<span class="p">@@ -79,8 +76,6 @@</span> resources: {}
 rbac:
   # Specifies whether RBAC resources should be created
   create: true
<span class="gd">-  # Specifies whether a PodSecurityPolicy should be created
-  pspEnabled: true
</span> 
 serviceAccount:
   # Specifies whether a ServiceAccount should be created
<span class="p">@@ -101,25 +96,22 @@</span> networkPolicy:
 
 # The securityContext of the pod.
 # See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
<span class="gd">-podSecurityContext: {}
-  # runAsUser: 1001
-  # runAsGroup: 1001
-  # runAsNonRoot: true
-  # seccompProfile:
-  #   type: RuntimeDefault
</span><span class="gi">+podSecurityContext:
+  runAsGroup: 1001
+  runAsUser: 1001
+  runAsNonRoot: true
+  seccompProfile:
+    type: RuntimeDefault
</span> 
 # The securityContext of the container.
 # See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
<span class="gd">-securityContext: {}
-  # runAsUser: 1001
-  # runAsGroup: 1001
-  # readOnlyRootFilesystem: true
-  # runAsNonRoot: true
-  # allowPrivilegeEscalation: false
-  # capabilities:
-  #   drop: ["ALL"]
-  # seccompProfile:
-  #   type: RuntimeDefault
</span><span class="gi">+securityContext:
+  allowPrivilegeEscalation: false
+  capabilities:
+    drop:
+      - ALL
+  privileged: false
+  readOnlyRootFilesystem: true
</span> 
 hostAliases: []
   # Set Host Aliases as per https://kubernetes.io/docs/tasks/network/customize-hosts-file-for-pods/
<span class="p">@@ -169,289 +161,23 @@</span> config:
   disableCollectorBgwriter: false
   disableDefaultMetrics: false
   disableSettingsMetrics: false
<span class="gd">-  autoDiscoverDatabases: false
-  excludeDatabases: []
-  # autoDiscoverDatabases must be true for excludeDatabases to be considered
-  includeDatabases: []
-  # autoDiscoverDatabases must be true for includeDatabases to be considered
-  constantLabels: {}
</span><span class="gi">+
</span>   # possible values debug, info, warn, error, fatal
   logLevel: ""
   # possible values logfmt, json
   logFormat: ""
   extraArgs: []
<span class="gd">-  # Enable queries from an external configmap, enable it will disable inline queries below
-  externalQueries:
-    enabled: false
-    configmap: postgresql-common-exporter-queries
-  # These are the default queries that the exporter will run, extracted from: https://github.com/prometheus-community/postgres_exporter/blob/master/queries.yaml
-  queries: |-
-    pg_replication:
-      query: "SELECT CASE WHEN NOT pg_is_in_recovery() THEN 0 ELSE GREATEST (0, EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp()))) END AS lag"
-      master: true
-      metrics:
-        - lag:
-            usage: "GAUGE"
-            description: "Replication lag behind master in seconds"
-
-    pg_postmaster:
-      query: "SELECT pg_postmaster_start_time as start_time_seconds from pg_postmaster_start_time()"
-      master: true
-      metrics:
-        - start_time_seconds:
-            usage: "GAUGE"
-            description: "Time at which postmaster started"
-
-    pg_stat_user_tables:
-      query: |
-        SELECT
-          current_database() datname,
-          schemaname,
-          relname,
-          seq_scan,
-          seq_tup_read,
-          idx_scan,
-          idx_tup_fetch,
-          n_tup_ins,
-          n_tup_upd,
-          n_tup_del,
-          n_tup_hot_upd,
-          n_live_tup,
-          n_dead_tup,
-          n_mod_since_analyze,
-          COALESCE(last_vacuum, '1970-01-01Z') as last_vacuum,
-          COALESCE(last_autovacuum, '1970-01-01Z') as last_autovacuum,
-          COALESCE(last_analyze, '1970-01-01Z') as last_analyze,
-          COALESCE(last_autoanalyze, '1970-01-01Z') as last_autoanalyze,
-          vacuum_count,
-          autovacuum_count,
-          analyze_count,
-          autoanalyze_count
-        FROM
-          pg_stat_user_tables
-      metrics:
-        - datname:
-            usage: "LABEL"
-            description: "Name of current database"
-        - schemaname:
-            usage: "LABEL"
-            description: "Name of the schema that this table is in"
-        - relname:
-            usage: "LABEL"
-            description: "Name of this table"
-        - seq_scan:
-            usage: "COUNTER"
-            description: "Number of sequential scans initiated on this table"
-        - seq_tup_read:
-            usage: "COUNTER"
-            description: "Number of live rows fetched by sequential scans"
-        - idx_scan:
-            usage: "COUNTER"
-            description: "Number of index scans initiated on this table"
-        - idx_tup_fetch:
-            usage: "COUNTER"
-            description: "Number of live rows fetched by index scans"
-        - n_tup_ins:
-            usage: "COUNTER"
-            description: "Number of rows inserted"
-        - n_tup_upd:
-            usage: "COUNTER"
-            description: "Number of rows updated"
-        - n_tup_del:
-            usage: "COUNTER"
-            description: "Number of rows deleted"
-        - n_tup_hot_upd:
-            usage: "COUNTER"
-            description: "Number of rows HOT updated (i.e., with no separate index update required)"
-        - n_live_tup:
-            usage: "GAUGE"
-            description: "Estimated number of live rows"
-        - n_dead_tup:
-            usage: "GAUGE"
-            description: "Estimated number of dead rows"
-        - n_mod_since_analyze:
-            usage: "GAUGE"
-            description: "Estimated number of rows changed since last analyze"
-        - last_vacuum:
-            usage: "GAUGE"
-            description: "Last time at which this table was manually vacuumed (not counting VACUUM FULL)"
-        - last_autovacuum:
-            usage: "GAUGE"
-            description: "Last time at which this table was vacuumed by the autovacuum daemon"
-        - last_analyze:
-            usage: "GAUGE"
-            description: "Last time at which this table was manually analyzed"
-        - last_autoanalyze:
-            usage: "GAUGE"
-            description: "Last time at which this table was analyzed by the autovacuum daemon"
-        - vacuum_count:
-            usage: "COUNTER"
-            description: "Number of times this table has been manually vacuumed (not counting VACUUM FULL)"
-        - autovacuum_count:
-            usage: "COUNTER"
-            description: "Number of times this table has been vacuumed by the autovacuum daemon"
-        - analyze_count:
-            usage: "COUNTER"
-            description: "Number of times this table has been manually analyzed"
-        - autoanalyze_count:
-            usage: "COUNTER"
-            description: "Number of times this table has been analyzed by the autovacuum daemon"
</span> 
<span class="gd">-    pg_statio_user_tables:
-      query: "SELECT current_database() datname, schemaname, relname, heap_blks_read, heap_blks_hit, idx_blks_read, idx_blks_hit, toast_blks_read, toast_blks_hit, tidx_blks_read, tidx_blks_hit FROM pg_statio_user_tables"
-      metrics:
-        - datname:
-            usage: "LABEL"
-            description: "Name of current database"
-        - schemaname:
-            usage: "LABEL"
-            description: "Name of the schema that this table is in"
-        - relname:
-            usage: "LABEL"
-            description: "Name of this table"
-        - heap_blks_read:
-            usage: "COUNTER"
-            description: "Number of disk blocks read from this table"
-        - heap_blks_hit:
-            usage: "COUNTER"
-            description: "Number of buffer hits in this table"
-        - idx_blks_read:
-            usage: "COUNTER"
-            description: "Number of disk blocks read from all indexes on this table"
-        - idx_blks_hit:
-            usage: "COUNTER"
-            description: "Number of buffer hits in all indexes on this table"
-        - toast_blks_read:
-            usage: "COUNTER"
-            description: "Number of disk blocks read from this table's TOAST table (if any)"
-        - toast_blks_hit:
-            usage: "COUNTER"
-            description: "Number of buffer hits in this table's TOAST table (if any)"
-        - tidx_blks_read:
-            usage: "COUNTER"
-            description: "Number of disk blocks read from this table's TOAST table indexes (if any)"
-        - tidx_blks_hit:
-            usage: "COUNTER"
-            description: "Number of buffer hits in this table's TOAST table indexes (if any)"
-
-    # WARNING: This set of metrics can be very expensive on a busy server as every unique query executed will create an additional time series
-    pg_stat_statements:
-      query: "SELECT t2.rolname, t3.datname, queryid, calls, ( total_plan_time + total_exec_time ) / 1000 as total_time_seconds, ( min_plan_time + min_exec_time ) / 1000 as min_time_seconds, ( max_plan_time + max_exec_time ) / 1000 as max_time_seconds, ( mean_plan_time + mean_exec_time ) / 1000 as mean_time_seconds, ( stddev_plan_time + stddev_exec_time )  / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin' AND queryid IS NOT NULL"
-      master: true
-      metrics:
-        - rolname:
-            usage: "LABEL"
-            description: "Name of user"
-        - datname:
-            usage: "LABEL"
-            description: "Name of database"
-        - queryid:
-            usage: "LABEL"
-            description: "Query ID"
-        - calls:
-            usage: "COUNTER"
-            description: "Number of times executed"
-        - total_time_seconds:
-            usage: "COUNTER"
-            description: "Total time spent in the statement, in milliseconds"
-        - min_time_seconds:
-            usage: "GAUGE"
-            description: "Minimum time spent in the statement, in milliseconds"
-        - max_time_seconds:
-            usage: "GAUGE"
-            description: "Maximum time spent in the statement, in milliseconds"
-        - mean_time_seconds:
-            usage: "GAUGE"
-            description: "Mean time spent in the statement, in milliseconds"
-        - stddev_time_seconds:
-            usage: "GAUGE"
-            description: "Population standard deviation of time spent in the statement, in milliseconds"
-        - rows:
-            usage: "COUNTER"
-            description: "Total number of rows retrieved or affected by the statement"
-        - shared_blks_hit:
-            usage: "COUNTER"
-            description: "Total number of shared block cache hits by the statement"
-        - shared_blks_read:
-            usage: "COUNTER"
-            description: "Total number of shared blocks read by the statement"
-        - shared_blks_dirtied:
-            usage: "COUNTER"
-            description: "Total number of shared blocks dirtied by the statement"
-        - shared_blks_written:
-            usage: "COUNTER"
-            description: "Total number of shared blocks written by the statement"
-        - local_blks_hit:
-            usage: "COUNTER"
-            description: "Total number of local block cache hits by the statement"
-        - local_blks_read:
-            usage: "COUNTER"
-            description: "Total number of local blocks read by the statement"
-        - local_blks_dirtied:
-            usage: "COUNTER"
-            description: "Total number of local blocks dirtied by the statement"
-        - local_blks_written:
-            usage: "COUNTER"
-            description: "Total number of local blocks written by the statement"
-        - temp_blks_read:
-            usage: "COUNTER"
-            description: "Total number of temp blocks read by the statement"
-        - temp_blks_written:
-            usage: "COUNTER"
-            description: "Total number of temp blocks written by the statement"
-        - blk_read_time_seconds:
-            usage: "COUNTER"
-            description: "Total time the statement spent reading blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
-        - blk_write_time_seconds:
-            usage: "COUNTER"
-            description: "Total time the statement spent writing blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
-
-    pg_stat_activity_idle:
-      query: |
-        WITH
-          metrics AS (
-            SELECT
-              application_name,
-              SUM(EXTRACT(EPOCH FROM (CURRENT_TIMESTAMP - state_change))::bigint)::float AS process_seconds_sum,
-              COUNT(*) AS process_seconds_count
-            FROM pg_stat_activity
-            WHERE state = 'idle'
-            GROUP BY application_name
-          ),
-          buckets AS (
-            SELECT
-              application_name,
-              le,
-              SUM(
-                CASE WHEN EXTRACT(EPOCH FROM (CURRENT_TIMESTAMP - state_change)) &lt;= le
-                  THEN 1
-                  ELSE 0
-                END
-              )::bigint AS bucket
-            FROM
-              pg_stat_activity,
-              UNNEST(ARRAY[1, 2, 5, 15, 30, 60, 90, 120, 300]) AS le
-            GROUP BY application_name, le
-            ORDER BY application_name, le
-          )
-        SELECT
-          application_name,
-          process_seconds_sum,
-          process_seconds_count,
-          ARRAY_AGG(le) AS process_seconds,
-          ARRAY_AGG(bucket) AS process_seconds_bucket
-        FROM metrics JOIN buckets USING (application_name)
-        GROUP BY 1, 2, 3
-      metrics:
-        - application_name:
-            usage: "LABEL"
-            description: "Application Name"
-        - process_seconds:
-            usage: "HISTOGRAM"
-            description: "Idle time of server processes"
-
-  # These are user-specified queries that are deep merged with the queries above
-  userQueries: ""
</span><span class="gi">+  # postgres_exporter.yml
+  postgresExporter: ""
+    # auth_modules:
+    #   first:
+    #     type: userpass
+    #     userpass:
+    #       username: first
+    #       password: firstpass
+    #     options:
+    #       sslmode: disable
</span> 
 nodeSelector: {}
 
<span class="p">@@ -466,7 +192,7 @@</span> podLabels: {}
 # Configurable health checks
 livenessProbe:
   initialDelaySeconds: 0
<span class="gd">-  timeoutSeconds: 1
</span><span class="gi">+  timeoutSeconds: 3
</span> 
 readinessProbe:
   initialDelaySeconds: 0
<span class="err">
</span></code></pre></div></div> <h2 id="480"> <a href="#480" class="anchor-heading" aria-labelledby="480"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.8.0 </h2> <p><strong>Release date:</strong> 2023-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.13.1&amp;color=success" alt="AppVersion: 0.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add labels and annotations to deployme… (#3569)</li> </ul> <h3 id="default-value-changes-4"> <a href="#default-value-changes-4" class="anchor-heading" aria-labelledby="default-value-changes-4"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 59bbeafe..add817c7 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -472,6 +472,11 @@</span> readinessProbe:
   initialDelaySeconds: 0
   timeoutSeconds: 1
 
<span class="gi">+# Labels and annotations to attach to the deployment resource
+deployment:
+  labels: {}
+  annotations: {}
+
</span> # ExtraEnvs
 extraEnvs: []
   # - name: EXTRA_ENV
<span class="err">
</span></code></pre></div></div> <h2 id="471"> <a href="#471" class="anchor-heading" aria-labelledby="471"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.7.1 </h2> <p><strong>Release date:</strong> 2023-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.13.1&amp;color=success" alt="AppVersion: 0.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Fix the parameter to disable <code class="language-plaintext highlighter-rouge">stat_bgwriter</code> collecting (#3586)</li> </ul> <h3 id="default-value-changes-5"> <a href="#default-value-changes-5" class="anchor-heading" aria-labelledby="default-value-changes-5"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="470"> <a href="#470" class="anchor-heading" aria-labelledby="470"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.7.0 </h2> <p><strong>Release date:</strong> 2023-07-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.13.1&amp;color=success" alt="AppVersion: 0.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Upgrade postgres-exporter version (#3565)</li> </ul> <h3 id="default-value-changes-6"> <a href="#default-value-changes-6" class="anchor-heading" aria-labelledby="default-value-changes-6"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 1b5f0dae..59bbeafe 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: quay.io/prometheuscommunity/postgres-exporter
<span class="gd">-  tag: v0.11.1
</span><span class="gi">+  tag: v0.13.1
</span>   pullPolicy: IfNotPresent
 
   ## Optionally specify an array of imagePullSecrets.
<span class="err">
</span></code></pre></div></div> <h2 id="460"> <a href="#460" class="anchor-heading" aria-labelledby="460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.0 </h2> <p><strong>Release date:</strong> 2023-07-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add tpl functionality to the datasource config of Postgres-exporter (#3533)</li> </ul> <h3 id="default-value-changes-7"> <a href="#default-value-changes-7" class="anchor-heading" aria-labelledby="default-value-changes-7"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index af33ea33..1b5f0dae 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -129,9 +129,11 @@</span> hostAliases: []
   #   - "bar.local"
 
 config:
<span class="gi">+  ## The datasource properties on config are passed through helm tpl function.
+  ## ref: https://helm.sh/docs/developing_charts/#using-the-tpl-function
</span>   datasource:
     # Specify one of both datasource or datasourceSecret
<span class="gd">-    host:
</span><span class="gi">+    host: ''
</span>     user: postgres
     userSecret: {}
     # Secret name
<span class="err">
</span></code></pre></div></div> <h2 id="450"> <a href="#450" class="anchor-heading" aria-labelledby="450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.5.0 </h2> <p><strong>Release date:</strong> 2023-06-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> user from secret (#3492)</li> </ul> <h3 id="default-value-changes-8"> <a href="#default-value-changes-8" class="anchor-heading" aria-labelledby="default-value-changes-8"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 9177e9f4..af33ea33 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -133,6 +133,11 @@</span> config:
     # Specify one of both datasource or datasourceSecret
     host:
     user: postgres
<span class="gi">+    userSecret: {}
+    # Secret name
+    #  name:
+    # User key inside secret
+    #  key:
</span>     # Only one of password, passwordFile, passwordSecret and pgpassfile can be specified
     password:
     # Specify passwordFile if DB password is stored in a file.
<span class="err">
</span></code></pre></div></div> <h2 id="444"> <a href="#444" class="anchor-heading" aria-labelledby="444"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.4 </h2> <p><strong>Release date:</strong> 2023-05-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Correct role (#3395)</li> </ul> <h3 id="default-value-changes-9"> <a href="#default-value-changes-9" class="anchor-heading" aria-labelledby="default-value-changes-9"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="443"> <a href="#443" class="anchor-heading" aria-labelledby="443"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.3 </h2> <p><strong>Release date:</strong> 2023-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> template apiVersion based on capabilities for the pod disruption budget (#3322)</li> </ul> <h3 id="default-value-changes-10"> <a href="#default-value-changes-10" class="anchor-heading" aria-labelledby="default-value-changes-10"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="442"> <a href="#442" class="anchor-heading" aria-labelledby="442"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.2 </h2> <p><strong>Release date:</strong> 2023-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add a maintainer (#3312)</li> </ul> <h3 id="default-value-changes-11"> <a href="#default-value-changes-11" class="anchor-heading" aria-labelledby="default-value-changes-11"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="441"> <a href="#441" class="anchor-heading" aria-labelledby="441"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.1 </h2> <p><strong>Release date:</strong> 2023-04-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add comments regarding excludeDatabases and includeDatabases (#3173)</li> </ul> <h3 id="default-value-changes-12"> <a href="#default-value-changes-12" class="anchor-heading" aria-labelledby="default-value-changes-12"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 47d2f6ac..9177e9f4 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -164,7 +164,9 @@</span> config:
   disableSettingsMetrics: false
   autoDiscoverDatabases: false
   excludeDatabases: []
<span class="gi">+  # autoDiscoverDatabases must be true for excludeDatabases to be considered
</span>   includeDatabases: []
<span class="gi">+  # autoDiscoverDatabases must be true for includeDatabases to be considered
</span>   constantLabels: {}
   # possible values debug, info, warn, error, fatal
   logLevel: ""
<span class="err">
</span></code></pre></div></div> <h2 id="440"> <a href="#440" class="anchor-heading" aria-labelledby="440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.0 </h2> <p><strong>Release date:</strong> 2023-03-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add automountServiceAccountToken (#3104)</li> </ul> <h3 id="default-value-changes-13"> <a href="#default-value-changes-13" class="anchor-heading" aria-labelledby="default-value-changes-13"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 15fb5286..47d2f6ac 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -26,6 +26,8 @@</span> service:
   labels: {}
   annotations: {}
 
<span class="gi">+automountServiceAccountToken: false
+
</span> serviceMonitor:
   # When set true then use a ServiceMonitor to configure scraping
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="430"> <a href="#430" class="anchor-heading" aria-labelledby="430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.3.0 </h2> <p><strong>Release date:</strong> 2023-03-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add option to change deployment command (#3070)</li> </ul> <h3 id="default-value-changes-14"> <a href="#default-value-changes-14" class="anchor-heading" aria-labelledby="default-value-changes-14"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index d847bc53..15fb5286 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -16,6 +16,8 @@</span> image:
   # pullSecrets:
   #   - myRegistrKeySecretName
 
<span class="gi">+command: []
+
</span> service:
   type: ClusterIP
   port: 80
<span class="err">
</span></code></pre></div></div> <h2 id="421"> <a href="#421" class="anchor-heading" aria-labelledby="421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.1 </h2> <p><strong>Release date:</strong> 2023-01-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(postgres-exporter): fix flag format (#2952)</li> </ul> <h3 id="default-value-changes-15"> <a href="#default-value-changes-15" class="anchor-heading" aria-labelledby="default-value-changes-15"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="420"> <a href="#420" class="anchor-heading" aria-labelledby="420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.0 </h2> <p><strong>Release date:</strong> 2023-01-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> add parameters to helm (#2943)</li> </ul> <h3 id="default-value-changes-16"> <a href="#default-value-changes-16" class="anchor-heading" aria-labelledby="default-value-changes-16"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index b0f31b5b..d847bc53 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -154,6 +154,8 @@</span> config:
     #  name:
     # Connection string key inside secret
     #  key:
<span class="gi">+  disableCollectorDatabase: false
+  disableCollectorBgwriter: false
</span>   disableDefaultMetrics: false
   disableSettingsMetrics: false
   autoDiscoverDatabases: false
<span class="p">@@ -164,6 +166,7 @@</span> config:
   logLevel: ""
   # possible values logfmt, json
   logFormat: ""
<span class="gi">+  extraArgs: []
</span>   # Enable queries from an external configmap, enable it will disable inline queries below
   externalQueries:
     enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="414"> <a href="#414" class="anchor-heading" aria-labelledby="414"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.4 </h2> <p><strong>Release date:</strong> 2023-01-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Fix bug in targetPort (#2942)</li> </ul> <h3 id="default-value-changes-17"> <a href="#default-value-changes-17" class="anchor-heading" aria-labelledby="default-value-changes-17"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="413"> <a href="#413" class="anchor-heading" aria-labelledby="413"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.3 </h2> <p><strong>Release date:</strong> 2022-12-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[postgres-exporter] Fix placement of securityContext (#2853)</li> </ul> <h3 id="default-value-changes-18"> <a href="#default-value-changes-18" class="anchor-heading" aria-labelledby="default-value-changes-18"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="412"> <a href="#412" class="anchor-heading" aria-labelledby="412"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.2 </h2> <p><strong>Release date:</strong> 2022-12-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[postgres-exporter] Fix indentation at securityContext (#2840) (#2850)</li> </ul> <h3 id="default-value-changes-19"> <a href="#default-value-changes-19" class="anchor-heading" aria-labelledby="default-value-changes-19"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index bf91f88f..b0f31b5b 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -24,13 +24,6 @@</span> service:
   labels: {}
   annotations: {}
 
<span class="gd">-podSecurityContext: {}
-  # runAsUser: 1001
-  # runAsGroup: 1001
-  # runAsNonRoot: true
-  # seccompProfile:
-    # type: RuntimeDefault
-
</span> serviceMonitor:
   # When set true then use a ServiceMonitor to configure scraping
   enabled: false
<span class="p">@@ -84,6 +77,7 @@</span> rbac:
   create: true
   # Specifies whether a PodSecurityPolicy should be created
   pspEnabled: true
<span class="gi">+
</span> serviceAccount:
   # Specifies whether a ServiceAccount should be created
   create: true
<span class="p">@@ -101,18 +95,27 @@</span> networkPolicy:
   # Set labels for the NetworkPolicy
   labels: {}
 
<span class="gi">+# The securityContext of the pod.
+# See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
+podSecurityContext: {}
+  # runAsUser: 1001
+  # runAsGroup: 1001
+  # runAsNonRoot: true
+  # seccompProfile:
+  #   type: RuntimeDefault
+
+# The securityContext of the container.
+# See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
</span> securityContext: {}
<span class="gd">-  # The securityContext this Pod should use. See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
-  # runAsUser: 65534
</span>   # runAsUser: 1001
   # runAsGroup: 1001
   # readOnlyRootFilesystem: true
   # runAsNonRoot: true
   # allowPrivilegeEscalation: false
   # capabilities:
<span class="gd">-   # drop: ["ALL"]
</span><span class="gi">+  #   drop: ["ALL"]
</span>   # seccompProfile:
<span class="gd">-    # type: RuntimeDefault
</span><span class="gi">+  #   type: RuntimeDefault
</span> 
 hostAliases: []
   # Set Host Aliases as per https://kubernetes.io/docs/tasks/network/customize-hosts-file-for-pods/
<span class="p">@@ -475,7 +478,6 @@</span> extraContainers: []
 
 # Additional volumes, e. g. for secrets used in an extraContainer
 extraVolumes: []
<span class="gd">-
</span> # Uncomment for mounting custom ca-certificates
 #  - name: ssl-certs
 #    secret:
<span class="p">@@ -487,7 +489,6 @@</span> extraVolumes: []
 
 # Additional volume mounts
 extraVolumeMounts: []
<span class="gd">-
</span> # Uncomment for mounting custom ca-certificates file into container
 #  - name: ssl-certs
 #    mountPath: /etc/ssl/certs/ca-certificates.crt
<span class="err">
</span></code></pre></div></div> <h2 id="411"> <a href="#411" class="anchor-heading" aria-labelledby="411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.1 </h2> <p><strong>Release date:</strong> 2022-12-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[postgres-exporter] feat: propagate pg_stats_statement WARNING (#2838)</li> </ul> <h3 id="default-value-changes-20"> <a href="#default-value-changes-20" class="anchor-heading" aria-labelledby="default-value-changes-20"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 97b54f86..bf91f88f 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -315,6 +315,7 @@</span> config:
             usage: "COUNTER"
             description: "Number of buffer hits in this table's TOAST table indexes (if any)"
 
<span class="gi">+    # WARNING: This set of metrics can be very expensive on a busy server as every unique query executed will create an additional time series
</span>     pg_stat_statements:
       query: "SELECT t2.rolname, t3.datname, queryid, calls, ( total_plan_time + total_exec_time ) / 1000 as total_time_seconds, ( min_plan_time + min_exec_time ) / 1000 as min_time_seconds, ( max_plan_time + max_exec_time ) / 1000 as max_time_seconds, ( mean_plan_time + mean_exec_time ) / 1000 as mean_time_seconds, ( stddev_plan_time + stddev_exec_time )  / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin' AND queryid IS NOT NULL"
       master: true
<span class="err">
</span></code></pre></div></div> <h2 id="410"> <a href="#410" class="anchor-heading" aria-labelledby="410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.0 </h2> <p><strong>Release date:</strong> 2022-12-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Refactor extra envs (#2844)</li> </ul> <h3 id="default-value-changes-21"> <a href="#default-value-changes-21" class="anchor-heading" aria-labelledby="default-value-changes-21"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index e571d53d..97b54f86 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -453,8 +453,13 @@</span> readinessProbe:
   timeoutSeconds: 1
 
 # ExtraEnvs
<span class="gd">-extraEnvs: {}
-  # EXTRA_ENV: value
</span><span class="gi">+extraEnvs: []
+  # - name: EXTRA_ENV
+  #   value: value
+  # - name: POD_NAMESPACE
+  #   valueFrom:
+  #     fieldRef:
+  #       fieldPath: metadata.namespace
</span> 
 # Init containers, e. g. for secrets creation before the exporter
 initContainers: []
<span class="err">
</span></code></pre></div></div> <h2 id="400"> <a href="#400" class="anchor-heading" aria-labelledby="400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.0 </h2> <p><strong>Release date:</strong> 2022-12-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Remove pg_database query (#2752)</li> </ul> <h3 id="default-value-changes-22"> <a href="#default-value-changes-22" class="anchor-heading" aria-labelledby="default-value-changes-22"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 7e119454..e571d53d 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -315,18 +315,6 @@</span> config:
             usage: "COUNTER"
             description: "Number of buffer hits in this table's TOAST table indexes (if any)"
 
<span class="gd">-    pg_database:
-      query: "SELECT pg_database.datname, pg_database_size(pg_database.datname) as size_bytes FROM pg_database"
-      master: true
-      cache_seconds: 30
-      metrics:
-        - datname:
-            usage: "LABEL"
-            description: "Name of the database"
-        - size_bytes:
-            usage: "GAUGE"
-            description: "Disk space used by the database"
-
</span>     pg_stat_statements:
       query: "SELECT t2.rolname, t3.datname, queryid, calls, ( total_plan_time + total_exec_time ) / 1000 as total_time_seconds, ( min_plan_time + min_exec_time ) / 1000 as min_time_seconds, ( max_plan_time + max_exec_time ) / 1000 as max_time_seconds, ( mean_plan_time + mean_exec_time ) / 1000 as mean_time_seconds, ( stddev_plan_time + stddev_exec_time )  / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin' AND queryid IS NOT NULL"
       master: true
<span class="err">
</span></code></pre></div></div> <h2 id="330"> <a href="#330" class="anchor-heading" aria-labelledby="330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.3.0 </h2> <p><strong>Release date:</strong> 2022-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[prometheus-postgre-exporter] new securityContext for POD (#2698)</li> </ul> <h3 id="default-value-changes-23"> <a href="#default-value-changes-23" class="anchor-heading" aria-labelledby="default-value-changes-23"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 7da996dd..7e119454 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -24,6 +24,13 @@</span> service:
   labels: {}
   annotations: {}
 
<span class="gi">+podSecurityContext: {}
+  # runAsUser: 1001
+  # runAsGroup: 1001
+  # runAsNonRoot: true
+  # seccompProfile:
+    # type: RuntimeDefault
+
</span> serviceMonitor:
   # When set true then use a ServiceMonitor to configure scraping
   enabled: false
<span class="p">@@ -97,6 +104,15 @@</span> networkPolicy:
 securityContext: {}
   # The securityContext this Pod should use. See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
   # runAsUser: 65534
<span class="gi">+  # runAsUser: 1001
+  # runAsGroup: 1001
+  # readOnlyRootFilesystem: true
+  # runAsNonRoot: true
+  # allowPrivilegeEscalation: false
+  # capabilities:
+   # drop: ["ALL"]
+  # seccompProfile:
+    # type: RuntimeDefault
</span> 
 hostAliases: []
   # Set Host Aliases as per https://kubernetes.io/docs/tasks/network/customize-hosts-file-for-pods/
<span class="err">
</span></code></pre></div></div> <h2 id="320"> <a href="#320" class="anchor-heading" aria-labelledby="320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2.0 </h2> <p><strong>Release date:</strong> 2022-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.11.1&amp;color=success" alt="AppVersion: 0.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[prometheus-postgre-exporter] Add extraEnvs to deployment (#2715)</li> </ul> <h3 id="default-value-changes-24"> <a href="#default-value-changes-24" class="anchor-heading" aria-labelledby="default-value-changes-24"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index e0b937e5..7da996dd 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: quay.io/prometheuscommunity/postgres-exporter
<span class="gd">-  tag: v0.10.1
</span><span class="gi">+  tag: v0.11.1
</span>   pullPolicy: IfNotPresent
 
   ## Optionally specify an array of imagePullSecrets.
<span class="p">@@ -448,6 +448,9 @@</span> readinessProbe:
   initialDelaySeconds: 0
   timeoutSeconds: 1
 
<span class="gi">+# ExtraEnvs
+extraEnvs: {}
+  # EXTRA_ENV: value
</span> 
 # Init containers, e. g. for secrets creation before the exporter
 initContainers: []
<span class="err">
</span></code></pre></div></div> <h2 id="315"> <a href="#315" class="anchor-heading" aria-labelledby="315"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.5 </h2> <p><strong>Release date:</strong> 2022-10-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow user queries to merge with default queries (#2592)</li> </ul> <h3 id="default-value-changes-25"> <a href="#default-value-changes-25" class="anchor-heading" aria-labelledby="default-value-changes-25"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index e06ea955..e0b937e5 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -426,6 +426,9 @@</span> config:
             usage: "HISTOGRAM"
             description: "Idle time of server processes"
 
<span class="gi">+  # These are user-specified queries that are deep merged with the queries above
+  userQueries: ""
+
</span> nodeSelector: {}
 
 tolerations: []
<span class="err">
</span></code></pre></div></div> <h2 id="314"> <a href="#314" class="anchor-heading" aria-labelledby="314"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.4 </h2> <p><strong>Release date:</strong> 2022-10-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Align PSP deprecation with other charts (#2573)</li> </ul> <h3 id="default-value-changes-26"> <a href="#default-value-changes-26" class="anchor-heading" aria-labelledby="default-value-changes-26"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="313"> <a href="#313" class="anchor-heading" aria-labelledby="313"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.3 </h2> <p><strong>Release date:</strong> 2022-09-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> DATA_SOURCE_PASS_FILE support (#2437)</li> </ul> <h3 id="default-value-changes-27"> <a href="#default-value-changes-27" class="anchor-heading" aria-labelledby="default-value-changes-27"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index bd8c2f38..e06ea955 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -110,8 +110,11 @@</span> config:
     # Specify one of both datasource or datasourceSecret
     host:
     user: postgres
<span class="gd">-    # Only one of password, passwordSecret and pgpassfile can be specified
</span><span class="gi">+    # Only one of password, passwordFile, passwordSecret and pgpassfile can be specified
</span>     password:
<span class="gi">+    # Specify passwordFile if DB password is stored in a file.
+    # For example, to use with vault-injector from Hashicorp
+    passwordFile: ''
</span>     # Specify passwordSecret if DB password is stored in secret.
     passwordSecret: {}
     # Secret name
<span class="err">
</span></code></pre></div></div> <h2 id="312"> <a href="#312" class="anchor-heading" aria-labelledby="312"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.2 </h2> <p><strong>Release date:</strong> 2022-08-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Fix indentation (#2388)</li> </ul> <h3 id="default-value-changes-28"> <a href="#default-value-changes-28" class="anchor-heading" aria-labelledby="default-value-changes-28"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 27e14c02..bd8c2f38 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -166,31 +166,31 @@</span> config:
 
     pg_stat_user_tables:
       query: |
<span class="gd">-       SELECT
-         current_database() datname,
-         schemaname,
-         relname,
-         seq_scan,
-         seq_tup_read,
-         idx_scan,
-         idx_tup_fetch,
-         n_tup_ins,
-         n_tup_upd,
-         n_tup_del,
-         n_tup_hot_upd,
-         n_live_tup,
-         n_dead_tup,
-         n_mod_since_analyze,
-         COALESCE(last_vacuum, '1970-01-01Z') as last_vacuum,
-         COALESCE(last_autovacuum, '1970-01-01Z') as last_autovacuum,
-         COALESCE(last_analyze, '1970-01-01Z') as last_analyze,
-         COALESCE(last_autoanalyze, '1970-01-01Z') as last_autoanalyze,
-         vacuum_count,
-         autovacuum_count,
-         analyze_count,
-         autoanalyze_count
-       FROM
-         pg_stat_user_tables
</span><span class="gi">+        SELECT
+          current_database() datname,
+          schemaname,
+          relname,
+          seq_scan,
+          seq_tup_read,
+          idx_scan,
+          idx_tup_fetch,
+          n_tup_ins,
+          n_tup_upd,
+          n_tup_del,
+          n_tup_hot_upd,
+          n_live_tup,
+          n_dead_tup,
+          n_mod_since_analyze,
+          COALESCE(last_vacuum, '1970-01-01Z') as last_vacuum,
+          COALESCE(last_autovacuum, '1970-01-01Z') as last_autovacuum,
+          COALESCE(last_analyze, '1970-01-01Z') as last_analyze,
+          COALESCE(last_autoanalyze, '1970-01-01Z') as last_autoanalyze,
+          vacuum_count,
+          autovacuum_count,
+          analyze_count,
+          autoanalyze_count
+        FROM
+          pg_stat_user_tables
</span>       metrics:
         - datname:
             usage: "LABEL"
<span class="err">
</span></code></pre></div></div> <h2 id="311"> <a href="#311" class="anchor-heading" aria-labelledby="311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.1 </h2> <p><strong>Release date:</strong> 2022-08-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(prometheus-postgres-exporter): convert port variable to int (#2372)</li> </ul> <h3 id="default-value-changes-29"> <a href="#default-value-changes-29" class="anchor-heading" aria-labelledby="default-value-changes-29"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="310"> <a href="#310" class="anchor-heading" aria-labelledby="310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.0 </h2> <p><strong>Release date:</strong> 2022-08-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add possibility to have hostAliases defined in deployment spec (#2351)</li> </ul> <h3 id="default-value-changes-30"> <a href="#default-value-changes-30" class="anchor-heading" aria-labelledby="default-value-changes-30"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index a2ab8ff3..27e14c02 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -98,6 +98,13 @@</span> securityContext: {}
   # The securityContext this Pod should use. See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
   # runAsUser: 65534
 
<span class="gi">+hostAliases: []
+  # Set Host Aliases as per https://kubernetes.io/docs/tasks/network/customize-hosts-file-for-pods/
+  # - ip: "127.0.0.1"
+  #   hostnames:
+  #   - "foo.local"
+  #   - "bar.local"
+
</span> config:
   datasource:
     # Specify one of both datasource or datasourceSecret
<span class="err">
</span></code></pre></div></div> <h2 id="303"> <a href="#303" class="anchor-heading" aria-labelledby="303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.3 </h2> <p><strong>Release date:</strong> 2022-06-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>uses policy/v1 when available (#2208)</li> </ul> <h3 id="default-value-changes-31"> <a href="#default-value-changes-31" class="anchor-heading" aria-labelledby="default-value-changes-31"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="302"> <a href="#302" class="anchor-heading" aria-labelledby="302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.2 </h2> <p><strong>Release date:</strong> 2022-06-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Use correct port in port-forward command (#2189)</li> </ul> <h3 id="default-value-changes-32"> <a href="#default-value-changes-32" class="anchor-heading" aria-labelledby="default-value-changes-32"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="301"> <a href="#301" class="anchor-heading" aria-labelledby="301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.1 </h2> <p><strong>Release date:</strong> 2022-06-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> fix cve-2021-25742 (#2149)</li> </ul> <h3 id="default-value-changes-33"> <a href="#default-value-changes-33" class="anchor-heading" aria-labelledby="default-value-changes-33"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="300"> <a href="#300" class="anchor-heading" aria-labelledby="300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.0 </h2> <p><strong>Release date:</strong> 2022-05-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-34"> <a href="#default-value-changes-34" class="anchor-heading" aria-labelledby="default-value-changes-34"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index ea33595c..a2ab8ff3 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -302,7 +302,7 @@</span> config:
             description: "Disk space used by the database"
 
     pg_stat_statements:
<span class="gd">-      query: "SELECT t2.rolname, t3.datname, queryid, calls, total_time / 1000 as total_time_seconds, min_time / 1000 as min_time_seconds, max_time / 1000 as max_time_seconds, mean_time / 1000 as mean_time_seconds, stddev_time / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin' AND queryid IS NOT NULL"
</span><span class="gi">+      query: "SELECT t2.rolname, t3.datname, queryid, calls, ( total_plan_time + total_exec_time ) / 1000 as total_time_seconds, ( min_plan_time + min_exec_time ) / 1000 as min_time_seconds, ( max_plan_time + max_exec_time ) / 1000 as max_time_seconds, ( mean_plan_time + mean_exec_time ) / 1000 as mean_time_seconds, ( stddev_plan_time + stddev_exec_time )  / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin' AND queryid IS NOT NULL"
</span>       master: true
       metrics:
         - rolname:
<span class="err">
</span></code></pre></div></div> <h2 id="2101"> <a href="#2101" class="anchor-heading" aria-labelledby="2101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.10.1 </h2> <p><strong>Release date:</strong> 2022-05-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.1&amp;color=success" alt="AppVersion: 0.10.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore(postgres-exporter): update image to 0.10.1 (#2019)</li> </ul> <h3 id="default-value-changes-35"> <a href="#default-value-changes-35" class="anchor-heading" aria-labelledby="default-value-changes-35"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 51969102..ea33595c 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: quay.io/prometheuscommunity/postgres-exporter
<span class="gd">-  tag: v0.10.0
</span><span class="gi">+  tag: v0.10.1
</span>   pullPolicy: IfNotPresent
 
   ## Optionally specify an array of imagePullSecrets.
<span class="err">
</span></code></pre></div></div> <h2 id="2100"> <a href="#2100" class="anchor-heading" aria-labelledby="2100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.10.0 </h2> <p><strong>Release date:</strong> 2022-04-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add simple Ingress to make service.targetPort available in namespace (#1973)</li> </ul> <h3 id="default-value-changes-36"> <a href="#default-value-changes-36" class="anchor-heading" aria-labelledby="default-value-changes-36"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 10739694..51969102 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -86,6 +86,14 @@</span> serviceAccount:
   # Add annotations to the ServiceAccount, useful for EKS IAM Roles for Service Accounts or Google Workload Identity.
   annotations: {}
 
<span class="gi">+# Add a default ingress to allow namespace access to service.targetPort
+# Helpful if other NetworkPolicies are configured in the namespace
+networkPolicy:
+  # Specifies whether a NetworkPolicy should be created
+  enabled: false
+  # Set labels for the NetworkPolicy
+  labels: {}
+
</span> securityContext: {}
   # The securityContext this Pod should use. See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
   # runAsUser: 65534
<span class="err">
</span></code></pre></div></div> <h2 id="290"> <a href="#290" class="anchor-heading" aria-labelledby="290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.9.0 </h2> <p><strong>Release date:</strong> 2022-04-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add poddisruptionbudget for prometheus-postgres-exporter chart (#1964)</li> </ul> <h3 id="default-value-changes-37"> <a href="#default-value-changes-37" class="anchor-heading" aria-labelledby="default-value-changes-37"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 659a1b6b..10739694 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -458,3 +458,7 @@</span> extraVolumeMounts: []
 #  - name: ssl-certs
 #    mountPath: /etc/ssl/certs/ca-certificates.crt
 #    subPath: ca-certificates.crt
<span class="gi">+
+podDisruptionBudget:
+  enabled: false
+  maxUnavailable: 1
</span><span class="err">
</span></code></pre></div></div> <h2 id="280"> <a href="#280" class="anchor-heading" aria-labelledby="280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.8.0 </h2> <p><strong>Release date:</strong> 2022-03-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>prometheus-postgres-exporter added pgpassfile configuration value (#1937)</li> </ul> <h3 id="default-value-changes-38"> <a href="#default-value-changes-38" class="anchor-heading" aria-labelledby="default-value-changes-38"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 1330bc6f..659a1b6b 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -95,7 +95,7 @@</span> config:
     # Specify one of both datasource or datasourceSecret
     host:
     user: postgres
<span class="gd">-    # Only one of password and passwordSecret can be specified
</span><span class="gi">+    # Only one of password, passwordSecret and pgpassfile can be specified
</span>     password:
     # Specify passwordSecret if DB password is stored in secret.
     passwordSecret: {}
<span class="p">@@ -103,6 +103,9 @@</span> config:
     #  name:
     # Password key inside secret
     #  key:
<span class="gi">+    pgpassfile: ''
+    # If pgpassfile is set, it is used to initialize the PGPASSFILE environment variable.
+    # See https://www.postgresql.org/docs/14/libpq-pgpass.html for more info.
</span>     port: "5432"
     database: ''
     sslmode: disable
<span class="err">
</span></code></pre></div></div> <h2 id="270"> <a href="#270" class="anchor-heading" aria-labelledby="270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.7.0 </h2> <p><strong>Release date:</strong> 2022-03-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add relabelings to servicemonitor (#1895)</li> </ul> <h3 id="default-value-changes-39"> <a href="#default-value-changes-39" class="anchor-heading" aria-labelledby="default-value-changes-39"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 433d3540..1330bc6f 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -41,6 +41,8 @@</span> serviceMonitor:
   # targetLabels: []
   # MetricRelabelConfigs to apply to samples before ingestion
   # metricRelabelings: []
<span class="gi">+  # Set relabel_configs as per https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config
+  # relabelings: []
</span> 
 prometheusRule:
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="261"> <a href="#261" class="anchor-heading" aria-labelledby="261"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.6.1 </h2> <p><strong>Release date:</strong> 2022-03-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(postgres-exporter): trimmed data_source_uri if no extra options are provided (#1865)</li> </ul> <h3 id="default-value-changes-40"> <a href="#default-value-changes-40" class="anchor-heading" aria-labelledby="default-value-changes-40"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="260"> <a href="#260" class="anchor-heading" aria-labelledby="260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.6.0 </h2> <p><strong>Release date:</strong> 2022-03-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Support custom DB connection parameters (#1850)</li> </ul> <h3 id="default-value-changes-41"> <a href="#default-value-changes-41" class="anchor-heading" aria-labelledby="default-value-changes-41"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 55b7829f..433d3540 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -104,6 +104,7 @@</span> config:
     port: "5432"
     database: ''
     sslmode: disable
<span class="gi">+    extraParams: ''
</span>   datasourceSecret: {}
     # Specifies if datasource should be sourced from secret value in format: postgresql://login:password@hostname:port/dbname?sslmode=disable
     # Multiple Postgres databases can be configured by comma separated postgres connection strings
<span class="err">
</span></code></pre></div></div> <h2 id="250"> <a href="#250" class="anchor-heading" aria-labelledby="250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.5.0 </h2> <p><strong>Release date:</strong> 2022-01-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add log.format args (#1719)</li> </ul> <h3 id="default-value-changes-42"> <a href="#default-value-changes-42" class="anchor-heading" aria-labelledby="default-value-changes-42"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index f9307859..55b7829f 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -119,6 +119,8 @@</span> config:
   constantLabels: {}
   # possible values debug, info, warn, error, fatal
   logLevel: ""
<span class="gi">+  # possible values logfmt, json
+  logFormat: ""
</span>   # Enable queries from an external configmap, enable it will disable inline queries below
   externalQueries:
     enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="240"> <a href="#240" class="anchor-heading" aria-labelledby="240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.4.0 </h2> <p><strong>Release date:</strong> 2021-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add support for queries in external configmap (#1545)</li> </ul> <h3 id="default-value-changes-43"> <a href="#default-value-changes-43" class="anchor-heading" aria-labelledby="default-value-changes-43"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index ef023792..f9307859 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -119,6 +119,10 @@</span> config:
   constantLabels: {}
   # possible values debug, info, warn, error, fatal
   logLevel: ""
<span class="gi">+  # Enable queries from an external configmap, enable it will disable inline queries below
+  externalQueries:
+    enabled: false
+    configmap: postgresql-common-exporter-queries
</span>   # These are the default queries that the exporter will run, extracted from: https://github.com/prometheus-community/postgres_exporter/blob/master/queries.yaml
   queries: |-
     pg_replication:
<span class="err">
</span></code></pre></div></div> <h2 id="237"> <a href="#237" class="anchor-heading" aria-labelledby="237"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.7 </h2> <p><strong>Release date:</strong> 2021-09-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(postgres-exporter): ignore pg_stat_statememts with empty queryId (#1364)</li> </ul> <h3 id="default-value-changes-44"> <a href="#default-value-changes-44" class="anchor-heading" aria-labelledby="default-value-changes-44"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index efe7e135..ef023792 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -282,7 +282,7 @@</span> config:
             description: "Disk space used by the database"
 
     pg_stat_statements:
<span class="gd">-      query: "SELECT t2.rolname, t3.datname, queryid, calls, total_time / 1000 as total_time_seconds, min_time / 1000 as min_time_seconds, max_time / 1000 as max_time_seconds, mean_time / 1000 as mean_time_seconds, stddev_time / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin'"
</span><span class="gi">+      query: "SELECT t2.rolname, t3.datname, queryid, calls, total_time / 1000 as total_time_seconds, min_time / 1000 as min_time_seconds, max_time / 1000 as max_time_seconds, mean_time / 1000 as mean_time_seconds, stddev_time / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin' AND queryid IS NOT NULL"
</span>       master: true
       metrics:
         - rolname:
<span class="err">
</span></code></pre></div></div> <h2 id="236"> <a href="#236" class="anchor-heading" aria-labelledby="236"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.6 </h2> <p><strong>Release date:</strong> 2021-08-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.10.0&amp;color=success" alt="AppVersion: 0.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Update to v0.10.0 (#1281)</li> </ul> <h3 id="default-value-changes-45"> <a href="#default-value-changes-45" class="anchor-heading" aria-labelledby="default-value-changes-45"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 2baec0a2..efe7e135 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: quay.io/prometheuscommunity/postgres-exporter
<span class="gd">-  tag: v0.9.0
</span><span class="gi">+  tag: v0.10.0
</span>   pullPolicy: IfNotPresent
 
   ## Optionally specify an array of imagePullSecrets.
<span class="err">
</span></code></pre></div></div> <h2 id="235"> <a href="#235" class="anchor-heading" aria-labelledby="235"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.5 </h2> <p><strong>Release date:</strong> 2021-06-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add –include-databases arguments to Postgres exporter values (#1099)</li> </ul> <h3 id="default-value-changes-46"> <a href="#default-value-changes-46" class="anchor-heading" aria-labelledby="default-value-changes-46"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index b6d3435a..2baec0a2 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -115,6 +115,7 @@</span> config:
   disableSettingsMetrics: false
   autoDiscoverDatabases: false
   excludeDatabases: []
<span class="gi">+  includeDatabases: []
</span>   constantLabels: {}
   # possible values debug, info, warn, error, fatal
   logLevel: ""
<span class="err">
</span></code></pre></div></div> <h2 id="234"> <a href="#234" class="anchor-heading" aria-labelledby="234"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.4 </h2> <p><strong>Release date:</strong> 2021-05-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update pg_stat_activity query (#1012)</li> </ul> <h3 id="default-value-changes-47"> <a href="#default-value-changes-47" class="anchor-heading" aria-labelledby="default-value-changes-47"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 4fd3883e..b6d3435a 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -351,14 +351,14 @@</span> config:
             usage: "COUNTER"
             description: "Total time the statement spent writing blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
 
<span class="gd">-    pg_stat_activity:
</span><span class="gi">+    pg_stat_activity_idle:
</span>       query: |
         WITH
           metrics AS (
             SELECT
               application_name,
<span class="gd">-              SUM(EXTRACT(EPOCH FROM (CURRENT_TIMESTAMP - state_change))::bigint)::float AS process_idle_seconds_sum,
-              COUNT(*) AS process_idle_seconds_count
</span><span class="gi">+              SUM(EXTRACT(EPOCH FROM (CURRENT_TIMESTAMP - state_change))::bigint)::float AS process_seconds_sum,
+              COUNT(*) AS process_seconds_count
</span>             FROM pg_stat_activity
             WHERE state = 'idle'
             GROUP BY application_name
<span class="p">@@ -381,17 +381,17 @@</span> config:
           )
         SELECT
           application_name,
<span class="gd">-          process_idle_seconds_sum,
-          process_idle_seconds_count,
-          ARRAY_AGG(le) AS process_idle_seconds,
-          ARRAY_AGG(bucket) AS process_idle_seconds_bucket
</span><span class="gi">+          process_seconds_sum,
+          process_seconds_count,
+          ARRAY_AGG(le) AS process_seconds,
+          ARRAY_AGG(bucket) AS process_seconds_bucket
</span>         FROM metrics JOIN buckets USING (application_name)
         GROUP BY 1, 2, 3
       metrics:
         - application_name:
             usage: "LABEL"
             description: "Application Name"
<span class="gd">-        - process_idle_seconds:
</span><span class="gi">+        - process_seconds:
</span>             usage: "HISTOGRAM"
             description: "Idle time of server processes"
 
<span class="err">
</span></code></pre></div></div> <h2 id="233"> <a href="#233" class="anchor-heading" aria-labelledby="233"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.3 </h2> <p><strong>Release date:</strong> 2021-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>don’t apply secret when using existing (#992)</li> </ul> <h3 id="default-value-changes-48"> <a href="#default-value-changes-48" class="anchor-heading" aria-labelledby="default-value-changes-48"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="232"> <a href="#232" class="anchor-heading" aria-labelledby="232"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.2 </h2> <p><strong>Release date:</strong> 2021-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> drop capability on service monitor (#991)</li> </ul> <h3 id="default-value-changes-49"> <a href="#default-value-changes-49" class="anchor-heading" aria-labelledby="default-value-changes-49"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="231"> <a href="#231" class="anchor-heading" aria-labelledby="231"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.1 </h2> <p><strong>Release date:</strong> 2021-05-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a>Update default password or passwordSecret in values.yaml (#958)</li> <li>prometheus-postgres-exporter - Allow readiness timeout to be configurable via config (#815)</li> </ul> <h3 id="default-value-changes-50"> <a href="#default-value-changes-50" class="anchor-heading" aria-labelledby="default-value-changes-50"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 32a0fdfa..4fd3883e 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -94,7 +94,7 @@</span> config:
     host:
     user: postgres
     # Only one of password and passwordSecret can be specified
<span class="gd">-    password: somepassword
</span><span class="gi">+    password:
</span>     # Specify passwordSecret if DB password is stored in secret.
     passwordSecret: {}
     # Secret name
<span class="p">@@ -408,9 +408,12 @@</span> podLabels: {}
 # Configurable health checks
 livenessProbe:
   initialDelaySeconds: 0
<span class="gi">+  timeoutSeconds: 1
</span> 
 readinessProbe:
   initialDelaySeconds: 0
<span class="gi">+  timeoutSeconds: 1
+
</span> 
 # Init containers, e. g. for secrets creation before the exporter
 initContainers: []
<span class="err">
</span></code></pre></div></div> <h2 id="230"> <a href="#230" class="anchor-heading" aria-labelledby="230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.0 </h2> <p><strong>Release date:</strong> 2021-04-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Use arrays instead of strings for extraContainers, extraVolumes and extraVolumeMounts (#856)</li> </ul> <h3 id="default-value-changes-51"> <a href="#default-value-changes-51" class="anchor-heading" aria-labelledby="default-value-changes-51"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 47cc9561..32a0fdfa 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -421,10 +421,10 @@</span> initContainers: []
   #       mountPath: /creds
 
 # Additional sidecar containers, e. g. for a database proxy, such as Google's cloudsql-proxy
<span class="gd">-extraContainers: |
</span><span class="gi">+extraContainers: []
</span> 
 # Additional volumes, e. g. for secrets used in an extraContainer
<span class="gd">-extraVolumes: |
</span><span class="gi">+extraVolumes: []
</span> 
 # Uncomment for mounting custom ca-certificates
 #  - name: ssl-certs
<span class="p">@@ -436,7 +436,7 @@</span> extraVolumes: |
 #      secretName: ssl-certs
 
 # Additional volume mounts
<span class="gd">-extraVolumeMounts: |
</span><span class="gi">+extraVolumeMounts: []
</span> 
 # Uncomment for mounting custom ca-certificates file into container
 #  - name: ssl-certs
<span class="err">
</span></code></pre></div></div> <h2 id="220"> <a href="#220" class="anchor-heading" aria-labelledby="220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.0 </h2> <p><strong>Release date:</strong> 2021-03-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Update to the latest default queries.yaml (#775)</li> </ul> <h3 id="default-value-changes-52"> <a href="#default-value-changes-52" class="anchor-heading" aria-labelledby="default-value-changes-52"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index af280051..47cc9561 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -118,10 +118,10 @@</span> config:
   constantLabels: {}
   # possible values debug, info, warn, error, fatal
   logLevel: ""
<span class="gd">-  # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
</span><span class="gi">+  # These are the default queries that the exporter will run, extracted from: https://github.com/prometheus-community/postgres_exporter/blob/master/queries.yaml
</span>   queries: |-
     pg_replication:
<span class="gd">-      query: "SELECT EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp())) as lag"
</span><span class="gi">+      query: "SELECT CASE WHEN NOT pg_is_in_recovery() THEN 0 ELSE GREATEST (0, EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp()))) END AS lag"
</span>       master: true
       metrics:
         - lag:
<span class="p">@@ -137,7 +137,32 @@</span> config:
             description: "Time at which postmaster started"
 
     pg_stat_user_tables:
<span class="gd">-      query: "SELECT current_database() datname, schemaname, relname, seq_scan, seq_tup_read, idx_scan, idx_tup_fetch, n_tup_ins, n_tup_upd, n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, n_mod_since_analyze, COALESCE(last_vacuum, '1970-01-01Z'), COALESCE(last_vacuum, '1970-01-01Z') as last_vacuum, COALESCE(last_autovacuum, '1970-01-01Z') as last_autovacuum, COALESCE(last_analyze, '1970-01-01Z') as last_analyze, COALESCE(last_autoanalyze, '1970-01-01Z') as last_autoanalyze, vacuum_count, autovacuum_count, analyze_count, autoanalyze_count FROM pg_stat_user_tables"
</span><span class="gi">+      query: |
+       SELECT
+         current_database() datname,
+         schemaname,
+         relname,
+         seq_scan,
+         seq_tup_read,
+         idx_scan,
+         idx_tup_fetch,
+         n_tup_ins,
+         n_tup_upd,
+         n_tup_del,
+         n_tup_hot_upd,
+         n_live_tup,
+         n_dead_tup,
+         n_mod_since_analyze,
+         COALESCE(last_vacuum, '1970-01-01Z') as last_vacuum,
+         COALESCE(last_autovacuum, '1970-01-01Z') as last_autovacuum,
+         COALESCE(last_analyze, '1970-01-01Z') as last_analyze,
+         COALESCE(last_autoanalyze, '1970-01-01Z') as last_autoanalyze,
+         vacuum_count,
+         autovacuum_count,
+         analyze_count,
+         autoanalyze_count
+       FROM
+         pg_stat_user_tables
</span>       metrics:
         - datname:
             usage: "LABEL"
<span class="p">@@ -244,7 +269,7 @@</span> config:
             description: "Number of buffer hits in this table's TOAST table indexes (if any)"
 
     pg_database:
<span class="gd">-      query: "SELECT pg_database.datname, pg_database_size(pg_database.datname) as size FROM pg_database"
</span><span class="gi">+      query: "SELECT pg_database.datname, pg_database_size(pg_database.datname) as size_bytes FROM pg_database"
</span>       master: true
       cache_seconds: 30
       metrics:
<span class="p">@@ -256,7 +281,7 @@</span> config:
             description: "Disk space used by the database"
 
     pg_stat_statements:
<span class="gd">-      query: "SELECT t2.rolname, t3.datname, queryid, calls, total_time / 1000 as total_time_seconds, min_time / 1000 as min_time_seconds, max_time / 1000 as max_time_seconds, mean_time / 1000 as mean_time_seconds, stddev_time / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 join pg_roles t2 on (t1.userid=t2.oid) join pg_database t3 on (t1.dbid=t3.oid)"
</span><span class="gi">+      query: "SELECT t2.rolname, t3.datname, queryid, calls, total_time / 1000 as total_time_seconds, min_time / 1000 as min_time_seconds, max_time / 1000 as max_time_seconds, mean_time / 1000 as mean_time_seconds, stddev_time / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 JOIN pg_roles t2 ON (t1.userid=t2.oid) JOIN pg_database t3 ON (t1.dbid=t3.oid) WHERE t2.rolname != 'rdsadmin'"
</span>       master: true
       metrics:
         - rolname:
<span class="p">@@ -326,6 +351,50 @@</span> config:
             usage: "COUNTER"
             description: "Total time the statement spent writing blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
 
<span class="gi">+    pg_stat_activity:
+      query: |
+        WITH
+          metrics AS (
+            SELECT
+              application_name,
+              SUM(EXTRACT(EPOCH FROM (CURRENT_TIMESTAMP - state_change))::bigint)::float AS process_idle_seconds_sum,
+              COUNT(*) AS process_idle_seconds_count
+            FROM pg_stat_activity
+            WHERE state = 'idle'
+            GROUP BY application_name
+          ),
+          buckets AS (
+            SELECT
+              application_name,
+              le,
+              SUM(
+                CASE WHEN EXTRACT(EPOCH FROM (CURRENT_TIMESTAMP - state_change)) &lt;= le
+                  THEN 1
+                  ELSE 0
+                END
+              )::bigint AS bucket
+            FROM
+              pg_stat_activity,
+              UNNEST(ARRAY[1, 2, 5, 15, 30, 60, 90, 120, 300]) AS le
+            GROUP BY application_name, le
+            ORDER BY application_name, le
+          )
+        SELECT
+          application_name,
+          process_idle_seconds_sum,
+          process_idle_seconds_count,
+          ARRAY_AGG(le) AS process_idle_seconds,
+          ARRAY_AGG(bucket) AS process_idle_seconds_bucket
+        FROM metrics JOIN buckets USING (application_name)
+        GROUP BY 1, 2, 3
+      metrics:
+        - application_name:
+            usage: "LABEL"
+            description: "Application Name"
+        - process_idle_seconds:
+            usage: "HISTOGRAM"
+            description: "Idle time of server processes"
+
</span> nodeSelector: {}
 
 tolerations: []
<span class="err">
</span></code></pre></div></div> <h2 id="210"> <a href="#210" class="anchor-heading" aria-labelledby="210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1.0 </h2> <p><strong>Release date:</strong> 2021-03-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.9.0&amp;color=success" alt="AppVersion: 0.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Update to postgres_exporter 0.9.0 (#773)</li> </ul> <h3 id="default-value-changes-53"> <a href="#default-value-changes-53" class="anchor-heading" aria-labelledby="default-value-changes-53"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 802afdf2..af280051 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -5,8 +5,8 @@</span>
 replicaCount: 1
 
 image:
<span class="gd">-  repository: wrouesnel/postgres_exporter
-  tag: v0.8.0
</span><span class="gi">+  repository: quay.io/prometheuscommunity/postgres-exporter
+  tag: v0.9.0
</span>   pullPolicy: IfNotPresent
 
   ## Optionally specify an array of imagePullSecrets.
<span class="err">
</span></code></pre></div></div> <h2 id="200"> <a href="#200" class="anchor-heading" aria-labelledby="200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.0 </h2> <p><strong>Release date:</strong> 2021-03-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Migrate to chart v2 (#540)</li> </ul> <h3 id="default-value-changes-54"> <a href="#default-value-changes-54" class="anchor-heading" aria-labelledby="default-value-changes-54"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1100"> <a href="#1100" class="anchor-heading" aria-labelledby="1100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.10.0 </h2> <p><strong>Release date:</strong> 2021-02-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add annotations to postgres-exporter ServiceAccount (#679)</li> </ul> <h3 id="default-value-changes-55"> <a href="#default-value-changes-55" class="anchor-heading" aria-labelledby="default-value-changes-55"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 2346320d..802afdf2 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -81,6 +81,8 @@</span> serviceAccount:
   # The name of the ServiceAccount to use.
   # If not set and create is true, a name is generated using the fullname template
   name:
<span class="gi">+  # Add annotations to the ServiceAccount, useful for EKS IAM Roles for Service Accounts or Google Workload Identity.
+  annotations: {}
</span> 
 securityContext: {}
   # The securityContext this Pod should use. See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
<span class="err">
</span></code></pre></div></div> <h2 id="191"> <a href="#191" class="anchor-heading" aria-labelledby="191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.9.1 </h2> <p><strong>Release date:</strong> 2021-02-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> add opportunity to specify log.level in args (#672)</li> </ul> <h3 id="default-value-changes-56"> <a href="#default-value-changes-56" class="anchor-heading" aria-labelledby="default-value-changes-56"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 40ae3434..2346320d 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -114,6 +114,8 @@</span> config:
   autoDiscoverDatabases: false
   excludeDatabases: []
   constantLabels: {}
<span class="gi">+  # possible values debug, info, warn, error, fatal
+  logLevel: ""
</span>   # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
   queries: |-
     pg_replication:
<span class="err">
</span></code></pre></div></div> <h2 id="190"> <a href="#190" class="anchor-heading" aria-labelledby="190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.9.0 </h2> <p><strong>Release date:</strong> 2021-01-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> add initialDelaySeconds configuration for probes (#612)</li> </ul> <h3 id="default-value-changes-57"> <a href="#default-value-changes-57" class="anchor-heading" aria-labelledby="default-value-changes-57"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 17a95efc..40ae3434 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -332,6 +332,13 @@</span> annotations: {}
 
 podLabels: {}
 
<span class="gi">+# Configurable health checks
+livenessProbe:
+  initialDelaySeconds: 0
+
+readinessProbe:
+  initialDelaySeconds: 0
+
</span> # Init containers, e. g. for secrets creation before the exporter
 initContainers: []
   # - name:
<span class="err">
</span></code></pre></div></div> <h2 id="180"> <a href="#180" class="anchor-heading" aria-labelledby="180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.8.0 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a>add optional constantLabels (#600)</li> </ul> <h3 id="default-value-changes-58"> <a href="#default-value-changes-58" class="anchor-heading" aria-labelledby="default-value-changes-58"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 5752d76c..17a95efc 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -113,6 +113,7 @@</span> config:
   disableSettingsMetrics: false
   autoDiscoverDatabases: false
   excludeDatabases: []
<span class="gi">+  constantLabels: {}
</span>   # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
   queries: |-
     pg_replication:
<span class="err">
</span></code></pre></div></div> <h2 id="170"> <a href="#170" class="anchor-heading" aria-labelledby="170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.7.0 </h2> <p><strong>Release date:</strong> 2021-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[postgresql] (feat): add imagePullSecrets (#587)</li> </ul> <h3 id="default-value-changes-59"> <a href="#default-value-changes-59" class="anchor-heading" aria-labelledby="default-value-changes-59"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 51ba92ea..5752d76c 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -9,6 +9,13 @@</span> image:
   tag: v0.8.0
   pullPolicy: IfNotPresent
 
<span class="gi">+  ## Optionally specify an array of imagePullSecrets.
+  ## Secrets must be manually created in the namespace.
+  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
+  ##
+  # pullSecrets:
+  #   - myRegistrKeySecretName
+
</span> service:
   type: ClusterIP
   port: 80
<span class="err">
</span></code></pre></div></div> <h2 id="160"> <a href="#160" class="anchor-heading" aria-labelledby="160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.6.0 </h2> <p><strong>Release date:</strong> 2020-12-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add ServiceMonitor metricRelabeling and targetLabels (#512)</li> </ul> <h3 id="default-value-changes-60"> <a href="#default-value-changes-60" class="anchor-heading" aria-labelledby="default-value-changes-60"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 58577a92..51ba92ea 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -30,6 +30,10 @@</span> serviceMonitor:
   # labels:
   # Set timeout for scrape
   # timeout: 10s
<span class="gi">+  # Set of labels to transfer from the Kubernetes Service onto the target
+  # targetLabels: []
+  # MetricRelabelConfigs to apply to samples before ingestion
+  # metricRelabelings: []
</span> 
 prometheusRule:
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="150"> <a href="#150" class="anchor-heading" aria-labelledby="150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.5.0 </h2> <p><strong>Release date:</strong> 2020-11-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> add initContainers (#425)</li> </ul> <h3 id="default-value-changes-61"> <a href="#default-value-changes-61" class="anchor-heading" aria-labelledby="default-value-changes-61"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 5d0f1bc9..58577a92 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -320,6 +320,14 @@</span> annotations: {}
 
 podLabels: {}
 
<span class="gi">+# Init containers, e. g. for secrets creation before the exporter
+initContainers: []
+  # - name:
+  #   image:
+  #   volumeMounts:
+  #     - name: creds
+  #       mountPath: /creds
+
</span> # Additional sidecar containers, e. g. for a database proxy, such as Google's cloudsql-proxy
 extraContainers: |
 
<span class="err">
</span></code></pre></div></div> <h2 id="140"> <a href="#140" class="anchor-heading" aria-labelledby="140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.4.0 </h2> <p><strong>Release date:</strong> 2020-11-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat(prometheus-postgres-exporter): add configurable apiVersion (#377)</li> </ul> <h3 id="default-value-changes-62"> <a href="#default-value-changes-62" class="anchor-heading" aria-labelledby="default-value-changes-62"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="134"> <a href="#134" class="anchor-heading" aria-labelledby="134"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.4 </h2> <p><strong>Release date:</strong> 2020-11-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add prometheusrule support (#337)</li> </ul> <h3 id="default-value-changes-63"> <a href="#default-value-changes-63" class="anchor-heading" aria-labelledby="default-value-changes-63"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index fe15a627..5d0f1bc9 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -31,6 +31,22 @@</span> serviceMonitor:
   # Set timeout for scrape
   # timeout: 10s
 
<span class="gi">+prometheusRule:
+  enabled: false
+  additionalLabels: {}
+  namespace: ""
+  rules: []
+    ## These are just examples rules, please adapt them to your needs.
+    ## Make sure to constraint the rules to the current prometheus-postgres-exporter service.
+    # - alert: HugeReplicationLag
+    #   expr: pg_replication_lag{service="{{ template "prometheus-postgres-exporter.fullname" . }}"} / 3600 &gt; 1
+    #   for: 1m
+    #   labels:
+    #     severity: critical
+    #   annotations:
+    #     description: replication for {{ template "prometheus-postgres-exporter.fullname" . }} PostgreSQL is lagging by {{ "{{ $value }}" }} hour(s).
+    #     summary: PostgreSQL replication is lagging by {{ "{{ $value }}" }} hour(s).
+
</span> resources: {}
   # We usually recommend not to specify default resources and to leave this as a conscious
   # choice for the user. This also increases chances charts run on environments with little
<span class="err">
</span></code></pre></div></div> <h2 id="133"> <a href="#133" class="anchor-heading" aria-labelledby="133"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.3 </h2> <p><strong>Release date:</strong> 2020-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> add extraVolumeMounts and examples (#107)</li> </ul> <h3 id="default-value-changes-64"> <a href="#default-value-changes-64" class="anchor-heading" aria-labelledby="default-value-changes-64"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index bcd9d53c..fe15a627 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -309,3 +309,20 @@</span> extraContainers: |
 
 # Additional volumes, e. g. for secrets used in an extraContainer
 extraVolumes: |
<span class="gi">+
+# Uncomment for mounting custom ca-certificates
+#  - name: ssl-certs
+#    secret:
+#      defaultMode: 420
+#      items:
+#      - key: ca-certificates.crt
+#        path: ca-certificates.crt
+#      secretName: ssl-certs
+
+# Additional volume mounts
+extraVolumeMounts: |
+
+# Uncomment for mounting custom ca-certificates file into container
+#  - name: ssl-certs
+#    mountPath: /etc/ssl/certs/ca-certificates.crt
+#    subPath: ca-certificates.crt
</span><span class="err">
</span></code></pre></div></div> <h2 id="132"> <a href="#132" class="anchor-heading" aria-labelledby="132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.2 </h2> <p><strong>Release date:</strong> 2020-09-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> Add zanhsieh as maintainer (#71)</li> </ul> <h3 id="default-value-changes-65"> <a href="#default-value-changes-65" class="anchor-heading" aria-labelledby="default-value-changes-65"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="131"> <a href="#131" class="anchor-heading" aria-labelledby="131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.1 </h2> <p><strong>Release date:</strong> 2020-08-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Prep initial charts indexing (#14)</li> </ul> <h3 id="default-value-changes-66"> <a href="#default-value-changes-66" class="anchor-heading" aria-labelledby="default-value-changes-66"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="130"> <a href="#130" class="anchor-heading" aria-labelledby="130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.0 </h2> <p><strong>Release date:</strong> 2020-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Add support to configure dataso… (#21804)</li> </ul> <h3 id="default-value-changes-67"> <a href="#default-value-changes-67" class="anchor-heading" aria-labelledby="default-value-changes-67"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 6c62ce75..bcd9d53c 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -61,6 +61,7 @@</span> securityContext: {}
 
 config:
   datasource:
<span class="gi">+    # Specify one of both datasource or datasourceSecret
</span>     host:
     user: postgres
     # Only one of password and passwordSecret can be specified
<span class="p">@@ -74,6 +75,13 @@</span> config:
     port: "5432"
     database: ''
     sslmode: disable
<span class="gi">+  datasourceSecret: {}
+    # Specifies if datasource should be sourced from secret value in format: postgresql://login:password@hostname:port/dbname?sslmode=disable
+    # Multiple Postgres databases can be configured by comma separated postgres connection strings
+    # Secret name
+    #  name:
+    # Connection string key inside secret
+    #  key:
</span>   disableDefaultMetrics: false
   disableSettingsMetrics: false
   autoDiscoverDatabases: false
<span class="err">
</span></code></pre></div></div> <h2 id="120"> <a href="#120" class="anchor-heading" aria-labelledby="120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.2.0 </h2> <p><strong>Release date:</strong> 2019-12-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.8.0&amp;color=success" alt="AppVersion: 0.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a> update app to v0.8.0 (#19749)</li> </ul> <h3 id="default-value-changes-68"> <a href="#default-value-changes-68" class="anchor-heading" aria-labelledby="default-value-changes-68"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index f770b4a4..6c62ce75 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: wrouesnel/postgres_exporter
<span class="gd">-  tag: v0.5.1
</span><span class="gi">+  tag: v0.8.0
</span>   pullPolicy: IfNotPresent
 
 service:
<span class="p">@@ -75,12 +75,14 @@</span> config:
     database: ''
     sslmode: disable
   disableDefaultMetrics: false
<span class="gi">+  disableSettingsMetrics: false
</span>   autoDiscoverDatabases: false
   excludeDatabases: []
   # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
   queries: |-
     pg_replication:
<span class="gd">-      query: "SELECT EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp()))::INT as lag"
</span><span class="gi">+      query: "SELECT EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp())) as lag"
+      master: true
</span>       metrics:
         - lag:
             usage: "GAUGE"
<span class="p">@@ -88,14 +90,18 @@</span> config:
 
     pg_postmaster:
       query: "SELECT pg_postmaster_start_time as start_time_seconds from pg_postmaster_start_time()"
<span class="gi">+      master: true
</span>       metrics:
         - start_time_seconds:
             usage: "GAUGE"
             description: "Time at which postmaster started"
 
     pg_stat_user_tables:
<span class="gd">-      query: "SELECT schemaname, relname, seq_scan, seq_tup_read, idx_scan, idx_tup_fetch, n_tup_ins, n_tup_upd, n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, n_mod_since_analyze, last_vacuum, last_autovacuum, last_analyze, last_autoanalyze, vacuum_count, autovacuum_count, analyze_count, autoanalyze_count FROM pg_stat_user_tables"
</span><span class="gi">+      query: "SELECT current_database() datname, schemaname, relname, seq_scan, seq_tup_read, idx_scan, idx_tup_fetch, n_tup_ins, n_tup_upd, n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, n_mod_since_analyze, COALESCE(last_vacuum, '1970-01-01Z'), COALESCE(last_vacuum, '1970-01-01Z') as last_vacuum, COALESCE(last_autovacuum, '1970-01-01Z') as last_autovacuum, COALESCE(last_analyze, '1970-01-01Z') as last_analyze, COALESCE(last_autoanalyze, '1970-01-01Z') as last_autoanalyze, vacuum_count, autovacuum_count, analyze_count, autoanalyze_count FROM pg_stat_user_tables"
</span>       metrics:
<span class="gi">+        - datname:
+            usage: "LABEL"
+            description: "Name of current database"
</span>         - schemaname:
             usage: "LABEL"
             description: "Name of the schema that this table is in"
<span class="p">@@ -161,8 +167,11 @@</span> config:
             description: "Number of times this table has been analyzed by the autovacuum daemon"
 
     pg_statio_user_tables:
<span class="gd">-      query: "SELECT schemaname, relname, heap_blks_read, heap_blks_hit, idx_blks_read, idx_blks_hit, toast_blks_read, toast_blks_hit, tidx_blks_read, tidx_blks_hit FROM pg_statio_user_tables"
</span><span class="gi">+      query: "SELECT current_database() datname, schemaname, relname, heap_blks_read, heap_blks_hit, idx_blks_read, idx_blks_hit, toast_blks_read, toast_blks_hit, tidx_blks_read, tidx_blks_hit FROM pg_statio_user_tables"
</span>       metrics:
<span class="gi">+        - datname:
+            usage: "LABEL"
+            description: "Name of current database"
</span>         - schemaname:
             usage: "LABEL"
             description: "Name of the schema that this table is in"
<span class="p">@@ -195,15 +204,88 @@</span> config:
             description: "Number of buffer hits in this table's TOAST table indexes (if any)"
 
     pg_database:
<span class="gd">-      query: " SELECT pg_database.datname, pg_database_size(pg_database.datname) as size FROM pg_database"
</span><span class="gi">+      query: "SELECT pg_database.datname, pg_database_size(pg_database.datname) as size FROM pg_database"
+      master: true
+      cache_seconds: 30
</span>       metrics:
         - datname:
             usage: "LABEL"
             description: "Name of the database"
<span class="gd">-        - size:
</span><span class="gi">+        - size_bytes:
</span>             usage: "GAUGE"
             description: "Disk space used by the database"
 
<span class="gi">+    pg_stat_statements:
+      query: "SELECT t2.rolname, t3.datname, queryid, calls, total_time / 1000 as total_time_seconds, min_time / 1000 as min_time_seconds, max_time / 1000 as max_time_seconds, mean_time / 1000 as mean_time_seconds, stddev_time / 1000 as stddev_time_seconds, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time / 1000 as blk_read_time_seconds, blk_write_time / 1000 as blk_write_time_seconds FROM pg_stat_statements t1 join pg_roles t2 on (t1.userid=t2.oid) join pg_database t3 on (t1.dbid=t3.oid)"
+      master: true
+      metrics:
+        - rolname:
+            usage: "LABEL"
+            description: "Name of user"
+        - datname:
+            usage: "LABEL"
+            description: "Name of database"
+        - queryid:
+            usage: "LABEL"
+            description: "Query ID"
+        - calls:
+            usage: "COUNTER"
+            description: "Number of times executed"
+        - total_time_seconds:
+            usage: "COUNTER"
+            description: "Total time spent in the statement, in milliseconds"
+        - min_time_seconds:
+            usage: "GAUGE"
+            description: "Minimum time spent in the statement, in milliseconds"
+        - max_time_seconds:
+            usage: "GAUGE"
+            description: "Maximum time spent in the statement, in milliseconds"
+        - mean_time_seconds:
+            usage: "GAUGE"
+            description: "Mean time spent in the statement, in milliseconds"
+        - stddev_time_seconds:
+            usage: "GAUGE"
+            description: "Population standard deviation of time spent in the statement, in milliseconds"
+        - rows:
+            usage: "COUNTER"
+            description: "Total number of rows retrieved or affected by the statement"
+        - shared_blks_hit:
+            usage: "COUNTER"
+            description: "Total number of shared block cache hits by the statement"
+        - shared_blks_read:
+            usage: "COUNTER"
+            description: "Total number of shared blocks read by the statement"
+        - shared_blks_dirtied:
+            usage: "COUNTER"
+            description: "Total number of shared blocks dirtied by the statement"
+        - shared_blks_written:
+            usage: "COUNTER"
+            description: "Total number of shared blocks written by the statement"
+        - local_blks_hit:
+            usage: "COUNTER"
+            description: "Total number of local block cache hits by the statement"
+        - local_blks_read:
+            usage: "COUNTER"
+            description: "Total number of local blocks read by the statement"
+        - local_blks_dirtied:
+            usage: "COUNTER"
+            description: "Total number of local blocks dirtied by the statement"
+        - local_blks_written:
+            usage: "COUNTER"
+            description: "Total number of local blocks written by the statement"
+        - temp_blks_read:
+            usage: "COUNTER"
+            description: "Total number of temp blocks read by the statement"
+        - temp_blks_written:
+            usage: "COUNTER"
+            description: "Total number of temp blocks written by the statement"
+        - blk_read_time_seconds:
+            usage: "COUNTER"
+            description: "Total time the statement spent reading blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
+        - blk_write_time_seconds:
+            usage: "COUNTER"
+            description: "Total time the statement spent writing blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
+
</span> nodeSelector: {}
 
 tolerations: []
<span class="err">
</span></code></pre></div></div> <h2 id="111"> <a href="#111" class="anchor-heading" aria-labelledby="111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.1.1 </h2> <p><strong>Release date:</strong> 2019-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.5.1&amp;color=success" alt="AppVersion: 0.5.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update README of prometheus-postgres-exporter (#18475)</li> </ul> <h3 id="default-value-changes-69"> <a href="#default-value-changes-69" class="anchor-heading" aria-labelledby="default-value-changes-69"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="110"> <a href="#110" class="anchor-heading" aria-labelledby="110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.1.0 </h2> <p><strong>Release date:</strong> 2019-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.5.1&amp;color=success" alt="AppVersion: 0.5.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Add feature ‘auto-discover-databases’ (#17826)</li> </ul> <h3 id="default-value-changes-70"> <a href="#default-value-changes-70" class="anchor-heading" aria-labelledby="default-value-changes-70"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index f24fcfa2..f770b4a4 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -75,6 +75,8 @@</span> config:
     database: ''
     sslmode: disable
   disableDefaultMetrics: false
<span class="gi">+  autoDiscoverDatabases: false
+  excludeDatabases: []
</span>   # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
   queries: |-
     pg_replication:
<span class="err">
</span></code></pre></div></div> <h2 id="100"> <a href="#100" class="anchor-heading" aria-labelledby="100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.0.0 </h2> <p><strong>Release date:</strong> 2019-10-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.5.1&amp;color=success" alt="AppVersion: 0.5.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Fix compatibility with k8s 1.16 (#17694)</li> </ul> <h3 id="default-value-changes-71"> <a href="#default-value-changes-71" class="anchor-heading" aria-labelledby="default-value-changes-71"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="072"> <a href="#072" class="anchor-heading" aria-labelledby="072"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.2 </h2> <p><strong>Release date:</strong> 2019-08-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.5.1&amp;color=success" alt="AppVersion: 0.5.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-72"> <a href="#default-value-changes-72" class="anchor-heading" aria-labelledby="default-value-changes-72"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 816d5f3f..f24fcfa2 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -17,6 +17,20 @@</span> service:
   labels: {}
   annotations: {}
 
<span class="gi">+serviceMonitor:
+  # When set true then use a ServiceMonitor to configure scraping
+  enabled: false
+  # Set the namespace the ServiceMonitor should be deployed
+  # namespace: monitoring
+  # Set how frequently Prometheus should scrape
+  # interval: 30s
+  # Set path to cloudwatch-exporter telemtery-path
+  # telemetryPath: /metrics
+  # Set labels for the ServiceMonitor, use this to define your scrape label for Prometheus Operator
+  # labels:
+  # Set timeout for scrape
+  # timeout: 10s
+
</span> resources: {}
   # We usually recommend not to specify default resources and to leave this as a conscious
   # choice for the user. This also increases chances charts run on environments with little
<span class="err">
</span></code></pre></div></div> <h2 id="071"> <a href="#071" class="anchor-heading" aria-labelledby="071"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.1 </h2> <p><strong>Release date:</strong> 2019-07-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.5.1&amp;color=success" alt="AppVersion: 0.5.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Bump to prometheus-postgres-exporter v0.5.1 + use prometheus-postgres-exporter.chart (#15502)</li> </ul> <h3 id="default-value-changes-73"> <a href="#default-value-changes-73" class="anchor-heading" aria-labelledby="default-value-changes-73"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 2a01c159..816d5f3f 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: wrouesnel/postgres_exporter
<span class="gd">-  tag: v0.5.0
</span><span class="gi">+  tag: v0.5.1
</span>   pullPolicy: IfNotPresent
 
 service:
<span class="err">
</span></code></pre></div></div> <h2 id="070"> <a href="#070" class="anchor-heading" aria-labelledby="070"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.0 </h2> <p><strong>Release date:</strong> 2019-07-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.5.0&amp;color=success" alt="AppVersion: 0.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> upgrade to new version of postgres exporter (#15239)</li> </ul> <h3 id="default-value-changes-74"> <a href="#default-value-changes-74" class="anchor-heading" aria-labelledby="default-value-changes-74"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index e40cae10..2a01c159 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: wrouesnel/postgres_exporter
<span class="gd">-  tag: v0.4.7
</span><span class="gi">+  tag: v0.5.0
</span>   pullPolicy: IfNotPresent
 
 service:
<span class="err">
</span></code></pre></div></div> <h2 id="063"> <a href="#063" class="anchor-heading" aria-labelledby="063"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.3 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.7&amp;color=success" alt="AppVersion: 0.4.7"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Allow specifying a securityContext (#15074)</li> </ul> <h3 id="default-value-changes-75"> <a href="#default-value-changes-75" class="anchor-heading" aria-labelledby="default-value-changes-75"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index d71cf852..e40cae10 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -41,6 +41,10 @@</span> serviceAccount:
   # If not set and create is true, a name is generated using the fullname template
   name:
 
<span class="gi">+securityContext: {}
+  # The securityContext this Pod should use. See https://kubernetes.io/docs/concepts/policy/security-context/ for more.
+  # runAsUser: 65534
+
</span> config:
   datasource:
     host:
<span class="err">
</span></code></pre></div></div> <h2 id="062"> <a href="#062" class="anchor-heading" aria-labelledby="062"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.2 </h2> <p><strong>Release date:</strong> 2019-03-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.7&amp;color=success" alt="AppVersion: 0.4.7"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Allow to specify secret for database password (#11392)</li> </ul> <h3 id="default-value-changes-76"> <a href="#default-value-changes-76" class="anchor-heading" aria-labelledby="default-value-changes-76"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 3373cf55..d71cf852 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -44,8 +44,15 @@</span> serviceAccount:
 config:
   datasource:
     host:
<span class="gd">-    user:
-    password:
</span><span class="gi">+    user: postgres
+    # Only one of password and passwordSecret can be specified
+    password: somepassword
+    # Specify passwordSecret if DB password is stored in secret.
+    passwordSecret: {}
+    # Secret name
+    #  name:
+    # Password key inside secret
+    #  key:
</span>     port: "5432"
     database: ''
     sslmode: disable
<span class="err">
</span></code></pre></div></div> <h2 id="061"> <a href="#061" class="anchor-heading" aria-labelledby="061"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.1 </h2> <p><strong>Release date:</strong> 2018-12-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.7&amp;color=success" alt="AppVersion: 0.4.7"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update postgres-exporter to app v0.4.7 (#10079)</li> </ul> <h3 id="default-value-changes-77"> <a href="#default-value-changes-77" class="anchor-heading" aria-labelledby="default-value-changes-77"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 14f11a55..3373cf55 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: wrouesnel/postgres_exporter
<span class="gd">-  tag: v0.4.6
</span><span class="gi">+  tag: v0.4.7
</span>   pullPolicy: IfNotPresent
 
 service:
<span class="p">@@ -133,6 +133,40 @@</span> config:
             usage: "COUNTER"
             description: "Number of times this table has been analyzed by the autovacuum daemon"
 
<span class="gi">+    pg_statio_user_tables:
+      query: "SELECT schemaname, relname, heap_blks_read, heap_blks_hit, idx_blks_read, idx_blks_hit, toast_blks_read, toast_blks_hit, tidx_blks_read, tidx_blks_hit FROM pg_statio_user_tables"
+      metrics:
+        - schemaname:
+            usage: "LABEL"
+            description: "Name of the schema that this table is in"
+        - relname:
+            usage: "LABEL"
+            description: "Name of this table"
+        - heap_blks_read:
+            usage: "COUNTER"
+            description: "Number of disk blocks read from this table"
+        - heap_blks_hit:
+            usage: "COUNTER"
+            description: "Number of buffer hits in this table"
+        - idx_blks_read:
+            usage: "COUNTER"
+            description: "Number of disk blocks read from all indexes on this table"
+        - idx_blks_hit:
+            usage: "COUNTER"
+            description: "Number of buffer hits in all indexes on this table"
+        - toast_blks_read:
+            usage: "COUNTER"
+            description: "Number of disk blocks read from this table's TOAST table (if any)"
+        - toast_blks_hit:
+            usage: "COUNTER"
+            description: "Number of buffer hits in this table's TOAST table (if any)"
+        - tidx_blks_read:
+            usage: "COUNTER"
+            description: "Number of disk blocks read from this table's TOAST table indexes (if any)"
+        - tidx_blks_hit:
+            usage: "COUNTER"
+            description: "Number of buffer hits in this table's TOAST table indexes (if any)"
+
</span>     pg_database:
       query: " SELECT pg_database.datname, pg_database_size(pg_database.datname) as size FROM pg_database"
       metrics:
<span class="err">
</span></code></pre></div></div> <h2 id="060"> <a href="#060" class="anchor-heading" aria-labelledby="060"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.0 </h2> <p><strong>Release date:</strong> 2018-12-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>postgres-exporter labels and port name (#10027)</li> </ul> <h3 id="default-value-changes-78"> <a href="#default-value-changes-78" class="anchor-heading" aria-labelledby="default-value-changes-78"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index c3de2355..14f11a55 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -13,6 +13,8 @@</span> service:
   type: ClusterIP
   port: 80
   targetPort: 9187
<span class="gi">+  name: http
+  labels: {}
</span>   annotations: {}
 
 resources: {}
<span class="p">@@ -149,6 +151,8 @@</span> affinity: {}
 
 annotations: {}
 
<span class="gi">+podLabels: {}
+
</span> # Additional sidecar containers, e. g. for a database proxy, such as Google's cloudsql-proxy
 extraContainers: |
 
<span class="err">
</span></code></pre></div></div> <h2 id="051"> <a href="#051" class="anchor-heading" aria-labelledby="051"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.5.1 </h2> <p><strong>Release date:</strong> 2018-12-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Add .Values.service.annotations (#10038)</li> </ul> <h3 id="default-value-changes-79"> <a href="#default-value-changes-79" class="anchor-heading" aria-labelledby="default-value-changes-79"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index b54dd067..c3de2355 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -13,6 +13,7 @@</span> service:
   type: ClusterIP
   port: 80
   targetPort: 9187
<span class="gi">+  annotations: {}
</span> 
 resources: {}
   # We usually recommend not to specify default resources and to leave this as a conscious
<span class="err">
</span></code></pre></div></div> <h2 id="050"> <a href="#050" class="anchor-heading" aria-labelledby="050"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.5.0 </h2> <p><strong>Release date:</strong> 2018-10-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Added flag for disabling default metrics (#8134)</li> </ul> <h3 id="default-value-changes-80"> <a href="#default-value-changes-80" class="anchor-heading" aria-labelledby="default-value-changes-80"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index b740095d..b54dd067 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -46,6 +46,7 @@</span> config:
     port: "5432"
     database: ''
     sslmode: disable
<span class="gi">+  disableDefaultMetrics: false
</span>   # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
   queries: |-
     pg_replication:
<span class="err">
</span></code></pre></div></div> <h2 id="040"> <a href="#040" class="anchor-heading" aria-labelledby="040"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.4.0 </h2> <p><strong>Release date:</strong> 2018-06-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> add support for Google Cloud SQL (#6009)</li> </ul> <h3 id="default-value-changes-81"> <a href="#default-value-changes-81" class="anchor-heading" aria-labelledby="default-value-changes-81"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 885153d7..b740095d 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -44,6 +44,7 @@</span> config:
     user:
     password:
     port: "5432"
<span class="gi">+    database: ''
</span>     sslmode: disable
   # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
   queries: |-
<span class="p">@@ -145,3 +146,9 @@</span> tolerations: []
 affinity: {}
 
 annotations: {}
<span class="gi">+
+# Additional sidecar containers, e. g. for a database proxy, such as Google's cloudsql-proxy
+extraContainers: |
+
+# Additional volumes, e. g. for secrets used in an extraContainer
+extraVolumes: |
</span><span class="err">
</span></code></pre></div></div> <h2 id="030"> <a href="#030" class="anchor-heading" aria-labelledby="030"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.3.0 </h2> <p><strong>Release date:</strong> 2018-06-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> add RBAC resources (#6008)</li> </ul> <h3 id="default-value-changes-82"> <a href="#default-value-changes-82" class="anchor-heading" aria-labelledby="default-value-changes-82"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index c84faa4b..885153d7 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -26,6 +26,11 @@</span> resources: {}
   #   cpu: 100m
   #   memory: 128Mi
 
<span class="gi">+rbac:
+  # Specifies whether RBAC resources should be created
+  create: true
+  # Specifies whether a PodSecurityPolicy should be created
+  pspEnabled: true
</span> serviceAccount:
   # Specifies whether a ServiceAccount should be created
   create: true
<span class="err">
</span></code></pre></div></div> <h2 id="020"> <a href="#020" class="anchor-heading" aria-labelledby="020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.2.0 </h2> <p><strong>Release date:</strong> 2018-06-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>adding annotations (#5607)</li> </ul> <h3 id="default-value-changes-83"> <a href="#default-value-changes-83" class="anchor-heading" aria-labelledby="default-value-changes-83"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 91272671..c84faa4b 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -138,3 +138,5 @@</span> nodeSelector: {}
 tolerations: []
 
 affinity: {}
<span class="gi">+
+annotations: {}
</span><span class="err">
</span></code></pre></div></div> <h2 id="013"> <a href="#013" class="anchor-heading" aria-labelledby="013"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.1.3 </h2> <p><strong>Release date:</strong> 2018-05-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="use%20new%20time%20column%20scheme%20of%20PG13%20(#2021)">prometheus-postgres-exporter</a>Typo fix: tables lists-&gt;table lists (#5720)</li> </ul> <h3 id="default-value-changes-84"> <a href="#default-value-changes-84" class="anchor-heading" aria-labelledby="default-value-changes-84"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="012"> <a href="#012" class="anchor-heading" aria-labelledby="012"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.1.2 </h2> <p><strong>Release date:</strong> 2018-05-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix url which not exist anymore (#4589)</li> </ul> <h3 id="default-value-changes-85"> <a href="#default-value-changes-85" class="anchor-heading" aria-labelledby="default-value-changes-85"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="011"> <a href="#011" class="anchor-heading" aria-labelledby="011"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.1.1 </h2> <p><strong>Release date:</strong> 2018-05-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.6&amp;color=success" alt="AppVersion: 0.4.6"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20the%20ability%20to%20create%20a%20ServiceMonitor%20(#14918)">stable/prometheus-postgres-exporter</a> Fixes #5059, #5472, version update (#5473)</li> </ul> <h3 id="default-value-changes-86"> <a href="#default-value-changes-86" class="anchor-heading" aria-labelledby="default-value-changes-86"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus-postgres-exporter/values.yaml b/charts/prometheus-postgres-exporter/values.yaml
index 63e96829..91272671 100644
</span><span class="gd">--- a/charts/prometheus-postgres-exporter/values.yaml
</span><span class="gi">+++ b/charts/prometheus-postgres-exporter/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> replicaCount: 1
 
 image:
   repository: wrouesnel/postgres_exporter
<span class="gd">-  tag: v0.4.4
</span><span class="gi">+  tag: v0.4.6
</span>   pullPolicy: IfNotPresent
 
 service:
<span class="err">
</span></code></pre></div></div> <h2 id="010"> <a href="#010" class="anchor-heading" aria-labelledby="010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.1.0 </h2> <p><strong>Release date:</strong> 2018-03-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.4.4&amp;color=success" alt="AppVersion: 0.4.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Create prometheus postgres exporter chart (#4076)</li> </ul> <h3 id="default-value-changes-87"> <a href="#default-value-changes-87" class="anchor-heading" aria-labelledby="default-value-changes-87"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Default values for prometheus-postgres-exporter.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
<span class="err">
</span><span class="p">replicaCount: 1
</span><span class="err">
</span><span class="p">image:
</span>  repository: wrouesnel/postgres_exporter
  tag: v0.4.4
  pullPolicy: IfNotPresent
<span class="err">
</span><span class="p">service:
</span>  type: ClusterIP
  port: 80
  targetPort: 9187
<span class="err">
</span><span class="p">resources: {}
</span>  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #    memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi
<span class="err">
</span><span class="p">serviceAccount:
</span>  # Specifies whether a ServiceAccount should be created
  create: true
  # The name of the ServiceAccount to use.
  # If not set and create is true, a name is generated using the fullname template
  name:
<span class="err">
</span><span class="p">config:
</span>  datasource:
    host:
    user:
    password:
    port: "5432"
    sslmode: disable
  # this are the defaults queries that the exporter will run, extracted from: https://github.com/wrouesnel/postgres_exporter/blob/master/queries.yaml
  queries: |-
    pg_replication:
      query: "SELECT EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp()))::INT as lag"
      metrics:
        - lag:
            usage: "GAUGE"
            description: "Replication lag behind master in seconds"
<span class="err">
</span>    pg_postmaster:
      query: "SELECT pg_postmaster_start_time as start_time_seconds from pg_postmaster_start_time()"
      metrics:
        - start_time_seconds:
            usage: "GAUGE"
            description: "Time at which postmaster started"
<span class="err">
</span>    pg_stat_user_tables:
      query: "SELECT schemaname, relname, seq_scan, seq_tup_read, idx_scan, idx_tup_fetch, n_tup_ins, n_tup_upd, n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, n_mod_since_analyze, last_vacuum, last_autovacuum, last_analyze, last_autoanalyze, vacuum_count, autovacuum_count, analyze_count, autoanalyze_count FROM pg_stat_user_tables"
      metrics:
        - schemaname:
            usage: "LABEL"
            description: "Name of the schema that this table is in"
        - relname:
            usage: "LABEL"
            description: "Name of this table"
        - seq_scan:
            usage: "COUNTER"
            description: "Number of sequential scans initiated on this table"
        - seq_tup_read:
            usage: "COUNTER"
            description: "Number of live rows fetched by sequential scans"
        - idx_scan:
            usage: "COUNTER"
            description: "Number of index scans initiated on this table"
        - idx_tup_fetch:
            usage: "COUNTER"
            description: "Number of live rows fetched by index scans"
        - n_tup_ins:
            usage: "COUNTER"
            description: "Number of rows inserted"
        - n_tup_upd:
            usage: "COUNTER"
            description: "Number of rows updated"
        - n_tup_del:
            usage: "COUNTER"
            description: "Number of rows deleted"
        - n_tup_hot_upd:
            usage: "COUNTER"
            description: "Number of rows HOT updated (i.e., with no separate index update required)"
        - n_live_tup:
            usage: "GAUGE"
            description: "Estimated number of live rows"
        - n_dead_tup:
            usage: "GAUGE"
            description: "Estimated number of dead rows"
        - n_mod_since_analyze:
            usage: "GAUGE"
            description: "Estimated number of rows changed since last analyze"
        - last_vacuum:
            usage: "GAUGE"
            description: "Last time at which this table was manually vacuumed (not counting VACUUM FULL)"
        - last_autovacuum:
            usage: "GAUGE"
            description: "Last time at which this table was vacuumed by the autovacuum daemon"
        - last_analyze:
            usage: "GAUGE"
            description: "Last time at which this table was manually analyzed"
        - last_autoanalyze:
            usage: "GAUGE"
            description: "Last time at which this table was analyzed by the autovacuum daemon"
        - vacuum_count:
            usage: "COUNTER"
            description: "Number of times this table has been manually vacuumed (not counting VACUUM FULL)"
        - autovacuum_count:
            usage: "COUNTER"
            description: "Number of times this table has been vacuumed by the autovacuum daemon"
        - analyze_count:
            usage: "COUNTER"
            description: "Number of times this table has been manually analyzed"
        - autoanalyze_count:
            usage: "COUNTER"
            description: "Number of times this table has been analyzed by the autovacuum daemon"
<span class="err">
</span>    pg_database:
      query: " SELECT pg_database.datname, pg_database_size(pg_database.datname) as size FROM pg_database"
      metrics:
        - datname:
            usage: "LABEL"
            description: "Name of the database"
        - size:
            usage: "GAUGE"
            description: "Disk space used by the database"
<span class="err">
</span><span class="p">nodeSelector: {}
</span><span class="err">
</span><span class="p">tolerations: []
</span><span class="err">
</span><span class="p">affinity: {}
</span><span class="err">
</span></code></pre></div></div>
<hr> <p>Autogenerated from Helm Chart and git history using <a href="https://github.com/mogensen/helm-changelog" target="_blank" rel="noopener noreferrer">helm-changelog</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
