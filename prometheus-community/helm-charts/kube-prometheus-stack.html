<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(5)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(5) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(7) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(5) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list > li.nav-list-item:nth-child(5) > ul.nav-list { display: block; } </style> <script src="/changelogs/assets/js/vendor/lunr.min.js"></script> <script src="/changelogs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>kube-prometheus-stack | Changelogs</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="kube-prometheus-stack" /> <meta name="author" content="Baptiste ROUX" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://baprx.github.io/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" /> <meta property="og:url" content="https://baprx.github.io/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" /> <meta property="og:site_name" content="Changelogs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="kube-prometheus-stack" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Baptiste ROUX"},"headline":"kube-prometheus-stack","url":"https://baprx.github.io/changelogs/prometheus-community/helm-charts/kube-prometheus-stack"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewbox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewbox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewbox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewbox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/changelogs/" class="site-title lh-tight"> Changelogs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewbox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list">
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in argoproj/argo-helm category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/argoproj/argo-helm" class="nav-list-link">argoproj/argo-helm</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-events" class="nav-list-link">argo-events</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-rollouts" class="nav-list-link">argo-rollouts</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-apps" class="nav-list-link">argocd-apps</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-image-updater" class="nav-list-link">argocd-image-updater</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in authelia/chartrepo category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/authelia/chartrepo" class="nav-list-link">authelia/chartrepo</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/authelia/chartrepo/authelia" class="nav-list-link">authelia</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in bitnami/charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/bitnami/charts" class="nav-list-link">bitnami/charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/CHART_NAME" class="nav-list-link">CHART_NAME</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/airflow" class="nav-list-link">airflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apache" class="nav-list-link">apache</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apisix" class="nav-list-link">apisix</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/appsmith" class="nav-list-link">appsmith</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/aspnet-core" class="nav-list-link">aspnet-core</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cassandra" class="nav-list-link">cassandra</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cert-manager" class="nav-list-link">cert-manager</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/clickhouse" class="nav-list-link">clickhouse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/common" class="nav-list-link">common</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/concourse" class="nav-list-link">concourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/consul" class="nav-list-link">consul</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/contour" class="nav-list-link">contour</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/deepspeed" class="nav-list-link">deepspeed</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/discourse" class="nav-list-link">discourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/dokuwiki" class="nav-list-link">dokuwiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/drupal" class="nav-list-link">drupal</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ejbca" class="nav-list-link">ejbca</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/elasticsearch" class="nav-list-link">elasticsearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/etcd" class="nav-list-link">etcd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/external-dns" class="nav-list-link">external-dns</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flink" class="nav-list-link">flink</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluentd" class="nav-list-link">fluentd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flux" class="nav-list-link">flux</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ghost" class="nav-list-link">ghost</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/gitea" class="nav-list-link">gitea</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-loki" class="nav-list-link">grafana-loki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-mimir" class="nav-list-link">grafana-mimir</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-operator" class="nav-list-link">grafana-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-tempo" class="nav-list-link">grafana-tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/haproxy" class="nav-list-link">haproxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/harbor" class="nav-list-link">harbor</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/influxdb" class="nav-list-link">influxdb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jaeger" class="nav-list-link">jaeger</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jasperreports" class="nav-list-link">jasperreports</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jenkins" class="nav-list-link">jenkins</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/joomla" class="nav-list-link">joomla</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jupyterhub" class="nav-list-link">jupyterhub</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kafka" class="nav-list-link">kafka</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/keycloak" class="nav-list-link">keycloak</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kiam" class="nav-list-link">kiam</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kibana" class="nav-list-link">kibana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kong" class="nav-list-link">kong</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-prometheus" class="nav-list-link">kube-prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubeapps" class="nav-list-link">kubeapps</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kuberay" class="nav-list-link">kuberay</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubernetes-event-exporter" class="nav-list-link">kubernetes-event-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/logstash" class="nav-list-link">logstash</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/magento" class="nav-list-link">magento</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb" class="nav-list-link">mariadb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb-galera" class="nav-list-link">mariadb-galera</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mastodon" class="nav-list-link">mastodon</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/matomo" class="nav-list-link">matomo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mediawiki" class="nav-list-link">mediawiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/memcached" class="nav-list-link">memcached</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metallb" class="nav-list-link">metallb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metrics-server" class="nav-list-link">metrics-server</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/milvus" class="nav-list-link">milvus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/minio" class="nav-list-link">minio</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mlflow" class="nav-list-link">mlflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb" class="nav-list-link">mongodb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb-sharded" class="nav-list-link">mongodb-sharded</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/moodle" class="nav-list-link">moodle</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/multus-cni" class="nav-list-link">multus-cni</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mysql" class="nav-list-link">mysql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nats" class="nav-list-link">nats</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx" class="nav-list-link">nginx</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx-ingress-controller" class="nav-list-link">nginx-ingress-controller</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/node-exporter" class="nav-list-link">node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/oauth2-proxy" class="nav-list-link">oauth2-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/odoo" class="nav-list-link">odoo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opencart" class="nav-list-link">opencart</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opensearch" class="nav-list-link">opensearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/osclass" class="nav-list-link">osclass</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/parse" class="nav-list-link">parse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpbb" class="nav-list-link">phpbb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpmyadmin" class="nav-list-link">phpmyadmin</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pinniped" class="nav-list-link">pinniped</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql" class="nav-list-link">postgresql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql-ha" class="nav-list-link">postgresql-ha</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prestashop" class="nav-list-link">prestashop</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pytorch" class="nav-list-link">pytorch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq" class="nav-list-link">rabbitmq</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq-cluster-operator" class="nav-list-link">rabbitmq-cluster-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis" class="nav-list-link">redis</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis-cluster" class="nav-list-link">redis-cluster</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redmine" class="nav-list-link">redmine</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/schema-registry" class="nav-list-link">schema-registry</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sealed-secrets" class="nav-list-link">sealed-secrets</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/solr" class="nav-list-link">solr</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sonarqube" class="nav-list-link">sonarqube</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spark" class="nav-list-link">spark</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spring-cloud-dataflow" class="nav-list-link">spring-cloud-dataflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/supabase" class="nav-list-link">supabase</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tensorflow-resnet" class="nav-list-link">tensorflow-resnet</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/thanos" class="nav-list-link">thanos</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tomcat" class="nav-list-link">tomcat</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/vault" class="nav-list-link">vault</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/whereabouts" class="nav-list-link">whereabouts</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wildfly" class="nav-list-link">wildfly</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wordpress" class="nav-list-link">wordpress</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/zookeeper" class="nav-list-link">zookeeper</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in grafana/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/grafana/helm-charts" class="nav-list-link">grafana/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/agent-operator" class="nav-list-link">agent-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs" class="nav-list-link">enterprise-logs</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs-simple" class="nav-list-link">enterprise-logs-simple</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-metrics" class="nav-list-link">enterprise-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/lgtm-distributed" class="nav-list-link">lgtm-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-canary" class="nav-list-link">loki-canary</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-distributed" class="nav-list-link">loki-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-stack" class="nav-list-link">loki-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/promtail" class="nav-list-link">promtail</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/rollout-operator" class="nav-list-link">rollout-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/snyk-exporter" class="nav-list-link">snyk-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/synthetic-monitoring-agent" class="nav-list-link">synthetic-monitoring-agent</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo" class="nav-list-link">tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-distributed" class="nav-list-link">tempo-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-vulture" class="nav-list-link">tempo-vulture</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in kubernetes/ingress-nginx category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/kubernetes/ingress-nginx" class="nav-list-link">kubernetes/ingress-nginx</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/kubernetes/ingress-nginx/ingress-nginx" class="nav-list-link">ingress-nginx</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in minio/operator category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/minio/operator" class="nav-list-link">minio/operator</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/minio/operator/operator" class="nav-list-link">operator</a></li>
<li class="nav-list-item"><a href="/changelogs/minio/operator/tenant" class="nav-list-link">tenant</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in prometheus-community/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/prometheus-community/helm-charts" class="nav-list-link">prometheus-community/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager" class="nav-list-link">alertmanager</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager-snmp-notifier" class="nav-list-link">alertmanager-snmp-notifier</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/crds" class="nav-list-link">crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/jiralert" class="nav-list-link">jiralert</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" class="nav-list-link">kube-prometheus-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prom-label-proxy" class="nav-list-link">prom-label-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-adapter" class="nav-list-link">prometheus-adapter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-blackbox-exporter" class="nav-list-link">prometheus-blackbox-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-cloudwatch-exporter" class="nav-list-link">prometheus-cloudwatch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-conntrack-stats-exporter" class="nav-list-link">prometheus-conntrack-stats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-consul-exporter" class="nav-list-link">prometheus-consul-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-couchdb-exporter" class="nav-list-link">prometheus-couchdb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-druid-exporter" class="nav-list-link">prometheus-druid-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-elasticsearch-exporter" class="nav-list-link">prometheus-elasticsearch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-fastly-exporter" class="nav-list-link">prometheus-fastly-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-ipmi-exporter" class="nav-list-link">prometheus-ipmi-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-json-exporter" class="nav-list-link">prometheus-json-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-kafka-exporter" class="nav-list-link">prometheus-kafka-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-memcached-exporter" class="nav-list-link">prometheus-memcached-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-modbus-exporter" class="nav-list-link">prometheus-modbus-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mongodb-exporter" class="nav-list-link">prometheus-mongodb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mysql-exporter" class="nav-list-link">prometheus-mysql-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nats-exporter" class="nav-list-link">prometheus-nats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nginx-exporter" class="nav-list-link">prometheus-nginx-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-node-exporter" class="nav-list-link">prometheus-node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-opencost-exporter" class="nav-list-link">prometheus-opencost-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-admission-webhook" class="nav-list-link">prometheus-operator-admission-webhook</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-crds" class="nav-list-link">prometheus-operator-crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pgbouncer-exporter" class="nav-list-link">prometheus-pgbouncer-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingdom-exporter" class="nav-list-link">prometheus-pingdom-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingmesh-exporter" class="nav-list-link">prometheus-pingmesh-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" class="nav-list-link">prometheus-postgres-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pushgateway" class="nav-list-link">prometheus-pushgateway</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-rabbitmq-exporter" class="nav-list-link">prometheus-rabbitmq-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-redis-exporter" class="nav-list-link">prometheus-redis-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-smartctl-exporter" class="nav-list-link">prometheus-smartctl-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-snmp-exporter" class="nav-list-link">prometheus-snmp-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-stackdriver-exporter" class="nav-list-link">prometheus-stackdriver-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-statsd-exporter" class="nav-list-link">prometheus-statsd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-systemd-exporter" class="nav-list-link">prometheus-systemd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-to-sd" class="nav-list-link">prometheus-to-sd</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-windows-exporter" class="nav-list-link">prometheus-windows-exporter</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in traefik/traefik-helm-chart category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/traefik/traefik-helm-chart" class="nav-list-link">traefik/traefik-helm-chart</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/traefik/traefik-helm-chart/traefik" class="nav-list-link">traefik</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in vmware-tanzu/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/vmware-tanzu/helm-charts" class="nav-list-link">vmware-tanzu/helm-charts</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/vmware-tanzu/helm-charts/velero" class="nav-list-link">velero</a></li></ul>
</li>
</ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Changelogs" aria-label="Search Changelogs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/changelogs/prometheus-community/helm-charts">prometheus-community/helm-charts</a></li> <li class="breadcrumb-nav-list-item"><span>kube-prometheus-stack</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="kube-prometheus-stack"> <a href="#kube-prometheus-stack" class="anchor-heading" aria-labelledby="kube-prometheus-stack"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> kube-prometheus-stack </h1> <h2 id="5630"> <a href="#5630" class="anchor-heading" aria-labelledby="5630"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.3.0 </h2> <p><strong>Release date:</strong> 2024-01-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.2&amp;color=success" alt="AppVersion: v0.71.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add maximumStartupDurationSeconds optional value (#4195)</li> </ul> <h3 id="default-value-changes"> <a href="#default-value-changes" class="anchor-heading" aria-labelledby="default-value-changes"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d58aa275..28c03fd9 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3873,6 +3873,13 @@</span> prometheus:
     ## Otherwise, use prometheus.prometheusSpec.additionalConfig (passed through tpl)
     additionalConfigString: ""
 
<span class="gi">+    ## Defines the maximum time that the `prometheus` container's startup probe
+    ## will wait before being considered failed. The startup probe will return
+    ## success after the WAL replay is complete. If set, the value should be
+    ## greater than 60 (seconds). Otherwise it will be equal to 600 seconds (15
+    ## minutes).
+    maximumStartupDurationSeconds: 0
+
</span>   additionalRulesForClusterRole: []
   #  - apiGroups: [ "" ]
   #    resources:
<span class="err">
</span></code></pre></div></div> <h2 id="5621"> <a href="#5621" class="anchor-heading" aria-labelledby="5621"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.2.1 </h2> <p><strong>Release date:</strong> 2024-01-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.2&amp;color=success" alt="AppVersion: v0.71.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update values.yaml (#4075)</li> </ul> <h3 id="default-value-changes-1"> <a href="#default-value-changes-1" class="anchor-heading" aria-labelledby="default-value-changes-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 346c0be5..d58aa275 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -996,6 +996,18 @@</span> grafana:
     #   hosts:
     #   - grafana.example.com
 
<span class="gi">+  # # To make Grafana persistent (Using Statefulset)
+  # #
+  # persistence:
+  #   enabled: true
+  #   type: sts
+  #   storageClassName: "storageClassName"
+  #   accessModes:
+  #     - ReadWriteOnce
+  #   size: 20Gi
+  #   finalizers:
+  #     - kubernetes.io/pvc-protection
+
</span>   sidecar:
     dashboards:
       enabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="5620"> <a href="#5620" class="anchor-heading" aria-labelledby="5620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.2.0 </h2> <p><strong>Release date:</strong> 2024-01-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.2&amp;color=success" alt="AppVersion: v0.71.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Added missing enforcedKeepDroppedTargets in the template of prometheus in 0.71.0 (#4178)</li> </ul> <h3 id="default-value-changes-2"> <a href="#default-value-changes-2" class="anchor-heading" aria-labelledby="default-value-changes-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bf3c0d73..346c0be5 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3795,6 +3795,11 @@</span> prometheus:
     # Set to 'false' to disable global sample_limit. or set to a number to override the default value.
     sampleLimit: false
 
<span class="gi">+    # EnforcedKeepDroppedTargetsLimit defines on the number of targets dropped by relabeling that will be kept in memory.
+    # The value overrides any spec.keepDroppedTargets set by ServiceMonitor, PodMonitor, Probe objects unless spec.keepDroppedTargets
+    # is greater than zero and less than spec.enforcedKeepDroppedTargets. 0 means no limit.
+    enforcedKeepDroppedTargets: 0
+
</span>     ## EnforcedSampleLimit defines global limit on number of scraped samples that will be accepted. This overrides any SampleLimit
     ## set per ServiceMonitor or/and PodMonitor. It is meant to be used by admins to enforce the SampleLimit to keep overall
     ## number of samples/series under the desired limit. Note that if SampleLimit is lower that value will be taken instead.
<span class="err">
</span></code></pre></div></div> <h2 id="5610"> <a href="#5610" class="anchor-heading" aria-labelledby="5610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.1.0 </h2> <p><strong>Release date:</strong> 2024-01-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.2&amp;color=success" alt="AppVersion: v0.71.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump win and node exporter deps (#4189)</li> </ul> <h3 id="default-value-changes-3"> <a href="#default-value-changes-3" class="anchor-heading" aria-labelledby="default-value-changes-3"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5605"> <a href="#5605" class="anchor-heading" aria-labelledby="5605"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.0.5 </h2> <p><strong>Release date:</strong> 2024-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.2&amp;color=success" alt="AppVersion: v0.71.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump operator to 0.71.2 (#4180)</li> </ul> <h3 id="default-value-changes-4"> <a href="#default-value-changes-4" class="anchor-heading" aria-labelledby="default-value-changes-4"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5604"> <a href="#5604" class="anchor-heading" aria-labelledby="5604"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.0.4 </h2> <p><strong>Release date:</strong> 2024-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.0&amp;color=success" alt="AppVersion: v0.71.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add missing rbac permissions for 0.71.0 (#4175)</li> </ul> <h3 id="default-value-changes-5"> <a href="#default-value-changes-5" class="anchor-heading" aria-labelledby="default-value-changes-5"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5603"> <a href="#5603" class="anchor-heading" aria-labelledby="5603"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.0.3 </h2> <p><strong>Release date:</strong> 2024-01-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.0&amp;color=success" alt="AppVersion: v0.71.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix label on admission controller (#4168)</li> </ul> <h3 id="default-value-changes-6"> <a href="#default-value-changes-6" class="anchor-heading" aria-labelledby="default-value-changes-6"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5602"> <a href="#5602" class="anchor-heading" aria-labelledby="5602"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.0.2 </h2> <p><strong>Release date:</strong> 2024-01-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.0&amp;color=success" alt="AppVersion: v0.71.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> allow kube-state-metrics job name to be overridden (#4160)</li> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Enable release label for windows exporter (#4029)</li> </ul> <h3 id="default-value-changes-7"> <a href="#default-value-changes-7" class="anchor-heading" aria-labelledby="default-value-changes-7"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c2fac61f..bf3c0d73 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -236,6 +236,8 @@</span> prometheus-windows-exporter:
       enabled: true
       jobLabel: jobLabel
 
<span class="gi">+  releaseLabel: true
+
</span>   ## Set job label to 'windows-exporter' as required by the default Prometheus rules and Grafana dashboards
   ##
   podLabels:
<span class="err">
</span></code></pre></div></div> <h2 id="5601"> <a href="#5601" class="anchor-heading" aria-labelledby="5601"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.0.1 </h2> <p><strong>Release date:</strong> 2024-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.0&amp;color=success" alt="AppVersion: v0.71.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Label promstack-operator pods with k8s recommended labels (#4094)</li> </ul> <h3 id="default-value-changes-8"> <a href="#default-value-changes-8" class="anchor-heading" aria-labelledby="default-value-changes-8"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5600"> <a href="#5600" class="anchor-heading" aria-labelledby="5600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 56.0.0 </h2> <p><strong>Release date:</strong> 2024-01-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.71.0&amp;color=success" alt="AppVersion: v0.71.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump operator to 0.71.0 (and default prom to 2.49.1) (#4151)</li> </ul> <h3 id="default-value-changes-9"> <a href="#default-value-changes-9" class="anchor-heading" aria-labelledby="default-value-changes-9"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index cabfe617..c2fac61f 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3224,7 +3224,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.48.1
</span><span class="gi">+      tag: v2.49.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="55110"> <a href="#55110" class="anchor-heading" aria-labelledby="55110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.11.0 </h2> <p><strong>Release date:</strong> 2024-01-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana chart to 7.2.x (#4146)</li> </ul> <h3 id="default-value-changes-10"> <a href="#default-value-changes-10" class="anchor-heading" aria-labelledby="default-value-changes-10"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="55100"> <a href="#55100" class="anchor-heading" aria-labelledby="55100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.10.0 </h2> <p><strong>Release date:</strong> 2024-01-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support <code class="language-plaintext highlighter-rouge">additionalArgs</code> on <code class="language-plaintext highlighter-rouge">thanosRulerSpec</code> (#4092)</li> </ul> <h3 id="default-value-changes-11"> <a href="#default-value-changes-11" class="anchor-heading" aria-labelledby="default-value-changes-11"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 269924d6..cabfe617 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -4346,6 +4346,17 @@</span> thanosRuler:
     ##
     paused: false
 
<span class="gi">+    ## Allows setting additional arguments for the ThanosRuler container
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#thanosruler
+    ##
+    additionalArgs: []
+      # - name: remote-write.config
+      #   value: |-
+      #     "remote_write":
+      #     - "name": "receiver-0"
+      #       "remote_timeout": "30s"
+      #       "url": "http://thanos-receiver-0.thanos-receiver:8081/api/v1/receive"
+
</span>     ## Define which Nodes the Pods are scheduled on.
     ## ref: https://kubernetes.io/docs/user-guide/node-selection/
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="5590"> <a href="#5590" class="anchor-heading" aria-labelledby="5590"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.9.0 </h2> <p><strong>Release date:</strong> 2024-01-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add prometheusOperator.admissionWebhooks.namespaceSelector (#4142)</li> </ul> <h3 id="default-value-changes-12"> <a href="#default-value-changes-12" class="anchor-heading" aria-labelledby="default-value-changes-12"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 42b22e52..269924d6 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2092,6 +2092,8 @@</span> prometheusOperator:
     #   argocd.argoproj.io/hook: PreSync
     #   argocd.argoproj.io/hook-delete-policy: HookSucceeded
 
<span class="gi">+    namespaceSelector: {}
+
</span>     deployment:
       enabled: false
 
<span class="err">
</span></code></pre></div></div> <h2 id="5583"> <a href="#5583" class="anchor-heading" aria-labelledby="5583"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.8.3 </h2> <p><strong>Release date:</strong> 2024-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add jkroepke as maintainer (#4025)</li> </ul> <h3 id="default-value-changes-13"> <a href="#default-value-changes-13" class="anchor-heading" aria-labelledby="default-value-changes-13"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5582"> <a href="#5582" class="anchor-heading" aria-labelledby="5582"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.8.2 </h2> <p><strong>Release date:</strong> 2024-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix Grafana Deeplinks (#4087)</li> </ul> <h3 id="default-value-changes-14"> <a href="#default-value-changes-14" class="anchor-heading" aria-labelledby="default-value-changes-14"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5581"> <a href="#5581" class="anchor-heading" aria-labelledby="5581"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.8.1 </h2> <p><strong>Release date:</strong> 2024-01-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Avoid nil pointer error with empty thanos config (#4132)</li> </ul> <h3 id="default-value-changes-15"> <a href="#default-value-changes-15" class="anchor-heading" aria-labelledby="default-value-changes-15"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5580"> <a href="#5580" class="anchor-heading" aria-labelledby="5580"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.8.0 </h2> <p><strong>Release date:</strong> 2024-01-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump chart dependencies (#4141)</li> </ul> <h3 id="default-value-changes-16"> <a href="#default-value-changes-16" class="anchor-heading" aria-labelledby="default-value-changes-16"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5571"> <a href="#5571" class="anchor-heading" aria-labelledby="5571"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.7.1 </h2> <p><strong>Release date:</strong> 2024-01-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> quote host in alertmanager ingress spec (#4138)</li> </ul> <h3 id="default-value-changes-17"> <a href="#default-value-changes-17" class="anchor-heading" aria-labelledby="default-value-changes-17"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5570"> <a href="#5570" class="anchor-heading" aria-labelledby="5570"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.7.0 </h2> <p><strong>Release date:</strong> 2024-01-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump Thanos to 0.33.0 (#4101)</li> </ul> <h3 id="default-value-changes-18"> <a href="#default-value-changes-18" class="anchor-heading" aria-labelledby="default-value-changes-18"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 31d62c9b..42b22e52 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2693,7 +2693,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.32.5
</span><span class="gi">+    tag: v0.33.0
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="p">@@ -4193,7 +4193,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.32.5
</span><span class="gi">+      tag: v0.33.0
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="5560"> <a href="#5560" class="anchor-heading" aria-labelledby="5560"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.6.0 </h2> <p><strong>Release date:</strong> 2024-01-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> adding global sampleLimit to prometheusSpec (#4125)</li> </ul> <h3 id="default-value-changes-19"> <a href="#default-value-changes-19" class="anchor-heading" aria-labelledby="default-value-changes-19"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0fd229e4..31d62c9b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3787,6 +3787,10 @@</span> prometheus:
     ## of Prometheus &gt;= 2.16.0. For more details, see the Prometheus docs (https://prometheus.io/docs/guides/query-log/)
     queryLogFile: false
 
<span class="gi">+    # Use to set global sample_limit for Prometheus. This act as default SampleLimit for ServiceMonitor or/and PodMonitor.
+    # Set to 'false' to disable global sample_limit. or set to a number to override the default value.
+    sampleLimit: false
+
</span>     ## EnforcedSampleLimit defines global limit on number of scraped samples that will be accepted. This overrides any SampleLimit
     ## set per ServiceMonitor or/and PodMonitor. It is meant to be used by admins to enforce the SampleLimit to keep overall
     ## number of samples/series under the desired limit. Note that if SampleLimit is lower that value will be taken instead.
<span class="err">
</span></code></pre></div></div> <h2 id="5552"> <a href="#5552" class="anchor-heading" aria-labelledby="5552"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.5.2 </h2> <p><strong>Release date:</strong> 2024-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> install service monitors in same namespace when ignoreNamespaceSelectors (#3953)</li> </ul> <h3 id="default-value-changes-20"> <a href="#default-value-changes-20" class="anchor-heading" aria-labelledby="default-value-changes-20"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0c146f99..0fd229e4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3759,8 +3759,10 @@</span> prometheus:
     ## OverrideHonorTimestamps allows to globally enforce honoring timestamps in all scrape configs.
     overrideHonorTimestamps: false
 
<span class="gd">-    ## IgnoreNamespaceSelectors if set to true will ignore NamespaceSelector settings from the podmonitor and servicemonitor
-    ## configs, and they will only discover endpoints within their current namespace. Defaults to false.
</span><span class="gi">+    ## When ignoreNamespaceSelectors is set to true, namespaceSelector from all PodMonitor, ServiceMonitor and Probe objects will be ignored,
+    ## they will only discover targets within the namespace of the PodMonitor, ServiceMonitor and Probe object,
+    ## and servicemonitors will be installed in the default service namespace.
+    ## Defaults to false.
</span>     ignoreNamespaceSelectors: false
 
     ## EnforcedNamespaceLabel enforces adding a namespace label of origin for each alert and metric that is user created.
<span class="err">
</span></code></pre></div></div> <h2 id="5551"> <a href="#5551" class="anchor-heading" aria-labelledby="5551"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.5.1 </h2> <p><strong>Release date:</strong> 2023-12-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix example in value.yaml (#4112)</li> </ul> <h3 id="default-value-changes-21"> <a href="#default-value-changes-21" class="anchor-heading" aria-labelledby="default-value-changes-21"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e3e1b6a2..0c146f99 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3420,7 +3420,7 @@</span> prometheus:
     ##
     scrapeConfigSelector: {}
     ## Example which selects scrapeConfigs with label "prometheus" set to "somelabel"
<span class="gd">-    # scrapeConfig:
</span><span class="gi">+    # scrapeConfigSelector:
</span>     #   matchLabels:
     #     prometheus: somelabel
 
<span class="err">
</span></code></pre></div></div> <h2 id="5550"> <a href="#5550" class="anchor-heading" aria-labelledby="5550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.5.0 </h2> <p><strong>Release date:</strong> 2023-12-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> make it possible to disable the coreDns expoter service and servicemonitor - same as kubeEtcd exporter (#4091)</li> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> inhibit InfoInhibitor alerts by default (#3964)</li> </ul> <h3 id="default-value-changes-22"> <a href="#default-value-changes-22" class="anchor-heading" aria-labelledby="default-value-changes-22"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index fb3a69dd..e3e1b6a2 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -311,6 +311,8 @@</span> alertmanager:
           - 'severity = info'
         equal:
           - 'namespace'
<span class="gi">+      - target_matchers:
+          - 'alertname = InfoInhibitor'
</span>     route:
       group_by: ['namespace']
       group_wait: 30s
<span class="p">@@ -320,7 +322,7 @@</span> alertmanager:
       routes:
       - receiver: 'null'
         matchers:
<span class="gd">-          - alertname =~ "InfoInhibitor|Watchdog"
</span><span class="gi">+          - alertname = "Watchdog"
</span>     receivers:
     - name: 'null'
     templates:
<span class="p">@@ -1491,11 +1493,13 @@</span> kubeControllerManager:
 coreDns:
   enabled: true
   service:
<span class="gi">+    enabled: true
</span>     port: 9153
     targetPort: 9153
     # selector:
     #   k8s-app: kube-dns
   serviceMonitor:
<span class="gi">+    enabled: true
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="err">
</span></code></pre></div></div> <h2 id="5541"> <a href="#5541" class="anchor-heading" aria-labelledby="5541"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.4.1 </h2> <p><strong>Release date:</strong> 2023-12-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(kube-prometheus-stack): re-enable memory working set rule (#4044)</li> </ul> <h3 id="default-value-changes-23"> <a href="#default-value-changes-23" class="anchor-heading" aria-labelledby="default-value-changes-23"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8cb9f3d7..fb3a69dd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -47,6 +47,7 @@</span> defaultRules:
     k8sContainerMemoryRss: true
     k8sContainerMemorySwap: true
     k8sContainerResource: true
<span class="gi">+    k8sContainerMemoryWorkingSetBytes: true
</span>     k8sPodOwner: true
     kubeApiserverAvailability: true
     kubeApiserverBurnrate: true
<span class="err">
</span></code></pre></div></div> <h2 id="5540"> <a href="#5540" class="anchor-heading" aria-labelledby="5540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.4.0 </h2> <p><strong>Release date:</strong> 2023-12-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> allow setting <code class="language-plaintext highlighter-rouge">GOGC</code> env configure (#4058)</li> </ul> <h3 id="default-value-changes-24"> <a href="#default-value-changes-24" class="anchor-heading" aria-labelledby="default-value-changes-24"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 217b5621..8cb9f3d7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2538,6 +2538,12 @@</span> prometheusOperator:
   #   cpu: 100m
   #   memory: 100Mi
 
<span class="gi">+  ## Operator Environment
+  ##  env:
+  ##    VARIABLE: value
+  env:
+    GOGC: "30"
+
</span>   # Required for use in managed kubernetes clusters (such as AWS EKS) with custom CNI (such as calico),
   # because control-plane managed by AWS cannot communicate with pods' IP CIDR and admission webhooks are not working
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="5531"> <a href="#5531" class="anchor-heading" aria-labelledby="5531"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.3.1 </h2> <p><strong>Release date:</strong> 2023-12-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump prometheus image tag to 2.48.1 (#4082)</li> </ul> <h3 id="default-value-changes-25"> <a href="#default-value-changes-25" class="anchor-heading" aria-labelledby="default-value-changes-25"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ac2a98f1..217b5621 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3211,7 +3211,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.48.0
</span><span class="gi">+      tag: v2.48.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="5530"> <a href="#5530" class="anchor-heading" aria-labelledby="5530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.3.0 </h2> <p><strong>Release date:</strong> 2023-12-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow configuration of sessionAffinityConfig (#4076)</li> </ul> <h3 id="default-value-changes-26"> <a href="#default-value-changes-26" class="anchor-heading" aria-labelledby="default-value-changes-26"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a4ec9f72..ac2a98f1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -498,9 +498,16 @@</span> alertmanager:
     externalTrafficPolicy: Cluster
 
     ## If you want to make sure that connections from a particular client are passed to the same Pod each time
<span class="gd">-    ## Accepts 'ClientIP' or ''
</span><span class="gi">+    ## Accepts 'ClientIP' or 'None'
</span>     ##
<span class="gd">-    sessionAffinity: ""
</span><span class="gi">+    sessionAffinity: None
+
+    ## If you want to modify the ClientIP sessionAffinity timeout
+    ## The value must be &gt;0 &amp;&amp; &lt;=86400(for 1 day) if ServiceAffinity == "ClientIP"
+    ##
+    sessionAffinityConfig:
+      clientIP:
+        timeoutSeconds: 10800
</span> 
     ## Service type
     ##
<span class="p">@@ -2885,7 +2892,17 @@</span> prometheus:
     ## Ref: https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec
     publishNotReadyAddresses: false
 
<span class="gd">-    sessionAffinity: ""
</span><span class="gi">+    ## If you want to make sure that connections from a particular client are passed to the same Pod each time
+    ## Accepts 'ClientIP' or 'None'
+    ##
+    sessionAffinity: None
+
+    ## If you want to modify the ClientIP sessionAffinity timeout
+    ## The value must be &gt;0 &amp;&amp; &lt;=86400(for 1 day) if ServiceAffinity == "ClientIP"
+    ##
+    sessionAffinityConfig:
+      clientIP:
+        timeoutSeconds: 10800
</span> 
   ## Configuration for creating a separate Service for each statefulset Prometheus replica
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="5520"> <a href="#5520" class="anchor-heading" aria-labelledby="5520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.2.0 </h2> <p><strong>Release date:</strong> 2023-12-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow to define editable property on dashboards (#4024)</li> </ul> <h3 id="default-value-changes-27"> <a href="#default-value-changes-27" class="anchor-heading" aria-labelledby="default-value-changes-27"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d50e646f..a4ec9f72 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -935,6 +935,10 @@</span> grafana:
   ##
   defaultDashboardsTimezone: utc
 
<span class="gi">+  ## Editable flag for the default dashboards
+  ##
+  defaultDashboardsEditable: true
+
</span>   adminPassword: prom-operator
 
   rbac:
<span class="err">
</span></code></pre></div></div> <h2 id="5511"> <a href="#5511" class="anchor-heading" aria-labelledby="5511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.1.1 </h2> <p><strong>Release date:</strong> 2023-12-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Shellcheck linter file (#4073)</li> </ul> <h3 id="default-value-changes-28"> <a href="#default-value-changes-28" class="anchor-heading" aria-labelledby="default-value-changes-28"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5510"> <a href="#5510" class="anchor-heading" aria-labelledby="5510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.1.0 </h2> <p><strong>Release date:</strong> 2023-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow run Prometheus Operator Webhook receiver separately (#4023)</li> </ul> <h3 id="default-value-changes-29"> <a href="#default-value-changes-29" class="anchor-heading" aria-labelledby="default-value-changes-29"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e1c62d87..d50e646f 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2075,6 +2075,213 @@</span> prometheusOperator:
     annotations: {}
     #   argocd.argoproj.io/hook: PreSync
     #   argocd.argoproj.io/hook-delete-policy: HookSucceeded
<span class="gi">+
+    deployment:
+      enabled: false
+
+      ## Number of replicas
+      ##
+      replicas: 1
+
+      # Ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/
+      podDisruptionBudget: {}
+        # maxUnavailable: 1
+        # minAvailable: 1
+
+      ## Number of old replicasets to retain ##
+      ## The default value is 10, 0 will garbage-collect old replicasets ##
+      revisionHistoryLimit: 10
+
+      ## Prometheus-Operator v0.39.0 and later support TLS natively.
+      ##
+      tls:
+        enabled: true
+        # Value must match version names from https://golang.org/pkg/crypto/tls/#pkg-constants
+        tlsMinVersion: VersionTLS13
+        # The default webhook port is 10250 in order to work out-of-the-box in GKE private clusters and avoid adding firewall rules.
+        internalPort: 10250
+
+      ## Service account for Prometheus Operator Webhook to use.
+      ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
+      ##
+      serviceAccount:
+        automountServiceAccountToken: false
+        create: true
+        name: ""
+
+      ## Configuration for Prometheus operator Webhook service
+      ##
+      service:
+        annotations: {}
+        labels: {}
+        clusterIP: ""
+
+        ## Port to expose on each node
+        ## Only used if service.type is 'NodePort'
+        ##
+        nodePort: 31080
+
+        nodePortTls: 31443
+
+        ## Additional ports to open for Prometheus operator Webhook service
+        ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#multi-port-services
+        ##
+        additionalPorts: []
+
+        ## Loadbalancer IP
+        ## Only use if service.type is "LoadBalancer"
+        ##
+        loadBalancerIP: ""
+        loadBalancerSourceRanges: []
+
+        ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+        ##
+        externalTrafficPolicy: Cluster
+
+        ## Service type
+        ## NodePort, ClusterIP, LoadBalancer
+        ##
+        type: ClusterIP
+
+        ## List of IP addresses at which the Prometheus server service is available
+        ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+        ##
+        externalIPs: []
+
+      # ## Labels to add to the operator webhook deployment
+      # ##
+      labels: {}
+
+      ## Annotations to add to the operator webhook deployment
+      ##
+      annotations: {}
+
+      ## Labels to add to the operator webhook pod
+      ##
+      podLabels: {}
+
+      ## Annotations to add to the operator webhook pod
+      ##
+      podAnnotations: {}
+
+      ## Assign a PriorityClassName to pods if set
+      # priorityClassName: ""
+
+      ## Define Log Format
+      # Use logfmt (default) or json logging
+      # logFormat: logfmt
+
+      ## Decrease log verbosity to errors only
+      # logLevel: error
+
+      ## Prometheus-operator webhook image
+      ##
+      image:
+        registry: quay.io
+        repository: prometheus-operator/admission-webhook
+        # if not set appVersion field from Chart.yaml is used
+        tag: ""
+        sha: ""
+        pullPolicy: IfNotPresent
+
+      ## Define Log Format
+      # Use logfmt (default) or json logging
+      # logFormat: logfmt
+
+      ## Decrease log verbosity to errors only
+      # logLevel: error
+
+
+      ## Liveness probe
+      ##
+      livenessProbe:
+        enabled: true
+        failureThreshold: 3
+        initialDelaySeconds: 30
+        periodSeconds: 10
+        successThreshold: 1
+        timeoutSeconds: 1
+
+      ## Readiness probe
+      ##
+      readinessProbe:
+        enabled: true
+        failureThreshold: 3
+        initialDelaySeconds: 5
+        periodSeconds: 10
+        successThreshold: 1
+        timeoutSeconds: 1
+
+      ## Resource limits &amp; requests
+      ##
+      resources: {}
+      # limits:
+      #   cpu: 200m
+      #   memory: 200Mi
+      # requests:
+      #   cpu: 100m
+      #   memory: 100Mi
+
+      # Required for use in managed kubernetes clusters (such as AWS EKS) with custom CNI (such as calico),
+      # because control-plane managed by AWS cannot communicate with pods' IP CIDR and admission webhooks are not working
+      ##
+      hostNetwork: false
+
+      ## Define which Nodes the Pods are scheduled on.
+      ## ref: https://kubernetes.io/docs/user-guide/node-selection/
+      ##
+      nodeSelector: {}
+
+      ## Tolerations for use with node taints
+      ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
+      ##
+      tolerations: []
+      # - key: "key"
+      #   operator: "Equal"
+      #   value: "value"
+      #   effect: "NoSchedule"
+
+      ## Assign custom affinity rules to the prometheus operator
+      ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+      ##
+      affinity: {}
+        # nodeAffinity:
+        #   requiredDuringSchedulingIgnoredDuringExecution:
+        #     nodeSelectorTerms:
+        #     - matchExpressions:
+        #       - key: kubernetes.io/e2e-az-name
+        #         operator: In
+        #         values:
+        #         - e2e-az1
+      #         - e2e-az2
+      dnsConfig: {}
+        # nameservers:
+        #   - 1.2.3.4
+        # searches:
+        #   - ns1.svc.cluster-domain.example
+        #   - my.dns.search.suffix
+        # options:
+        #   - name: ndots
+        #     value: "2"
+        #   - name: edns0
+      securityContext:
+        fsGroup: 65534
+        runAsGroup: 65534
+        runAsNonRoot: true
+        runAsUser: 65534
+        seccompProfile:
+          type: RuntimeDefault
+
+      ## Container-specific security context configuration
+      ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
+      ##
+      containerSecurityContext:
+        allowPrivilegeEscalation: false
+        readOnlyRootFilesystem: true
+        capabilities:
+          drop:
+            - ALL
+
</span>     patch:
       enabled: true
       image:
<span class="err">
</span></code></pre></div></div> <h2 id="5501"> <a href="#5501" class="anchor-heading" aria-labelledby="5501"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.0.1 </h2> <p><strong>Release date:</strong> 2023-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add custom CI actions (#4065)</li> </ul> <h3 id="default-value-changes-30"> <a href="#default-value-changes-30" class="anchor-heading" aria-labelledby="default-value-changes-30"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5500"> <a href="#5500" class="anchor-heading" aria-labelledby="5500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 55.0.0 </h2> <p><strong>Release date:</strong> 2023-12-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.70.0&amp;color=success" alt="AppVersion: v0.70.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump operator to 0.70.0 (#4046)</li> </ul> <h3 id="default-value-changes-31"> <a href="#default-value-changes-31" class="anchor-heading" aria-labelledby="default-value-changes-31"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5422"> <a href="#5422" class="anchor-heading" aria-labelledby="5422"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 54.2.2 </h2> <p><strong>Release date:</strong> 2023-11-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fixing configmaps Datasource when Prometheus Replicas and Exemplar Trace Id Destinations enabled (#4032)</li> </ul> <h3 id="default-value-changes-32"> <a href="#default-value-changes-32" class="anchor-heading" aria-labelledby="default-value-changes-32"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5421"> <a href="#5421" class="anchor-heading" aria-labelledby="5421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 54.2.1 </h2> <p><strong>Release date:</strong> 2023-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump prom to 2.48.0 + node exporter dep (#4017)</li> </ul> <h3 id="default-value-changes-33"> <a href="#default-value-changes-33" class="anchor-heading" aria-labelledby="default-value-changes-33"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5e181578..e1c62d87 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2983,7 +2983,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.47.2
</span><span class="gi">+      tag: v2.48.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="5420"> <a href="#5420" class="anchor-heading" aria-labelledby="5420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 54.2.0 </h2> <p><strong>Release date:</strong> 2023-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Configure additional aggregation labels + k8s.rules split (#3883)</li> </ul> <h3 id="default-value-changes-34"> <a href="#default-value-changes-34" class="anchor-heading" aria-labelledby="default-value-changes-34"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bd37eaa9..5e181578 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -42,7 +42,12 @@</span> defaultRules:
     etcd: true
     configReloaders: true
     general: true
<span class="gd">-    k8s: true
</span><span class="gi">+    k8sContainerCpuUsageSecondsTotal: true
+    k8sContainerMemoryCache: true
+    k8sContainerMemoryRss: true
+    k8sContainerMemorySwap: true
+    k8sContainerResource: true
+    k8sPodOwner: true
</span>     kubeApiserverAvailability: true
     kubeApiserverBurnrate: true
     kubeApiserverHistogram: true
<span class="p">@@ -90,7 +95,12 @@</span> defaultRules:
     etcd: {}
     configReloaders: {}
     general: {}
<span class="gd">-    k8s: {}
</span><span class="gi">+    k8sContainerCpuUsageSecondsTotal: {}
+    k8sContainerMemoryCache: {}
+    k8sContainerMemoryRss: {}
+    k8sContainerMemorySwap: {}
+    k8sContainerResource: {}
+    k8sPodOwner: {}
</span>     kubeApiserverAvailability: {}
     kubeApiserverBurnrate: {}
     kubeApiserverHistogram: {}
<span class="p">@@ -120,7 +130,12 @@</span> defaultRules:
     etcd: {}
     configReloaders: {}
     general: {}
<span class="gd">-    k8s: {}
</span><span class="gi">+    k8sContainerCpuUsageSecondsTotal: {}
+    k8sContainerMemoryCache: {}
+    k8sContainerMemoryRss: {}
+    k8sContainerMemorySwap: {}
+    k8sContainerResource: {}
+    k8sPodOwner: {}
</span>     kubeApiserverAvailability: {}
     kubeApiserverBurnrate: {}
     kubeApiserverHistogram: {}
<span class="p">@@ -144,6 +159,8 @@</span> defaultRules:
     prometheus: {}
     prometheusOperator: {}
 
<span class="gi">+  additionalAggregationLabels: []
+
</span>   ## Prefix for runbook URLs. Use this to override the first part of the runbookURLs that is common to all rules.
   runbookUrl: "https://runbooks.prometheus-operator.dev/runbooks"
 
<span class="err">
</span></code></pre></div></div> <h2 id="5410"> <a href="#5410" class="anchor-heading" aria-labelledby="5410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 54.1.0 </h2> <p><strong>Release date:</strong> 2023-11-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Generate windows dashboard from hack/sync (#4013)</li> </ul> <h3 id="default-value-changes-35"> <a href="#default-value-changes-35" class="anchor-heading" aria-labelledby="default-value-changes-35"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5401"> <a href="#5401" class="anchor-heading" aria-labelledby="5401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 54.0.1 </h2> <p><strong>Release date:</strong> 2023-11-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add missing RABC permission for Prometheus Operator (#4005)</li> </ul> <h3 id="default-value-changes-36"> <a href="#default-value-changes-36" class="anchor-heading" aria-labelledby="default-value-changes-36"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5400"> <a href="#5400" class="anchor-heading" aria-labelledby="5400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 54.0.0 </h2> <p><strong>Release date:</strong> 2023-11-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump grafana and kube-state-metrics charts (#4000)</li> </ul> <h3 id="default-value-changes-37"> <a href="#default-value-changes-37" class="anchor-heading" aria-labelledby="default-value-changes-37"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5300"> <a href="#5300" class="anchor-heading" aria-labelledby="5300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 53.0.0 </h2> <p><strong>Release date:</strong> 2023-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.69.1&amp;color=success" alt="AppVersion: v0.69.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump to 0.69.1 (#3988)</li> </ul> <h3 id="default-value-changes-38"> <a href="#default-value-changes-38" class="anchor-heading" aria-labelledby="default-value-changes-38"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c0eee10c..bd37eaa9 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2966,7 +2966,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.47.1
</span><span class="gi">+      tag: v2.47.2
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="5210"> <a href="#5210" class="anchor-heading" aria-labelledby="5210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 52.1.0 </h2> <p><strong>Release date:</strong> 2023-10-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Populating dynamic honorLabels and honorTimestamps in kubelet ServiceMonitor (#3934)</li> </ul> <h3 id="default-value-changes-39"> <a href="#default-value-changes-39" class="anchor-heading" aria-labelledby="default-value-changes-39"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index fb829420..c0eee10c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1183,6 +1183,14 @@</span> kubelet:
     ##
     interval: ""
 
<span class="gi">+    ## If true, Prometheus use (respect) labels provided by exporter.
+    ##
+    honorLabels: true
+
+    ## If true, Prometheus ingests metrics with timestamp provided by exporter. If false, Prometheus ingests metrics with timestamp of scrape.
+    ##
+    honorTimestamps: true
+
</span>     ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
     ##
     sampleLimit: 0
<span class="err">
</span></code></pre></div></div> <h2 id="5201"> <a href="#5201" class="anchor-heading" aria-labelledby="5201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 52.0.1 </h2> <p><strong>Release date:</strong> 2023-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Thanos with critical fixes for objstorage and HTTP/2 CVE (#3935)</li> </ul> <h3 id="default-value-changes-40"> <a href="#default-value-changes-40" class="anchor-heading" aria-labelledby="default-value-changes-40"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 9684cc39..fb829420 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2439,7 +2439,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.32.4
</span><span class="gi">+    tag: v0.32.5
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="p">@@ -3923,7 +3923,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.32.3
</span><span class="gi">+      tag: v0.32.5
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="5200"> <a href="#5200" class="anchor-heading" aria-labelledby="5200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 52.0.0 </h2> <p><strong>Release date:</strong> 2023-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fixes thanos configs (#3918)</li> </ul> <h3 id="default-value-changes-41"> <a href="#default-value-changes-41" class="anchor-heading" aria-labelledby="default-value-changes-41"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 00dd9668..9684cc39 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3438,7 +3438,23 @@</span> prometheus:
       #     secrets: |
       #       - resourceName: "projects/$PROJECT_ID/secrets/testsecret/versions/latest"
       #         fileName: "objstore.yaml"
<span class="gd">-      # objectStorageConfigFile: /var/secrets/object-store.yaml
</span><span class="gi">+      ## ObjectStorageConfig configures object storage in Thanos.
+      # objectStorageConfig:
+      #   # use existing secret, if configured, objectStorageConfig.secret will not be used
+      #   existingSecret: {}
+      #     # name: ""
+      #     # key: ""
+      #   # will render objectStorageConfig secret data and configure it to be used by Thanos custom resource,
+      #   # ignored when prometheusspec.thanos.objectStorageConfig.existingSecret is set
+      #   # https://thanos.io/tip/thanos/storage.md/#s3
+      #   secret: {}
+      #     # type: S3
+      #     # config:
+      #     #   bucket: ""
+      #     #   endpoint: ""
+      #     #   region: ""
+      #     #   access_key: ""
+      #     #   secret_key: ""
</span> 
     ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to a Prometheus pod.
     ## if using proxy extraContainer update targetPort with proxy container port
<span class="p">@@ -3977,16 +3993,24 @@</span> thanosRuler:
 
     ## AlertmanagerConfig define configuration for connecting to alertmanager.
     ## Only available with Thanos v0.10.0 and higher. Maps to the alertmanagers.config Thanos Ruler arg.
<span class="gd">-    alertmanagersConfig: {}
-    #   - api_version: v2
-    #     http_config:
-    #       basic_auth:
-    #         username: some_user
-    #         password: some_pass
-    #     static_configs:
-    #       - alertmanager.thanos.io
-    #     scheme: http
-    #     timeout: 10s
</span><span class="gi">+    alertmanagersConfig:
+      # use existing secret, if configured, alertmanagersConfig.secret will not be used
+      existingSecret: {}
+        # name: ""
+        # key: ""
+      # will render render alertmanagersConfig secret data and configure it to be used by Thanos Ruler custom resource, ignored when alertmanagersConfig.existingSecret is set
+      # https://thanos.io/tip/components/rule.md/#alertmanager
+      secret: {}
+        # alertmanagers:
+        # - api_version: v2
+        #   http_config:
+        #     basic_auth:
+        #       username: some_user
+        #       password: some_pass
+        #   static_configs:
+        #     - alertmanager.thanos.io
+        #   scheme: http
+        #   timeout: 10s
</span> 
     ## DEPRECATED. Define URLs to send alerts to Alertmanager. For Thanos v0.10.0 and higher, alertmanagersConfig should be used instead.
     ## Note: this field will be ignored if alertmanagersConfig is specified. Maps to the alertmanagers.url Thanos Ruler arg.
<span class="p">@@ -4001,13 +4025,22 @@</span> thanosRuler:
     ##
     routePrefix: /
 
<span class="gd">-    ## ObjectStorageConfig configures object storage in Thanos. Alternative to
-    ## ObjectStorageConfigFile, and lower order priority.
-    objectStorageConfig: {}
-
-    ## ObjectStorageConfigFile specifies the path of the object storage configuration file.
-    ## When used alongside with ObjectStorageConfig, ObjectStorageConfigFile takes precedence.
-    objectStorageConfigFile: ""
</span><span class="gi">+    ## ObjectStorageConfig configures object storage in Thanos
+    objectStorageConfig:
+      # use existing secret, if configured, objectStorageConfig.secret will not be used
+      existingSecret: {}
+        # name: ""
+        # key: ""
+      # will render objectStorageConfig secret data and configure it to be used by Thanos Ruler custom resource, ignored when objectStorageConfig.existingSecret is set
+      # https://thanos.io/tip/thanos/storage.md/#s3
+      secret: {}
+        # type: S3
+        # config:
+        #   bucket: ""
+        #   endpoint: ""
+        #   region: ""
+        #   access_key: ""
+        #   secret_key: ""
</span> 
     ## QueryEndpoints defines Thanos querier endpoints from which to query metrics.
     ## Maps to the --query flag of thanos ruler.
<span class="p">@@ -4015,7 +4048,22 @@</span> thanosRuler:
 
     ## Define configuration for connecting to thanos query instances. If this is defined, the queryEndpoints field will be ignored.
     ## Maps to the query.config CLI argument. Only available with thanos v0.11.0 and higher.
<span class="gd">-    queryConfig: {}
</span><span class="gi">+    queryConfig:
+      # use existing secret, if configured, queryConfig.secret will not be used
+      existingSecret: {}
+        # name: ""
+        # key: ""
+      # render queryConfig secret data and configure it to be used by Thanos Ruler custom resource, ignored when queryConfig.existingSecret is set
+      # https://thanos.io/tip/components/rule.md/#query-api
+      secret: {}
+        # - http_config:
+        #     basic_auth:
+        #       username: some_user
+        #       password: some_pass
+        #   static_configs:
+        #     - URL
+        #   scheme: http
+        #   timeout: 10s
</span> 
     ## Labels configure the external label pairs to ThanosRuler. A default replica
     ## label `thanos_ruler_replica` will be always added as a label with the value
<span class="err">
</span></code></pre></div></div> <h2 id="51100"> <a href="#51100" class="anchor-heading" aria-labelledby="51100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.10.0 </h2> <p><strong>Release date:</strong> 2023-10-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow to directly config prometheus.spec and alertmanager.spec (#3920)</li> </ul> <h3 id="default-value-changes-42"> <a href="#default-value-changes-42" class="anchor-heading" aria-labelledby="default-value-changes-42"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e9930ba8..00dd9668 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -876,6 +876,14 @@</span> alertmanager:
     ## be considered available. Defaults to 0 (pod will be considered available as soon as it is ready).
     minReadySeconds: 0
 
<span class="gi">+    ## Additional configuration which is not covered by the properties above. (passed through tpl)
+    additionalConfig: {}
+
+    ## Additional configuration which is not covered by the properties above.
+    ## Useful, if you need advanced templating inside alertmanagerSpec.
+    ## Otherwise, use alertmanager.alertmanagerSpec.additionalConfig (passed through tpl)
+    additionalConfigString: ""
+
</span>   ## ExtraSecret can be used to store various data in an extra secret
   ## (use it for example to store hashed basic auth credentials)
   extraSecret:
<span class="p">@@ -3550,6 +3558,14 @@</span> prometheus:
     ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#prometheustracingconfig
     tracingConfig: {}
 
<span class="gi">+    ## Additional configuration which is not covered by the properties above. (passed through tpl)
+    additionalConfig: {}
+
+    ## Additional configuration which is not covered by the properties above.
+    ## Useful, if you need advanced templating inside alertmanagerSpec.
+    ## Otherwise, use prometheus.prometheusSpec.additionalConfig (passed through tpl)
+    additionalConfigString: ""
+
</span>   additionalRulesForClusterRole: []
   #  - apiGroups: [ "" ]
   #    resources:
<span class="err">
</span></code></pre></div></div> <h2 id="5194"> <a href="#5194" class="anchor-heading" aria-labelledby="5194"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.9.4 </h2> <p><strong>Release date:</strong> 2023-10-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update CoreDNS Dashboard. Add job template variable (#3798)</li> </ul> <h3 id="default-value-changes-43"> <a href="#default-value-changes-43" class="anchor-heading" aria-labelledby="default-value-changes-43"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5193"> <a href="#5193" class="anchor-heading" aria-labelledby="5193"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.9.3 </h2> <p><strong>Release date:</strong> 2023-10-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix etcd dashboards (#3917)</li> </ul> <h3 id="default-value-changes-44"> <a href="#default-value-changes-44" class="anchor-heading" aria-labelledby="default-value-changes-44"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5192"> <a href="#5192" class="anchor-heading" aria-labelledby="5192"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.9.2 </h2> <p><strong>Release date:</strong> 2023-10-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fixes thanos ruler object store configs (#3913)</li> </ul> <h3 id="default-value-changes-45"> <a href="#default-value-changes-45" class="anchor-heading" aria-labelledby="default-value-changes-45"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5191"> <a href="#5191" class="anchor-heading" aria-labelledby="5191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.9.1 </h2> <p><strong>Release date:</strong> 2023-10-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> ConfigReloader ServiceMonitor HTTP scheme is not set correctly when HTTPS is enabled (#3815)</li> </ul> <h3 id="default-value-changes-46"> <a href="#default-value-changes-46" class="anchor-heading" aria-labelledby="default-value-changes-46"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5190"> <a href="#5190" class="anchor-heading" aria-labelledby="5190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.9.0 </h2> <p><strong>Release date:</strong> 2023-10-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add serviceMonitor.additionalEndpoints (#3515)</li> </ul> <h3 id="default-value-changes-47"> <a href="#default-value-changes-47" class="anchor-heading" aria-labelledby="default-value-changes-47"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 80c08935..e9930ba8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -463,11 +463,14 @@</span> alertmanager:
     ##
 
     ## Additional ports to open for Alertmanager service
<span class="gi">+    ##
</span>     additionalPorts: []
<span class="gd">-    # additionalPorts:
-    # - name: authenticated
</span><span class="gi">+    # - name: oauth-proxy
</span>     #   port: 8081
     #   targetPort: 8081
<span class="gi">+    # - name: oauth-metrics
+    #   port: 8082
+    #   targetPort: 8082
</span> 
     externalIPs: []
     loadBalancerIP: ""
<span class="p">@@ -584,6 +587,12 @@</span> alertmanager:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional Endpoints
+    ##
+    additionalEndpoints: []
+    # - port: oauth-metrics
+    #   path: /metrics
+
</span>   ## Settings affecting alertmanagerSpec
   ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#alertmanagerspec
   ##
<span class="p">@@ -806,15 +815,19 @@</span> alertmanager:
     containers: []
     # containers:
     # - name: oauth-proxy
<span class="gd">-    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.3.0
</span><span class="gi">+    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.5.1
</span>     #   args:
     #   - --upstream=http://127.0.0.1:9093
     #   - --http-address=0.0.0.0:8081
<span class="gi">+    #   - --metrics-address=0.0.0.0:8082
</span>     #   - ...
     #   ports:
     #   - containerPort: 8081
     #     name: oauth-proxy
     #     protocol: TCP
<span class="gi">+    #   - containerPort: 8082
+    #     name: oauth-metrics
+    #     protocol: TCP
</span>     #   resources: {}
 
     # Additional volumes on the output StatefulSet definition.
<span class="p">@@ -2153,7 +2166,7 @@</span> prometheusOperator:
 
     nodePortTls: 30443
 
<span class="gd">-  ## Additional ports to open for Prometheus service
</span><span class="gi">+  ## Additional ports to open for Prometheus operator service
</span>   ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#multi-port-services
   ##
     additionalPorts: []
<span class="p">@@ -2613,12 +2626,16 @@</span> prometheus:
     ##
     type: ClusterIP
 
<span class="gd">-    ## Additional port to define in the Service
</span><span class="gi">+    ## Additional ports to open for Prometheus service
+    ##
</span>     additionalPorts: []
     # additionalPorts:
<span class="gd">-    # - name: authenticated
</span><span class="gi">+    # - name: oauth-proxy
</span>     #   port: 8081
     #   targetPort: 8081
<span class="gi">+    # - name: oauth-metrics
+    #   port: 8082
+    #   targetPort: 8082
</span> 
     ## Consider that all endpoints are considered "ready" even if the Pods themselves are not
     ## Ref: https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec
<span class="p">@@ -2861,6 +2878,12 @@</span> prometheus:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional Endpoints
+    ##
+    additionalEndpoints: []
+    # - port: oauth-metrics
+    #   path: /metrics
+
</span>   ## Settings affecting prometheusSpec
   ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#prometheusspec
   ##
<span class="p">@@ -3414,15 +3437,19 @@</span> prometheus:
     containers: []
     # containers:
     # - name: oauth-proxy
<span class="gd">-    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.3.0
</span><span class="gi">+    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.5.1
</span>     #   args:
<span class="gd">-    #   - --upstream=http://127.0.0.1:9093
</span><span class="gi">+    #   - --upstream=http://127.0.0.1:9090
</span>     #   - --http-address=0.0.0.0:8081
<span class="gi">+    #   - --metrics-address=0.0.0.0:8082
</span>     #   - ...
     #   ports:
     #   - containerPort: 8081
     #     name: oauth-proxy
     #     protocol: TCP
<span class="gi">+    #   - containerPort: 8082
+    #     name: oauth-metrics
+    #     protocol: TCP
</span>     #   resources: {}
 
     ## InitContainers allows injecting additional initContainers. This is meant to allow doing some changes
<span class="p">@@ -3844,6 +3871,12 @@</span> thanosRuler:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional Endpoints
+    ##
+    additionalEndpoints: []
+    # - port: oauth-metrics
+    #   path: /metrics
+
</span>   ## Settings affecting thanosRulerpec
   ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#thanosrulerspec
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="5181"> <a href="#5181" class="anchor-heading" aria-labelledby="5181"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.8.1 </h2> <p><strong>Release date:</strong> 2023-10-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix range function in servicemonitors (#3888)</li> </ul> <h3 id="default-value-changes-48"> <a href="#default-value-changes-48" class="anchor-heading" aria-labelledby="default-value-changes-48"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5180"> <a href="#5180" class="anchor-heading" aria-labelledby="5180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.8.0 </h2> <p><strong>Release date:</strong> 2023-10-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix IO panels in Cluster Overview (#3902)</li> </ul> <h3 id="default-value-changes-49"> <a href="#default-value-changes-49" class="anchor-heading" aria-labelledby="default-value-changes-49"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5170"> <a href="#5170" class="anchor-heading" aria-labelledby="5170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.7.0 </h2> <p><strong>Release date:</strong> 2023-10-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow to configure keep_firing_for for all Prometheus rules (#3890)</li> </ul> <h3 id="default-value-changes-50"> <a href="#default-value-changes-50" class="anchor-heading" aria-labelledby="default-value-changes-50"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c6592604..80c08935 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -70,6 +70,9 @@</span> defaultRules:
   ## Reduce app namespace alert scope
   appNamespacesTarget: ".*"
 
<span class="gi">+  ## Set keep_firing_for for all alerts
+  keepFiringFor: ""
+
</span>   ## Labels for default rules
   labels: {}
   ## Annotations for default rules
<span class="err">
</span></code></pre></div></div> <h2 id="5161"> <a href="#5161" class="anchor-heading" aria-labelledby="5161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.6.1 </h2> <p><strong>Release date:</strong> 2023-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump thanos to 0.32.4 (#3885)</li> </ul> <h3 id="default-value-changes-51"> <a href="#default-value-changes-51" class="anchor-heading" aria-labelledby="default-value-changes-51"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ba4aadd7..c6592604 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2415,7 +2415,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.32.3
</span><span class="gi">+    tag: v0.32.4
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="err">
</span></code></pre></div></div> <h2 id="5160"> <a href="#5160" class="anchor-heading" aria-labelledby="5160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.6.0 </h2> <p><strong>Release date:</strong> 2023-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> hack: fix etcd mixin (#3880)</li> </ul> <h3 id="default-value-changes-52"> <a href="#default-value-changes-52" class="anchor-heading" aria-labelledby="default-value-changes-52"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5153"> <a href="#5153" class="anchor-heading" aria-labelledby="5153"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.5.3 </h2> <p><strong>Release date:</strong> 2023-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump thanos (#3845)</li> </ul> <h3 id="default-value-changes-53"> <a href="#default-value-changes-53" class="anchor-heading" aria-labelledby="default-value-changes-53"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 17eed01d..ba4aadd7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2415,7 +2415,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.32.2
</span><span class="gi">+    tag: v0.32.3
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="p">@@ -3855,7 +3855,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.32.2
</span><span class="gi">+      tag: v0.32.3
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="5152"> <a href="#5152" class="anchor-heading" aria-labelledby="5152"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.5.2 </h2> <p><strong>Release date:</strong> 2023-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: kube-prom-stack thanos-ruler alertmanagerConfigs (#3870)</li> </ul> <h3 id="default-value-changes-54"> <a href="#default-value-changes-54" class="anchor-heading" aria-labelledby="default-value-changes-54"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5151"> <a href="#5151" class="anchor-heading" aria-labelledby="5151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.5.1 </h2> <p><strong>Release date:</strong> 2023-10-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump prometheus image tag to 2.47.1 (#3877)</li> </ul> <h3 id="default-value-changes-55"> <a href="#default-value-changes-55" class="anchor-heading" aria-labelledby="default-value-changes-55"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2ad07b06..17eed01d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2924,7 +2924,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.47.0
</span><span class="gi">+      tag: v2.47.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="5150"> <a href="#5150" class="anchor-heading" aria-labelledby="5150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.5.0 </h2> <p><strong>Release date:</strong> 2023-10-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: bump windows rules and dashboards (#3818)</li> </ul> <h3 id="default-value-changes-56"> <a href="#default-value-changes-56" class="anchor-heading" aria-labelledby="default-value-changes-56"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5141"> <a href="#5141" class="anchor-heading" aria-labelledby="5141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.4.1 </h2> <p><strong>Release date:</strong> 2023-10-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump dependencies (#3876)</li> </ul> <h3 id="default-value-changes-57"> <a href="#default-value-changes-57" class="anchor-heading" aria-labelledby="default-value-changes-57"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5140"> <a href="#5140" class="anchor-heading" aria-labelledby="5140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.4.0 </h2> <p><strong>Release date:</strong> 2023-10-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> updated kube-state-metrics to 5.14.x (#3873)</li> </ul> <h3 id="default-value-changes-58"> <a href="#default-value-changes-58" class="anchor-heading" aria-labelledby="default-value-changes-58"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5130"> <a href="#5130" class="anchor-heading" aria-labelledby="5130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.3.0 </h2> <p><strong>Release date:</strong> 2023-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> lift to grafana helm-chart version 6.60 (#3864)</li> </ul> <h3 id="default-value-changes-59"> <a href="#default-value-changes-59" class="anchor-heading" aria-labelledby="default-value-changes-59"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5120"> <a href="#5120" class="anchor-heading" aria-labelledby="5120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.2.0 </h2> <p><strong>Release date:</strong> 2023-09-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for attaching node metadata (#3820)</li> </ul> <h3 id="default-value-changes-60"> <a href="#default-value-changes-60" class="anchor-heading" aria-labelledby="default-value-changes-60"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ea152cf7..2ad07b06 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1150,6 +1150,11 @@</span> kubelet:
   namespace: kube-system
 
   serviceMonitor:
<span class="gi">+    ## Attach metadata to discovered targets. Requires Prometheus v2.45 for endpoints created by the operator.
+    ##
+    attachMetadata:
+      node: false
+
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="err">
</span></code></pre></div></div> <h2 id="5111"> <a href="#5111" class="anchor-heading" aria-labelledby="5111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.1.1 </h2> <p><strong>Release date:</strong> 2023-09-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix: use correct job name for dashboards to work, make deployment more intuitively (#3672)</li> </ul> <h3 id="default-value-changes-61"> <a href="#default-value-changes-61" class="anchor-heading" aria-labelledby="default-value-changes-61"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 697ef599..ea152cf7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -201,10 +201,30 @@</span> global:
   # - "image-pull-secret"
 
 windowsMonitoring:
<span class="gd">-  ## Deploys the windows-exporter and Windows-specific dashboards and rules
</span><span class="gi">+  ## Deploys the windows-exporter and Windows-specific dashboards and rules (job name must be 'windows-exporter')
</span>   enabled: false
<span class="gd">-  ## Job must match jobLabel in the PodMonitor/ServiceMonitor and is used for the rules
-  job: prometheus-windows-exporter
</span><span class="gi">+
+## Configuration for prometheus-windows-exporter
+## ref: https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-windows-exporter
+##
+prometheus-windows-exporter:
+  ## Enable ServiceMonitor and set Kubernetes label to use as a job label
+  ##
+  prometheus:
+    monitor:
+      enabled: true
+      jobLabel: jobLabel
+
+  ## Set job label to 'windows-exporter' as required by the default Prometheus rules and Grafana dashboards
+  ##
+  podLabels:
+    jobLabel: windows-exporter
+
+  ## Enable memory and container metrics as required by the default Prometheus rules and Grafana dashboards
+  ##
+  config: |-
+    collectors:
+      enabled: '[defaults],memory,container'
</span> 
 ## Configuration for alertmanager
 ## ref: https://prometheus.io/docs/alerting/alertmanager/
<span class="err">
</span></code></pre></div></div> <h2 id="5110"> <a href="#5110" class="anchor-heading" aria-labelledby="5110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.1.0 </h2> <p><strong>Release date:</strong> 2023-09-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> remove default cpu and memory requests and li (#3813)</li> </ul> <h3 id="default-value-changes-62"> <a href="#default-value-changes-62" class="anchor-heading" aria-labelledby="default-value-changes-62"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 611ce608..697ef599 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2377,13 +2377,13 @@</span> prometheusOperator:
     enableProbe: false
 
     # resource config for prometheusConfigReloader
<span class="gd">-    resources:
-      requests:
-        cpu: 200m
-        memory: 50Mi
-      limits:
-        cpu: 200m
-        memory: 50Mi
</span><span class="gi">+    resources: {}
+      # requests:
+      #   cpu: 200m
+      #   memory: 50Mi
+      # limits:
+      #   cpu: 200m
+      #   memory: 50Mi
</span> 
   ## Thanos side-car image when configured
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="5103"> <a href="#5103" class="anchor-heading" aria-labelledby="5103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.0.3 </h2> <p><strong>Release date:</strong> 2023-09-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Adding operating systems values for node exporter (#3778)</li> </ul> <h3 id="default-value-changes-63"> <a href="#default-value-changes-63" class="anchor-heading" aria-labelledby="default-value-changes-63"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 99cc1618..611ce608 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1881,6 +1881,11 @@</span> kube-state-metrics:
 ##
 nodeExporter:
   enabled: true
<span class="gi">+  operatingSystems:
+    linux:
+      enabled: true
+    darwin:
+      enabled: true
</span> 
 ## Configuration for prometheus-node-exporter subchart
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="5102"> <a href="#5102" class="anchor-heading" aria-labelledby="5102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.0.2 </h2> <p><strong>Release date:</strong> 2023-09-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix reloader-webs app protocol (#3762)</li> </ul> <h3 id="default-value-changes-64"> <a href="#default-value-changes-64" class="anchor-heading" aria-labelledby="default-value-changes-64"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5101"> <a href="#5101" class="anchor-heading" aria-labelledby="5101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.0.1 </h2> <p><strong>Release date:</strong> 2023-09-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix prometheus-operator cilium netpol when using TLS (#3788)</li> </ul> <h3 id="default-value-changes-65"> <a href="#default-value-changes-65" class="anchor-heading" aria-labelledby="default-value-changes-65"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5100"> <a href="#5100" class="anchor-heading" aria-labelledby="5100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 51.0.0 </h2> <p><strong>Release date:</strong> 2023-09-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.68.0&amp;color=success" alt="AppVersion: v0.68.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> operator bump to 0.68.0 (#3770)</li> </ul> <h3 id="default-value-changes-66"> <a href="#default-value-changes-66" class="anchor-heading" aria-labelledby="default-value-changes-66"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 80beee59..99cc1618 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2385,7 +2385,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.32.1
</span><span class="gi">+    tag: v0.32.2
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="p">@@ -2894,7 +2894,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.46.0
</span><span class="gi">+      tag: v2.47.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3825,7 +3825,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.32.1
</span><span class="gi">+      tag: v0.32.2
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="5031"> <a href="#5031" class="anchor-heading" aria-labelledby="5031"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 50.3.1 </h2> <p><strong>Release date:</strong> 2023-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix thanos sidecar ingress (#3756)</li> </ul> <h3 id="default-value-changes-67"> <a href="#default-value-changes-67" class="anchor-heading" aria-labelledby="default-value-changes-67"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5030"> <a href="#5030" class="anchor-heading" aria-labelledby="5030"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 50.3.0 </h2> <p><strong>Release date:</strong> 2023-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>regenerate grafana dashboards (#3757)</li> </ul> <h3 id="default-value-changes-68"> <a href="#default-value-changes-68" class="anchor-heading" aria-labelledby="default-value-changes-68"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5020"> <a href="#5020" class="anchor-heading" aria-labelledby="5020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 50.2.0 </h2> <p><strong>Release date:</strong> 2023-09-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Generate latest alerts (#3753)</li> </ul> <h3 id="default-value-changes-69"> <a href="#default-value-changes-69" class="anchor-heading" aria-labelledby="default-value-changes-69"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5010"> <a href="#5010" class="anchor-heading" aria-labelledby="5010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 50.1.0 </h2> <p><strong>Release date:</strong> 2023-09-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump kube-state-metrics and prometheus-node-exporter (#3752)</li> </ul> <h3 id="default-value-changes-70"> <a href="#default-value-changes-70" class="anchor-heading" aria-labelledby="default-value-changes-70"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="5000"> <a href="#5000" class="anchor-heading" aria-labelledby="5000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 50.0.0 </h2> <p><strong>Release date:</strong> 2023-09-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump minimun kubeVersion to &gt;=1.19.0-0 (#3606)</li> </ul> <h3 id="default-value-changes-71"> <a href="#default-value-changes-71" class="anchor-heading" aria-labelledby="default-value-changes-71"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 35d01ce3..80beee59 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -10,7 +10,7 @@</span> nameOverride: ""
 ##
 namespaceOverride: ""
 
<span class="gd">-## Provide a k8s version to auto dashboard import script example: kubeTargetVersionOverride: 1.16.6
</span><span class="gi">+## Provide a k8s version to auto dashboard import script example: kubeTargetVersionOverride: 1.26.6
</span> ##
 kubeTargetVersionOverride: ""
 
<span class="err">
</span></code></pre></div></div> <h2 id="4920"> <a href="#4920" class="anchor-heading" aria-labelledby="4920"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 49.2.0 </h2> <p><strong>Release date:</strong> 2023-08-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for relabelings and metricRelabelings (#3683)</li> </ul> <h3 id="default-value-changes-72"> <a href="#default-value-changes-72" class="anchor-heading" aria-labelledby="default-value-changes-72"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4855770b..35d01ce3 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3585,6 +3585,25 @@</span> prometheus:
           ##
           # serverName: ""
 
<span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
+    ##
+    # metricRelabelings: []
+    # - action: keep
+    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
+    #   sourceLabels: [__name__]
+
+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
+    ##
+    # relabelings: []
+    # - sourceLabels: [__meta_kubernetes_pod_node_name]
+    #   separator: ;
+    #   regex: ^(.*)$
+    #   targetLabel: nodename
+    #   replacement: $1
+    #   action: replace
+
</span>   additionalPodMonitors: []
   ## Name of the PodMonitor to create
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="4910"> <a href="#4910" class="anchor-heading" aria-labelledby="4910"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 49.1.0 </h2> <p><strong>Release date:</strong> 2023-08-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Updates thanos image to v0.32.1 (#3735)</li> </ul> <h3 id="default-value-changes-73"> <a href="#default-value-changes-73" class="anchor-heading" aria-labelledby="default-value-changes-73"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 587eaf15..4855770b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2385,7 +2385,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.32.0
</span><span class="gi">+    tag: v0.32.1
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="p">@@ -3806,7 +3806,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.32.0
</span><span class="gi">+      tag: v0.32.1
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="4900"> <a href="#4900" class="anchor-heading" aria-labelledby="4900"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 49.0.0 </h2> <p><strong>Release date:</strong> 2023-08-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.67.1&amp;color=success" alt="AppVersion: v0.67.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade crds to 0.67.1 (#3668)</li> </ul> <h3 id="default-value-changes-74"> <a href="#default-value-changes-74" class="anchor-heading" aria-labelledby="default-value-changes-74"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 66ec3a0a..587eaf15 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2894,7 +2894,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.45.0
</span><span class="gi">+      tag: v2.46.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3806,7 +3806,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.31.0
</span><span class="gi">+      tag: v0.32.0
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="4860"> <a href="#4860" class="anchor-heading" aria-labelledby="4860"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.6.0 </h2> <p><strong>Release date:</strong> 2023-08-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Updates thanos image to v0.32.0 (#3728)</li> </ul> <h3 id="default-value-changes-75"> <a href="#default-value-changes-75" class="anchor-heading" aria-labelledby="default-value-changes-75"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ae78fbda..66ec3a0a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2385,7 +2385,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.31.0
</span><span class="gi">+    tag: v0.32.0
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="err">
</span></code></pre></div></div> <h2 id="4850"> <a href="#4850" class="anchor-heading" aria-labelledby="4850"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.5.0 </h2> <p><strong>Release date:</strong> 2023-08-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> update helm release grafana to 6.59.* (#3727)</li> </ul> <h3 id="default-value-changes-76"> <a href="#default-value-changes-76" class="anchor-heading" aria-labelledby="default-value-changes-76"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4840"> <a href="#4840" class="anchor-heading" aria-labelledby="4840"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.4.0 </h2> <p><strong>Release date:</strong> 2023-08-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Updates Alertmanager image to v0.26.0 (#3721)</li> </ul> <h3 id="default-value-changes-77"> <a href="#default-value-changes-77" class="anchor-heading" aria-labelledby="default-value-changes-77"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6558a306..ae78fbda 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -575,7 +575,7 @@</span> alertmanager:
     image:
       registry: quay.io
       repository: prometheus/alertmanager
<span class="gd">-      tag: v0.25.0
</span><span class="gi">+      tag: v0.26.0
</span>       sha: ""
 
     ## If true then the user will be responsible to provide a secret with alertmanager configuration
<span class="err">
</span></code></pre></div></div> <h2 id="4836"> <a href="#4836" class="anchor-heading" aria-labelledby="4836"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.6 </h2> <p><strong>Release date:</strong> 2023-08-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>change hook from ciliumnetworkpolicy patchWebHook to post (#3719)</li> </ul> <h3 id="default-value-changes-78"> <a href="#default-value-changes-78" class="anchor-heading" aria-labelledby="default-value-changes-78"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4835"> <a href="#4835" class="anchor-heading" aria-labelledby="4835"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.5 </h2> <p><strong>Release date:</strong> 2023-08-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kube-prometheus-stack : change ciliumnetworkpolicy hooks from post to pre in prometheus-operator (#3718)</li> </ul> <h3 id="default-value-changes-79"> <a href="#default-value-changes-79" class="anchor-heading" aria-labelledby="default-value-changes-79"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4834"> <a href="#4834" class="anchor-heading" aria-labelledby="4834"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.4 </h2> <p><strong>Release date:</strong> 2023-08-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Corrected operator service account comment (#3716)</li> </ul> <h3 id="default-value-changes-80"> <a href="#default-value-changes-80" class="anchor-heading" aria-labelledby="default-value-changes-80"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d6406bac..6558a306 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2099,7 +2099,7 @@</span> prometheusOperator:
     ## match labels used in selector
     # matchLabels: {}
 
<span class="gd">-  ## Service account for Alertmanager to use.
</span><span class="gi">+  ## Service account for Prometheus Operator to use.
</span>   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
   serviceAccount:
<span class="err">
</span></code></pre></div></div> <h2 id="4833"> <a href="#4833" class="anchor-heading" aria-labelledby="4833"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.3 </h2> <p><strong>Release date:</strong> 2023-08-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix typo in scrapeConfigNamespaceSelector (#3706)</li> </ul> <h3 id="default-value-changes-81"> <a href="#default-value-changes-81" class="anchor-heading" aria-labelledby="default-value-changes-81"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c5291075..d6406bac 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3099,7 +3099,7 @@</span> prometheus:
     ## If nil, select own namespace. Namespaces to be selected for scrapeConfig discovery.
     scrapeConfigNamespaceSelector: {}
     ## Example which selects scrapeConfig in namespaces with label "prometheus" set to "somelabel"
<span class="gd">-    # scrapeConfigsNamespaceSelector:
</span><span class="gi">+    # scrapeConfigNamespaceSelector:
</span>     #   matchLabels:
     #     prometheus: somelabel
 
<span class="err">
</span></code></pre></div></div> <h2 id="4832"> <a href="#4832" class="anchor-heading" aria-labelledby="4832"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.2 </h2> <p><strong>Release date:</strong> 2023-08-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for network policy match labels to be specified (#3671)</li> </ul> <h3 id="default-value-changes-82"> <a href="#default-value-changes-82" class="anchor-heading" aria-labelledby="default-value-changes-82"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d6c6f960..c5291075 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2096,6 +2096,9 @@</span> prometheusOperator:
     # cilium:
     #   egress:
 
<span class="gi">+    ## match labels used in selector
+    # matchLabels: {}
+
</span>   ## Service account for Alertmanager to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="4831"> <a href="#4831" class="anchor-heading" aria-labelledby="4831"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.1 </h2> <p><strong>Release date:</strong> 2023-08-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix indentation multiple imagePullSecrets (#3666)</li> </ul> <h3 id="default-value-changes-83"> <a href="#default-value-changes-83" class="anchor-heading" aria-labelledby="default-value-changes-83"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4830"> <a href="#4830" class="anchor-heading" aria-labelledby="4830"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.3.0 </h2> <p><strong>Release date:</strong> 2023-08-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: allow changing the default revisionHistoryLimit (#3664)</li> </ul> <h3 id="default-value-changes-84"> <a href="#default-value-changes-84" class="anchor-heading" aria-labelledby="default-value-changes-84"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 44f359c1..d6c6f960 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1964,6 +1964,10 @@</span> prometheus-node-exporter:
 prometheusOperator:
   enabled: true
 
<span class="gi">+  ## Number of old replicasets to retain ##
+  ## The default value is 10, 0 will garbage-collect old replicasets ##
+  revisionHistoryLimit: 10
+
</span>   ## Prometheus-Operator v0.39.0 and later support TLS natively.
   ##
   tls:
<span class="err">
</span></code></pre></div></div> <h2 id="4823"> <a href="#4823" class="anchor-heading" aria-labelledby="4823"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.2.3 </h2> <p><strong>Release date:</strong> 2023-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump requests lib (#3651)</li> </ul> <h3 id="default-value-changes-85"> <a href="#default-value-changes-85" class="anchor-heading" aria-labelledby="default-value-changes-85"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4822"> <a href="#4822" class="anchor-heading" aria-labelledby="4822"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.2.2 </h2> <p><strong>Release date:</strong> 2023-07-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> remove extraneous brace from minikube script (#3645)</li> </ul> <h3 id="default-value-changes-86"> <a href="#default-value-changes-86" class="anchor-heading" aria-labelledby="default-value-changes-86"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4821"> <a href="#4821" class="anchor-heading" aria-labelledby="4821"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.2.1 </h2> <p><strong>Release date:</strong> 2023-07-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Unify usage of prometheus pods selectors (#3628)</li> </ul> <h3 id="default-value-changes-87"> <a href="#default-value-changes-87" class="anchor-heading" aria-labelledby="default-value-changes-87"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4820"> <a href="#4820" class="anchor-heading" aria-labelledby="4820"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.2.0 </h2> <p><strong>Release date:</strong> 2023-07-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: bump chart deps (#3633)</li> </ul> <h3 id="default-value-changes-88"> <a href="#default-value-changes-88" class="anchor-heading" aria-labelledby="default-value-changes-88"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4812"> <a href="#4812" class="anchor-heading" aria-labelledby="4812"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.1.2 </h2> <p><strong>Release date:</strong> 2023-07-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bumping chart version to allow updated dependent chart versions to be pulled (#3618)</li> </ul> <h3 id="default-value-changes-89"> <a href="#default-value-changes-89" class="anchor-heading" aria-labelledby="default-value-changes-89"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4811"> <a href="#4811" class="anchor-heading" aria-labelledby="4811"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.1.1 </h2> <p><strong>Release date:</strong> 2023-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[prometheus-operator] Add prometheusagent to rbac (#3439)</li> </ul> <h3 id="default-value-changes-90"> <a href="#default-value-changes-90" class="anchor-heading" aria-labelledby="default-value-changes-90"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4810"> <a href="#4810" class="anchor-heading" aria-labelledby="4810"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.1.0 </h2> <p><strong>Release date:</strong> 2023-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add recommender option to VPA (#3591)</li> </ul> <h3 id="default-value-changes-91"> <a href="#default-value-changes-91" class="anchor-heading" aria-labelledby="default-value-changes-91"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 00884177..44f359c1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2297,6 +2297,13 @@</span> prometheusOperator:
   # Enable vertical pod autoscaler support for prometheus-operator
   verticalPodAutoscaler:
     enabled: false
<span class="gi">+
+    # Recommender responsible for generating recommendation for the object.
+    # List should be empty (then the default recommender will generate the recommendation)
+    # or contain exactly one recommender.
+    # recommenders:
+    # - name: custom-recommender-performance
+
</span>     # List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
     controlledResources: []
     # Specifies which resource values should be controlled: RequestsOnly or RequestsAndLimits.
<span class="err">
</span></code></pre></div></div> <h2 id="4801"> <a href="#4801" class="anchor-heading" aria-labelledby="4801"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.0.1 </h2> <p><strong>Release date:</strong> 2023-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix network policy for agent mode (#3587)</li> </ul> <h3 id="default-value-changes-92"> <a href="#default-value-changes-92" class="anchor-heading" aria-labelledby="default-value-changes-92"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4800"> <a href="#4800" class="anchor-heading" aria-labelledby="4800"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 48.0.0 </h2> <p><strong>Release date:</strong> 2023-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Move CRDs into sub-charts (#3547)</li> </ul> <h3 id="default-value-changes-93"> <a href="#default-value-changes-93" class="anchor-heading" aria-labelledby="default-value-changes-93"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 061eac0a..00884177 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -28,6 +28,11 @@</span> commonLabels: {}
 # scmhash: abc123
 # myLabel: aakkmd
 
<span class="gi">+## Install Prometheus Operator CRDs
+##
+crds:
+  enabled: true
+
</span> ## Create default rules for monitoring the cluster
 ##
 defaultRules:
<span class="err">
</span></code></pre></div></div> <h2 id="4761"> <a href="#4761" class="anchor-heading" aria-labelledby="4761"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.6.1 </h2> <p><strong>Release date:</strong> 2023-07-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow minReplicas to be set for VPA (#3577)</li> </ul> <h3 id="default-value-changes-94"> <a href="#default-value-changes-94" class="anchor-heading" aria-labelledby="default-value-changes-94"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index cc3c8667..061eac0a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2294,6 +2294,8 @@</span> prometheusOperator:
     enabled: false
     # List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
     controlledResources: []
<span class="gi">+    # Specifies which resource values should be controlled: RequestsOnly or RequestsAndLimits.
+    # controlledValues: RequestsAndLimits
</span> 
     # Define the max allowed resources for the pod
     maxAllowed: {}
<span class="p">@@ -2305,6 +2307,8 @@</span> prometheusOperator:
     # memory: 100Mi
 
     updatePolicy:
<span class="gi">+      # Specifies minimal number of replicas which need to be alive for VPA Updater to attempt pod eviction
+      # minReplicas: 1
</span>       # Specifies whether recommended updates are applied when a Pod is started and whether recommended updates
       # are applied during the life of a Pod. Possible values are "Off", "Initial", "Recreate", and "Auto".
       updateMode: Auto
<span class="err">
</span></code></pre></div></div> <h2 id="4760"> <a href="#4760" class="anchor-heading" aria-labelledby="4760"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.6.0 </h2> <p><strong>Release date:</strong> 2023-07-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[CHORE] adding prometheus tracing config (#3558)</li> </ul> <h3 id="default-value-changes-95"> <a href="#default-value-changes-95" class="anchor-heading" aria-labelledby="default-value-changes-95"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 52ac6f06..cc3c8667 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3463,6 +3463,10 @@</span> prometheus:
     #      - a1.app.local
     #      - b1.app.local
 
<span class="gi">+    ## TracingConfig configures tracing in Prometheus.
+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#prometheustracingconfig
+    tracingConfig: {}
+
</span>   additionalRulesForClusterRole: []
   #  - apiGroups: [ "" ]
   #    resources:
<span class="err">
</span></code></pre></div></div> <h2 id="4750"> <a href="#4750" class="anchor-heading" aria-labelledby="4750"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.5.0 </h2> <p><strong>Release date:</strong> 2023-07-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade Grafana to 6.58.* (#3571)</li> </ul> <h3 id="default-value-changes-96"> <a href="#default-value-changes-96" class="anchor-heading" aria-labelledby="default-value-changes-96"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4740"> <a href="#4740" class="anchor-heading" aria-labelledby="4740"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.4.0 </h2> <p><strong>Release date:</strong> 2023-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add agent mode selector to values.yaml (#3520)</li> </ul> <h3 id="default-value-changes-97"> <a href="#default-value-changes-97" class="anchor-heading" aria-labelledby="default-value-changes-97"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 43f941b1..52ac6f06 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2385,6 +2385,12 @@</span> prometheusOperator:
 prometheus:
   enabled: true
 
<span class="gi">+  ## Toggle prometheus into agent mode
+  ## Note many of features described below (e.g. rules, query, alerting, remote read, thanos) will not work in agent mode.
+  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/designs/prometheus-agent.md
+  ##
+  agentMode: false
+
</span>   ## Annotations for Prometheus
   ##
   annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="4730"> <a href="#4730" class="anchor-heading" aria-labelledby="4730"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.3.0 </h2> <p><strong>Release date:</strong> 2023-07-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Implement ServiceMonitor endpoints for reloader components (#3543)</li> </ul> <h3 id="default-value-changes-98"> <a href="#default-value-changes-98" class="anchor-heading" aria-labelledby="default-value-changes-98"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4721"> <a href="#4721" class="anchor-heading" aria-labelledby="4721"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.2.1 </h2> <p><strong>Release date:</strong> 2023-07-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Minify windows dashboards (#3546)</li> </ul> <h3 id="default-value-changes-99"> <a href="#default-value-changes-99" class="anchor-heading" aria-labelledby="default-value-changes-99"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4720"> <a href="#4720" class="anchor-heading" aria-labelledby="4720"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.2.0 </h2> <p><strong>Release date:</strong> 2023-07-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Optional Windows-specific dashboards and rules (#3083)</li> </ul> <h3 id="default-value-changes-100"> <a href="#default-value-changes-100" class="anchor-heading" aria-labelledby="default-value-changes-100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 14322f5a..43f941b1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -60,6 +60,7 @@</span> defaultRules:
     nodeExporterRecording: true
     prometheus: true
     prometheusOperator: true
<span class="gi">+    windows: true
</span> 
   ## Reduce app namespace alert scope
   appNamespacesTarget: ".*"
<span class="p">@@ -194,6 +195,12 @@</span> global:
   # or
   # - "image-pull-secret"
 
<span class="gi">+windowsMonitoring:
+  ## Deploys the windows-exporter and Windows-specific dashboards and rules
+  enabled: false
+  ## Job must match jobLabel in the PodMonitor/ServiceMonitor and is used for the rules
+  job: prometheus-windows-exporter
+
</span> ## Configuration for alertmanager
 ## ref: https://prometheus.io/docs/alerting/alertmanager/
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="4710"> <a href="#4710" class="anchor-heading" aria-labelledby="4710"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.1.0 </h2> <p><strong>Release date:</strong> 2023-06-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump Prometheus and chart dependencies (#3522)</li> </ul> <h3 id="default-value-changes-101"> <a href="#default-value-changes-101" class="anchor-heading" aria-labelledby="default-value-changes-101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 86380b83..14322f5a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2858,7 +2858,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.44.0
</span><span class="gi">+      tag: v2.45.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="4701"> <a href="#4701" class="anchor-heading" aria-labelledby="4701"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.0.1 </h2> <p><strong>Release date:</strong> 2023-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> use imagePullSecrets in deployment for prometheus-operator (#3526)</li> </ul> <h3 id="default-value-changes-102"> <a href="#default-value-changes-102" class="anchor-heading" aria-labelledby="default-value-changes-102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4700"> <a href="#4700" class="anchor-heading" aria-labelledby="4700"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 47.0.0 </h2> <p><strong>Release date:</strong> 2023-06-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.66.0&amp;color=success" alt="AppVersion: v0.66.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Updated kube-prometheus-stack - prometheus-operator 0.66.0 (#3508)</li> </ul> <h3 id="default-value-changes-103"> <a href="#default-value-changes-103" class="anchor-heading" aria-labelledby="default-value-changes-103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4680"> <a href="#4680" class="anchor-heading" aria-labelledby="4680"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.8.0 </h2> <p><strong>Release date:</strong> 2023-06-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.2&amp;color=success" alt="AppVersion: v0.65.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add Alertmanager as default data source (#3474)</li> </ul> <h3 id="default-value-changes-104"> <a href="#default-value-changes-104" class="anchor-heading" aria-labelledby="default-value-changes-104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 90278ff8..86380b83 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -962,6 +962,11 @@</span> grafana:
       exemplarTraceIdDestinations: {}
         # datasourceUid: Jaeger
         # traceIdLabelName: trace_id
<span class="gi">+      alertmanager:
+        enabled: true
+        uid: alertmanager
+        handleGrafanaManagedAlerts: false
+        implementation: prometheus
</span> 
   extraConfigmapMounts: []
   # - name: certs-configmap
<span class="err">
</span></code></pre></div></div> <h2 id="4670"> <a href="#4670" class="anchor-heading" aria-labelledby="4670"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.7.0 </h2> <p><strong>Release date:</strong> 2023-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.2&amp;color=success" alt="AppVersion: v0.65.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump chart dependencies (#3473)</li> </ul> <h3 id="default-value-changes-105"> <a href="#default-value-changes-105" class="anchor-heading" aria-labelledby="default-value-changes-105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4660"> <a href="#4660" class="anchor-heading" aria-labelledby="4660"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.6.0 </h2> <p><strong>Release date:</strong> 2023-06-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add AlertmanagerSpec clusterGossipInterval, clusterPushpullInterval and clusterPeerTimeout (#3445)</li> </ul> <h3 id="default-value-changes-106"> <a href="#default-value-changes-106" class="anchor-heading" aria-labelledby="default-value-changes-106"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7018316e..90278ff8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -808,6 +808,18 @@</span> alertmanager:
     ##
     clusterAdvertiseAddress: false
 
<span class="gi">+    ## clusterGossipInterval determines interval between gossip attempts.
+    ## Needs to be specified as GoDuration, a time duration that can be parsed by Gos time.ParseDuration() (e.g. 45ms, 30s, 1m, 1h20m15s)
+    clusterGossipInterval: ""
+
+    ## clusterPeerTimeout determines timeout for cluster peering.
+    ## Needs to be specified as GoDuration, a time duration that can be parsed by Gos time.ParseDuration() (e.g. 45ms, 30s, 1m, 1h20m15s)
+    clusterPeerTimeout: ""
+
+    ## clusterPushpullInterval determines interval between pushpull attempts.
+    ## Needs to be specified as GoDuration, a time duration that can be parsed by Gos time.ParseDuration() (e.g. 45ms, 30s, 1m, 1h20m15s)
+    clusterPushpullInterval: ""
+
</span>     ## ForceEnableClusterMode ensures Alertmanager does not deactivate the cluster mode when running with a single replica.
     ## Use case is e.g. spanning an Alertmanager cluster across Kubernetes clusters with a single replica in each.
     forceEnableClusterMode: false
<span class="err">
</span></code></pre></div></div> <h2 id="4650"> <a href="#4650" class="anchor-heading" aria-labelledby="4650"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.5.0 </h2> <p><strong>Release date:</strong> 2023-05-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - add scrapeConfig CR and tpl support for all CRs selectors (#3446)</li> </ul> <h3 id="default-value-changes-107"> <a href="#default-value-changes-107" class="anchor-heading" aria-labelledby="default-value-changes-107"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 23180913..7018316e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3028,6 +3028,28 @@</span> prometheus:
     #   matchLabels:
     #     prometheus: somelabel
 
<span class="gi">+    ## If true, a nil or {} value for prometheus.prometheusSpec.scrapeConfigSelector will cause the
+    ## prometheus resource to be created with selectors based on values in the helm deployment,
+    ## which will also match the scrapeConfigs created
+    ##
+    scrapeConfigSelectorNilUsesHelmValues: true
+
+    ## scrapeConfigs to be selected for target discovery.
+    ## If {}, select all scrapeConfigs
+    ##
+    scrapeConfigSelector: {}
+    ## Example which selects scrapeConfigs with label "prometheus" set to "somelabel"
+    # scrapeConfig:
+    #   matchLabels:
+    #     prometheus: somelabel
+
+    ## If nil, select own namespace. Namespaces to be selected for scrapeConfig discovery.
+    scrapeConfigNamespaceSelector: {}
+    ## Example which selects scrapeConfig in namespaces with label "prometheus" set to "somelabel"
+    # scrapeConfigsNamespaceSelector:
+    #   matchLabels:
+    #     prometheus: somelabel
+
</span>     ## How long to retain metrics
     ##
     retention: 10d
<span class="err">
</span></code></pre></div></div> <h2 id="4642"> <a href="#4642" class="anchor-heading" aria-labelledby="4642"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.4.2 </h2> <p><strong>Release date:</strong> 2023-05-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Make failurePolicy a string (#3442)</li> </ul> <h3 id="default-value-changes-108"> <a href="#default-value-changes-108" class="anchor-heading" aria-labelledby="default-value-changes-108"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index daa2bf74..23180913 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1949,7 +1949,7 @@</span> prometheusOperator:
   admissionWebhooks:
     ## Valid values: Fail, Ignore, IgnoreOnInstallOnly
     ## IgnoreOnInstallOnly - If Release.IsInstall returns "true", set "Ignore" otherwise "Fail"
<span class="gd">-    failurePolicy:
</span><span class="gi">+    failurePolicy: ""
</span>     ## The default timeoutSeconds is 10 and the maximum value is 30.
     timeoutSeconds: 10
     enabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="4641"> <a href="#4641" class="anchor-heading" aria-labelledby="4641"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.4.1 </h2> <p><strong>Release date:</strong> 2023-05-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix typo in kubeProxy additional rule labels (#3432)</li> </ul> <h3 id="default-value-changes-109"> <a href="#default-value-changes-109" class="anchor-heading" aria-labelledby="default-value-changes-109"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4640"> <a href="#4640" class="anchor-heading" aria-labelledby="4640"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.4.0 </h2> <p><strong>Release date:</strong> 2023-05-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add the possibility to define fine-grained labels and annotation based on the prometheus group (#3288)</li> </ul> <h3 id="default-value-changes-110"> <a href="#default-value-changes-110" class="anchor-heading" aria-labelledby="default-value-changes-110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 18fc0b11..daa2bf74 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -75,6 +75,66 @@</span> defaultRules:
   ## Additional annotations for PrometheusRule alerts
   additionalRuleAnnotations: {}
 
<span class="gi">+  ## Additional labels for specific PrometheusRule alert groups
+  additionalRuleGroupLabels:
+    alertmanager: {}
+    etcd: {}
+    configReloaders: {}
+    general: {}
+    k8s: {}
+    kubeApiserverAvailability: {}
+    kubeApiserverBurnrate: {}
+    kubeApiserverHistogram: {}
+    kubeApiserverSlos: {}
+    kubeControllerManager: {}
+    kubelet: {}
+    kubeProxy: {}
+    kubePrometheusGeneral: {}
+    kubePrometheusNodeRecording: {}
+    kubernetesApps: {}
+    kubernetesResources: {}
+    kubernetesStorage: {}
+    kubernetesSystem: {}
+    kubeSchedulerAlerting: {}
+    kubeSchedulerRecording: {}
+    kubeStateMetrics: {}
+    network: {}
+    node: {}
+    nodeExporterAlerting: {}
+    nodeExporterRecording: {}
+    prometheus: {}
+    prometheusOperator: {}
+
+  ## Additional annotations for specific PrometheusRule alerts groups
+  additionalRuleGroupAnnotations:
+    alertmanager: {}
+    etcd: {}
+    configReloaders: {}
+    general: {}
+    k8s: {}
+    kubeApiserverAvailability: {}
+    kubeApiserverBurnrate: {}
+    kubeApiserverHistogram: {}
+    kubeApiserverSlos: {}
+    kubeControllerManager: {}
+    kubelet: {}
+    kubeProxy: {}
+    kubePrometheusGeneral: {}
+    kubePrometheusNodeRecording: {}
+    kubernetesApps: {}
+    kubernetesResources: {}
+    kubernetesStorage: {}
+    kubernetesSystem: {}
+    kubeSchedulerAlerting: {}
+    kubeSchedulerRecording: {}
+    kubeStateMetrics: {}
+    network: {}
+    node: {}
+    nodeExporterAlerting: {}
+    nodeExporterRecording: {}
+    prometheus: {}
+    prometheusOperator: {}
+
</span>   ## Prefix for runbook URLs. Use this to override the first part of the runbookURLs that is common to all rules.
   runbookUrl: "https://runbooks.prometheus-operator.dev/runbooks"
 
<span class="err">
</span></code></pre></div></div> <h2 id="4630"> <a href="#4630" class="anchor-heading" aria-labelledby="4630"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.3.0 </h2> <p><strong>Release date:</strong> 2023-05-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> set parameters for podsecurity restricted (#3201)</li> </ul> <h3 id="default-value-changes-111"> <a href="#default-value-changes-111" class="anchor-heading" aria-labelledby="default-value-changes-111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f8989e8c..18fc0b11 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -698,6 +698,8 @@</span> alertmanager:
       runAsNonRoot: true
       runAsUser: 1000
       fsGroup: 2000
<span class="gi">+      seccompProfile:
+        type: RuntimeDefault
</span> 
     ## ListenLocal makes the Alertmanager server listen on loopback, so that it does not bind against the Pod IP.
     ## Note this is only for the Alertmanager UI, not the gossip communication.
<span class="p">@@ -1929,14 +1931,26 @@</span> prometheusOperator:
         runAsGroup: 2000
         runAsNonRoot: true
         runAsUser: 2000
<span class="gi">+        seccompProfile:
+          type: RuntimeDefault
</span> 
     # Security context for create job container
     createSecretJob:
<span class="gd">-      securityContext: {}
</span><span class="gi">+      securityContext:
+        allowPrivilegeEscalation: false
+        readOnlyRootFilesystem: true
+        capabilities:
+          drop:
+          - ALL
</span> 
       # Security context for patch job container
     patchWebhookJob:
<span class="gd">-      securityContext: {}
</span><span class="gi">+      securityContext:
+        allowPrivilegeEscalation: false
+        readOnlyRootFilesystem: true
+        capabilities:
+          drop:
+          - ALL
</span> 
     # Use certmanager to generate webhook certs
     certManager:
<span class="p">@@ -2178,6 +2192,8 @@</span> prometheusOperator:
     runAsGroup: 65534
     runAsNonRoot: true
     runAsUser: 65534
<span class="gi">+    seccompProfile:
+      type: RuntimeDefault
</span> 
   ## Container-specific security context configuration
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
<span class="p">@@ -2185,6 +2201,9 @@</span> prometheusOperator:
   containerSecurityContext:
     allowPrivilegeEscalation: false
     readOnlyRootFilesystem: true
<span class="gi">+    capabilities:
+      drop:
+      - ALL
</span> 
   # Enable vertical pod autoscaler support for prometheus-operator
   verticalPodAutoscaler:
<span class="p">@@ -3201,6 +3220,8 @@</span> prometheus:
       runAsNonRoot: true
       runAsUser: 1000
       fsGroup: 2000
<span class="gi">+      seccompProfile:
+        type: RuntimeDefault
</span> 
     ## Priority class assigned to the Pods
     ##
<span class="p">@@ -3832,6 +3853,8 @@</span> thanosRuler:
       runAsNonRoot: true
       runAsUser: 1000
       fsGroup: 2000
<span class="gi">+      seccompProfile:
+        type: RuntimeDefault
</span> 
     ## ListenLocal makes the ThanosRuler server listen on loopback, so that it does not bind against the Pod IP.
     ## Note this is only for the ThanosRuler UI, not the gossip communication.
<span class="err">
</span></code></pre></div></div> <h2 id="4620"> <a href="#4620" class="anchor-heading" aria-labelledby="4620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.2.0 </h2> <p><strong>Release date:</strong> 2023-05-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for extra manifests (#2798)</li> </ul> <h3 id="default-value-changes-112"> <a href="#default-value-changes-112" class="anchor-heading" aria-labelledby="default-value-changes-112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0712ee7a..f8989e8c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3874,3 +3874,13 @@</span> thanosRuler:
 ## Setting to true produces cleaner resource names, but requires a data migration because the name of the persistent volume changes. Therefore this should only be set once on initial installation.
 ##
 cleanPrometheusOperatorObjectNames: false
<span class="gi">+
+## Extra manifests to deploy as an array
+extraManifests: []
+  # - apiVersion: v1
+  #   kind: ConfigMap
+  #   metadata:
+  #   labels:
+  #     name: prometheus-extra
+  #   data:
+  #     extra-data: "value"
</span><span class="err">
</span></code></pre></div></div> <h2 id="4610"> <a href="#4610" class="anchor-heading" aria-labelledby="4610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.1.0 </h2> <p><strong>Release date:</strong> 2023-05-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add scheme and tlsConfig to alertmanagerSpec (#3037)</li> </ul> <h3 id="default-value-changes-113"> <a href="#default-value-changes-113" class="anchor-heading" aria-labelledby="default-value-changes-113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bbdfa139..0712ee7a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -620,6 +620,13 @@</span> alertmanager:
     ##
     routePrefix: /
 
<span class="gi">+    ## scheme: HTTP scheme to use. Can be used with `tlsConfig` for example if using istio mTLS.
+    scheme: ""
+
+    ## tlsConfig: TLS configuration to use when connect to the endpoint. For example if using istio mTLS.
+    ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
+    tlsConfig: {}
+
</span>     ## If set to true all actions on the underlying managed objects are not going to be performed, except for delete actions.
     ##
     paused: false
<span class="err">
</span></code></pre></div></div> <h2 id="4600"> <a href="#4600" class="anchor-heading" aria-labelledby="4600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 46.0.0 </h2> <p><strong>Release date:</strong> 2023-05-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Minify Grafana Dashboards and Update CRDs to 0.65.1 (#3416)</li> </ul> <h3 id="default-value-changes-114"> <a href="#default-value-changes-114" class="anchor-heading" aria-labelledby="default-value-changes-114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6bb6cab1..bbdfa139 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2252,7 +2252,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.30.2
</span><span class="gi">+    tag: v0.31.0
</span>     sha: ""
 
   ## Set a Label Selector to filter watched prometheus and prometheusAgent
<span class="p">@@ -2755,7 +2755,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.42.0
</span><span class="gi">+      tag: v2.44.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3639,7 +3639,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.30.2
</span><span class="gi">+      tag: v0.31.0
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="45311"> <a href="#45311" class="anchor-heading" aria-labelledby="45311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.31.1 </h2> <p><strong>Release date:</strong> 2023-05-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[prometheus-operator] Set secretFieldSelector to exclude not necessary secret types (#3415)</li> </ul> <h3 id="default-value-changes-115"> <a href="#default-value-changes-115" class="anchor-heading" aria-labelledby="default-value-changes-115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bcc433ed..6bb6cab1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2268,7 +2268,7 @@</span> prometheusOperator:
 
   ## Set a Field Selector to filter watched secrets
   ##
<span class="gd">-  secretFieldSelector: ""
</span><span class="gi">+  secretFieldSelector: "type!=kubernetes.io/dockercfg,type!=kubernetes.io/service-account-token,type!=helm.sh/release.v1"
</span> 
 ## Deploy a Prometheus instance
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="45310"> <a href="#45310" class="anchor-heading" aria-labelledby="45310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.31.0 </h2> <p><strong>Release date:</strong> 2023-05-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> feat: allow override of service name for alertmanager default ingress (#3361)</li> </ul> <h3 id="default-value-changes-116"> <a href="#default-value-changes-116" class="anchor-heading" aria-labelledby="default-value-changes-116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 07730f57..bcc433ed 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -269,8 +269,11 @@</span> alertmanager:
 
     labels: {}
 
<span class="gd">-    ## Redirect ingress to an additional defined port on the service
</span><span class="gi">+    ## Override ingress to a different defined port on the service
</span>     # servicePort: 8081
<span class="gi">+    ## Override ingress to a different service then the default, this is useful if you need to
+    ## point to a specific instance of the alertmanager (eg kube-prometheus-stack-alertmanager-0)
+    # serviceName: kube-prometheus-stack-alertmanager-0
</span> 
     ## Hosts must be provided if Ingress is enabled.
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="45301"> <a href="#45301" class="anchor-heading" aria-labelledby="45301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.30.1 </h2> <p><strong>Release date:</strong> 2023-05-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - resolve issue 3396, no null labels allowed for PrometheusRules (#3400)</li> </ul> <h3 id="default-value-changes-117"> <a href="#default-value-changes-117" class="anchor-heading" aria-labelledby="default-value-changes-117"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45300"> <a href="#45300" class="anchor-heading" aria-labelledby="45300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.30.0 </h2> <p><strong>Release date:</strong> 2023-05-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix issue with depreceted HorizontalPodAutoscaler/v1beta (#3413)</li> </ul> <h3 id="default-value-changes-118"> <a href="#default-value-changes-118" class="anchor-heading" aria-labelledby="default-value-changes-118"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45290"> <a href="#45290" class="anchor-heading" aria-labelledby="45290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.29.0 </h2> <p><strong>Release date:</strong> 2023-05-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Introduce failurePolicy IgnoreOnInstallOnly (#3066)</li> </ul> <h3 id="default-value-changes-119"> <a href="#default-value-changes-119" class="anchor-heading" aria-labelledby="default-value-changes-119"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 95cc696c..07730f57 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1875,6 +1875,8 @@</span> prometheusOperator:
   ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
   ## rules from making their way into prometheus and potentially preventing the container from starting
   admissionWebhooks:
<span class="gi">+    ## Valid values: Fail, Ignore, IgnoreOnInstallOnly
+    ## IgnoreOnInstallOnly - If Release.IsInstall returns "true", set "Ignore" otherwise "Fail"
</span>     failurePolicy:
     ## The default timeoutSeconds is 10 and the maximum value is 30.
     timeoutSeconds: 10
<span class="err">
</span></code></pre></div></div> <h2 id="45281"> <a href="#45281" class="anchor-heading" aria-labelledby="45281"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.28.1 </h2> <p><strong>Release date:</strong> 2023-05-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Resolve Issue 3340 (#3351)</li> </ul> <h3 id="default-value-changes-120"> <a href="#default-value-changes-120" class="anchor-heading" aria-labelledby="default-value-changes-120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45280"> <a href="#45280" class="anchor-heading" aria-labelledby="45280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.28.0 </h2> <p><strong>Release date:</strong> 2023-05-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add sessionAffinity support to alertmanager (#3376)</li> </ul> <h3 id="default-value-changes-121"> <a href="#default-value-changes-121" class="anchor-heading" aria-labelledby="default-value-changes-121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0893c19a..95cc696c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -379,6 +379,11 @@</span> alertmanager:
     ##
     externalTrafficPolicy: Cluster
 
<span class="gi">+    ## If you want to make sure that connections from a particular client are passed to the same Pod each time
+    ## Accepts 'ClientIP' or ''
+    ##
+    sessionAffinity: ""
+
</span>     ## Service type
     ##
     type: ClusterIP
<span class="err">
</span></code></pre></div></div> <h2 id="45272"> <a href="#45272" class="anchor-heading" aria-labelledby="45272"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.27.2 </h2> <p><strong>Release date:</strong> 2023-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix body must be of type string bug for cilium network policy (#3360)</li> </ul> <h3 id="default-value-changes-122"> <a href="#default-value-changes-122" class="anchor-heading" aria-labelledby="default-value-changes-122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45271"> <a href="#45271" class="anchor-heading" aria-labelledby="45271"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.27.1 </h2> <p><strong>Release date:</strong> 2023-05-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Avoid diff with server-side apply when enforcedNamespaceLabel is set (#3247)</li> </ul> <h3 id="default-value-changes-123"> <a href="#default-value-changes-123" class="anchor-heading" aria-labelledby="default-value-changes-123"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45270"> <a href="#45270" class="anchor-heading" aria-labelledby="45270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.27.0 </h2> <p><strong>Release date:</strong> 2023-05-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Remove deprecated sha in prometheusSpec (#3191)</li> </ul> <h3 id="default-value-changes-124"> <a href="#default-value-changes-124" class="anchor-heading" aria-labelledby="default-value-changes-124"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45260"> <a href="#45260" class="anchor-heading" aria-labelledby="45260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.26.0 </h2> <p><strong>Release date:</strong> 2023-05-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.65.1&amp;color=success" alt="AppVersion: v0.65.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add prometheus config reloader liveness and readiness prob (#3337)</li> </ul> <h3 id="default-value-changes-125"> <a href="#default-value-changes-125" class="anchor-heading" aria-labelledby="default-value-changes-125"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ac3b63f9..0893c19a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2225,6 +2225,9 @@</span> prometheusOperator:
       tag: ""
       sha: ""
 
<span class="gi">+    # add prometheus config reloader liveness and readiness probe. Default: false
+    enableProbe: false
+
</span>     # resource config for prometheusConfigReloader
     resources:
       requests:
<span class="err">
</span></code></pre></div></div> <h2 id="45250"> <a href="#45250" class="anchor-heading" aria-labelledby="45250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.25.0 </h2> <p><strong>Release date:</strong> 2023-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Added namespace selector for webhook configuration (#2969)</li> </ul> <h3 id="default-value-changes-126"> <a href="#default-value-changes-126" class="anchor-heading" aria-labelledby="default-value-changes-126"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45240"> <a href="#45240" class="anchor-heading" aria-labelledby="45240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.24.0 </h2> <p><strong>Release date:</strong> 2023-05-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade Grafana to 6.56.* (#3302)</li> </ul> <h3 id="default-value-changes-127"> <a href="#default-value-changes-127" class="anchor-heading" aria-labelledby="default-value-changes-127"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45230"> <a href="#45230" class="anchor-heading" aria-labelledby="45230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.23.0 </h2> <p><strong>Release date:</strong> 2023-04-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Namespace templating for Thanos sidecar ingress (#3301)</li> </ul> <h3 id="default-value-changes-128"> <a href="#default-value-changes-128" class="anchor-heading" aria-labelledby="default-value-changes-128"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45220"> <a href="#45220" class="anchor-heading" aria-labelledby="45220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.22.0 </h2> <p><strong>Release date:</strong> 2023-04-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add cilium networkpolicy support (#3282)</li> </ul> <h3 id="default-value-changes-129"> <a href="#default-value-changes-129" class="anchor-heading" aria-labelledby="default-value-changes-129"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7db32312..ac3b63f9 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1963,6 +1963,15 @@</span> prometheusOperator:
     ##
     enabled: false
 
<span class="gi">+    ## Flavor of the network policy to use.
+    #  Can be:
+    #  * kubernetes for networking.k8s.io/v1/NetworkPolicy
+    #  * cilium     for cilium.io/v2/CiliumNetworkPolicy
+    flavor: kubernetes
+
+    # cilium:
+    #   egress:
+
</span>   ## Service account for Alertmanager to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
<span class="p">@@ -2260,6 +2269,18 @@</span> prometheus:
   ## Configure network policy for the prometheus
   networkPolicy:
     enabled: false
<span class="gi">+
+    ## Flavor of the network policy to use.
+    #  Can be:
+    #  * kubernetes for networking.k8s.io/v1/NetworkPolicy
+    #  * cilium     for cilium.io/v2/CiliumNetworkPolicy
+    flavor: kubernetes
+
+    # cilium:
+    #   endpointSelector:
+    #   egress:
+    #   ingress:
+
</span>     # egress:
     # - {}
     # ingress:
<span class="err">
</span></code></pre></div></div> <h2 id="45210"> <a href="#45210" class="anchor-heading" aria-labelledby="45210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.21.0 </h2> <p><strong>Release date:</strong> 2023-04-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync Prometheus rules (#3223)</li> </ul> <h3 id="default-value-changes-130"> <a href="#default-value-changes-130" class="anchor-heading" aria-labelledby="default-value-changes-130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45200"> <a href="#45200" class="anchor-heading" aria-labelledby="45200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.20.0 </h2> <p><strong>Release date:</strong> 2023-04-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> allow httpMethod selection on prometheus datasource (#3053)</li> </ul> <h3 id="default-value-changes-131"> <a href="#default-value-changes-131" class="anchor-heading" aria-labelledby="default-value-changes-131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e6f22d5a..7db32312 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -857,6 +857,9 @@</span> grafana:
       ##
       annotations: {}
 
<span class="gi">+      ## Set method for HTTP to send query to datasource
+      httpMethod: POST
+
</span>       ## Create datasource for each Pod of Prometheus StatefulSet;
       ## this uses headless service `prometheus-operated` which is
       ## created by Prometheus Operator
<span class="err">
</span></code></pre></div></div> <h2 id="45190"> <a href="#45190" class="anchor-heading" aria-labelledby="45190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.19.0 </h2> <p><strong>Release date:</strong> 2023-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add flag to disable all exporters (#3256)</li> </ul> <h3 id="default-value-changes-132"> <a href="#default-value-changes-132" class="anchor-heading" aria-labelledby="default-value-changes-132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b949b80b..e6f22d5a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -935,6 +935,11 @@</span> grafana:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+## Flag to disable all the kubernetes component scrapers
+##
+kubernetesServiceMonitors:
+  enabled: true
+
</span> ## Component scraping the kube api server
 ##
 kubeApiServer:
<span class="err">
</span></code></pre></div></div> <h2 id="45180"> <a href="#45180" class="anchor-heading" aria-labelledby="45180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.18.0 </h2> <p><strong>Release date:</strong> 2023-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add a variable to manage grafana default datasource timeout (#3150)</li> </ul> <h3 id="default-value-changes-133"> <a href="#default-value-changes-133" class="anchor-heading" aria-labelledby="default-value-changes-133"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 145e1d34..b949b80b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -847,6 +847,9 @@</span> grafana:
       ##
       # url: http://prometheus-stack-prometheus:9090/
 
<span class="gi">+      ## Prometheus request timeout in seconds
+      # timeout: 30
+
</span>       # If not defined, will use prometheus.prometheusSpec.scrapeInterval or its default
       # defaultDatasourceScrapeInterval: 15s
 
<span class="err">
</span></code></pre></div></div> <h2 id="45170"> <a href="#45170" class="anchor-heading" aria-labelledby="45170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.17.0 </h2> <p><strong>Release date:</strong> 2023-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> adding tpl upstream for secretFieldSelector (#3151)</li> </ul> <h3 id="default-value-changes-134"> <a href="#default-value-changes-134" class="anchor-heading" aria-labelledby="default-value-changes-134"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45160"> <a href="#45160" class="anchor-heading" aria-labelledby="45160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.16.0 </h2> <p><strong>Release date:</strong> 2023-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add alertmanager-instance-selector and thanos (#3113)</li> </ul> <h3 id="default-value-changes-135"> <a href="#default-value-changes-135" class="anchor-heading" aria-labelledby="default-value-changes-135"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d973fa24..145e1d34 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2222,6 +2222,17 @@</span> prometheusOperator:
     tag: v0.30.2
     sha: ""
 
<span class="gi">+  ## Set a Label Selector to filter watched prometheus and prometheusAgent
+  ##
+  prometheusInstanceSelector: ""
+
+  ## Set a Label Selector to filter watched alertmanager
+  ##
+  alertmanagerInstanceSelector: ""
+
+  ## Set a Label Selector to filter watched thanosRuler
+  thanosRulerInstanceSelector: ""
+
</span>   ## Set a Field Selector to filter watched secrets
   ##
   secretFieldSelector: ""
<span class="err">
</span></code></pre></div></div> <h2 id="45150"> <a href="#45150" class="anchor-heading" aria-labelledby="45150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.15.0 </h2> <p><strong>Release date:</strong> 2023-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support setting Prometheus version (#3112)</li> </ul> <h3 id="default-value-changes-136"> <a href="#default-value-changes-136" class="anchor-heading" aria-labelledby="default-value-changes-136"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 89215587..d973fa24 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2673,6 +2673,10 @@</span> prometheus:
     ##
     enableAdminAPI: false
 
<span class="gi">+    ## Sets version of Prometheus overriding the Prometheus version as derived
+    ## from the image tag. Useful in cases where the tag does not follow semver v2.
+    version: ""
+
</span>     ## WebTLSConfig defines the TLS parameters for HTTPS
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#webtlsconfig
     web: {}
<span class="err">
</span></code></pre></div></div> <h2 id="45140"> <a href="#45140" class="anchor-heading" aria-labelledby="45140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.14.0 </h2> <p><strong>Release date:</strong> 2023-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add automountServiceAccountToken option to kube-prometheus-stack aler (#3180)</li> </ul> <h3 id="default-value-changes-137"> <a href="#default-value-changes-137" class="anchor-heading" aria-labelledby="default-value-changes-137"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0115d59d..89215587 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -158,6 +158,7 @@</span> alertmanager:
     create: true
     name: ""
     annotations: {}
<span class="gi">+    automountServiceAccountToken: true
</span> 
   ## Configure pod disruption budgets for Alertmanager
   ## ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/#specifying-a-poddisruptionbudget
<span class="err">
</span></code></pre></div></div> <h2 id="45130"> <a href="#45130" class="anchor-heading" aria-labelledby="45130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.13.0 </h2> <p><strong>Release date:</strong> 2023-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> update grafana dep (#3264)</li> </ul> <h3 id="default-value-changes-138"> <a href="#default-value-changes-138" class="anchor-heading" aria-labelledby="default-value-changes-138"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45120"> <a href="#45120" class="anchor-heading" aria-labelledby="45120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.12.0 </h2> <p><strong>Release date:</strong> 2023-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow dashboard in all namespaces (#2927)</li> </ul> <h3 id="default-value-changes-139"> <a href="#default-value-changes-139" class="anchor-heading" aria-labelledby="default-value-changes-139"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5ca8fa41..0115d59d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -822,6 +822,8 @@</span> grafana:
       enabled: true
       label: grafana_dashboard
       labelValue: "1"
<span class="gi">+      # Allow discovery in all namespaces for dashboards
+      searchNamespace: ALL
</span> 
       ## Annotations for Grafana dashboard configmaps
       ##
<span class="err">
</span></code></pre></div></div> <h2 id="45111"> <a href="#45111" class="anchor-heading" aria-labelledby="45111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.11.1 </h2> <p><strong>Release date:</strong> 2023-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix: webhook ignores namespaceOverride (#3259)</li> </ul> <h3 id="default-value-changes-140"> <a href="#default-value-changes-140" class="anchor-heading" aria-labelledby="default-value-changes-140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45110"> <a href="#45110" class="anchor-heading" aria-labelledby="45110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.11.0 </h2> <p><strong>Release date:</strong> 2023-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump chart dependencies (#3255)</li> </ul> <h3 id="default-value-changes-141"> <a href="#default-value-changes-141" class="anchor-heading" aria-labelledby="default-value-changes-141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="45101"> <a href="#45101" class="anchor-heading" aria-labelledby="45101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.10.1 </h2> <p><strong>Release date:</strong> 2023-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix incorrect values.yaml descriptions (#3040)</li> </ul> <h3 id="default-value-changes-142"> <a href="#default-value-changes-142" class="anchor-heading" aria-labelledby="default-value-changes-142"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8a47b477..5ca8fa41 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2780,11 +2780,12 @@</span> prometheus:
     ##
     query: {}
 
<span class="gd">-    ## Namespaces to be selected for PrometheusRules discovery.
-    ## If nil, select own namespace. Namespaces to be selected for ServiceMonitor discovery.
-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
-    ##
</span><span class="gi">+    ## If nil, select own namespace. Namespaces to be selected for PrometheusRules discovery.
</span>     ruleNamespaceSelector: {}
<span class="gi">+    ## Example which selects PrometheusRules in namespaces with label "prometheus" set to "somelabel"
+    # ruleNamespaceSelector:
+    #   matchLabels:
+    #     prometheus: somelabel
</span> 
     ## If true, a nil or {} value for prometheus.prometheusSpec.ruleSelector will cause the
     ## prometheus resource to be created with selectors based on values in the helm deployment,
<span class="p">@@ -2849,10 +2850,12 @@</span> prometheus:
     #   matchLabels:
     #     prometheus: somelabel
 
<span class="gd">-    ## Namespaces to be selected for PodMonitor discovery.
-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
-    ##
</span><span class="gi">+    ## If nil, select own namespace. Namespaces to be selected for PodMonitor discovery.
</span>     podMonitorNamespaceSelector: {}
<span class="gi">+    ## Example which selects PodMonitor in namespaces with label "prometheus" set to "somelabel"
+    # podMonitorNamespaceSelector:
+    #   matchLabels:
+    #     prometheus: somelabel
</span> 
     ## If true, a nil or {} value for prometheus.prometheusSpec.probeSelector will cause the
     ## prometheus resource to be created with selectors based on values in the helm deployment,
<span class="p">@@ -2869,10 +2872,12 @@</span> prometheus:
     #   matchLabels:
     #     prometheus: somelabel
 
<span class="gd">-    ## Namespaces to be selected for Probe discovery.
-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
-    ##
</span><span class="gi">+    ## If nil, select own namespace. Namespaces to be selected for Probe discovery.
</span>     probeNamespaceSelector: {}
<span class="gi">+    ## Example which selects Probe in namespaces with label "prometheus" set to "somelabel"
+    # probeNamespaceSelector:
+    #   matchLabels:
+    #     prometheus: somelabel
</span> 
     ## How long to retain metrics
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="45100"> <a href="#45100" class="anchor-heading" aria-labelledby="45100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.10.0 </h2> <p><strong>Release date:</strong> 2023-04-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump chart dependencies (#3234)</li> </ul> <h3 id="default-value-changes-143"> <a href="#default-value-changes-143" class="anchor-heading" aria-labelledby="default-value-changes-143"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4591"> <a href="#4591" class="anchor-heading" aria-labelledby="4591"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.9.1 </h2> <p><strong>Release date:</strong> 2023-04-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix kps deployment when thanos field is set to null (#3163)</li> </ul> <h3 id="default-value-changes-144"> <a href="#default-value-changes-144" class="anchor-heading" aria-labelledby="default-value-changes-144"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4590"> <a href="#4590" class="anchor-heading" aria-labelledby="4590"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.9.0 </h2> <p><strong>Release date:</strong> 2023-04-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Additional labels for ServiceMonitors (#3132)</li> </ul> <h3 id="default-value-changes-145"> <a href="#default-value-changes-145" class="anchor-heading" aria-labelledby="default-value-changes-145"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c284b73e..8a47b477 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -420,6 +420,10 @@</span> alertmanager:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+
</span>     ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
     ##
     sampleLimit: 0
<span class="p">@@ -2290,6 +2294,10 @@</span> prometheus:
     enabled: false
     interval: ""
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+
</span>     ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
     scheme: ""
 
<span class="p">@@ -2572,6 +2580,10 @@</span> prometheus:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+
</span>     ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
     ##
     sampleLimit: 0
<span class="p">@@ -3489,6 +3501,10 @@</span> thanosRuler:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+
</span>     ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
     ##
     sampleLimit: 0
<span class="err">
</span></code></pre></div></div> <h2 id="4581"> <a href="#4581" class="anchor-heading" aria-labelledby="4581"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.8.1 </h2> <p><strong>Release date:</strong> 2023-03-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Import Node Exporter / MacOS grafana dashboard conditionally (#3054)</li> </ul> <h3 id="default-value-changes-146"> <a href="#default-value-changes-146" class="anchor-heading" aria-labelledby="default-value-changes-146"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4580"> <a href="#4580" class="anchor-heading" aria-labelledby="4580"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.8.0 </h2> <p><strong>Release date:</strong> 2023-03-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - Allow out_of_order_time_window in Prometheus spec (#2960)</li> </ul> <h3 id="default-value-changes-147"> <a href="#default-value-changes-147" class="anchor-heading" aria-labelledby="default-value-changes-147"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4e5c13e8..c284b73e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2870,6 +2870,11 @@</span> prometheus:
     ##
     retentionSize: ""
 
<span class="gi">+    ## Allow out-of-order/out-of-bounds samples ingested into Prometheus for a specified duration
+    ## See https://prometheus.io/docs/prometheus/latest/configuration/configuration/#tsdb
+    tsdb:
+      outOfOrderTimeWindow: 0s
+
</span>     ## Enable compression of the write-ahead log using Snappy.
     ##
     walCompression: true
<span class="err">
</span></code></pre></div></div> <h2 id="4571"> <a href="#4571" class="anchor-heading" aria-labelledby="4571"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.7.1 </h2> <p><strong>Release date:</strong> 2023-03-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>prometheus-operator: add EndpointSlices for operator to support K8s 1.22+ (#2948)</li> </ul> <h3 id="default-value-changes-148"> <a href="#default-value-changes-148" class="anchor-heading" aria-labelledby="default-value-changes-148"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4570"> <a href="#4570" class="anchor-heading" aria-labelledby="4570"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.7.0 </h2> <p><strong>Release date:</strong> 2023-03-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump kube-state-metrics chart for fix global.imageRegistry usage (#3107)</li> </ul> <h3 id="default-value-changes-149"> <a href="#default-value-changes-149" class="anchor-heading" aria-labelledby="default-value-changes-149"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4560"> <a href="#4560" class="anchor-heading" aria-labelledby="4560"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.6.0 </h2> <p><strong>Release date:</strong> 2023-03-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Enable network policy for prometheus (#2997)</li> </ul> <h3 id="default-value-changes-150"> <a href="#default-value-changes-150" class="anchor-heading" aria-labelledby="default-value-changes-150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0dbe5902..4e5c13e8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2222,13 +2222,23 @@</span> prometheusOperator:
 ## Deploy a Prometheus instance
 ##
 prometheus:
<span class="gd">-
</span>   enabled: true
 
   ## Annotations for Prometheus
   ##
   annotations: {}
 
<span class="gi">+  ## Configure network policy for the prometheus
+  networkPolicy:
+    enabled: false
+    # egress:
+    # - {}
+    # ingress:
+    # - {}
+    # podSelector:
+    #   matchLabels:
+    #     app: prometheus
+
</span>   ## Service account for Prometheuses to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="4550"> <a href="#4550" class="anchor-heading" aria-labelledby="4550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.5.0 </h2> <p><strong>Release date:</strong> 2023-03-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana chart (#3086)</li> </ul> <h3 id="default-value-changes-151"> <a href="#default-value-changes-151" class="anchor-heading" aria-labelledby="default-value-changes-151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4540"> <a href="#4540" class="anchor-heading" aria-labelledby="4540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.4.0 </h2> <p><strong>Release date:</strong> 2023-02-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update dependencies to versions which support local container registry (#3059)</li> </ul> <h3 id="default-value-changes-152"> <a href="#default-value-changes-152" class="anchor-heading" aria-labelledby="default-value-changes-152"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4530"> <a href="#4530" class="anchor-heading" aria-labelledby="4530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.3.0 </h2> <p><strong>Release date:</strong> 2023-02-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump version of kube-webhook-certgen (#3061)</li> </ul> <h3 id="default-value-changes-153"> <a href="#default-value-changes-153" class="anchor-heading" aria-labelledby="default-value-changes-153"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 45b08c4b..0dbe5902 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1871,7 +1871,7 @@</span> prometheusOperator:
       image:
         registry: registry.k8s.io
         repository: ingress-nginx/kube-webhook-certgen
<span class="gd">-        tag: v1.3.0
</span><span class="gi">+        tag: v20221220-controller-v1.5.1-58-g787ea74b6
</span>         sha: ""
         pullPolicy: IfNotPresent
       resources: {}
<span class="err">
</span></code></pre></div></div> <h2 id="4520"> <a href="#4520" class="anchor-heading" aria-labelledby="4520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.2.0 </h2> <p><strong>Release date:</strong> 2023-02-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump kube-state-metrics version (#3046)</li> </ul> <h3 id="default-value-changes-154"> <a href="#default-value-changes-154" class="anchor-heading" aria-labelledby="default-value-changes-154"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4511"> <a href="#4511" class="anchor-heading" aria-labelledby="4511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.1.1 </h2> <p><strong>Release date:</strong> 2023-02-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add permission to the alertmanagers/status resource (#3016)</li> </ul> <h3 id="default-value-changes-155"> <a href="#default-value-changes-155" class="anchor-heading" aria-labelledby="default-value-changes-155"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4510"> <a href="#4510" class="anchor-heading" aria-labelledby="4510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.1.0 </h2> <p><strong>Release date:</strong> 2023-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add stringConfig (#2992)</li> </ul> <h3 id="default-value-changes-156"> <a href="#default-value-changes-156" class="anchor-heading" aria-labelledby="default-value-changes-156"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5fd3dacf..45b08c4b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -212,6 +212,13 @@</span> alertmanager:
     templates:
     - '/etc/alertmanager/config/*.tmpl'
 
<span class="gi">+  ## Alertmanager configuration directives (as string type, preferred over the config hash map)
+  ## stringConfig will be used only, if tplConfig is true
+  ## ref: https://prometheus.io/docs/alerting/configuration/#configuration-file
+  ##      https://prometheus.io/webtools/alerting/routing-tree-editor/
+  ##
+  stringConfig: ""
+
</span>   ## Pass the Alertmanager configuration directives through Helm's templating
   ## engine. If the Alertmanager configuration contains Alertmanager templates,
   ## they'll need to be properly escaped so that they are not interpreted by
<span class="err">
</span></code></pre></div></div> <h2 id="4501"> <a href="#4501" class="anchor-heading" aria-labelledby="4501"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.0.1 </h2> <p><strong>Release date:</strong> 2023-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[prometheus-kube-stack] Fixes deployment of Thanos Ruler - Addresses Default Thanos Ruler name too long (#3021)</li> </ul> <h3 id="default-value-changes-157"> <a href="#default-value-changes-157" class="anchor-heading" aria-labelledby="default-value-changes-157"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4500"> <a href="#4500" class="anchor-heading" aria-labelledby="4500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 45.0.0 </h2> <p><strong>Release date:</strong> 2023-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.63.0&amp;color=success" alt="AppVersion: v0.63.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update kps to v0.63.0 (#3012)</li> </ul> <h3 id="default-value-changes-158"> <a href="#default-value-changes-158" class="anchor-heading" aria-labelledby="default-value-changes-158"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index eef1b654..5fd3dacf 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2205,7 +2205,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.30.1
</span><span class="gi">+    tag: v0.30.2
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2663,7 +2663,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.41.0
</span><span class="gi">+      tag: v2.42.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3533,7 +3533,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.30.1
</span><span class="gi">+      tag: v0.30.2
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="4441"> <a href="#4441" class="anchor-heading" aria-labelledby="4441"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.4.1 </h2> <p><strong>Release date:</strong> 2023-02-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update helm Chart.lock to get latest grafana version. (#2990)</li> </ul> <h3 id="default-value-changes-159"> <a href="#default-value-changes-159" class="anchor-heading" aria-labelledby="default-value-changes-159"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4440"> <a href="#4440" class="anchor-heading" aria-labelledby="4440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.4.0 </h2> <p><strong>Release date:</strong> 2023-02-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support multi-cluster alerting rules for prometheus-operator (#2993)</li> </ul> <h3 id="default-value-changes-160"> <a href="#default-value-changes-160" class="anchor-heading" aria-labelledby="default-value-changes-160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4431"> <a href="#4431" class="anchor-heading" aria-labelledby="4431"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.3.1 </h2> <p><strong>Release date:</strong> 2023-02-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix registry for Config Relaoder and Thanos (#2975)</li> </ul> <h3 id="default-value-changes-161"> <a href="#default-value-changes-161" class="anchor-heading" aria-labelledby="default-value-changes-161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4430"> <a href="#4430" class="anchor-heading" aria-labelledby="4430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.3.0 </h2> <p><strong>Release date:</strong> 2023-01-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana chart (#2946)</li> </ul> <h3 id="default-value-changes-162"> <a href="#default-value-changes-162" class="anchor-heading" aria-labelledby="default-value-changes-162"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4421"> <a href="#4421" class="anchor-heading" aria-labelledby="4421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.2.1 </h2> <p><strong>Release date:</strong> 2023-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Registry change for upstream kube-webhook-certgen (#2924)</li> </ul> <h3 id="default-value-changes-163"> <a href="#default-value-changes-163" class="anchor-heading" aria-labelledby="default-value-changes-163"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 790fd145..eef1b654 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1862,7 +1862,7 @@</span> prometheusOperator:
     patch:
       enabled: true
       image:
<span class="gd">-        registry: k8s.gcr.io
</span><span class="gi">+        registry: registry.k8s.io
</span>         repository: ingress-nginx/kube-webhook-certgen
         tag: v1.3.0
         sha: ""
<span class="err">
</span></code></pre></div></div> <h2 id="4420"> <a href="#4420" class="anchor-heading" aria-labelledby="4420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.2.0 </h2> <p><strong>Release date:</strong> 2023-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add alertmanagerConfigMatcherStrategy for alertmanager (#2882)</li> </ul> <h3 id="default-value-changes-164"> <a href="#default-value-changes-164" class="anchor-heading" aria-labelledby="default-value-changes-164"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7243e992..790fd145 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -553,6 +553,13 @@</span> alertmanager:
     # alertmanagerConfiguration:
     #   name: global-alertmanager-Configuration
 
<span class="gi">+    ## Defines the strategy used by AlertmanagerConfig objects to match alerts. eg:
+    ##
+    alertmanagerConfigMatcherStrategy: {}
+    ## Example with use OnNamespace strategy
+    # alertmanagerConfigMatcherStrategy:
+    #   type: OnNamespace
+
</span>     ## Define Log Format
     # Use logfmt (default) or json logging
     logFormat: logfmt
<span class="err">
</span></code></pre></div></div> <h2 id="4410"> <a href="#4410" class="anchor-heading" aria-labelledby="4410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.1.0 </h2> <p><strong>Release date:</strong> 2023-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for hostAliases in prometheus (#2780)</li> </ul> <h3 id="default-value-changes-165"> <a href="#default-value-changes-165" class="anchor-heading" aria-labelledby="default-value-changes-165"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 9435f708..7243e992 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3206,6 +3206,14 @@</span> prometheus:
     # When hostNetwork is enabled, this will set dnsPolicy to ClusterFirstWithHostNet automatically.
     hostNetwork: false
 
<span class="gi">+    # HostAlias holds the mapping between IP and hostnames that will be injected
+    # as an entry in the pods hosts file.
+    hostAliases: []
+    #  - ip: 10.10.0.100
+    #    hostnames:
+    #      - a1.app.local
+    #      - b1.app.local
+
</span>   additionalRulesForClusterRole: []
   #  - apiGroups: [ "" ]
   #    resources:
<span class="err">
</span></code></pre></div></div> <h2 id="4400"> <a href="#4400" class="anchor-heading" aria-labelledby="4400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 44.0.0 </h2> <p><strong>Release date:</strong> 2023-01-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.62.0&amp;color=success" alt="AppVersion: v0.62.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> More secure admissionWebhooks failurePolicy (#2911)</li> </ul> <h3 id="default-value-changes-166"> <a href="#default-value-changes-166" class="anchor-heading" aria-labelledby="default-value-changes-166"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2135df47..9435f708 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1838,7 +1838,7 @@</span> prometheusOperator:
   ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
   ## rules from making their way into prometheus and potentially preventing the container from starting
   admissionWebhooks:
<span class="gd">-    failurePolicy: Fail
</span><span class="gi">+    failurePolicy:
</span>     ## The default timeoutSeconds is 10 and the maximum value is 30.
     timeoutSeconds: 10
     enabled: true
<span class="p">@@ -2153,7 +2153,8 @@</span> prometheusOperator:
   image:
     registry: quay.io
     repository: prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.61.1
</span><span class="gi">+    # if not set appVersion field from Chart.yaml is used
+    tag: ""
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -2179,7 +2180,8 @@</span> prometheusOperator:
     image:
       registry: quay.io
       repository: prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.61.1
</span><span class="gi">+      # if not set appVersion field from Chart.yaml is used
+      tag: ""
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -2196,7 +2198,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.29.0
</span><span class="gi">+    tag: v0.30.1
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2654,7 +2656,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.40.5
</span><span class="gi">+      tag: v2.41.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3516,7 +3518,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.29.0
</span><span class="gi">+      tag: v0.30.1
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="4331"> <a href="#4331" class="anchor-heading" aria-labelledby="4331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.3.1 </h2> <p><strong>Release date:</strong> 2023-01-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> modify prometheusOperator.serviceMonitor.sampleLimit default value 0 (mean no limit) (#2913)</li> </ul> <h3 id="default-value-changes-167"> <a href="#default-value-changes-167" class="anchor-heading" aria-labelledby="default-value-changes-167"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 55e3e032..2135df47 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2024,7 +2024,7 @@</span> prometheusOperator:
 
     ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
     ##
<span class="gd">-    sampleLimit: 100
</span><span class="gi">+    sampleLimit: 0
</span> 
     ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="4330"> <a href="#4330" class="anchor-heading" aria-labelledby="4330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.3.0 </h2> <p><strong>Release date:</strong> 2023-01-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add servicemonitor/podmonitor scrape limits (#2615)</li> </ul> <h3 id="default-value-changes-168"> <a href="#default-value-changes-168" class="anchor-heading" aria-labelledby="default-value-changes-168"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4ad72b40..55e3e032 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -413,6 +413,26 @@</span> alertmanager:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -902,6 +922,27 @@</span> kubeApiServer:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+
+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -955,6 +996,26 @@</span> kubelet:
     ##
     interval: ""
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1141,6 +1202,26 @@</span> kubeControllerManager:
     ##
     interval: ""
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1195,6 +1276,26 @@</span> coreDns:
     ##
     interval: ""
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1241,6 +1342,26 @@</span> kubeDns:
     ##
     interval: ""
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1325,6 +1446,27 @@</span> kubeEtcd:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+
+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1388,6 +1530,27 @@</span> kubeScheduler:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+
+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1452,6 +1615,26 @@</span> kubeProxy:
     ##
     interval: ""
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="p">@@ -1502,6 +1685,26 @@</span> kube-state-metrics:
       ##
       interval: ""
 
<span class="gi">+      ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+      ##
+      sampleLimit: 0
+
+      ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+      ##
+      targetLimit: 0
+
+      ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelLimit: 0
+
+      ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelNameLengthLimit: 0
+
+      ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelValueLengthLimit: 0
+
</span>       ## Scrape Timeout. If not set, the Prometheus default scrape timeout is used.
       ##
       scrapeTimeout: ""
<span class="p">@@ -1565,6 +1768,26 @@</span> prometheus-node-exporter:
       ##
       interval: ""
 
<span class="gi">+      ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+      ##
+      sampleLimit: 0
+
+      ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+      ##
+      targetLimit: 0
+
+      ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelLimit: 0
+
+      ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelNameLengthLimit: 0
+
+      ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelValueLengthLimit: 0
+
</span>       ## How long until a scrape request times out. If not set, the Prometheus default scape timeout is used.
       ##
       scrapeTimeout: ""
<span class="p">@@ -1798,6 +2021,27 @@</span> prometheusOperator:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+
+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 100
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## Scrape timeout. If not set, the Prometheus default scrape timeout is used.
     scrapeTimeout: ""
     selfMonitor: true
<span class="p">@@ -2302,6 +2546,26 @@</span> prometheus:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
     scheme: ""
 
<span class="p">@@ -3186,6 +3450,26 @@</span> thanosRuler:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+    ##
+    sampleLimit: 0
+
+    ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+    ##
+    targetLimit: 0
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelLimit: 0
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelNameLengthLimit: 0
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+    ##
+    labelValueLengthLimit: 0
+
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="err">
</span></code></pre></div></div> <h2 id="4321"> <a href="#4321" class="anchor-heading" aria-labelledby="4321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.2.1 </h2> <p><strong>Release date:</strong> 2022-12-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump version to force use of new versions of subcharts (#2867)</li> </ul> <h3 id="default-value-changes-169"> <a href="#default-value-changes-169" class="anchor-heading" aria-labelledby="default-value-changes-169"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4320"> <a href="#4320" class="anchor-heading" aria-labelledby="4320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.2.0 </h2> <p><strong>Release date:</strong> 2022-12-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> updates alertmanager image to v0.25.0 (#2860)</li> </ul> <h3 id="default-value-changes-170"> <a href="#default-value-changes-170" class="anchor-heading" aria-labelledby="default-value-changes-170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e0062fd9..4ad72b40 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -463,7 +463,7 @@</span> alertmanager:
     image:
       registry: quay.io
       repository: prometheus/alertmanager
<span class="gd">-      tag: v0.24.0
</span><span class="gi">+      tag: v0.25.0
</span>       sha: ""
 
     ## If true then the user will be responsible to provide a secret with alertmanager configuration
<span class="err">
</span></code></pre></div></div> <h2 id="4314"> <a href="#4314" class="anchor-heading" aria-labelledby="4314"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.1.4 </h2> <p><strong>Release date:</strong> 2022-12-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add IsDefaultDatasource for editing isDefault value for another DS (#2686)</li> </ul> <h3 id="default-value-changes-171"> <a href="#default-value-changes-171" class="anchor-heading" aria-labelledby="default-value-changes-171"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8da2879c..e0062fd9 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -798,6 +798,7 @@</span> grafana:
     datasources:
       enabled: true
       defaultDatasourceEnabled: true
<span class="gi">+      isDefaultDatasource: true
</span> 
       uid: prometheus
 
<span class="err">
</span></code></pre></div></div> <h2 id="4313"> <a href="#4313" class="anchor-heading" aria-labelledby="4313"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.1.3 </h2> <p><strong>Release date:</strong> 2022-12-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Remove ruleNamespaceSelector and ruleSelector from CRD, if enableFeatures contains agent (#2648)</li> </ul> <h3 id="default-value-changes-172"> <a href="#default-value-changes-172" class="anchor-heading" aria-labelledby="default-value-changes-172"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4312"> <a href="#4312" class="anchor-heading" aria-labelledby="4312"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.1.2 </h2> <p><strong>Release date:</strong> 2022-12-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix prometheus-operator VPA targetRef (#2839)</li> </ul> <h3 id="default-value-changes-173"> <a href="#default-value-changes-173" class="anchor-heading" aria-labelledby="default-value-changes-173"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4311"> <a href="#4311" class="anchor-heading" aria-labelledby="4311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.1.1 </h2> <p><strong>Release date:</strong> 2022-12-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix Chart.yaml - remove <code class="language-plaintext highlighter-rouge">engine: gotpl</code> (#2814)</li> </ul> <h3 id="default-value-changes-174"> <a href="#default-value-changes-174" class="anchor-heading" aria-labelledby="default-value-changes-174"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4310"> <a href="#4310" class="anchor-heading" aria-labelledby="4310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.1.0 </h2> <p><strong>Release date:</strong> 2022-12-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana chart version (#2805)</li> </ul> <h3 id="default-value-changes-175"> <a href="#default-value-changes-175" class="anchor-heading" aria-labelledby="default-value-changes-175"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4300"> <a href="#4300" class="anchor-heading" aria-labelledby="4300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 43.0.0 </h2> <p><strong>Release date:</strong> 2022-12-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.61.1&amp;color=success" alt="AppVersion: 0.61.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[kube-prometheus-stack ]Upgrade to 43.0.0 (#2789)</li> </ul> <h3 id="default-value-changes-176"> <a href="#default-value-changes-176" class="anchor-heading" aria-labelledby="default-value-changes-176"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e5d805cd..8da2879c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1908,7 +1908,7 @@</span> prometheusOperator:
   image:
     registry: quay.io
     repository: prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.60.1
</span><span class="gi">+    tag: v0.61.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1934,7 +1934,7 @@</span> prometheusOperator:
     image:
       registry: quay.io
       repository: prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.60.1
</span><span class="gi">+      tag: v0.61.1
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -1951,7 +1951,7 @@</span> prometheusOperator:
   thanosImage:
     registry: quay.io
     repository: thanos/thanos
<span class="gd">-    tag: v0.28.1
</span><span class="gi">+    tag: v0.29.0
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2389,7 +2389,7 @@</span> prometheus:
     image:
       registry: quay.io
       repository: prometheus/prometheus
<span class="gd">-      tag: v2.39.1
</span><span class="gi">+      tag: v2.40.5
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3231,7 +3231,7 @@</span> thanosRuler:
     image:
       registry: quay.io
       repository: thanos/thanos
<span class="gd">-      tag: v0.28.1
</span><span class="gi">+      tag: v0.29.0
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="4230"> <a href="#4230" class="anchor-heading" aria-labelledby="4230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.3.0 </h2> <p><strong>Release date:</strong> 2022-12-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump Grafana Chart to most recent commit (#2801)</li> </ul> <h3 id="default-value-changes-177"> <a href="#default-value-changes-177" class="anchor-heading" aria-labelledby="default-value-changes-177"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4221"> <a href="#4221" class="anchor-heading" aria-labelledby="4221"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.2.1 </h2> <p><strong>Release date:</strong> 2022-12-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix netpol to allow access to the api-server (#2790)</li> </ul> <h3 id="default-value-changes-178"> <a href="#default-value-changes-178" class="anchor-heading" aria-labelledby="default-value-changes-178"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4220"> <a href="#4220" class="anchor-heading" aria-labelledby="4220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.2.0 </h2> <p><strong>Release date:</strong> 2022-12-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-179"> <a href="#default-value-changes-179" class="anchor-heading" aria-labelledby="default-value-changes-179"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4211"> <a href="#4211" class="anchor-heading" aria-labelledby="4211"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.1.1 </h2> <p><strong>Release date:</strong> 2022-11-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow setting timeoutSeconds in ValidatingWebhook (#2761)</li> </ul> <h3 id="default-value-changes-180"> <a href="#default-value-changes-180" class="anchor-heading" aria-labelledby="default-value-changes-180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4210"> <a href="#4210" class="anchor-heading" aria-labelledby="4210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.1.0 </h2> <p><strong>Release date:</strong> 2022-11-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump kube-state-metrics version (#2740)</li> </ul> <h3 id="default-value-changes-181"> <a href="#default-value-changes-181" class="anchor-heading" aria-labelledby="default-value-changes-181"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4203"> <a href="#4203" class="anchor-heading" aria-labelledby="4203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.0.3 </h2> <p><strong>Release date:</strong> 2022-11-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Prevent helm diff on ServiceMonitor - Kubelet (#2732)</li> </ul> <h3 id="default-value-changes-182"> <a href="#default-value-changes-182" class="anchor-heading" aria-labelledby="default-value-changes-182"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 74290a75..e5d805cd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1037,7 +1037,8 @@</span> kubelet:
     ##
     ## metrics_path is required to match upstream rules and charts
     cAdvisorRelabelings:
<span class="gd">-      - sourceLabels: [__metrics_path__]
</span><span class="gi">+      - action: replace
+        sourceLabels: [__metrics_path__]
</span>         targetLabel: metrics_path
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
     #   separator: ;
<span class="p">@@ -1050,7 +1051,8 @@</span> kubelet:
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
     ##
     probesRelabelings:
<span class="gd">-      - sourceLabels: [__metrics_path__]
</span><span class="gi">+      - action: replace
+        sourceLabels: [__metrics_path__]
</span>         targetLabel: metrics_path
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
     #   separator: ;
<span class="p">@@ -1063,7 +1065,8 @@</span> kubelet:
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
     ##
     resourceRelabelings:
<span class="gd">-      - sourceLabels: [__metrics_path__]
</span><span class="gi">+      - action: replace
+        sourceLabels: [__metrics_path__]
</span>         targetLabel: metrics_path
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
     #   separator: ;
<span class="p">@@ -1092,7 +1095,8 @@</span> kubelet:
     ##
     ## metrics_path is required to match upstream rules and charts
     relabelings:
<span class="gd">-      - sourceLabels: [__metrics_path__]
</span><span class="gi">+      - action: replace
+        sourceLabels: [__metrics_path__]
</span>         targetLabel: metrics_path
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
     #   separator: ;
<span class="err">
</span></code></pre></div></div> <h2 id="4202"> <a href="#4202" class="anchor-heading" aria-labelledby="4202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.0.2 </h2> <p><strong>Release date:</strong> 2022-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add myself as kube-prometheus-stack maintainer (#2728)</li> </ul> <h3 id="default-value-changes-183"> <a href="#default-value-changes-183" class="anchor-heading" aria-labelledby="default-value-changes-183"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4201"> <a href="#4201" class="anchor-heading" aria-labelledby="4201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.0.1 </h2> <p><strong>Release date:</strong> 2022-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add missing upgrade to 42.x info (#2727)</li> </ul> <h3 id="default-value-changes-184"> <a href="#default-value-changes-184" class="anchor-heading" aria-labelledby="default-value-changes-184"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4200"> <a href="#4200" class="anchor-heading" aria-labelledby="4200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 42.0.0 </h2> <p><strong>Release date:</strong> 2022-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add local and global image registry support (#2692)</li> </ul> <h3 id="default-value-changes-185"> <a href="#default-value-changes-185" class="anchor-heading" aria-labelledby="default-value-changes-185"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c01f9c93..74290a75 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -122,6 +122,10 @@</span> global:
       # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
       # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
 
<span class="gi">+  ## Global image registry to use if it needs to be overriden for some specific use cases (e.g local registries, custom images, ...)
+  ##
+  imageRegistry: ""
+
</span>   ## Reference to one or more secrets to be used when pulling images
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
   ##
<span class="p">@@ -457,7 +461,8 @@</span> alertmanager:
     ## Image of Alertmanager
     ##
     image:
<span class="gd">-      repository: quay.io/prometheus/alertmanager
</span><span class="gi">+      registry: quay.io
+      repository: prometheus/alertmanager
</span>       tag: v0.24.0
       sha: ""
 
<span class="p">@@ -1622,7 +1627,8 @@</span> prometheusOperator:
     patch:
       enabled: true
       image:
<span class="gd">-        repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
</span><span class="gi">+        registry: k8s.gcr.io
+        repository: ingress-nginx/kube-webhook-certgen
</span>         tag: v1.3.0
         sha: ""
         pullPolicy: IfNotPresent
<span class="p">@@ -1896,24 +1902,34 @@</span> prometheusOperator:
   ## Prometheus-operator image
   ##
   image:
<span class="gd">-    repository: quay.io/prometheus-operator/prometheus-operator
</span><span class="gi">+    registry: quay.io
+    repository: prometheus-operator/prometheus-operator
</span>     tag: v0.60.1
     sha: ""
     pullPolicy: IfNotPresent
 
   ## Prometheus image to use for prometheuses managed by the operator
   ##
<span class="gd">-  # prometheusDefaultBaseImage: quay.io/prometheus/prometheus
</span><span class="gi">+  # prometheusDefaultBaseImage: prometheus/prometheus
+
+  ## Prometheus image registry to use for prometheuses managed by the operator
+  ##
+  # prometheusDefaultBaseImageRegistry: quay.io
</span> 
   ## Alertmanager image to use for alertmanagers managed by the operator
   ##
<span class="gd">-  # alertmanagerDefaultBaseImage: quay.io/prometheus/alertmanager
</span><span class="gi">+  # alertmanagerDefaultBaseImage: prometheus/alertmanager
+
+  ## Alertmanager image registry to use for alertmanagers managed by the operator
+  ##
+  # alertmanagerDefaultBaseImageRegistry: quay.io
</span> 
   ## Prometheus-config-reloader
   ##
   prometheusConfigReloader:
     image:
<span class="gd">-      repository: quay.io/prometheus-operator/prometheus-config-reloader
</span><span class="gi">+      registry: quay.io
+      repository: prometheus-operator/prometheus-config-reloader
</span>       tag: v0.60.1
       sha: ""
 
<span class="p">@@ -1929,7 +1945,8 @@</span> prometheusOperator:
   ## Thanos side-car image when configured
   ##
   thanosImage:
<span class="gd">-    repository: quay.io/thanos/thanos
</span><span class="gi">+    registry: quay.io
+    repository: thanos/thanos
</span>     tag: v0.28.1
     sha: ""
 
<span class="p">@@ -2366,7 +2383,8 @@</span> prometheus:
     ## Image of Prometheus.
     ##
     image:
<span class="gd">-      repository: quay.io/prometheus/prometheus
</span><span class="gi">+      registry: quay.io
+      repository: prometheus/prometheus
</span>       tag: v2.39.1
       sha: ""
 
<span class="p">@@ -3207,7 +3225,8 @@</span> thanosRuler:
     ## Image of ThanosRuler
     ##
     image:
<span class="gd">-      repository: quay.io/thanos/thanos
</span><span class="gi">+      registry: quay.io
+      repository: thanos/thanos
</span>       tag: v0.28.1
       sha: ""
 
<span class="err">
</span></code></pre></div></div> <h2 id="4191"> <a href="#4191" class="anchor-heading" aria-labelledby="4191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.9.1 </h2> <p><strong>Release date:</strong> 2022-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix PSP deprecation after k8s 1.25+ (#2691)</li> </ul> <h3 id="default-value-changes-186"> <a href="#default-value-changes-186" class="anchor-heading" aria-labelledby="default-value-changes-186"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4190"> <a href="#4190" class="anchor-heading" aria-labelledby="4190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.9.0 </h2> <p><strong>Release date:</strong> 2022-11-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add support for additional labels on operators ServiceMonitor (#2687)</li> </ul> <h3 id="default-value-changes-187"> <a href="#default-value-changes-187" class="anchor-heading" aria-labelledby="default-value-changes-187"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 17c57142..c01f9c93 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1781,6 +1781,9 @@</span> prometheusOperator:
   ## Create a servicemonitor for the operator
   ##
   serviceMonitor:
<span class="gi">+    ## Labels for ServiceMonitor
+    additionalLabels: {}
+
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="err">
</span></code></pre></div></div> <h2 id="4180"> <a href="#4180" class="anchor-heading" aria-labelledby="4180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.8.0 </h2> <p><strong>Release date:</strong> 2022-11-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> : enable hostNetwork support for Prometheus CR Object (#2693)</li> </ul> <h3 id="default-value-changes-188"> <a href="#default-value-changes-188" class="anchor-heading" aria-labelledby="default-value-changes-188"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 47ceaf58..17c57142 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2908,6 +2908,12 @@</span> prometheus:
     ## be considered available. Defaults to 0 (pod will be considered available as soon as it is ready).
     minReadySeconds: 0
 
<span class="gi">+    # Required for use in managed kubernetes clusters (such as AWS EKS) with custom CNI (such as calico),
+    # because control-plane managed by AWS cannot communicate with pods' IP CIDR and admission webhooks are not working
+    # Use the host's network namespace if true. Make sure to understand the security implications if you want to enable it.
+    # When hostNetwork is enabled, this will set dnsPolicy to ClusterFirstWithHostNet automatically.
+    hostNetwork: false
+
</span>   additionalRulesForClusterRole: []
   #  - apiGroups: [ "" ]
   #    resources:
<span class="err">
</span></code></pre></div></div> <h2 id="4174"> <a href="#4174" class="anchor-heading" aria-labelledby="4174"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.7.4 </h2> <p><strong>Release date:</strong> 2022-11-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-189"> <a href="#default-value-changes-189" class="anchor-heading" aria-labelledby="default-value-changes-189"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4173"> <a href="#4173" class="anchor-heading" aria-labelledby="4173"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.7.3 </h2> <p><strong>Release date:</strong> 2022-11-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump kube-state-metrics version (#2636)</li> </ul> <h3 id="default-value-changes-190"> <a href="#default-value-changes-190" class="anchor-heading" aria-labelledby="default-value-changes-190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4172"> <a href="#4172" class="anchor-heading" aria-labelledby="4172"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.7.2 </h2> <p><strong>Release date:</strong> 2022-10-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> avoid alerting field in prometheus CR, if alertmanager config is empty (#2600)</li> </ul> <h3 id="default-value-changes-191"> <a href="#default-value-changes-191" class="anchor-heading" aria-labelledby="default-value-changes-191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4171"> <a href="#4171" class="anchor-heading" aria-labelledby="4171"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.7.1 </h2> <p><strong>Release date:</strong> 2022-10-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-192"> <a href="#default-value-changes-192" class="anchor-heading" aria-labelledby="default-value-changes-192"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 06f085db..47ceaf58 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -418,7 +418,7 @@</span> alertmanager:
 
     ## enableHttp2: Whether to enable HTTP2.
     ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint
<span class="gd">-    enableHttp2: false
</span><span class="gi">+    enableHttp2: true
</span> 
     ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
     ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
<span class="err">
</span></code></pre></div></div> <h2 id="4170"> <a href="#4170" class="anchor-heading" aria-labelledby="4170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.7.0 </h2> <p><strong>Release date:</strong> 2022-10-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump prometheus-node-exporter subchart version (#2619)</li> </ul> <h3 id="default-value-changes-193"> <a href="#default-value-changes-193" class="anchor-heading" aria-labelledby="default-value-changes-193"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4161"> <a href="#4161" class="anchor-heading" aria-labelledby="4161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.6.1 </h2> <p><strong>Release date:</strong> 2022-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Remove desaintmartin from maintainers. (#2604)</li> </ul> <h3 id="default-value-changes-194"> <a href="#default-value-changes-194" class="anchor-heading" aria-labelledby="default-value-changes-194"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4160"> <a href="#4160" class="anchor-heading" aria-labelledby="4160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.6.0 </h2> <p><strong>Release date:</strong> 2022-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana 6.43.0 (9.2.1) (#2602)</li> </ul> <h3 id="default-value-changes-195"> <a href="#default-value-changes-195" class="anchor-heading" aria-labelledby="default-value-changes-195"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4151"> <a href="#4151" class="anchor-heading" aria-labelledby="4151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.5.1 </h2> <p><strong>Release date:</strong> 2022-10-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix network policy api template (#2586)</li> </ul> <h3 id="default-value-changes-196"> <a href="#default-value-changes-196" class="anchor-heading" aria-labelledby="default-value-changes-196"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4150"> <a href="#4150" class="anchor-heading" aria-labelledby="4150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.5.0 </h2> <p><strong>Release date:</strong> 2022-10-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add network policies (#2580)</li> </ul> <h3 id="default-value-changes-197"> <a href="#default-value-changes-197" class="anchor-heading" aria-labelledby="default-value-changes-197"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 00983e25..06f085db 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1692,6 +1692,11 @@</span> prometheusOperator:
   ##
   # clusterDomain: "cluster.local"
 
<span class="gi">+  networkPolicy:
+    ## Enable creation of NetworkPolicy resources.
+    ##
+    enabled: false
+
</span>   ## Service account for Alertmanager to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="4141"> <a href="#4141" class="anchor-heading" aria-labelledby="4141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.4.1 </h2> <p><strong>Release date:</strong> 2022-10-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> PodSecurityPolicy being removed from Kubernetes (#2561)</li> </ul> <h3 id="default-value-changes-198"> <a href="#default-value-changes-198" class="anchor-heading" aria-labelledby="default-value-changes-198"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4140"> <a href="#4140" class="anchor-heading" aria-labelledby="4140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.4.0 </h2> <p><strong>Release date:</strong> 2022-10-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add Vertical Pod Autoscaler to Prometheus Operator (#2552)</li> </ul> <h3 id="default-value-changes-199"> <a href="#default-value-changes-199" class="anchor-heading" aria-labelledby="default-value-changes-199"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 109a4f93..00983e25 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1865,6 +1865,26 @@</span> prometheusOperator:
     allowPrivilegeEscalation: false
     readOnlyRootFilesystem: true
 
<span class="gi">+  # Enable vertical pod autoscaler support for prometheus-operator
+  verticalPodAutoscaler:
+    enabled: false
+    # List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
+    controlledResources: []
+
+    # Define the max allowed resources for the pod
+    maxAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+    # Define the min allowed resources for the pod
+    minAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+
+    updatePolicy:
+      # Specifies whether recommended updates are applied when a Pod is started and whether recommended updates
+      # are applied during the life of a Pod. Possible values are "Off", "Initial", "Recreate", and "Auto".
+      updateMode: Auto
+
</span>   ## Prometheus-operator image
   ##
   image:
<span class="err">
</span></code></pre></div></div> <h2 id="4132"> <a href="#4132" class="anchor-heading" aria-labelledby="4132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.3.2 </h2> <p><strong>Release date:</strong> 2022-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix generated label for Prometheus Pod anti-affinity (#2554)</li> </ul> <h3 id="default-value-changes-200"> <a href="#default-value-changes-200" class="anchor-heading" aria-labelledby="default-value-changes-200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4131"> <a href="#4131" class="anchor-heading" aria-labelledby="4131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.3.1 </h2> <p><strong>Release date:</strong> 2022-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix servicemonitor (#2549)</li> </ul> <h3 id="default-value-changes-201"> <a href="#default-value-changes-201" class="anchor-heading" aria-labelledby="default-value-changes-201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5266d0fc..109a4f93 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -418,7 +418,7 @@</span> alertmanager:
 
     ## enableHttp2: Whether to enable HTTP2.
     ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint
<span class="gd">-    enableHttp2: true
</span><span class="gi">+    enableHttp2: false
</span> 
     ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
     ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
<span class="err">
</span></code></pre></div></div> <h2 id="4130"> <a href="#4130" class="anchor-heading" aria-labelledby="4130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.3.0 </h2> <p><strong>Release date:</strong> 2022-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow annotations on the admissionWebhook Jobs (#2528)</li> </ul> <h3 id="default-value-changes-202"> <a href="#default-value-changes-202" class="anchor-heading" aria-labelledby="default-value-changes-202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d9042e8e..5266d0fc 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1616,6 +1616,9 @@</span> prometheusOperator:
     ## On chart upgrades (or if the secret exists) the cert will not be re-generated. You can use this to provide your own
     ## certs ahead of time if you wish.
     ##
<span class="gi">+    annotations: {}
+    #   argocd.argoproj.io/hook: PreSync
+    #   argocd.argoproj.io/hook-delete-policy: HookSucceeded
</span>     patch:
       enabled: true
       image:
<span class="p">@@ -1627,6 +1630,9 @@</span> prometheusOperator:
       ## Provide a priority class name to the webhook patching job
       ##
       priorityClassName: ""
<span class="gi">+      annotations: {}
+      #   argocd.argoproj.io/hook: PreSync
+      #   argocd.argoproj.io/hook-delete-policy: HookSucceeded
</span>       podAnnotations: {}
       nodeSelector: {}
       affinity: {}
<span class="err">
</span></code></pre></div></div> <h2 id="4120"> <a href="#4120" class="anchor-heading" aria-labelledby="4120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.2.0 </h2> <p><strong>Release date:</strong> 2022-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-203"> <a href="#default-value-changes-203" class="anchor-heading" aria-labelledby="default-value-changes-203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 844aa3eb..d9042e8e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -416,6 +416,10 @@</span> alertmanager:
     ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
     scheme: ""
 
<span class="gi">+    ## enableHttp2: Whether to enable HTTP2.
+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#endpoint
+    enableHttp2: true
+
</span>     ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
     ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
     tlsConfig: {}
<span class="err">
</span></code></pre></div></div> <h2 id="4110"> <a href="#4110" class="anchor-heading" aria-labelledby="4110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.1.0 </h2> <p><strong>Release date:</strong> 2022-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add additionalArgs support to PrometheusSpec (#2482)</li> </ul> <h3 id="default-value-changes-204"> <a href="#default-value-changes-204" class="anchor-heading" aria-labelledby="default-value-changes-204"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 58367134..844aa3eb 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2280,6 +2280,10 @@</span> prometheus:
     ##
     apiserverConfig: {}
 
<span class="gi">+    ## Allows setting additional arguments for the Prometheus container
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#monitoring.coreos.com/v1.Prometheus
+    additionalArgs: []
+
</span>     ## Interval between consecutive scrapes.
     ## Defaults to 30s.
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/release-0.44/pkg/prometheus/promcfg.go#L180-L183
<span class="err">
</span></code></pre></div></div> <h2 id="4101"> <a href="#4101" class="anchor-heading" aria-labelledby="4101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.0.1 </h2> <p><strong>Release date:</strong> 2022-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix versions (#2546)</li> </ul> <h3 id="default-value-changes-205"> <a href="#default-value-changes-205" class="anchor-heading" aria-labelledby="default-value-changes-205"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b24c24a6..58367134 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1859,7 +1859,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.59.2
</span><span class="gi">+    tag: v0.60.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1876,7 +1876,7 @@</span> prometheusOperator:
   prometheusConfigReloader:
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.59.2
</span><span class="gi">+      tag: v0.60.1
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -1892,7 +1892,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.28.0
</span><span class="gi">+    tag: v0.28.1
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2325,7 +2325,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.39.0
</span><span class="gi">+      tag: v2.39.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3160,7 +3160,7 @@</span> thanosRuler:
     ##
     image:
       repository: quay.io/thanos/thanos
<span class="gd">-      tag: v0.28.0
</span><span class="gi">+      tag: v0.28.1
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="4100"> <a href="#4100" class="anchor-heading" aria-labelledby="4100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 41.0.0 </h2> <p><strong>Release date:</strong> 2022-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.60.1&amp;color=success" alt="AppVersion: 0.60.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> prom operator update / add recording and alerting switch to kubeScheduler (#2410)</li> </ul> <h3 id="default-value-changes-206"> <a href="#default-value-changes-206" class="anchor-heading" aria-labelledby="default-value-changes-206"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2e31c5dd..b24c24a6 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -51,7 +51,8 @@</span> defaultRules:
     kubernetesResources: true
     kubernetesStorage: true
     kubernetesSystem: true
<span class="gd">-    kubeScheduler: true
</span><span class="gi">+    kubeSchedulerAlerting: true
+    kubeSchedulerRecording: true
</span>     kubeStateMetrics: true
     network: true
     node: true
<span class="err">
</span></code></pre></div></div> <h2 id="4050"> <a href="#4050" class="anchor-heading" aria-labelledby="4050"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.5.0 </h2> <p><strong>Release date:</strong> 2022-10-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.2&amp;color=success" alt="AppVersion: 0.59.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Prometheus to v2.39.0 (#2524)</li> </ul> <h3 id="default-value-changes-207"> <a href="#default-value-changes-207" class="anchor-heading" aria-labelledby="default-value-changes-207"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 62397399..2e31c5dd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2324,7 +2324,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.38.0
</span><span class="gi">+      tag: v2.39.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="4040"> <a href="#4040" class="anchor-heading" aria-labelledby="4040"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.4.0 </h2> <p><strong>Release date:</strong> 2022-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.2&amp;color=success" alt="AppVersion: 0.59.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add queryConfig to thanosRulerSpec (#2522)</li> </ul> <h3 id="default-value-changes-208"> <a href="#default-value-changes-208" class="anchor-heading" aria-labelledby="default-value-changes-208"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ce3e59d6..62397399 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3261,6 +3261,14 @@</span> thanosRuler:
     ## When used alongside with ObjectStorageConfig, ObjectStorageConfigFile takes precedence.
     objectStorageConfigFile: ""
 
<span class="gi">+    ## QueryEndpoints defines Thanos querier endpoints from which to query metrics.
+    ## Maps to the --query flag of thanos ruler.
+    queryEndpoints: []
+
+    ## Define configuration for connecting to thanos query instances. If this is defined, the queryEndpoints field will be ignored.
+    ## Maps to the query.config CLI argument. Only available with thanos v0.11.0 and higher.
+    queryConfig: {}
+
</span>     ## Labels configure the external label pairs to ThanosRuler. A default replica
     ## label `thanos_ruler_replica` will be always added as a label with the value
     ## of the pod's name and it will be dropped in the alerts.
<span class="err">
</span></code></pre></div></div> <h2 id="4031"> <a href="#4031" class="anchor-heading" aria-labelledby="4031"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.3.1 </h2> <p><strong>Release date:</strong> 2022-09-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.2&amp;color=success" alt="AppVersion: 0.59.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> BUMP ksm helm dep (#2509)</li> </ul> <h3 id="default-value-changes-209"> <a href="#default-value-changes-209" class="anchor-heading" aria-labelledby="default-value-changes-209"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4030"> <a href="#4030" class="anchor-heading" aria-labelledby="4030"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.3.0 </h2> <p><strong>Release date:</strong> 2022-09-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.2&amp;color=success" alt="AppVersion: 0.59.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - prometheus-operator0.59.2/dependencies (#2505)</li> </ul> <h3 id="default-value-changes-210"> <a href="#default-value-changes-210" class="anchor-heading" aria-labelledby="default-value-changes-210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 195ff31d..ce3e59d6 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1858,7 +1858,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.59.1
</span><span class="gi">+    tag: v0.59.2
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1875,7 +1875,7 @@</span> prometheusOperator:
   prometheusConfigReloader:
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.59.1
</span><span class="gi">+      tag: v0.59.2
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="err">
</span></code></pre></div></div> <h2 id="4020"> <a href="#4020" class="anchor-heading" aria-labelledby="4020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.2.0 </h2> <p><strong>Release date:</strong> 2022-09-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add ability to add custom labels in the operator deployment (#2492)</li> </ul> <h3 id="default-value-changes-211"> <a href="#default-value-changes-211" class="anchor-heading" aria-labelledby="default-value-changes-211"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ee9cca44..195ff31d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1727,6 +1727,10 @@</span> prometheusOperator:
     ##
     externalIPs: []
 
<span class="gi">+  # ## Labels to add to the operator deployment
+  # ##
+  labels: {}
+
</span>   ## Annotations to add to the operator deployment
   ##
   annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="4012"> <a href="#4012" class="anchor-heading" aria-labelledby="4012"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.1.2 </h2> <p><strong>Release date:</strong> 2022-09-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>helm dependency update (#2485)</li> </ul> <h3 id="default-value-changes-212"> <a href="#default-value-changes-212" class="anchor-heading" aria-labelledby="default-value-changes-212"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4011"> <a href="#4011" class="anchor-heading" aria-labelledby="4011"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.1.1 </h2> <p><strong>Release date:</strong> 2022-09-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - Add template option to namespaces flag (#2466)</li> </ul> <h3 id="default-value-changes-213"> <a href="#default-value-changes-213" class="anchor-heading" aria-labelledby="default-value-changes-213"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4010"> <a href="#4010" class="anchor-heading" aria-labelledby="4010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.1.0 </h2> <p><strong>Release date:</strong> 2022-09-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for StatefulSet minReadySeconds (#2463)</li> </ul> <h3 id="default-value-changes-214"> <a href="#default-value-changes-214" class="anchor-heading" aria-labelledby="default-value-changes-214"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e2d19a44..ee9cca44 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -686,6 +686,10 @@</span> alertmanager:
     ## Use case is e.g. spanning an Alertmanager cluster across Kubernetes clusters with a single replica in each.
     forceEnableClusterMode: false
 
<span class="gi">+    ## Minimum number of seconds for which a newly created pod should be ready without any of its container crashing for it to
+    ## be considered available. Defaults to 0 (pod will be considered available as soon as it is ready).
+    minReadySeconds: 0
+
</span>   ## ExtraSecret can be used to store various data in an extra secret
   ## (use it for example to store hashed basic auth credentials)
   extraSecret:
<span class="p">@@ -2856,6 +2860,10 @@</span> prometheus:
     ## in Prometheus so it may change in any upcoming release.
     allowOverlappingBlocks: false
 
<span class="gi">+    ## Minimum number of seconds for which a newly created pod should be ready without any of its container crashing for it to
+    ## be considered available. Defaults to 0 (pod will be considered available as soon as it is ready).
+    minReadySeconds: 0
+
</span>   additionalRulesForClusterRole: []
   #  - apiGroups: [ "" ]
   #    resources:
<span class="err">
</span></code></pre></div></div> <h2 id="4002"> <a href="#4002" class="anchor-heading" aria-labelledby="4002"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.0.2 </h2> <p><strong>Release date:</strong> 2022-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add template to storage configurations (#2415)</li> </ul> <h3 id="default-value-changes-215"> <a href="#default-value-changes-215" class="anchor-heading" aria-labelledby="default-value-changes-215"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4001"> <a href="#4001" class="anchor-heading" aria-labelledby="4001"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.0.1 </h2> <p><strong>Release date:</strong> 2022-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update port for metric of etcd (#2264)</li> </ul> <h3 id="default-value-changes-216"> <a href="#default-value-changes-216" class="anchor-heading" aria-labelledby="default-value-changes-216"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 74e7c6df..e2d19a44 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1285,8 +1285,8 @@</span> kubeEtcd:
   ##
   service:
     enabled: true
<span class="gd">-    port: 2379
-    targetPort: 2379
</span><span class="gi">+    port: 2381
+    targetPort: 2381
</span>     # selector:
     #   component: etcd
 
<span class="err">
</span></code></pre></div></div> <h2 id="4000"> <a href="#4000" class="anchor-heading" aria-labelledby="4000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 40.0.0 </h2> <p><strong>Release date:</strong> 2022-09-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.59.1&amp;color=success" alt="AppVersion: 0.59.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> prometheus-operator0.59.1/Prometheus2.37.1/all dependencies (#2440)</li> </ul> <h3 id="default-value-changes-217"> <a href="#default-value-changes-217" class="anchor-heading" aria-labelledby="default-value-changes-217"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8de44218..74e7c6df 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -703,14 +703,6 @@</span> grafana:
   enabled: true
   namespaceOverride: ""
 
<span class="gd">-  ## Image and version of grafana. If not provided (left commented out) default values from grafana charts will be used.
-  ##
-  # image:
-  #   repository: docker.io/grafana/grafana
-  #   tag: 9.0.6
-  #   sha: ""
-  #   pullPolicy: IfNotPresent
-
</span>   ## ForceDeployDatasources Create datasource configmap even if grafana deployment has been disabled
   ##
   forceDeployDatasources: false
<span class="p">@@ -774,13 +766,6 @@</span> grafana:
     #   - grafana.example.com
 
   sidecar:
<span class="gd">-    ## Image and version of sidecar. If not provided (left commented out) default values from grafana charts will be used.
-    ##
-    # image:
-    #   repository: quay.io/kiwigrid/k8s-sidecar
-    #   tag: 1.19.2
-    #   sha: ""
-
</span>     dashboards:
       enabled: true
       label: grafana_dashboard
<span class="p">@@ -1486,14 +1471,6 @@</span> kubeStateMetrics:
 ## Configuration for kube-state-metrics subchart
 ##
 kube-state-metrics:
<span class="gd">-  ##
-  ##
-  # image:
-  #  repository: registry.k8s.io/kube-state-metrics/kube-state-metrics
-  #  tag: v2.5.0
-  #  sha: ""
-  #  pullPolicy: IfNotPresent
-
</span>   namespaceOverride: ""
   rbac:
     create: true
<span class="p">@@ -1548,18 +1525,12 @@</span> nodeExporter:
 ## Configuration for prometheus-node-exporter subchart
 ##
 prometheus-node-exporter:
<span class="gd">-  ## Image and version of prometheus-node-exporter. If not provided (left commented out) default values from grafana charts will be used.
-  ##
-  # image:
-  #   repository: quay.io/prometheus/node-exporter
-  #   tag: v1.3.1
-  #   pullPolicy: IfNotPresent
-
</span>   namespaceOverride: ""
   podLabels:
     ## Add the 'node-exporter' label to be used by serviceMonitor to match standard common usage in rules and grafana dashboards
     ##
     jobLabel: node-exporter
<span class="gi">+  releaseLabel: true
</span>   extraArgs:
     - --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
     - --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
<span class="p">@@ -1640,7 +1611,7 @@</span> prometheusOperator:
       enabled: true
       image:
         repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
<span class="gd">-        tag: v1.2.0
</span><span class="gi">+        tag: v1.3.0
</span>         sha: ""
         pullPolicy: IfNotPresent
       resources: {}
<span class="p">@@ -1879,7 +1850,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.58.0
</span><span class="gi">+    tag: v0.59.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1894,10 +1865,9 @@</span> prometheusOperator:
   ## Prometheus-config-reloader
   ##
   prometheusConfigReloader:
<span class="gd">-    # image to use for config and rule reloading
</span>     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.58.0
</span><span class="gi">+      tag: v0.59.1
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -1913,7 +1883,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.27.0
</span><span class="gi">+    tag: v0.28.0
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2346,7 +2316,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.37.0
</span><span class="gi">+      tag: v2.38.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -3177,7 +3147,7 @@</span> thanosRuler:
     ##
     image:
       repository: quay.io/thanos/thanos
<span class="gd">-      tag: v0.27.0
</span><span class="gi">+      tag: v0.28.0
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="39133"> <a href="#39133" class="anchor-heading" aria-labelledby="39133"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.13.3 </h2> <p><strong>Release date:</strong> 2022-09-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for templating in excludedFromEnforcement parameter (#2429)</li> </ul> <h3 id="default-value-changes-218"> <a href="#default-value-changes-218" class="anchor-heading" aria-labelledby="default-value-changes-218"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="39132"> <a href="#39132" class="anchor-heading" aria-labelledby="39132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.13.2 </h2> <p><strong>Release date:</strong> 2022-09-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - Add support for templating in additionalAlertManagerConfigs (#2430)</li> </ul> <h3 id="default-value-changes-219"> <a href="#default-value-changes-219" class="anchor-heading" aria-labelledby="default-value-changes-219"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="39131"> <a href="#39131" class="anchor-heading" aria-labelledby="39131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.13.1 </h2> <p><strong>Release date:</strong> 2022-09-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix variable WalCompression (#2412)</li> </ul> <h3 id="default-value-changes-220"> <a href="#default-value-changes-220" class="anchor-heading" aria-labelledby="default-value-changes-220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d1bcf166..8de44218 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2538,7 +2538,7 @@</span> prometheus:
 
     ## Enable compression of the write-ahead log using Snappy.
     ##
<span class="gd">-    walCompression: false
</span><span class="gi">+    walCompression: true
</span> 
     ## If true, the Operator won't process any Prometheus configuration changes
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="39130"> <a href="#39130" class="anchor-heading" aria-labelledby="39130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.13.0 </h2> <p><strong>Release date:</strong> 2022-09-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana 6.38.0 (9.1.4) (#2449)</li> </ul> <h3 id="default-value-changes-221"> <a href="#default-value-changes-221" class="anchor-heading" aria-labelledby="default-value-changes-221"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="39121"> <a href="#39121" class="anchor-heading" aria-labelledby="39121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.12.1 </h2> <p><strong>Release date:</strong> 2022-09-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bumb grafana to version 6.37.3 (9.1.4) (#2443)</li> </ul> <h3 id="default-value-changes-222"> <a href="#default-value-changes-222" class="anchor-heading" aria-labelledby="default-value-changes-222"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="39120"> <a href="#39120" class="anchor-heading" aria-labelledby="39120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.12.0 </h2> <p><strong>Release date:</strong> 2022-09-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana 6.37.1 (9.1.2) (#2431)</li> </ul> <h3 id="default-value-changes-223"> <a href="#default-value-changes-223" class="anchor-heading" aria-labelledby="default-value-changes-223"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="39110"> <a href="#39110" class="anchor-heading" aria-labelledby="39110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.11.0 </h2> <p><strong>Release date:</strong> 2022-08-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> SecurityContext for webhook job create/patch container (#2406)</li> </ul> <h3 id="default-value-changes-224"> <a href="#default-value-changes-224" class="anchor-heading" aria-labelledby="default-value-changes-224"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7d66ae90..d1bcf166 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1661,6 +1661,14 @@</span> prometheusOperator:
         runAsNonRoot: true
         runAsUser: 2000
 
<span class="gi">+    # Security context for create job container
+    createSecretJob:
+      securityContext: {}
+
+      # Security context for patch job container
+    patchWebhookJob:
+      securityContext: {}
+
</span>     # Use certmanager to generate webhook certs
     certManager:
       enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="39100"> <a href="#39100" class="anchor-heading" aria-labelledby="39100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.10.0 </h2> <p><strong>Release date:</strong> 2022-08-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Hint offline sources (#2411)</li> </ul> <h3 id="default-value-changes-225"> <a href="#default-value-changes-225" class="anchor-heading" aria-labelledby="default-value-changes-225"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0196a54c..7d66ae90 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -703,6 +703,14 @@</span> grafana:
   enabled: true
   namespaceOverride: ""
 
<span class="gi">+  ## Image and version of grafana. If not provided (left commented out) default values from grafana charts will be used.
+  ##
+  # image:
+  #   repository: docker.io/grafana/grafana
+  #   tag: 9.0.6
+  #   sha: ""
+  #   pullPolicy: IfNotPresent
+
</span>   ## ForceDeployDatasources Create datasource configmap even if grafana deployment has been disabled
   ##
   forceDeployDatasources: false
<span class="p">@@ -766,6 +774,13 @@</span> grafana:
     #   - grafana.example.com
 
   sidecar:
<span class="gi">+    ## Image and version of sidecar. If not provided (left commented out) default values from grafana charts will be used.
+    ##
+    # image:
+    #   repository: quay.io/kiwigrid/k8s-sidecar
+    #   tag: 1.19.2
+    #   sha: ""
+
</span>     dashboards:
       enabled: true
       label: grafana_dashboard
<span class="p">@@ -1471,6 +1486,14 @@</span> kubeStateMetrics:
 ## Configuration for kube-state-metrics subchart
 ##
 kube-state-metrics:
<span class="gi">+  ##
+  ##
+  # image:
+  #  repository: registry.k8s.io/kube-state-metrics/kube-state-metrics
+  #  tag: v2.5.0
+  #  sha: ""
+  #  pullPolicy: IfNotPresent
+
</span>   namespaceOverride: ""
   rbac:
     create: true
<span class="p">@@ -1525,6 +1548,13 @@</span> nodeExporter:
 ## Configuration for prometheus-node-exporter subchart
 ##
 prometheus-node-exporter:
<span class="gi">+  ## Image and version of prometheus-node-exporter. If not provided (left commented out) default values from grafana charts will be used.
+  ##
+  # image:
+  #   repository: quay.io/prometheus/node-exporter
+  #   tag: v1.3.1
+  #   pullPolicy: IfNotPresent
+
</span>   namespaceOverride: ""
   podLabels:
     ## Add the 'node-exporter' label to be used by serviceMonitor to match standard common usage in rules and grafana dashboards
<span class="err">
</span></code></pre></div></div> <h2 id="3990"> <a href="#3990" class="anchor-heading" aria-labelledby="3990"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.9.0 </h2> <p><strong>Release date:</strong> 2022-08-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Setting a custom timeout in admission mutatingWebhookConfiguration - Prometheus Operator chart Template (#2233)</li> </ul> <h3 id="default-value-changes-226"> <a href="#default-value-changes-226" class="anchor-heading" aria-labelledby="default-value-changes-226"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index fde3bcf5..0196a54c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1596,6 +1596,8 @@</span> prometheusOperator:
   ## rules from making their way into prometheus and potentially preventing the container from starting
   admissionWebhooks:
     failurePolicy: Fail
<span class="gi">+    ## The default timeoutSeconds is 10 and the maximum value is 30.
+    timeoutSeconds: 10
</span>     enabled: true
     ## A PEM encoded CA bundle which will be used to validate the webhook's server certificate.
     ## If unspecified, system trust roots on the apiserver are used.
<span class="err">
</span></code></pre></div></div> <h2 id="3980"> <a href="#3980" class="anchor-heading" aria-labelledby="3980"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.8.0 </h2> <p><strong>Release date:</strong> 2022-08-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add evaluationInterval to Thanos Ruler (#2374)</li> </ul> <h3 id="default-value-changes-227"> <a href="#default-value-changes-227" class="anchor-heading" aria-labelledby="default-value-changes-227"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b20b2e44..fde3bcf5 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3188,6 +3188,10 @@</span> thanosRuler:
     ##
     retention: 24h
 
<span class="gi">+    ## Interval between consecutive evaluations.
+    ##
+    evaluationInterval: ""
+
</span>     ## Storage is the definition of how storage will be used by the ThanosRuler instances.
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/user-guides/storage.md
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="3970"> <a href="#3970" class="anchor-heading" aria-labelledby="3970"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.7.0 </h2> <p><strong>Release date:</strong> 2022-08-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml (#2371)</li> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add thanosRulerSpec.alertmanagersConfig config (#2358)</li> </ul> <h3 id="default-value-changes-228"> <a href="#default-value-changes-228" class="anchor-heading" aria-labelledby="default-value-changes-228"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e5f86f0d..b20b2e44 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3201,6 +3201,22 @@</span> thanosRuler:
     #         storage: 50Gi
     #   selector: {}
 
<span class="gi">+    ## AlertmanagerConfig define configuration for connecting to alertmanager.
+    ## Only available with Thanos v0.10.0 and higher. Maps to the alertmanagers.config Thanos Ruler arg.
+    alertmanagersConfig: {}
+    #   - api_version: v2
+    #     http_config:
+    #       basic_auth:
+    #         username: some_user
+    #         password: some_pass
+    #     static_configs:
+    #       - alertmanager.thanos.io
+    #     scheme: http
+    #     timeout: 10s
+
+    ## DEPRECATED. Define URLs to send alerts to Alertmanager. For Thanos v0.10.0 and higher, alertmanagersConfig should be used instead.
+    ## Note: this field will be ignored if alertmanagersConfig is specified. Maps to the alertmanagers.url Thanos Ruler arg.
+    # alertmanagersUrl:
</span> 
     ## The external URL the Thanos Ruler instances will be available under. This is necessary to generate correct URLs. This is necessary if Thanos Ruler is not served from root of a DNS name. string false
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="3960"> <a href="#3960" class="anchor-heading" aria-labelledby="3960"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.6.0 </h2> <p><strong>Release date:</strong> 2022-08-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-229"> <a href="#default-value-changes-229" class="anchor-heading" aria-labelledby="default-value-changes-229"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4aa29e7b..e5f86f0d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1656,6 +1656,7 @@</span> prometheusOperator:
   ## Filter namespaces to look for prometheus-operator custom resources
   ##
   alertmanagerInstanceNamespaces: []
<span class="gi">+  alertmanagerConfigNamespaces: []
</span>   prometheusInstanceNamespaces: []
   thanosRulerInstanceNamespaces: []
 
<span class="err">
</span></code></pre></div></div> <h2 id="3950"> <a href="#3950" class="anchor-heading" aria-labelledby="3950"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.5.0 </h2> <p><strong>Release date:</strong> 2022-08-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add an option to enable/disable <code class="language-plaintext highlighter-rouge">kubernetes-system-controller-manager</code> PrometheusRule (#2343)</li> </ul> <h3 id="default-value-changes-230"> <a href="#default-value-changes-230" class="anchor-heading" aria-labelledby="default-value-changes-230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d5635ed8..4aa29e7b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -42,6 +42,7 @@</span> defaultRules:
     kubeApiserverBurnrate: true
     kubeApiserverHistogram: true
     kubeApiserverSlos: true
<span class="gi">+    kubeControllerManager: true
</span>     kubelet: true
     kubeProxy: true
     kubePrometheusGeneral: true
<span class="err">
</span></code></pre></div></div> <h2 id="3941"> <a href="#3941" class="anchor-heading" aria-labelledby="3941"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.4.1 </h2> <p><strong>Release date:</strong> 2022-08-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support for import from jsonnet mixin for etcd (#2340)</li> </ul> <h3 id="default-value-changes-231"> <a href="#default-value-changes-231" class="anchor-heading" aria-labelledby="default-value-changes-231"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3940"> <a href="#3940" class="anchor-heading" aria-labelledby="3940"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.4.0 </h2> <p><strong>Release date:</strong> 2022-08-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add exemplars related settings (#2332)</li> </ul> <h3 id="default-value-changes-232"> <a href="#default-value-changes-232" class="anchor-heading" aria-labelledby="default-value-changes-232"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 31a90f81..d5635ed8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2287,6 +2287,14 @@</span> prometheus:
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#webtlsconfig
     web: {}
 
<span class="gi">+    ## Exemplars related settings that are runtime reloadable.
+    ## It requires to enable the exemplar storage feature to be effective.
+    exemplars: ""
+      ## Maximum number of exemplars stored in memory for all series.
+      ## If not set, Prometheus uses its default value.
+      ## A value of zero or less than zero disables the storage.
+      # maxSize: 100000
+
</span>     # EnableFeatures API enables access to Prometheus disabled features.
     # ref: https://prometheus.io/docs/prometheus/latest/disabled_features/
     enableFeatures: []
<span class="err">
</span></code></pre></div></div> <h2 id="3930"> <a href="#3930" class="anchor-heading" aria-labelledby="3930"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.3.0 </h2> <p><strong>Release date:</strong> 2022-08-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-233"> <a href="#default-value-changes-233" class="anchor-heading" aria-labelledby="default-value-changes-233"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3921"> <a href="#3921" class="anchor-heading" aria-labelledby="3921"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.2.1 </h2> <p><strong>Release date:</strong> 2022-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix new lines in _helpers (#2331)</li> </ul> <h3 id="default-value-changes-234"> <a href="#default-value-changes-234" class="anchor-heading" aria-labelledby="default-value-changes-234"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3920"> <a href="#3920" class="anchor-heading" aria-labelledby="3920"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.2.0 </h2> <p><strong>Release date:</strong> 2022-07-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Change AlertManager and Prometheus CR naming. (#2188)</li> </ul> <h3 id="default-value-changes-235"> <a href="#default-value-changes-235" class="anchor-heading" aria-labelledby="default-value-changes-235"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c1b548c4..31a90f81 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3323,3 +3323,7 @@</span> thanosRuler:
   #   auth: |
   #     foo:$apr1$OFG3Xybp$ckL0FHDAkoXYIlH9.cysT0
   #     someoneelse:$apr1$DMZX2Z4q$6SbQIfyuLQd.xmo/P0m2c.
<span class="gi">+
+## Setting to true produces cleaner resource names, but requires a data migration because the name of the persistent volume changes. Therefore this should only be set once on initial installation.
+##
+cleanPrometheusOperatorObjectNames: false
</span><span class="err">
</span></code></pre></div></div> <h2 id="3910"> <a href="#3910" class="anchor-heading" aria-labelledby="3910"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.1.0 </h2> <p><strong>Release date:</strong> 2022-07-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> make additionalAlertManagerConfigs optional (#2322)</li> </ul> <h3 id="default-value-changes-236"> <a href="#default-value-changes-236" class="anchor-heading" aria-labelledby="default-value-changes-236"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 53a2542c..c1b548c4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2693,6 +2693,7 @@</span> prometheus:
     additionalAlertManagerConfigsSecret: {}
       # name:
       # key:
<span class="gi">+      # optional: false
</span> 
     ## AdditionalAlertRelabelConfigs allows specifying Prometheus alert relabel configurations. Alert relabel configurations specified are appended
     ## to the configurations generated by the Prometheus Operator. Alert relabel configurations specified must have the form as specified in the
<span class="err">
</span></code></pre></div></div> <h2 id="3900"> <a href="#3900" class="anchor-heading" aria-labelledby="3900"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 39.0.0 </h2> <p><strong>Release date:</strong> 2022-07-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.58.0&amp;color=success" alt="AppVersion: 0.58.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update prometheus operator to v0.58.0 (#2320)</li> </ul> <h3 id="default-value-changes-237"> <a href="#default-value-changes-237" class="anchor-heading" aria-labelledby="default-value-changes-237"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d17f00eb..53a2542c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -644,7 +644,7 @@</span> alertmanager:
     containers: []
     # containers:
     # - name: oauth-proxy
<span class="gd">-    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.1.2
</span><span class="gi">+    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.3.0
</span>     #   args:
     #   - --upstream=http://127.0.0.1:9093
     #   - --http-address=0.0.0.0:8081
<span class="p">@@ -1607,7 +1607,7 @@</span> prometheusOperator:
       enabled: true
       image:
         repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
<span class="gd">-        tag: v1.1.1
</span><span class="gi">+        tag: v1.2.0
</span>         sha: ""
         pullPolicy: IfNotPresent
       resources: {}
<span class="p">@@ -1837,7 +1837,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.57.0
</span><span class="gi">+    tag: v0.58.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1855,7 +1855,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.57.0
</span><span class="gi">+      tag: v0.58.0
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -1871,7 +1871,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.25.2
</span><span class="gi">+    tag: v0.27.0
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2296,7 +2296,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.36.1
</span><span class="gi">+      tag: v2.37.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -2748,7 +2748,7 @@</span> prometheus:
     containers: []
     # containers:
     # - name: oauth-proxy
<span class="gd">-    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.1.2
</span><span class="gi">+    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.3.0
</span>     #   args:
     #   - --upstream=http://127.0.0.1:9093
     #   - --http-address=0.0.0.0:8081
<span class="p">@@ -3126,7 +3126,7 @@</span> thanosRuler:
     ##
     image:
       repository: quay.io/thanos/thanos
<span class="gd">-      tag: v0.24.0
</span><span class="gi">+      tag: v0.27.0
</span>       sha: ""
 
     ## Namespaces to be selected for PrometheusRules discovery.
<span class="err">
</span></code></pre></div></div> <h2 id="3803"> <a href="#3803" class="anchor-heading" aria-labelledby="3803"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 38.0.3 </h2> <p><strong>Release date:</strong> 2022-07-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-238"> <a href="#default-value-changes-238" class="anchor-heading" aria-labelledby="default-value-changes-238"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3802"> <a href="#3802" class="anchor-heading" aria-labelledby="3802"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 38.0.2 </h2> <p><strong>Release date:</strong> 2022-07-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump grafana to 6.32.7 (#2302)</li> </ul> <h3 id="default-value-changes-239"> <a href="#default-value-changes-239" class="anchor-heading" aria-labelledby="default-value-changes-239"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3801"> <a href="#3801" class="anchor-heading" aria-labelledby="3801"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 38.0.1 </h2> <p><strong>Release date:</strong> 2022-07-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Removing me as maintainer (#2300)</li> </ul> <h3 id="default-value-changes-240"> <a href="#default-value-changes-240" class="anchor-heading" aria-labelledby="default-value-changes-240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3800"> <a href="#3800" class="anchor-heading" aria-labelledby="3800"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 38.0.0 </h2> <p><strong>Release date:</strong> 2022-07-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Remove a cAdvisor metric relabelling (#2297)</li> </ul> <h3 id="default-value-changes-241"> <a href="#default-value-changes-241" class="anchor-heading" aria-labelledby="default-value-changes-241"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 64b32c36..d17f00eb 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -991,10 +991,6 @@</span> kubelet:
       - sourceLabels: [id, pod]
         action: drop
         regex: '.+;'
<span class="gd">-      # Drop cgroup metrics with no container.
-      - sourceLabels: [id, container]
-        action: drop
-        regex: '.+;'
</span>     # - sourceLabels: [__name__, image]
     #   separator: ;
     #   regex: container_([a-z_]+);
<span class="err">
</span></code></pre></div></div> <h2 id="3730"> <a href="#3730" class="anchor-heading" aria-labelledby="3730"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 37.3.0 </h2> <p><strong>Release date:</strong> 2022-07-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore(kube-prometheus-stack/exporters): support additional labels on servicemonitors (#2219)</li> </ul> <h3 id="default-value-changes-242"> <a href="#default-value-changes-242" class="anchor-heading" aria-labelledby="default-value-changes-242"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 1a3b6cb1..64b32c36 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -923,6 +923,11 @@</span> kubeApiServer:
     # - targetLabel: __address__
     #   replacement: kubernetes.default.svc:443
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
+
</span> ## Component scraping the kubelet and kubelet-hosted cAdvisor
 ##
 kubelet:
<span class="p">@@ -1085,6 +1090,11 @@</span> kubelet:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
+
</span> ## Component scraping the kube controller manager
 ##
 kubeControllerManager:
<span class="p">@@ -1150,6 +1160,11 @@</span> kubeControllerManager:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
+
</span> ## Component scraping coreDns. Use either this or kubeDns
 ##
 coreDns:
<span class="p">@@ -1187,6 +1202,11 @@</span> coreDns:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
+
</span> ## Component scraping kubeDns. Use either this or coreDns
 ##
 kubeDns:
<span class="p">@@ -1247,6 +1267,11 @@</span> kubeDns:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
+
</span> ## Component scraping etcd
 ##
 kubeEtcd:
<span class="p">@@ -1313,6 +1338,10 @@</span> kubeEtcd:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
</span> 
 ## Component scraping kube scheduler
 ##
<span class="p">@@ -1377,6 +1406,10 @@</span> kubeScheduler:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
</span> 
 ## Component scraping kube proxy
 ##
<span class="p">@@ -1428,6 +1461,10 @@</span> kubeProxy:
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gi">+    ## Additional labels
+    ##
+    additionalLabels: {}
+    #  foo: bar
</span> 
 ## Component scraping kube state metrics
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="3720"> <a href="#3720" class="anchor-heading" aria-labelledby="3720"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 37.2.0 </h2> <p><strong>Release date:</strong> 2022-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: add labels spec for thanos-ruler (#2270)</li> </ul> <h3 id="default-value-changes-243"> <a href="#default-value-changes-243" class="anchor-heading" aria-labelledby="default-value-changes-243"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6a0ab1c4..1a3b6cb1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3175,6 +3175,11 @@</span> thanosRuler:
     ## When used alongside with ObjectStorageConfig, ObjectStorageConfigFile takes precedence.
     objectStorageConfigFile: ""
 
<span class="gi">+    ## Labels configure the external label pairs to ThanosRuler. A default replica
+    ## label `thanos_ruler_replica` will be always added as a label with the value
+    ## of the pod's name and it will be dropped in the alerts.
+    labels: {}
+
</span>     ## If set to true all actions on the underlying managed objects are not going to be performed, except for delete actions.
     ##
     paused: false
<span class="err">
</span></code></pre></div></div> <h2 id="3710"> <a href="#3710" class="anchor-heading" aria-labelledby="3710"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 37.1.0 </h2> <p><strong>Release date:</strong> 2022-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump kps chart version (#2268)</li> </ul> <h3 id="default-value-changes-244"> <a href="#default-value-changes-244" class="anchor-heading" aria-labelledby="default-value-changes-244"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3700"> <a href="#3700" class="anchor-heading" aria-labelledby="3700"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 37.0.0 </h2> <p><strong>Release date:</strong> 2022-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update metric relabel values (#2197)</li> </ul> <h3 id="default-value-changes-245"> <a href="#default-value-changes-245" class="anchor-heading" aria-labelledby="default-value-changes-245"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e129574f..6a0ab1c4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -899,7 +899,13 @@</span> kubeApiServer:
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
     ##
<span class="gd">-    metricRelabelings: []
</span><span class="gi">+    metricRelabelings:
+      # Drop excessively noisy apiserver buckets.
+      - action: drop
+        regex: apiserver_request_duration_seconds_bucket;(0.15|0.2|0.3|0.35|0.4|0.45|0.6|0.7|0.8|0.9|1.25|1.5|1.75|2|3|3.5|4|4.5|6|7|8|9|15|25|40|50)
+        sourceLabels:
+          - __name__
+          - le
</span>     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
<span class="p">@@ -955,7 +961,35 @@</span> kubelet:
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
     ##
<span class="gd">-    cAdvisorMetricRelabelings: []
</span><span class="gi">+    cAdvisorMetricRelabelings:
+      # Drop less useful container CPU metrics.
+      - sourceLabels: [__name__]
+        action: drop
+        regex: 'container_cpu_(cfs_throttled_seconds_total|load_average_10s|system_seconds_total|user_seconds_total)'
+      # Drop less useful container / always zero filesystem metrics.
+      - sourceLabels: [__name__]
+        action: drop
+        regex: 'container_fs_(io_current|io_time_seconds_total|io_time_weighted_seconds_total|reads_merged_total|sector_reads_total|sector_writes_total|writes_merged_total)'
+      # Drop less useful / always zero container memory metrics.
+      - sourceLabels: [__name__]
+        action: drop
+        regex: 'container_memory_(mapped_file|swap)'
+      # Drop less useful container process metrics.
+      - sourceLabels: [__name__]
+        action: drop
+        regex: 'container_(file_descriptors|tasks_state|threads_max)'
+      # Drop container spec metrics that overlap with kube-state-metrics.
+      - sourceLabels: [__name__]
+        action: drop
+        regex: 'container_spec.*'
+      # Drop cgroup metrics with no pod.
+      - sourceLabels: [id, pod]
+        action: drop
+        regex: '.+;'
+      # Drop cgroup metrics with no container.
+      - sourceLabels: [id, container]
+        action: drop
+        regex: '.+;'
</span>     # - sourceLabels: [__name__, image]
     #   separator: ;
     #   regex: container_([a-z_]+);
<span class="err">
</span></code></pre></div></div> <h2 id="3662"> <a href="#3662" class="anchor-heading" aria-labelledby="3662"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.6.2 </h2> <p><strong>Release date:</strong> 2022-07-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> introduced servicePort field to select ingress target for alertmanager/prometheus (#2163)</li> </ul> <h3 id="default-value-changes-246"> <a href="#default-value-changes-246" class="anchor-heading" aria-labelledby="default-value-changes-246"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 74688edc..e129574f 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -255,6 +255,9 @@</span> alertmanager:
 
     labels: {}
 
<span class="gi">+    ## Redirect ingress to an additional defined port on the service
+    # servicePort: 8081
+
</span>     ## Hosts must be provided if Ingress is enabled.
     ##
     hosts: []
<span class="p">@@ -349,6 +352,10 @@</span> alertmanager:
 
     ## Additional ports to open for Alertmanager service
     additionalPorts: []
<span class="gi">+    # additionalPorts:
+    # - name: authenticated
+    #   port: 8081
+    #   targetPort: 8081
</span> 
     externalIPs: []
     loadBalancerIP: ""
<span class="p">@@ -635,6 +642,18 @@</span> alertmanager:
     ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to an Alertmanager pod.
     ##
     containers: []
<span class="gi">+    # containers:
+    # - name: oauth-proxy
+    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.1.2
+    #   args:
+    #   - --upstream=http://127.0.0.1:9093
+    #   - --http-address=0.0.0.0:8081
+    #   - ...
+    #   ports:
+    #   - containerPort: 8081
+    #     name: oauth-proxy
+    #     protocol: TCP
+    #   resources: {}
</span> 
     # Additional volumes on the output StatefulSet definition.
     volumes: []
<span class="p">@@ -1939,6 +1958,10 @@</span> prometheus:
 
     ## Additional port to define in the Service
     additionalPorts: []
<span class="gi">+    # additionalPorts:
+    # - name: authenticated
+    #   port: 8081
+    #   targetPort: 8081
</span> 
     ## Consider that all endpoints are considered "ready" even if the Pods themselves are not
     ## Ref: https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec
<span class="p">@@ -2047,6 +2070,9 @@</span> prometheus:
     annotations: {}
     labels: {}
 
<span class="gi">+    ## Redirect ingress to an additional defined port on the service
+    # servicePort: 8081
+
</span>     ## Hostnames.
     ## Must be provided if Ingress is enabled.
     ##
<span class="p">@@ -2653,6 +2679,18 @@</span> prometheus:
     ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to a Prometheus pod.
     ## if using proxy extraContainer update targetPort with proxy container port
     containers: []
<span class="gi">+    # containers:
+    # - name: oauth-proxy
+    #   image: quay.io/oauth2-proxy/oauth2-proxy:v7.1.2
+    #   args:
+    #   - --upstream=http://127.0.0.1:9093
+    #   - --http-address=0.0.0.0:8081
+    #   - ...
+    #   ports:
+    #   - containerPort: 8081
+    #     name: oauth-proxy
+    #     protocol: TCP
+    #   resources: {}
</span> 
     ## InitContainers allows injecting additional initContainers. This is meant to allow doing some changes
     ## (permissions, dir tree) on mounted volumes before starting prometheus
<span class="err">
</span></code></pre></div></div> <h2 id="3661"> <a href="#3661" class="anchor-heading" aria-labelledby="3661"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.6.1 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix field evolution error (#2256)</li> </ul> <h3 id="default-value-changes-247"> <a href="#default-value-changes-247" class="anchor-heading" aria-labelledby="default-value-changes-247"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3660"> <a href="#3660" class="anchor-heading" aria-labelledby="3660"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.6.0 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[kube-prometheus-stack-operator] adds deployment annotations for prometheus operator (#2246)</li> </ul> <h3 id="default-value-changes-248"> <a href="#default-value-changes-248" class="anchor-heading" aria-labelledby="default-value-changes-248"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 029a2fdd..74688edc 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1624,6 +1624,10 @@</span> prometheusOperator:
     ##
     externalIPs: []
 
<span class="gi">+  ## Annotations to add to the operator deployment
+  ##
+  annotations: {}
+
</span>   ## Labels to add to the operator pod
   ##
   podLabels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="3651"> <a href="#3651" class="anchor-heading" aria-labelledby="3651"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.5.1 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fixes #2254 (#2255)</li> </ul> <h3 id="default-value-changes-249"> <a href="#default-value-changes-249" class="anchor-heading" aria-labelledby="default-value-changes-249"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3650"> <a href="#3650" class="anchor-heading" aria-labelledby="3650"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.5.0 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add exemplar support for Grafana datasource (#2237)</li> </ul> <h3 id="default-value-changes-250"> <a href="#default-value-changes-250" class="anchor-heading" aria-labelledby="default-value-changes-250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 96ac5035..029a2fdd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -786,6 +786,12 @@</span> grafana:
       label: grafana_datasource
       labelValue: "1"
 
<span class="gi">+      ## Field with internal link pointing to existing data source in Grafana.
+      ## Can be provisioned via additionalDataSources
+      exemplarTraceIdDestinations: {}
+        # datasourceUid: Jaeger
+        # traceIdLabelName: trace_id
+
</span>   extraConfigmapMounts: []
   # - name: certs-configmap
   #   mountPath: /etc/grafana/ssl/
<span class="err">
</span></code></pre></div></div> <h2 id="3640"> <a href="#3640" class="anchor-heading" aria-labelledby="3640"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.4.0 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add objectStorageConfig for thanos-ruler (#2232)</li> </ul> <h3 id="default-value-changes-251"> <a href="#default-value-changes-251" class="anchor-heading" aria-labelledby="default-value-changes-251"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d9b67770..96ac5035 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -3085,6 +3085,14 @@</span> thanosRuler:
     ##
     routePrefix: /
 
<span class="gi">+    ## ObjectStorageConfig configures object storage in Thanos. Alternative to
+    ## ObjectStorageConfigFile, and lower order priority.
+    objectStorageConfig: {}
+
+    ## ObjectStorageConfigFile specifies the path of the object storage configuration file.
+    ## When used alongside with ObjectStorageConfig, ObjectStorageConfigFile takes precedence.
+    objectStorageConfigFile: ""
+
</span>     ## If set to true all actions on the underlying managed objects are not going to be performed, except for delete actions.
     ##
     paused: false
<span class="err">
</span></code></pre></div></div> <h2 id="3631"> <a href="#3631" class="anchor-heading" aria-labelledby="3631"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.3.1 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix the thanos discovery servicemonitor selector (#2244)</li> </ul> <h3 id="default-value-changes-252"> <a href="#default-value-changes-252" class="anchor-heading" aria-labelledby="default-value-changes-252"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3630"> <a href="#3630" class="anchor-heading" aria-labelledby="3630"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.3.0 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add web property to AlertmanagerSpec (#2242)</li> </ul> <h3 id="default-value-changes-253"> <a href="#default-value-changes-253" class="anchor-heading" aria-labelledby="default-value-changes-253"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 874ea167..d9b67770 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -468,6 +468,10 @@</span> alertmanager:
     ##
     # configSecret:
 
<span class="gi">+    ## WebTLSConfig defines the TLS parameters for HTTPS
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#alertmanagerwebspec
+    web: {}
+
</span>     ## AlertmanagerConfigs to be selected to merge and configure Alertmanager with.
     ##
     alertmanagerConfigSelector: {}
<span class="err">
</span></code></pre></div></div> <h2 id="3621"> <a href="#3621" class="anchor-heading" aria-labelledby="3621"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.2.1 </h2> <p><strong>Release date:</strong> 2022-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix: rename thanos sidecar servicemonitor (#2216)</li> </ul> <h3 id="default-value-changes-254"> <a href="#default-value-changes-254" class="anchor-heading" aria-labelledby="default-value-changes-254"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3620"> <a href="#3620" class="anchor-heading" aria-labelledby="3620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.2.0 </h2> <p><strong>Release date:</strong> 2022-06-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump Grafana chart to 6.31.* (#2184)</li> </ul> <h3 id="default-value-changes-255"> <a href="#default-value-changes-255" class="anchor-heading" aria-labelledby="default-value-changes-255"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3610"> <a href="#3610" class="anchor-heading" aria-labelledby="3610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.1.0 </h2> <p><strong>Release date:</strong> 2022-06-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add thanosRuler configuration (#1993)</li> </ul> <h3 id="default-value-changes-256"> <a href="#default-value-changes-256" class="anchor-heading" aria-labelledby="default-value-changes-256"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c2ad8e94..874ea167 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2853,3 +2853,340 @@</span> prometheus:
     ## https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#podmetricsendpoint
     ##
     # podMetricsEndpoints: []
<span class="gi">+
+## Configuration for thanosRuler
+## ref: https://thanos.io/tip/components/rule.md/
+##
+thanosRuler:
+
+  ## Deploy thanosRuler
+  ##
+  enabled: false
+
+  ## Annotations for ThanosRuler
+  ##
+  annotations: {}
+
+  ## Service account for ThanosRuler to use.
+  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
+  ##
+  serviceAccount:
+    create: true
+    name: ""
+    annotations: {}
+
+  ## Configure pod disruption budgets for ThanosRuler
+  ## ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/#specifying-a-poddisruptionbudget
+  ## This configuration is immutable once created and will require the PDB to be deleted to be changed
+  ## https://github.com/kubernetes/kubernetes/issues/45398
+  ##
+  podDisruptionBudget:
+    enabled: false
+    minAvailable: 1
+    maxUnavailable: ""
+
+  ingress:
+    enabled: false
+
+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
+    annotations: {}
+
+    labels: {}
+
+    ## Hosts must be provided if Ingress is enabled.
+    ##
+    hosts: []
+      # - thanosruler.domain.com
+
+    ## Paths to use for ingress rules - one path should match the thanosruler.routePrefix
+    ##
+    paths: []
+    # - /
+
+    ## For Kubernetes &gt;= 1.18 you should specify the pathType (determines how Ingress paths should be matched)
+    ## See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#better-path-matching-with-path-types
+    # pathType: ImplementationSpecific
+
+    ## TLS configuration for ThanosRuler Ingress
+    ## Secret must be manually created in the namespace
+    ##
+    tls: []
+    # - secretName: thanosruler-general-tls
+    #   hosts:
+    #   - thanosruler.example.com
+
+  ## Configuration for ThanosRuler service
+  ##
+  service:
+    annotations: {}
+    labels: {}
+    clusterIP: ""
+
+    ## Port for ThanosRuler Service to listen on
+    ##
+    port: 10902
+    ## To be used with a proxy extraContainer port
+    ##
+    targetPort: 10902
+    ## Port to expose on each node
+    ## Only used if service.type is 'NodePort'
+    ##
+    nodePort: 30905
+    ## List of IP addresses at which the Prometheus server service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+
+    ## Additional ports to open for ThanosRuler service
+    additionalPorts: []
+
+    externalIPs: []
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+
+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
+    ## Service type
+    ##
+    type: ClusterIP
+
+  ## If true, create a serviceMonitor for thanosRuler
+  ##
+  serviceMonitor:
+    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
+    ##
+    interval: ""
+    selfMonitor: true
+
+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
+    ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
+    scheme: ""
+
+    ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
+    ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
+    tlsConfig: {}
+
+    bearerTokenFile:
+
+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
+    ##
+    metricRelabelings: []
+    # - action: keep
+    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
+    #   sourceLabels: [__name__]
+
+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
+    ##
+    relabelings: []
+    # - sourceLabels: [__meta_kubernetes_pod_node_name]
+    #   separator: ;
+    #   regex: ^(.*)$
+    #   targetLabel: nodename
+    #   replacement: $1
+    #   action: replace
+
+  ## Settings affecting thanosRulerpec
+  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#thanosrulerspec
+  ##
+  thanosRulerSpec:
+    ## Standard object's metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
+    ## Metadata Labels and Annotations gets propagated to the ThanosRuler pods.
+    ##
+    podMetadata: {}
+
+    ## Image of ThanosRuler
+    ##
+    image:
+      repository: quay.io/thanos/thanos
+      tag: v0.24.0
+      sha: ""
+
+    ## Namespaces to be selected for PrometheusRules discovery.
+    ## If nil, select own namespace. Namespaces to be selected for ServiceMonitor discovery.
+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
+    ##
+    ruleNamespaceSelector: {}
+
+    ## If true, a nil or {} value for thanosRuler.thanosRulerSpec.ruleSelector will cause the
+    ## prometheus resource to be created with selectors based on values in the helm deployment,
+    ## which will also match the PrometheusRule resources created
+    ##
+    ruleSelectorNilUsesHelmValues: true
+
+    ## PrometheusRules to be selected for target discovery.
+    ## If {}, select all PrometheusRules
+    ##
+    ruleSelector: {}
+    ## Example which select all PrometheusRules resources
+    ## with label "prometheus" with values any of "example-rules" or "example-rules-2"
+    # ruleSelector:
+    #   matchExpressions:
+    #     - key: prometheus
+    #       operator: In
+    #       values:
+    #         - example-rules
+    #         - example-rules-2
+    #
+    ## Example which select all PrometheusRules resources with label "role" set to "example-rules"
+    # ruleSelector:
+    #   matchLabels:
+    #     role: example-rules
+
+    ## Define Log Format
+    # Use logfmt (default) or json logging
+    logFormat: logfmt
+
+    ## Log level for ThanosRuler to be configured with.
+    ##
+    logLevel: info
+
+    ## Size is the expected size of the thanosRuler cluster. The controller will eventually make the size of the
+    ## running cluster equal to the expected size.
+    replicas: 1
+
+    ## Time duration ThanosRuler shall retain data for. Default is '24h', and must match the regular expression
+    ## [0-9]+(ms|s|m|h) (milliseconds seconds minutes hours).
+    ##
+    retention: 24h
+
+    ## Storage is the definition of how storage will be used by the ThanosRuler instances.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/user-guides/storage.md
+    ##
+    storage: {}
+    # volumeClaimTemplate:
+    #   spec:
+    #     storageClassName: gluster
+    #     accessModes: ["ReadWriteOnce"]
+    #     resources:
+    #       requests:
+    #         storage: 50Gi
+    #   selector: {}
+
+
+    ## The external URL the Thanos Ruler instances will be available under. This is necessary to generate correct URLs. This is necessary if Thanos Ruler is not served from root of a DNS name. string false
+    ##
+    externalPrefix:
+
+    ## The route prefix ThanosRuler registers HTTP handlers for. This is useful, if using ExternalURL and a proxy is rewriting HTTP routes of a request, and the actual ExternalURL is still true,
+    ## but the server serves requests under a different route prefix. For example for use with kubectl proxy.
+    ##
+    routePrefix: /
+
+    ## If set to true all actions on the underlying managed objects are not going to be performed, except for delete actions.
+    ##
+    paused: false
+
+    ## Define which Nodes the Pods are scheduled on.
+    ## ref: https://kubernetes.io/docs/user-guide/node-selection/
+    ##
+    nodeSelector: {}
+
+    ## Define resources requests and limits for single Pods.
+    ## ref: https://kubernetes.io/docs/user-guide/compute-resources/
+    ##
+    resources: {}
+    # requests:
+    #   memory: 400Mi
+
+    ## Pod anti-affinity can prevent the scheduler from placing Prometheus replicas on the same node.
+    ## The default value "soft" means that the scheduler should *prefer* to not schedule two replica pods onto the same node but no guarantee is provided.
+    ## The value "hard" means that the scheduler is *required* to not schedule two replica pods onto the same node.
+    ## The value "" will disable pod anti-affinity so that no anti-affinity rules will be configured.
+    ##
+    podAntiAffinity: ""
+
+    ## If anti-affinity is enabled sets the topologyKey to use for anti-affinity.
+    ## This can be changed to, for example, failure-domain.beta.kubernetes.io/zone
+    ##
+    podAntiAffinityTopologyKey: kubernetes.io/hostname
+
+    ## Assign custom affinity rules to the thanosRuler instance
+    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+    ##
+    affinity: {}
+    # nodeAffinity:
+    #   requiredDuringSchedulingIgnoredDuringExecution:
+    #     nodeSelectorTerms:
+    #     - matchExpressions:
+    #       - key: kubernetes.io/e2e-az-name
+    #         operator: In
+    #         values:
+    #         - e2e-az1
+    #         - e2e-az2
+
+    ## If specified, the pod's tolerations.
+    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
+    ##
+    tolerations: []
+    # - key: "key"
+    #   operator: "Equal"
+    #   value: "value"
+    #   effect: "NoSchedule"
+
+    ## If specified, the pod's topology spread constraints.
+    ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+    ##
+    topologySpreadConstraints: []
+    # - maxSkew: 1
+    #   topologyKey: topology.kubernetes.io/zone
+    #   whenUnsatisfiable: DoNotSchedule
+    #   labelSelector:
+    #     matchLabels:
+    #       app: thanos-ruler
+
+    ## SecurityContext holds pod-level security attributes and common container settings.
+    ## This defaults to non root user with uid 1000 and gid 2000. *v1.PodSecurityContext  false
+    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
+    ##
+    securityContext:
+      runAsGroup: 2000
+      runAsNonRoot: true
+      runAsUser: 1000
+      fsGroup: 2000
+
+    ## ListenLocal makes the ThanosRuler server listen on loopback, so that it does not bind against the Pod IP.
+    ## Note this is only for the ThanosRuler UI, not the gossip communication.
+    ##
+    listenLocal: false
+
+    ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to an ThanosRuler pod.
+    ##
+    containers: []
+
+    # Additional volumes on the output StatefulSet definition.
+    volumes: []
+
+    # Additional VolumeMounts on the output StatefulSet definition.
+    volumeMounts: []
+
+    ## InitContainers allows injecting additional initContainers. This is meant to allow doing some changes
+    ## (permissions, dir tree) on mounted volumes before starting prometheus
+    initContainers: []
+
+    ## Priority class assigned to the Pods
+    ##
+    priorityClassName: ""
+
+    ## PortName to use for ThanosRuler.
+    ##
+    portName: "web"
+
+  ## ExtraSecret can be used to store various data in an extra secret
+  ## (use it for example to store hashed basic auth credentials)
+  extraSecret:
+    ## if not set, name will be auto generated
+    # name: ""
+    annotations: {}
+    data: {}
+  #   auth: |
+  #     foo:$apr1$OFG3Xybp$ckL0FHDAkoXYIlH9.cysT0
+  #     someoneelse:$apr1$DMZX2Z4q$6SbQIfyuLQd.xmo/P0m2c.
</span><span class="err">
</span></code></pre></div></div> <h2 id="3603"> <a href="#3603" class="anchor-heading" aria-labelledby="3603"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.0.3 </h2> <p><strong>Release date:</strong> 2022-06-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore(kube-prometheus-stack): update kube-state-metrics and grafana to latest patch version (#2175)</li> </ul> <h3 id="default-value-changes-257"> <a href="#default-value-changes-257" class="anchor-heading" aria-labelledby="default-value-changes-257"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3602"> <a href="#3602" class="anchor-heading" aria-labelledby="3602"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.0.2 </h2> <p><strong>Release date:</strong> 2022-06-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix dynamic port assignment for exporters Endpoints (#2162)</li> </ul> <h3 id="default-value-changes-258"> <a href="#default-value-changes-258" class="anchor-heading" aria-labelledby="default-value-changes-258"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3601"> <a href="#3601" class="anchor-heading" aria-labelledby="3601"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.0.1 </h2> <p><strong>Release date:</strong> 2022-06-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: fixed remote link to prometheus-operator doc (#2150)</li> </ul> <h3 id="default-value-changes-259"> <a href="#default-value-changes-259" class="anchor-heading" aria-labelledby="default-value-changes-259"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3600"> <a href="#3600" class="anchor-heading" aria-labelledby="3600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 36.0.0 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.57.0&amp;color=success" alt="AppVersion: 0.57.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Version bump to 0.57.0 (#2120)</li> </ul> <h3 id="default-value-changes-260"> <a href="#default-value-changes-260" class="anchor-heading" aria-labelledby="default-value-changes-260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 259a3eed..c2ad8e94 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1737,7 +1737,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.56.3
</span><span class="gi">+    tag: v0.57.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1755,7 +1755,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.56.3
</span><span class="gi">+      tag: v0.57.0
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -2189,7 +2189,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.35.0
</span><span class="gi">+      tag: v2.36.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="3562"> <a href="#3562" class="anchor-heading" aria-labelledby="3562"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.6.2 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add inhibit rules to default Alertmanager config (#2115)</li> </ul> <h3 id="default-value-changes-261"> <a href="#default-value-changes-261" class="anchor-heading" aria-labelledby="default-value-changes-261"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3c76822c..259a3eed 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -170,6 +170,27 @@</span> alertmanager:
   config:
     global:
       resolve_timeout: 5m
<span class="gi">+    inhibit_rules:
+      - source_matchers:
+          - 'severity = critical'
+        target_matchers:
+          - 'severity =~ warning|info'
+        equal:
+          - 'namespace'
+          - 'alertname'
+      - source_matchers:
+          - 'severity = warning'
+        target_matchers:
+          - 'severity = info'
+        equal:
+          - 'namespace'
+          - 'alertname'
+      - source_matchers:
+          - 'alertname = InfoInhibitor'
+        target_matchers:
+          - 'severity = info'
+        equal:
+          - 'namespace'
</span>     route:
       group_by: ['namespace']
       group_wait: 30s
<span class="err">
</span></code></pre></div></div> <h2 id="3561"> <a href="#3561" class="anchor-heading" aria-labelledby="3561"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.6.1 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Change default grouping for Alertmanager to namespace (#2114)</li> </ul> <h3 id="default-value-changes-262"> <a href="#default-value-changes-262" class="anchor-heading" aria-labelledby="default-value-changes-262"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 690f6dd1..3c76822c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -171,7 +171,7 @@</span> alertmanager:
     global:
       resolve_timeout: 5m
     route:
<span class="gd">-      group_by: ['job']
</span><span class="gi">+      group_by: ['namespace']
</span>       group_wait: 30s
       group_interval: 5m
       repeat_interval: 12h
<span class="err">
</span></code></pre></div></div> <h2 id="3560"> <a href="#3560" class="anchor-heading" aria-labelledby="3560"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.6.0 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[kube-prometheus-stack ] Add Custom annotations to alerts (#2026)</li> </ul> <h3 id="default-value-changes-263"> <a href="#default-value-changes-263" class="anchor-heading" aria-labelledby="default-value-changes-263"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 464e46eb..690f6dd1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -70,6 +70,9 @@</span> defaultRules:
   ## Additional labels for PrometheusRule alerts
   additionalRuleLabels: {}
 
<span class="gi">+  ## Additional annotations for PrometheusRule alerts
+  additionalRuleAnnotations: {}
+
</span>   ## Prefix for runbook URLs. Use this to override the first part of the runbookURLs that is common to all rules.
   runbookUrl: "https://runbooks.prometheus-operator.dev/runbooks"
 
<span class="err">
</span></code></pre></div></div> <h2 id="3554"> <a href="#3554" class="anchor-heading" aria-labelledby="3554"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.5.4 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix ServiceMonitor for kubelet over http (#2072)</li> </ul> <h3 id="default-value-changes-264"> <a href="#default-value-changes-264" class="anchor-heading" aria-labelledby="default-value-changes-264"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3553"> <a href="#3553" class="anchor-heading" aria-labelledby="3553"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.5.3 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix typo (#2117)</li> </ul> <h3 id="default-value-changes-265"> <a href="#default-value-changes-265" class="anchor-heading" aria-labelledby="default-value-changes-265"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6279ef51..464e46eb 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -515,7 +515,7 @@</span> alertmanager:
     #     resources:
     #       requests:
     #         storage: 50Gi
<span class="gd">-    #   selector: {}
</span><span class="gi">+    #     selector: {}
</span> 
 
     ## The external URL the Alertmanager instances will be available under. This is necessary to generate correct URLs. This is necessary if Alertmanager is not served from root of a DNS name. string  false
<span class="err">
</span></code></pre></div></div> <h2 id="3552"> <a href="#3552" class="anchor-heading" aria-labelledby="3552"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.5.2 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for setting excludedFromEnforce in PrometheusSpec ADDENDUM (#2110)</li> </ul> <h3 id="default-value-changes-266"> <a href="#default-value-changes-266" class="anchor-heading" aria-labelledby="default-value-changes-266"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3551"> <a href="#3551" class="anchor-heading" aria-labelledby="3551"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.5.1 </h2> <p><strong>Release date:</strong> 2022-06-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix alertmanagerConfiguration comment (#2102)</li> </ul> <h3 id="default-value-changes-267"> <a href="#default-value-changes-267" class="anchor-heading" aria-labelledby="default-value-changes-267"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0ce0b53a..6279ef51 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -483,7 +483,9 @@</span> alertmanager:
     ## AlermanagerConfig to be used as top level configuration
     ##
     alertmanagerConfiguration: {}
<span class="gd">-    # - name: global-alertmanager-Configuration
</span><span class="gi">+    ## Example with select a global alertmanagerconfig
+    # alertmanagerConfiguration:
+    #   name: global-alertmanager-Configuration
</span> 
     ## Define Log Format
     # Use logfmt (default) or json logging
<span class="err">
</span></code></pre></div></div> <h2 id="3550"> <a href="#3550" class="anchor-heading" aria-labelledby="3550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.5.0 </h2> <p><strong>Release date:</strong> 2022-05-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.3&amp;color=success" alt="AppVersion: 0.56.3"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for setting excludedFromEnforce in PrometheusSpec (#2089)</li> </ul> <h3 id="default-value-changes-268"> <a href="#default-value-changes-268" class="anchor-heading" aria-labelledby="default-value-changes-268"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 37336fa8..0ce0b53a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1711,7 +1711,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.56.2
</span><span class="gi">+    tag: v0.56.3
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1729,7 +1729,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.56.2
</span><span class="gi">+      tag: v0.56.3
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -2644,8 +2644,15 @@</span> prometheus:
 
     ## PrometheusRulesExcludedFromEnforce - list of prometheus rules to be excluded from enforcing of adding namespace labels.
     ## Works only if enforcedNamespaceLabel set to true. Make sure both ruleNamespace and ruleName are set for each pair
<span class="gi">+    ## Deprecated, use `excludedFromEnforcement` instead
</span>     prometheusRulesExcludedFromEnforce: []
 
<span class="gi">+    ## ExcludedFromEnforcement - list of object references to PodMonitor, ServiceMonitor, Probe and PrometheusRule objects
+    ## to be excluded from enforcing a namespace label of origin.
+    ## Works only if enforcedNamespaceLabel set to true.
+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#objectreference
+    excludedFromEnforcement: []
+
</span>     ## QueryLogFile specifies the file to which PromQL queries are logged. Note that this location must be writable,
     ## and can be persisted using an attached volume. Alternatively, the location can be set to a stdout location such
     ## as /dev/stdout to log querie information to the default Prometheus log stream. This is only available in versions
<span class="err">
</span></code></pre></div></div> <h2 id="3542"> <a href="#3542" class="anchor-heading" aria-labelledby="3542"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.4.2 </h2> <p><strong>Release date:</strong> 2022-05-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> remove deprecated kube apiserver rules (#2076)</li> </ul> <h3 id="default-value-changes-269"> <a href="#default-value-changes-269" class="anchor-heading" aria-labelledby="default-value-changes-269"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7414180e..37336fa8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -38,10 +38,10 @@</span> defaultRules:
     configReloaders: true
     general: true
     k8s: true
<span class="gd">-    kubeApiserver: true
</span>     kubeApiserverAvailability: true
<span class="gd">-    kubeApiserverSlos: true
</span>     kubeApiserverBurnrate: true
<span class="gi">+    kubeApiserverHistogram: true
+    kubeApiserverSlos: true
</span>     kubelet: true
     kubeProxy: true
     kubePrometheusGeneral: true
<span class="err">
</span></code></pre></div></div> <h2 id="3541"> <a href="#3541" class="anchor-heading" aria-labelledby="3541"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.4.1 </h2> <p><strong>Release date:</strong> 2022-05-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add missing defaultRules.rules.kubeApiserverBurnrate (#2086)</li> </ul> <h3 id="default-value-changes-270"> <a href="#default-value-changes-270" class="anchor-heading" aria-labelledby="default-value-changes-270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e613f9fd..7414180e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -41,6 +41,7 @@</span> defaultRules:
     kubeApiserver: true
     kubeApiserverAvailability: true
     kubeApiserverSlos: true
<span class="gi">+    kubeApiserverBurnrate: true
</span>     kubelet: true
     kubeProxy: true
     kubePrometheusGeneral: true
<span class="err">
</span></code></pre></div></div> <h2 id="3540"> <a href="#3540" class="anchor-heading" aria-labelledby="3540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.4.0 </h2> <p><strong>Release date:</strong> 2022-05-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow either type of imagePullSecrets (#2056)</li> </ul> <h3 id="default-value-changes-271"> <a href="#default-value-changes-271" class="anchor-heading" aria-labelledby="default-value-changes-271"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a86dfba6..e613f9fd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -121,6 +121,8 @@</span> global:
   ##
   imagePullSecrets: []
   # - name: "image-pull-secret"
<span class="gi">+  # or
+  # - "image-pull-secret"
</span> 
 ## Configuration for alertmanager
 ## ref: https://prometheus.io/docs/alerting/alertmanager/
<span class="err">
</span></code></pre></div></div> <h2 id="3531"> <a href="#3531" class="anchor-heading" aria-labelledby="3531"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.3.1 </h2> <p><strong>Release date:</strong> 2022-05-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add null receiver to InfoInhibitor rule in default AlertManager configuration (#2000)</li> </ul> <h3 id="default-value-changes-272"> <a href="#default-value-changes-272" class="anchor-heading" aria-labelledby="default-value-changes-272"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 108ccc7c..a86dfba6 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -171,9 +171,9 @@</span> alertmanager:
       repeat_interval: 12h
       receiver: 'null'
       routes:
<span class="gd">-      - match:
-          alertname: Watchdog
-        receiver: 'null'
</span><span class="gi">+      - receiver: 'null'
+        matchers:
+          - alertname =~ "InfoInhibitor|Watchdog"
</span>     receivers:
     - name: 'null'
     templates:
<span class="err">
</span></code></pre></div></div> <h2 id="3530"> <a href="#3530" class="anchor-heading" aria-labelledby="3530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.3.0 </h2> <p><strong>Release date:</strong> 2022-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add support for enableRemoteWriteReceiver in the prometheuses crd and (#1963)</li> </ul> <h3 id="default-value-changes-273"> <a href="#default-value-changes-273" class="anchor-heading" aria-labelledby="default-value-changes-273"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3a9b311a..108ccc7c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2202,6 +2202,10 @@</span> prometheus:
     ##
     externalLabels: {}
 
<span class="gi">+    ## enable --web.enable-remote-write-receiver flag on prometheus-server
+    ##
+    enableRemoteWriteReceiver: false
+
</span>     ## Name of the external label used to denote replica name
     ##
     replicaExternalLabelName: ""
<span class="err">
</span></code></pre></div></div> <h2 id="3520"> <a href="#3520" class="anchor-heading" aria-labelledby="3520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.2.0 </h2> <p><strong>Release date:</strong> 2022-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade Grafana chart to 6.29 (#2029)</li> </ul> <h3 id="default-value-changes-274"> <a href="#default-value-changes-274" class="anchor-heading" aria-labelledby="default-value-changes-274"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3510"> <a href="#3510" class="anchor-heading" aria-labelledby="3510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.1.0 </h2> <p><strong>Release date:</strong> 2022-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.2&amp;color=success" alt="AppVersion: 0.56.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Version bump to 0.56.2 (#2042)</li> </ul> <h3 id="default-value-changes-275"> <a href="#default-value-changes-275" class="anchor-heading" aria-labelledby="default-value-changes-275"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 594abb81..3a9b311a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1708,7 +1708,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.56.0
</span><span class="gi">+    tag: v0.56.2
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1726,7 +1726,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.56.0
</span><span class="gi">+      tag: v0.56.2
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="err">
</span></code></pre></div></div> <h2 id="3503"> <a href="#3503" class="anchor-heading" aria-labelledby="3503"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.0.3 </h2> <p><strong>Release date:</strong> 2022-04-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.0&amp;color=success" alt="AppVersion: 0.56.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Delete statefulset Grafana dashboard (#1892)</li> </ul> <h3 id="default-value-changes-276"> <a href="#default-value-changes-276" class="anchor-heading" aria-labelledby="default-value-changes-276"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3502"> <a href="#3502" class="anchor-heading" aria-labelledby="3502"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.0.2 </h2> <p><strong>Release date:</strong> 2022-04-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.0&amp;color=success" alt="AppVersion: 0.56.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kube-prometheus-stack adding cluster role for prometheus-operator prometheuses/status (#2012)</li> </ul> <h3 id="default-value-changes-277"> <a href="#default-value-changes-277" class="anchor-heading" aria-labelledby="default-value-changes-277"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3501"> <a href="#3501" class="anchor-heading" aria-labelledby="3501"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.0.1 </h2> <p><strong>Release date:</strong> 2022-04-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.0&amp;color=success" alt="AppVersion: 0.56.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-278"> <a href="#default-value-changes-278" class="anchor-heading" aria-labelledby="default-value-changes-278"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3fa97fd0..594abb81 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -748,7 +748,7 @@</span> grafana:
       ## Create datasource for each Pod of Prometheus StatefulSet;
       ## this uses headless service `prometheus-operated` which is
       ## created by Prometheus Operator
<span class="gd">-      ## ref: https://git.io/fjaBS
</span><span class="gi">+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/0fee93e12dc7c2ea1218f19ae25ec6b893460590/pkg/prometheus/statefulset.go#L255-L286
</span>       createPrometheusReplicasDatasources: false
       label: grafana_datasource
       labelValue: "1"
<span class="err">
</span></code></pre></div></div> <h2 id="3500"> <a href="#3500" class="anchor-heading" aria-labelledby="3500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 35.0.0 </h2> <p><strong>Release date:</strong> 2022-04-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.56.0&amp;color=success" alt="AppVersion: 0.56.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump to prometheus-operator 0.56.0 (#2005)</li> </ul> <h3 id="default-value-changes-279"> <a href="#default-value-changes-279" class="anchor-heading" aria-labelledby="default-value-changes-279"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d930d939..3fa97fd0 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1708,7 +1708,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.55.0
</span><span class="gi">+    tag: v0.56.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1726,7 +1726,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.55.0
</span><span class="gi">+      tag: v0.56.0
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -2160,7 +2160,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.34.0
</span><span class="gi">+      tag: v2.35.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="34100"> <a href="#34100" class="anchor-heading" aria-labelledby="34100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.10.0 </h2> <p><strong>Release date:</strong> 2022-04-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> allow for separately managed secret for additionalAlertadditionalAlertRelabelConfigs (#1977)</li> </ul> <h3 id="default-value-changes-280"> <a href="#default-value-changes-280" class="anchor-heading" aria-labelledby="default-value-changes-280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a621d0da..d930d939 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2567,6 +2567,14 @@</span> prometheus:
     #   replacement: $1
     #   action: labeldrop
 
<span class="gi">+    ## If additional alert relabel configurations are already deployed in a single secret, or you want to manage
+    ## them separately from the helm deployment, you can use this section.
+    ## Expected values are the secret name and key
+    ## Cannot be used with additionalAlertRelabelConfigs
+    additionalAlertRelabelConfigsSecret: {}
+      # name:
+      # key:
+
</span>     ## SecurityContext holds pod-level security attributes and common container settings.
     ## This defaults to non root user with uid 1000 and gid 2000.
     ## https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md
<span class="err">
</span></code></pre></div></div> <h2 id="3491"> <a href="#3491" class="anchor-heading" aria-labelledby="3491"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.9.1 </h2> <p><strong>Release date:</strong> 2022-04-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix markdown &amp; adjust linters (#1978)</li> </ul> <h3 id="default-value-changes-281"> <a href="#default-value-changes-281" class="anchor-heading" aria-labelledby="default-value-changes-281"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3490"> <a href="#3490" class="anchor-heading" aria-labelledby="3490"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.9.0 </h2> <p><strong>Release date:</strong> 2022-04-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade Grafana to 6.26 (#1953)</li> </ul> <h3 id="default-value-changes-282"> <a href="#default-value-changes-282" class="anchor-heading" aria-labelledby="default-value-changes-282"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3480"> <a href="#3480" class="anchor-heading" aria-labelledby="3480"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.8.0 </h2> <p><strong>Release date:</strong> 2022-04-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow using template for additionalScrapeConfigs (#1707)</li> </ul> <h3 id="default-value-changes-283"> <a href="#default-value-changes-283" class="anchor-heading" aria-labelledby="default-value-changes-283"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5c086f27..a621d0da 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2470,6 +2470,7 @@</span> prometheus:
     ## appended, the user is responsible to make sure it is valid. Note that using this feature may expose the possibility
     ## to break upgrades of Prometheus. It is advised to review Prometheus release notes to ensure that no incompatible
     ## scrape configs are going to break Prometheus after the upgrade.
<span class="gi">+    ## AdditionalScrapeConfigs can be defined as a list or as a templated string.
</span>     ##
     ## The scrape configuration example below will find master nodes, provided they have the name .*mst.*, relabel the
     ## port to 2379 and allow etcd scraping provided it is running on all Kubernetes master nodes
<span class="p">@@ -2502,6 +2503,20 @@</span> prometheus:
     #   metric_relabel_configs:
     #   - regex: (kubernetes_io_hostname|failure_domain_beta_kubernetes_io_region|beta_kubernetes_io_os|beta_kubernetes_io_arch|beta_kubernetes_io_instance_type|failure_domain_beta_kubernetes_io_zone)
     #     action: labeldrop
<span class="gi">+    #
+    ## If scrape config contains a repetitive section, you may want to use a template.
+    ## In the following example, you can see how to define `gce_sd_configs` for multiple zones
+    # additionalScrapeConfigs: |
+    #  - job_name: "node-exporter"
+    #    gce_sd_configs:
+    #    {{range $zone := .Values.gcp_zones}}
+    #    - project: "project1"
+    #      zone: "{{$zone}}"
+    #      port: 9100
+    #    {{end}}
+    #    relabel_configs:
+    #    ...
+
</span> 
     ## If additional scrape configurations are already deployed in a single secret file you can use this section.
     ## Expected values are the secret name and key
<span class="err">
</span></code></pre></div></div> <h2 id="3471"> <a href="#3471" class="anchor-heading" aria-labelledby="3471"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.7.1 </h2> <p><strong>Release date:</strong> 2022-04-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add values grafana.ingress.ingressClassName (#1950)</li> </ul> <h3 id="default-value-changes-284"> <a href="#default-value-changes-284" class="anchor-heading" aria-labelledby="default-value-changes-284"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f4806a0b..5c086f27 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -679,6 +679,11 @@</span> grafana:
     ##
     enabled: false
 
<span class="gi">+    ## IngressClassName for Grafana Ingress.
+    ## Should be provided if Ingress is enable.
+    ##
+    # ingressClassName: nginx
+
</span>     ## Annotations for Grafana Ingress
     ##
     annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="3470"> <a href="#3470" class="anchor-heading" aria-labelledby="3470"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.7.0 </h2> <p><strong>Release date:</strong> 2022-04-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Increase default CPU for config-reloader (#1700)</li> </ul> <h3 id="default-value-changes-285"> <a href="#default-value-changes-285" class="anchor-heading" aria-labelledby="default-value-changes-285"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 90858c19..f4806a0b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1727,10 +1727,10 @@</span> prometheusOperator:
     # resource config for prometheusConfigReloader
     resources:
       requests:
<span class="gd">-        cpu: 100m
</span><span class="gi">+        cpu: 200m
</span>         memory: 50Mi
       limits:
<span class="gd">-        cpu: 100m
</span><span class="gi">+        cpu: 200m
</span>         memory: 50Mi
 
   ## Thanos side-car image when configured
<span class="err">
</span></code></pre></div></div> <h2 id="3460"> <a href="#3460" class="anchor-heading" aria-labelledby="3460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.6.0 </h2> <p><strong>Release date:</strong> 2022-03-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> - upgrade node-exporter version (#1928)</li> </ul> <h3 id="default-value-changes-286"> <a href="#default-value-changes-286" class="anchor-heading" aria-labelledby="default-value-changes-286"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3451"> <a href="#3451" class="anchor-heading" aria-labelledby="3451"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.5.1 </h2> <p><strong>Release date:</strong> 2022-03-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Regenerate lock file (#1924)</li> </ul> <h3 id="default-value-changes-287"> <a href="#default-value-changes-287" class="anchor-heading" aria-labelledby="default-value-changes-287"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3450"> <a href="#3450" class="anchor-heading" aria-labelledby="3450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.5.0 </h2> <p><strong>Release date:</strong> 2022-03-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add option to create aggregate ClusterRoles (#1888)</li> </ul> <h3 id="default-value-changes-288"> <a href="#default-value-changes-288" class="anchor-heading" aria-labelledby="default-value-changes-288"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index cbf568d2..90858c19 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -101,6 +101,10 @@</span> additionalPrometheusRulesMap: {}
 global:
   rbac:
     create: true
<span class="gi">+
+    ## Create ClusterRoles that extend the existing view, edit and admin ClusterRoles to interact with prometheus-operator CRDs
+    ## Ref: https://kubernetes.io/docs/reference/access-authn-authz/rbac/#aggregated-clusterroles
+    createAggregateClusterRoles: false
</span>     pspEnabled: false
     pspAnnotations: {}
       ## Specify pod annotations
<span class="err">
</span></code></pre></div></div> <h2 id="3430"> <a href="#3430" class="anchor-heading" aria-labelledby="3430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.3.0 </h2> <p><strong>Release date:</strong> 2022-03-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow to override Grafana datasources UID (#1908)</li> </ul> <h3 id="default-value-changes-289"> <a href="#default-value-changes-289" class="anchor-heading" aria-labelledby="default-value-changes-289"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 072e2c57..cbf568d2 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -723,6 +723,8 @@</span> grafana:
       enabled: true
       defaultDatasourceEnabled: true
 
<span class="gi">+      uid: prometheus
+
</span>       ## URL of prometheus datasource
       ##
       # url: http://prometheus-stack-prometheus:9090/
<span class="err">
</span></code></pre></div></div> <h2 id="3420"> <a href="#3420" class="anchor-heading" aria-labelledby="3420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.2.0 </h2> <p><strong>Release date:</strong> 2022-03-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update prometheus images (#1918)</li> </ul> <h3 id="default-value-changes-290"> <a href="#default-value-changes-290" class="anchor-heading" aria-labelledby="default-value-changes-290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ca7b2e50..072e2c57 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -414,7 +414,7 @@</span> alertmanager:
     ##
     image:
       repository: quay.io/prometheus/alertmanager
<span class="gd">-      tag: v0.23.0
</span><span class="gi">+      tag: v0.24.0
</span>       sha: ""
 
     ## If true then the user will be responsible to provide a secret with alertmanager configuration
<span class="p">@@ -1731,7 +1731,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.25.1
</span><span class="gi">+    tag: v0.25.2
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2149,7 +2149,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.33.5
</span><span class="gi">+      tag: v2.34.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="3411"> <a href="#3411" class="anchor-heading" aria-labelledby="3411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.1.1 </h2> <p><strong>Release date:</strong> 2022-03-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix typo (#1887)</li> </ul> <h3 id="default-value-changes-291"> <a href="#default-value-changes-291" class="anchor-heading" aria-labelledby="default-value-changes-291"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b232ffee..ca7b2e50 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -475,7 +475,7 @@</span> alertmanager:
 
     ## AlermanagerConfig to be used as top level configuration
     ##
<span class="gd">-    altermanagerConfiguration: {}
</span><span class="gi">+    alertmanagerConfiguration: {}
</span>     # - name: global-alertmanager-Configuration
 
     ## Define Log Format
<span class="err">
</span></code></pre></div></div> <h2 id="3410"> <a href="#3410" class="anchor-heading" aria-labelledby="3410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.1.0 </h2> <p><strong>Release date:</strong> 2022-03-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add alertmanager alertmanager configuration (#1880)</li> </ul> <h3 id="default-value-changes-292"> <a href="#default-value-changes-292" class="anchor-heading" aria-labelledby="default-value-changes-292"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a3de0794..b232ffee 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -473,6 +473,11 @@</span> alertmanager:
     #   matchLabels:
     #     alertmanagerconfig: enabled
 
<span class="gi">+    ## AlermanagerConfig to be used as top level configuration
+    ##
+    altermanagerConfiguration: {}
+    # - name: global-alertmanager-Configuration
+
</span>     ## Define Log Format
     # Use logfmt (default) or json logging
     logFormat: logfmt
<span class="err">
</span></code></pre></div></div> <h2 id="3400"> <a href="#3400" class="anchor-heading" aria-labelledby="3400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 34.0.0 </h2> <p><strong>Release date:</strong> 2022-03-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.55.0&amp;color=success" alt="AppVersion: 0.55.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Prometheus-Operator v0.55.0 (#1873)</li> </ul> <h3 id="default-value-changes-293"> <a href="#default-value-changes-293" class="anchor-heading" aria-labelledby="default-value-changes-293"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bbd3f1ca..a3de0794 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1692,7 +1692,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.54.1
</span><span class="gi">+    tag: v0.55.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1710,7 +1710,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.54.1
</span><span class="gi">+      tag: v0.55.0
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -1726,7 +1726,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.24.0
</span><span class="gi">+    tag: v0.25.1
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2144,7 +2144,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.33.4
</span><span class="gi">+      tag: v2.33.5
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="3321"> <a href="#3321" class="anchor-heading" aria-labelledby="3321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 33.2.1 </h2> <p><strong>Release date:</strong> 2022-03-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.1&amp;color=success" alt="AppVersion: 0.54.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Replace invalid characters in the version (#1833)</li> </ul> <h3 id="default-value-changes-294"> <a href="#default-value-changes-294" class="anchor-heading" aria-labelledby="default-value-changes-294"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3320"> <a href="#3320" class="anchor-heading" aria-labelledby="3320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 33.2.0 </h2> <p><strong>Release date:</strong> 2022-03-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.1&amp;color=success" alt="AppVersion: 0.54.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add uid to grafana default datasources (#1816)</li> </ul> <h3 id="default-value-changes-295"> <a href="#default-value-changes-295" class="anchor-heading" aria-labelledby="default-value-changes-295"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3310"> <a href="#3310" class="anchor-heading" aria-labelledby="3310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 33.1.0 </h2> <p><strong>Release date:</strong> 2022-02-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.1&amp;color=success" alt="AppVersion: 0.54.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Expose the container-specific security context for Prometheus Operator (#1811)</li> </ul> <h3 id="default-value-changes-296"> <a href="#default-value-changes-296" class="anchor-heading" aria-labelledby="default-value-changes-296"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3ce93c58..bbd3f1ca 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1681,6 +1681,13 @@</span> prometheusOperator:
     runAsNonRoot: true
     runAsUser: 65534
 
<span class="gi">+  ## Container-specific security context configuration
+  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
+  ##
+  containerSecurityContext:
+    allowPrivilegeEscalation: false
+    readOnlyRootFilesystem: true
+
</span>   ## Prometheus-operator image
   ##
   image:
<span class="err">
</span></code></pre></div></div> <h2 id="3300"> <a href="#3300" class="anchor-heading" aria-labelledby="3300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 33.0.0 </h2> <p><strong>Release date:</strong> 2022-02-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.1&amp;color=success" alt="AppVersion: 0.54.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Version bump to 0.54.1 (#1830)</li> </ul> <h3 id="default-value-changes-297"> <a href="#default-value-changes-297" class="anchor-heading" aria-labelledby="default-value-changes-297"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 16d4d12b..3ce93c58 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1466,8 +1466,8 @@</span> prometheusOperator:
       enabled: true
       image:
         repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
<span class="gd">-        tag: v1.0
-        sha: "f3b6b39a6062328c095337b4cadcefd1612348fdd5190b1dcbcb9b9e90bd8068"
</span><span class="gi">+        tag: v1.1.1
+        sha: ""
</span>         pullPolicy: IfNotPresent
       resources: {}
       ## Provide a priority class name to the webhook patching job
<span class="p">@@ -1685,7 +1685,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.54.0
</span><span class="gi">+    tag: v0.54.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1703,7 +1703,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.54.0
</span><span class="gi">+      tag: v0.54.1
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -2137,7 +2137,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.33.1
</span><span class="gi">+      tag: v2.33.4
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="3240"> <a href="#3240" class="anchor-heading" aria-labelledby="3240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.4.0 </h2> <p><strong>Release date:</strong> 2022-02-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump grafana and kube-state-metrics subcharts (#1828)</li> </ul> <h3 id="default-value-changes-298"> <a href="#default-value-changes-298" class="anchor-heading" aria-labelledby="default-value-changes-298"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3230"> <a href="#3230" class="anchor-heading" aria-labelledby="3230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.3.0 </h2> <p><strong>Release date:</strong> 2022-02-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Make burnrate and histogram apiserver rules optional (#1792)</li> </ul> <h3 id="default-value-changes-299"> <a href="#default-value-changes-299" class="anchor-heading" aria-labelledby="default-value-changes-299"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3221"> <a href="#3221" class="anchor-heading" aria-labelledby="3221"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.2.1 </h2> <p><strong>Release date:</strong> 2022-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Grafana Chart version to 6.21.5 (#1804)</li> </ul> <h3 id="default-value-changes-300"> <a href="#default-value-changes-300" class="anchor-heading" aria-labelledby="default-value-changes-300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3220"> <a href="#3220" class="anchor-heading" aria-labelledby="3220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.2.0 </h2> <p><strong>Release date:</strong> 2022-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add labelValue to overwrite grafana dashboard mark label (#1782)</li> </ul> <h3 id="default-value-changes-301"> <a href="#default-value-changes-301" class="anchor-heading" aria-labelledby="default-value-changes-301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e28d904a..16d4d12b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -702,6 +702,7 @@</span> grafana:
     dashboards:
       enabled: true
       label: grafana_dashboard
<span class="gi">+      labelValue: "1"
</span> 
       ## Annotations for Grafana dashboard configmaps
       ##
<span class="p">@@ -734,6 +735,7 @@</span> grafana:
       ## ref: https://git.io/fjaBS
       createPrometheusReplicasDatasources: false
       label: grafana_datasource
<span class="gi">+      labelValue: "1"
</span> 
   extraConfigmapMounts: []
   # - name: certs-configmap
<span class="err">
</span></code></pre></div></div> <h2 id="3210"> <a href="#3210" class="anchor-heading" aria-labelledby="3210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.1.0 </h2> <p><strong>Release date:</strong> 2022-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add support for configure services externalTr (#1757)</li> </ul> <h3 id="default-value-changes-302"> <a href="#default-value-changes-302" class="anchor-heading" aria-labelledby="default-value-changes-302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7633d2ad..e28d904a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -322,6 +322,11 @@</span> alertmanager:
     externalIPs: []
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
<span class="gi">+
+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>     ## Service type
     ##
     type: ClusterIP
<span class="p">@@ -347,6 +352,11 @@</span> alertmanager:
     ## Loadbalancer source IP ranges
     ## Only used if servicePerReplica.type is "LoadBalancer"
     loadBalancerSourceRanges: []
<span class="gi">+
+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>     ## Service type
     ##
     type: ClusterIP
<span class="p">@@ -1543,6 +1553,10 @@</span> prometheusOperator:
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
 
<span class="gi">+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>   ## Service type
   ## NodePort, ClusterIP, LoadBalancer
   ##
<span class="p">@@ -1738,6 +1752,10 @@</span> prometheus:
     annotations: {}
     labels: {}
 
<span class="gi">+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>     ## Service type
     ##
     type: ClusterIP
<span class="p">@@ -1801,6 +1819,10 @@</span> prometheus:
     httpPort: 10902
     targetHttpPort: "http"
 
<span class="gi">+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>     ## Service type
     ##
     type: LoadBalancer
<span class="p">@@ -1838,6 +1860,11 @@</span> prometheus:
     ## Only use if service.type is "LoadBalancer"
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
<span class="gi">+
+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>     ## Service type
     ##
     type: ClusterIP
<span class="p">@@ -1872,6 +1899,11 @@</span> prometheus:
     ## Loadbalancer source IP ranges
     ## Only used if servicePerReplica.type is "LoadBalancer"
     loadBalancerSourceRanges: []
<span class="gi">+
+    ## Denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints
+    ##
+    externalTrafficPolicy: Cluster
+
</span>     ## Service type
     ##
     type: ClusterIP
<span class="err">
</span></code></pre></div></div> <h2 id="3203"> <a href="#3203" class="anchor-heading" aria-labelledby="3203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.0.3 </h2> <p><strong>Release date:</strong> 2022-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Import Node Exporter / Nodes grafana dashboard conditionally (#1687)</li> </ul> <h3 id="default-value-changes-303"> <a href="#default-value-changes-303" class="anchor-heading" aria-labelledby="default-value-changes-303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3202"> <a href="#3202" class="anchor-heading" aria-labelledby="3202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.0.2 </h2> <p><strong>Release date:</strong> 2022-02-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Adding GMartinez-Sisti as new maintainer (#1778)</li> </ul> <h3 id="default-value-changes-304"> <a href="#default-value-changes-304" class="anchor-heading" aria-labelledby="default-value-changes-304"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3201"> <a href="#3201" class="anchor-heading" aria-labelledby="3201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.0.1 </h2> <p><strong>Release date:</strong> 2022-02-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> remove depreciation warnings in prometheus-node-exporter (#1732)</li> </ul> <h3 id="default-value-changes-305"> <a href="#default-value-changes-305" class="anchor-heading" aria-labelledby="default-value-changes-305"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6f3feb5b..7633d2ad 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1377,8 +1377,8 @@</span> prometheus-node-exporter:
     ##
     jobLabel: node-exporter
   extraArgs:
<span class="gd">-    - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
-    - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
</span><span class="gi">+    - --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
+    - --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
</span>   service:
     portName: http-metrics
   prometheus:
<span class="err">
</span></code></pre></div></div> <h2 id="3200"> <a href="#3200" class="anchor-heading" aria-labelledby="3200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 32.0.0 </h2> <p><strong>Release date:</strong> 2022-02-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.54.0&amp;color=success" alt="AppVersion: 0.54.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kube-prometheus-stack: Prometheus-Operator v0.54.0 (#1770)</li> </ul> <h3 id="default-value-changes-306"> <a href="#default-value-changes-306" class="anchor-heading" aria-labelledby="default-value-changes-306"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 887f577a..6f3feb5b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -760,7 +760,7 @@</span> grafana:
     # If true, a ServiceMonitor CRD is created for a prometheus operator
     # https://github.com/coreos/prometheus-operator
     #
<span class="gd">-    enabled: false
</span><span class="gi">+    enabled: true
</span> 
     # Path to use for scraping metrics. Might be different if server.root_url is set
     # in grafana.ini
<span class="p">@@ -1669,7 +1669,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.53.1
</span><span class="gi">+    tag: v0.54.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1687,7 +1687,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.53.1
</span><span class="gi">+      tag: v0.54.0
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -2103,7 +2103,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.32.1
</span><span class="gi">+      tag: v2.33.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="3102"> <a href="#3102" class="anchor-heading" aria-labelledby="3102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 31.0.2 </h2> <p><strong>Release date:</strong> 2022-02-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Scope CoreDNS dashboard to CoreDNS job (#1730)</li> </ul> <h3 id="default-value-changes-307"> <a href="#default-value-changes-307" class="anchor-heading" aria-labelledby="default-value-changes-307"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3101"> <a href="#3101" class="anchor-heading" aria-labelledby="3101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 31.0.1 </h2> <p><strong>Release date:</strong> 2022-02-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> patch updates for kube-state-metrics and grafana (#1766)</li> </ul> <h3 id="default-value-changes-308"> <a href="#default-value-changes-308" class="anchor-heading" aria-labelledby="default-value-changes-308"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3100"> <a href="#3100" class="anchor-heading" aria-labelledby="3100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 31.0.0 </h2> <p><strong>Release date:</strong> 2022-02-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> rm grafana serviceMonitor (#1652)</li> </ul> <h3 id="default-value-changes-309"> <a href="#default-value-changes-309" class="anchor-heading" aria-labelledby="default-value-changes-309"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4782a753..887f577a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -756,26 +756,27 @@</span> grafana:
   service:
     portName: http-web
 
<span class="gd">-  ## If true, create a serviceMonitor for grafana
-  ##
</span>   serviceMonitor:
<span class="gd">-    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
-    ##
-    interval: ""
-    selfMonitor: true
</span><span class="gi">+    # If true, a ServiceMonitor CRD is created for a prometheus operator
+    # https://github.com/coreos/prometheus-operator
+    #
+    enabled: false
</span> 
     # Path to use for scraping metrics. Might be different if server.root_url is set
     # in grafana.ini
     path: "/metrics"
 
<span class="gi">+    #  namespace: monitoring  (defaults to use the namespace this chart is deployed to)
</span> 
<span class="gd">-    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
-    ##
-    metricRelabelings: []
-    # - action: keep
-    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
-    #   sourceLabels: [__name__]
</span><span class="gi">+    # labels for the ServiceMonitor
+    labels: {}
+
+    # Scrape interval. If not set, the Prometheus default scrape interval is used.
+    #
+    interval: ""
+    scheme: http
+    tlsConfig: {}
+    scrapeTimeout: 30s
</span> 
     ## RelabelConfigs to apply to samples before scraping
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
<span class="err">
</span></code></pre></div></div> <h2 id="3020"> <a href="#3020" class="anchor-heading" aria-labelledby="3020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 30.2.0 </h2> <p><strong>Release date:</strong> 2022-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Grafana: upgrade to 6.21.0, kube-state-metrics: upgrade to 4.4.1. (#1742)</li> </ul> <h3 id="default-value-changes-310"> <a href="#default-value-changes-310" class="anchor-heading" aria-labelledby="default-value-changes-310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3010"> <a href="#3010" class="anchor-heading" aria-labelledby="3010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 30.1.0 </h2> <p><strong>Release date:</strong> 2022-01-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> final PR to finalise selectorOverrider (#1711)</li> </ul> <h3 id="default-value-changes-311"> <a href="#default-value-changes-311" class="anchor-heading" aria-labelledby="default-value-changes-311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3003"> <a href="#3003" class="anchor-heading" aria-labelledby="3003"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 30.0.3 </h2> <p><strong>Release date:</strong> 2022-01-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix alertmanager podAntiAffinity (#1717)</li> </ul> <h3 id="default-value-changes-312"> <a href="#default-value-changes-312" class="anchor-heading" aria-labelledby="default-value-changes-312"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3002"> <a href="#3002" class="anchor-heading" aria-labelledby="3002"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 30.0.2 </h2> <p><strong>Release date:</strong> 2022-01-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Rename label selector for pod disruption budget of Alertmanager (#1599)</li> </ul> <h3 id="default-value-changes-313"> <a href="#default-value-changes-313" class="anchor-heading" aria-labelledby="default-value-changes-313"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3001"> <a href="#3001" class="anchor-heading" aria-labelledby="3001"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 30.0.1 </h2> <p><strong>Release date:</strong> 2022-01-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> set an empty list as default for namespaces.additional in prometheus-operator (#1521)</li> </ul> <h3 id="default-value-changes-314"> <a href="#default-value-changes-314" class="anchor-heading" aria-labelledby="default-value-changes-314"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="3000"> <a href="#3000" class="anchor-heading" aria-labelledby="3000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 30.0.0 </h2> <p><strong>Release date:</strong> 2022-01-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>use kube-state-metrics release label option (#1692)</li> </ul> <h3 id="default-value-changes-315"> <a href="#default-value-changes-315" class="anchor-heading" aria-labelledby="default-value-changes-315"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ab24d1b7..4782a753 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1319,6 +1319,7 @@</span> kube-state-metrics:
   namespaceOverride: ""
   rbac:
     create: true
<span class="gi">+  releaseLabel: true
</span>   prometheus:
     monitor:
       enabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="2901"> <a href="#2901" class="anchor-heading" aria-labelledby="2901"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 29.0.1 </h2> <p><strong>Release date:</strong> 2022-01-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> typo fix (#1693)</li> </ul> <h3 id="default-value-changes-316"> <a href="#default-value-changes-316" class="anchor-heading" aria-labelledby="default-value-changes-316"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2900"> <a href="#2900" class="anchor-heading" aria-labelledby="2900"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 29.0.0 </h2> <p><strong>Release date:</strong> 2022-01-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support new default ports for controlplane (#1393)</li> </ul> <h3 id="default-value-changes-317"> <a href="#default-value-changes-317" class="anchor-heading" aria-labelledby="default-value-changes-317"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 86eab1c7..ab24d1b7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -980,8 +980,11 @@</span> kubeControllerManager:
   ##
   service:
     enabled: true
<span class="gd">-    port: 10252
-    targetPort: 10252
</span><span class="gi">+    ## If null or unset, the value is determined dynamically based on target Kubernetes version due to change
+    ## of default port in Kubernetes 1.22.
+    ##
+    port: null
+    targetPort: null
</span>     # selector:
     #   component: kube-controller-manager
 
<span class="p">@@ -996,9 +999,10 @@</span> kubeControllerManager:
     proxyUrl: ""
 
     ## Enable scraping kube-controller-manager over https.
<span class="gd">-    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
</span><span class="gi">+    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks.
+    ## If null or unset, the value is determined dynamically based on target Kubernetes version.
</span>     ##
<span class="gd">-    https: false
</span><span class="gi">+    https: null
</span> 
     # Skip TLS certificate validation when scraping
     insecureSkipVerify: null
<span class="p">@@ -1205,8 +1209,11 @@</span> kubeScheduler:
   ##
   service:
     enabled: true
<span class="gd">-    port: 10251
-    targetPort: 10251
</span><span class="gi">+    ## If null or unset, the value is determined dynamically based on target Kubernetes version due to change
+    ## of default port in Kubernetes 1.23.
+    ##
+    port: null
+    targetPort: null
</span>     # selector:
     #   component: kube-scheduler
 
<span class="p">@@ -1219,9 +1226,10 @@</span> kubeScheduler:
     ##
     proxyUrl: ""
     ## Enable scraping kube-scheduler over https.
<span class="gd">-    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
</span><span class="gi">+    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks.
+    ## If null or unset, the value is determined dynamically based on target Kubernetes version.
</span>     ##
<span class="gd">-    https: false
</span><span class="gi">+    https: null
</span> 
     ## Skip TLS certificate validation when scraping
     insecureSkipVerify: null
<span class="err">
</span></code></pre></div></div> <h2 id="2802"> <a href="#2802" class="anchor-heading" aria-labelledby="2802"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 28.0.2 </h2> <p><strong>Release date:</strong> 2022-01-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> image tag and sha logic for alertmanager instance (#1684)</li> </ul> <h3 id="default-value-changes-318"> <a href="#default-value-changes-318" class="anchor-heading" aria-labelledby="default-value-changes-318"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2801"> <a href="#2801" class="anchor-heading" aria-labelledby="2801"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 28.0.1 </h2> <p><strong>Release date:</strong> 2022-01-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> disable all matched alerts (#1678)</li> </ul> <h3 id="default-value-changes-319"> <a href="#default-value-changes-319" class="anchor-heading" aria-labelledby="default-value-changes-319"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2800"> <a href="#2800" class="anchor-heading" aria-labelledby="2800"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 28.0.0 </h2> <p><strong>Release date:</strong> 2022-01-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Disable PodSecurityPolicies Creation by Default (#1657)</li> </ul> <h3 id="default-value-changes-320"> <a href="#default-value-changes-320" class="anchor-heading" aria-labelledby="default-value-changes-320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7f9b1841..86eab1c7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -101,7 +101,7 @@</span> additionalPrometheusRulesMap: {}
 global:
   rbac:
     create: true
<span class="gd">-    pspEnabled: true
</span><span class="gi">+    pspEnabled: false
</span>     pspAnnotations: {}
       ## Specify pod annotations
       ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
<span class="p">@@ -650,6 +650,11 @@</span> grafana:
 
   adminPassword: prom-operator
 
<span class="gi">+  rbac:
+    ## If true, Grafana PSPs will be created
+    ##
+    pspEnabled: false
+
</span>   ingress:
     ## If true, Grafana Ingress will be created
     ##
<span class="p">@@ -1306,8 +1311,6 @@</span> kube-state-metrics:
   namespaceOverride: ""
   rbac:
     create: true
<span class="gd">-  podSecurityPolicy:
-    enabled: true
</span>   prometheus:
     monitor:
       enabled: true
<span class="p">@@ -1406,6 +1409,10 @@</span> prometheus-node-exporter:
       #   targetLabel: nodename
       #   replacement: $1
       #   action: replace
<span class="gi">+  rbac:
+    ## If true, create PSPs for node-exporter
+    ##
+    pspEnabled: false
</span> 
 ## Manages Prometheus and Alertmanager components
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="2722"> <a href="#2722" class="anchor-heading" aria-labelledby="2722"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 27.2.2 </h2> <p><strong>Release date:</strong> 2022-01-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add desaintmartin as maintainer. (#1679)</li> </ul> <h3 id="default-value-changes-321"> <a href="#default-value-changes-321" class="anchor-heading" aria-labelledby="default-value-changes-321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2721"> <a href="#2721" class="anchor-heading" aria-labelledby="2721"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 27.2.1 </h2> <p><strong>Release date:</strong> 2022-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Adding andrewgkew as new maintainer (#1672)</li> </ul> <h3 id="default-value-changes-322"> <a href="#default-value-changes-322" class="anchor-heading" aria-labelledby="default-value-changes-322"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2720"> <a href="#2720" class="anchor-heading" aria-labelledby="2720"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 27.2.0 </h2> <p><strong>Release date:</strong> 2022-01-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>upgrade grafana version (#1662)</li> </ul> <h3 id="default-value-changes-323"> <a href="#default-value-changes-323" class="anchor-heading" aria-labelledby="default-value-changes-323"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2710"> <a href="#2710" class="anchor-heading" aria-labelledby="2710"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 27.1.0 </h2> <p><strong>Release date:</strong> 2022-01-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update thanos to 0.24.0 (#1653)</li> </ul> <h3 id="default-value-changes-324"> <a href="#default-value-changes-324" class="anchor-heading" aria-labelledby="default-value-changes-324"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c9cf5c6b..7f9b1841 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1686,7 +1686,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.23.1
</span><span class="gi">+    tag: v0.24.0
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="err">
</span></code></pre></div></div> <h2 id="2701"> <a href="#2701" class="anchor-heading" aria-labelledby="2701"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 27.0.1 </h2> <p><strong>Release date:</strong> 2021-12-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix kubeApiserver rule (#1651)</li> </ul> <h3 id="default-value-changes-325"> <a href="#default-value-changes-325" class="anchor-heading" aria-labelledby="default-value-changes-325"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index de9a0113..c9cf5c6b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -38,6 +38,7 @@</span> defaultRules:
     configReloaders: true
     general: true
     k8s: true
<span class="gi">+    kubeApiserver: true
</span>     kubeApiserverAvailability: true
     kubeApiserverSlos: true
     kubelet: true
<span class="err">
</span></code></pre></div></div> <h2 id="2700"> <a href="#2700" class="anchor-heading" aria-labelledby="2700"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 27.0.0 </h2> <p><strong>Release date:</strong> 2021-12-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> make nodeexporter &amp; config-reloaders rules configurable (#1646)</li> </ul> <h3 id="default-value-changes-326"> <a href="#default-value-changes-326" class="anchor-heading" aria-labelledby="default-value-changes-326"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c8f32cd5..de9a0113 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -35,18 +35,15 @@</span> defaultRules:
   rules:
     alertmanager: true
     etcd: true
<span class="gi">+    configReloaders: true
</span>     general: true
     k8s: true
<span class="gd">-    kubeApiserver: true
</span>     kubeApiserverAvailability: true
<span class="gd">-    kubeApiserverError: true
</span>     kubeApiserverSlos: true
     kubelet: true
     kubeProxy: true
     kubePrometheusGeneral: true
<span class="gd">-    kubePrometheusNodeAlerting: true
</span>     kubePrometheusNodeRecording: true
<span class="gd">-    kubernetesAbsent: true
</span>     kubernetesApps: true
     kubernetesResources: true
     kubernetesStorage: true
<span class="p">@@ -55,9 +52,10 @@</span> defaultRules:
     kubeStateMetrics: true
     network: true
     node: true
<span class="gi">+    nodeExporterAlerting: true
+    nodeExporterRecording: true
</span>     prometheus: true
     prometheusOperator: true
<span class="gd">-    time: true
</span> 
   ## Reduce app namespace alert scope
   appNamespacesTarget: ".*"
<span class="p">@@ -70,6 +68,9 @@</span> defaultRules:
   ## Additional labels for PrometheusRule alerts
   additionalRuleLabels: {}
 
<span class="gi">+  ## Prefix for runbook URLs. Use this to override the first part of the runbookURLs that is common to all rules.
+  runbookUrl: "https://runbooks.prometheus-operator.dev/runbooks"
+
</span>   ## Disabled PrometheusRule alerts
   disabled: {}
   # KubeAPIDown: true
<span class="err">
</span></code></pre></div></div> <h2 id="2620"> <a href="#2620" class="anchor-heading" aria-labelledby="2620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 26.2.0 </h2> <p><strong>Release date:</strong> 2021-12-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Disable specific alert in values.yaml (#1173)</li> </ul> <h3 id="default-value-changes-327"> <a href="#default-value-changes-327" class="anchor-heading" aria-labelledby="default-value-changes-327"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7e828c25..c8f32cd5 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -70,6 +70,11 @@</span> defaultRules:
   ## Additional labels for PrometheusRule alerts
   additionalRuleLabels: {}
 
<span class="gi">+  ## Disabled PrometheusRule alerts
+  disabled: {}
+  # KubeAPIDown: true
+  # NodeRAIDDegraded: true
+
</span> ## Deprecated way to provide custom recording or alerting rules to be deployed into the cluster.
 ##
 # additionalPrometheusRules: []
<span class="err">
</span></code></pre></div></div> <h2 id="2610"> <a href="#2610" class="anchor-heading" aria-labelledby="2610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 26.1.0 </h2> <p><strong>Release date:</strong> 2021-12-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a>update kubernetes-system-kube-proxy.yaml (#1629)</li> </ul> <h3 id="default-value-changes-328"> <a href="#default-value-changes-328" class="anchor-heading" aria-labelledby="default-value-changes-328"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b0d1fa30..7e828c25 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -42,6 +42,7 @@</span> defaultRules:
     kubeApiserverError: true
     kubeApiserverSlos: true
     kubelet: true
<span class="gi">+    kubeProxy: true
</span>     kubePrometheusGeneral: true
     kubePrometheusNodeAlerting: true
     kubePrometheusNodeRecording: true
<span class="err">
</span></code></pre></div></div> <h2 id="2600"> <a href="#2600" class="anchor-heading" aria-labelledby="2600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 26.0.0 </h2> <p><strong>Release date:</strong> 2021-12-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>enable nodeexporter servicemonitor by default again (#1640)</li> </ul> <h3 id="default-value-changes-329"> <a href="#default-value-changes-329" class="anchor-heading" aria-labelledby="default-value-changes-329"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bc9ca9bf..b0d1fa30 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1362,7 +1362,7 @@</span> prometheus-node-exporter:
     portName: http-metrics
   prometheus:
     monitor:
<span class="gd">-      enabled: false
</span><span class="gi">+      enabled: true
</span> 
       jobLabel: jobLabel
 
<span class="err">
</span></code></pre></div></div> <h2 id="2520"> <a href="#2520" class="anchor-heading" aria-labelledby="2520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.2.0 </h2> <p><strong>Release date:</strong> 2021-12-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> added support for cert duration customization; (#1624)</li> </ul> <h3 id="default-value-changes-330"> <a href="#default-value-changes-330" class="anchor-heading" aria-labelledby="default-value-changes-330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7d335e6a..bc9ca9bf 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1453,6 +1453,11 @@</span> prometheusOperator:
     # Use certmanager to generate webhook certs
     certManager:
       enabled: false
<span class="gi">+      # self-signed root certificate
+      rootCert:
+        duration: ""  # default to be 5y
+      admissionCert:
+        duration: ""  # default to be 1y
</span>       # issuerRef:
       #   name: "issuer"
       #   kind: "ClusterIssuer"
<span class="err">
</span></code></pre></div></div> <h2 id="2510"> <a href="#2510" class="anchor-heading" aria-labelledby="2510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.1.0 </h2> <p><strong>Release date:</strong> 2021-12-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add publishNotReadyAddresses prometheus service value. (#1619)</li> </ul> <h3 id="default-value-changes-331"> <a href="#default-value-changes-331" class="anchor-heading" aria-labelledby="default-value-changes-331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3b30ba23..7d335e6a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1812,6 +1812,13 @@</span> prometheus:
     ##
     type: ClusterIP
 
<span class="gi">+    ## Additional port to define in the Service
+    additionalPorts: []
+
+    ## Consider that all endpoints are considered "ready" even if the Pods themselves are not
+    ## Ref: https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec
+    publishNotReadyAddresses: false
+
</span>     sessionAffinity: ""
 
   ## Configuration for creating a separate Service for each statefulset Prometheus replica
<span class="err">
</span></code></pre></div></div> <h2 id="2500"> <a href="#2500" class="anchor-heading" aria-labelledby="2500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.0.0 </h2> <p><strong>Release date:</strong> 2021-12-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.53.1&amp;color=success" alt="AppVersion: 0.53.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Prometheus-Operator 0.53.1 (#1614)</li> </ul> <h3 id="default-value-changes-332"> <a href="#default-value-changes-332" class="anchor-heading" aria-labelledby="default-value-changes-332"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 10f8e9c9..3b30ba23 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -58,8 +58,6 @@</span> defaultRules:
     prometheusOperator: true
     time: true
 
<span class="gd">-  ## Runbook url prefix for default rules
-  runbookUrl: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#
</span>   ## Reduce app namespace alert scope
   appNamespacesTarget: ".*"
 
<span class="p">@@ -361,13 +359,13 @@</span> alertmanager:
     scheme: ""
 
     ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
<span class="gd">-    ## Of type: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
</span><span class="gi">+    ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
</span>     tlsConfig: {}
 
     bearerTokenFile:
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -375,7 +373,7 @@</span> alertmanager:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -386,7 +384,7 @@</span> alertmanager:
     #   action: replace
 
   ## Settings affecting alertmanagerSpec
<span class="gd">-  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#alertmanagerspec
</span><span class="gi">+  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#alertmanagerspec
</span>   ##
   alertmanagerSpec:
     ## Standard object's metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
<span class="p">@@ -475,7 +473,7 @@</span> alertmanager:
     retention: 120h
 
     ## Storage is the definition of how storage will be used by the Alertmanager instances.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/user-guides/storage.md
</span>     ##
     storage: {}
     # volumeClaimTemplate:
<span class="p">@@ -759,7 +757,7 @@</span> grafana:
 
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -767,7 +765,7 @@</span> grafana:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -799,7 +797,7 @@</span> kubeApiServer:
         provider: kubernetes
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -807,7 +805,7 @@</span> kubeApiServer:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels:
<span class="p">@@ -855,7 +853,7 @@</span> kubelet:
     resourcePath: "/metrics/resource/v1alpha1"
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     cAdvisorMetricRelabelings: []
     # - sourceLabels: [__name__, image]
<span class="p">@@ -870,7 +868,7 @@</span> kubelet:
     #   action: drop
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     probesMetricRelabelings: []
     # - sourceLabels: [__name__, image]
<span class="p">@@ -885,7 +883,7 @@</span> kubelet:
     #   action: drop
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     ## metrics_path is required to match upstream rules and charts
     cAdvisorRelabelings:
<span class="p">@@ -899,7 +897,7 @@</span> kubelet:
     #   action: replace
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     probesRelabelings:
       - sourceLabels: [__metrics_path__]
<span class="p">@@ -912,7 +910,7 @@</span> kubelet:
     #   action: replace
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     resourceRelabelings:
       - sourceLabels: [__metrics_path__]
<span class="p">@@ -925,7 +923,7 @@</span> kubelet:
     #   action: replace
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - sourceLabels: [__name__, image]
<span class="p">@@ -940,7 +938,7 @@</span> kubelet:
     #   action: drop
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     ## metrics_path is required to match upstream rules and charts
     relabelings:
<span class="p">@@ -996,7 +994,7 @@</span> kubeControllerManager:
     serverName: null
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -1004,7 +1002,7 @@</span> kubeControllerManager:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1033,7 +1031,7 @@</span> coreDns:
     proxyUrl: ""
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -1041,7 +1039,7 @@</span> coreDns:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1074,7 +1072,7 @@</span> kubeDns:
     proxyUrl: ""
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -1082,7 +1080,7 @@</span> kubeDns:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1093,7 +1091,7 @@</span> kubeDns:
     #   action: replace
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     dnsmasqMetricRelabelings: []
     # - action: keep
<span class="p">@@ -1101,7 +1099,7 @@</span> kubeDns:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     dnsmasqRelabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1159,7 +1157,7 @@</span> kubeEtcd:
     keyFile: ""
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -1167,7 +1165,7 @@</span> kubeEtcd:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1219,7 +1217,7 @@</span> kubeScheduler:
     serverName: null
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -1227,7 +1225,7 @@</span> kubeScheduler:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1273,7 +1271,7 @@</span> kubeProxy:
     https: false
 
     ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -1281,7 +1279,7 @@</span> kubeProxy:
     #   sourceLabels: [__name__]
 
     ## RelabelConfigs to apply to samples before scraping
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - action: keep
<span class="p">@@ -1323,7 +1321,7 @@</span> kube-state-metrics:
       honorLabels: true
 
       ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>       ##
       metricRelabelings: []
       # - action: keep
<span class="p">@@ -1331,7 +1329,7 @@</span> kube-state-metrics:
       #   sourceLabels: [__name__]
 
       ## RelabelConfigs to apply to samples before scraping
<span class="gd">-      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>       ##
       relabelings: []
       # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1381,7 +1379,7 @@</span> prometheus-node-exporter:
       proxyUrl: ""
 
       ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
<span class="gd">-      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>       ##
       metricRelabelings: []
       # - sourceLabels: [__name__]
<span class="p">@@ -1391,7 +1389,7 @@</span> prometheus-node-exporter:
       #   action: drop
 
       ## RelabelConfigs to apply to samples before scraping
<span class="gd">-      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span><span class="gi">+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#relabelconfig
</span>       ##
       relabelings: []
       # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1544,7 +1542,7 @@</span> prometheusOperator:
   # logLevel: error
 
   ## If true, the operator will create and maintain a service for scraping kubelets
<span class="gd">-  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/helm/prometheus-operator/README.md
</span><span class="gi">+  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/helm/prometheus-operator/README.md
</span>   ##
   kubeletService:
     enabled: true
<span class="p">@@ -1641,7 +1639,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.52.1
</span><span class="gi">+    tag: v0.53.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1659,7 +1657,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.52.1
</span><span class="gi">+      tag: v0.53.1
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="p">@@ -1743,7 +1741,7 @@</span> prometheus:
     scheme: ""
 
     ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
<span class="gd">-    ## Of type: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
</span><span class="gi">+    ## Of type: https://github.com/coreos/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
</span>     tlsConfig: {}
 
     bearerTokenFile:
<span class="p">@@ -1997,7 +1995,7 @@</span> prometheus:
     scheme: ""
 
     ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
<span class="gd">-    ## Of type: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
</span><span class="gi">+    ## Of type: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#tlsconfig
</span>     tlsConfig: {}
 
     bearerTokenFile:
<span class="p">@@ -2020,14 +2018,14 @@</span> prometheus:
     #   action: replace
 
   ## Settings affecting prometheusSpec
<span class="gd">-  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#prometheusspec
</span><span class="gi">+  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#prometheusspec
</span>   ##
   prometheusSpec:
     ## If true, pass --storage.tsdb.max-block-duration=2h to prometheus. This is already done if using Thanos
     ##
     disableCompaction: false
     ## APIServerConfig
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#apiserverconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#apiserverconfig
</span>     ##
     apiserverConfig: {}
 
<span class="p">@@ -2056,7 +2054,7 @@</span> prometheus:
     enableAdminAPI: false
 
     ## WebTLSConfig defines the TLS parameters for HTTPS
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#webtlsconfig
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#webtlsconfig
</span>     web: {}
 
     # EnableFeatures API enables access to Prometheus disabled features.
<span class="p">@@ -2068,7 +2066,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.31.1
</span><span class="gi">+      tag: v2.32.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="p">@@ -2092,7 +2090,7 @@</span> prometheus:
     #       app: prometheus
 
     ## Alertmanagers to which alerts will be sent
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#alertmanagerendpoints
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#alertmanagerendpoints
</span>     ##
     ## Default configuration will connect to the alertmanager deployed as part of this release
     ##
<span class="p">@@ -2148,13 +2146,13 @@</span> prometheus:
     configMaps: []
 
     ## QuerySpec defines the query command line flags when starting Prometheus.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#queryspec
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#queryspec
</span>     ##
     query: {}
 
     ## Namespaces to be selected for PrometheusRules discovery.
     ## If nil, select own namespace. Namespaces to be selected for ServiceMonitor discovery.
<span class="gd">-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
</span><span class="gi">+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
</span>     ##
     ruleNamespaceSelector: {}
 
<span class="p">@@ -2222,7 +2220,7 @@</span> prometheus:
     #     prometheus: somelabel
 
     ## Namespaces to be selected for PodMonitor discovery.
<span class="gd">-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
</span><span class="gi">+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
</span>     ##
     podMonitorNamespaceSelector: {}
 
<span class="p">@@ -2242,7 +2240,7 @@</span> prometheus:
     #     prometheus: somelabel
 
     ## Namespaces to be selected for Probe discovery.
<span class="gd">-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
</span><span class="gi">+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#namespaceselector for usage
</span>     ##
     probeNamespaceSelector: {}
 
<span class="p">@@ -2323,14 +2321,14 @@</span> prometheus:
     #         - e2e-az2
 
     ## The remote_read spec configuration for Prometheus.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotereadspec
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#remotereadspec
</span>     remoteRead: []
     # - url: http://remote1/read
     ## additionalRemoteRead is appended to remoteRead
     additionalRemoteRead: []
 
     ## The remote_write spec configuration for Prometheus.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotewritespec
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#remotewritespec
</span>     remoteWrite: []
     # - url: http://remote1/push
     ## additionalRemoteWrite is appended to remoteWrite
<span class="p">@@ -2346,7 +2344,7 @@</span> prometheus:
     #   memory: 400Mi
 
     ## Prometheus StorageSpec for persistent data
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/user-guides/storage.md
</span>     ##
     storageSpec: {}
     ## Using PersistentVolumeClaim
<span class="p">@@ -2462,7 +2460,7 @@</span> prometheus:
 
     ## SecurityContext holds pod-level security attributes and common container settings.
     ## This defaults to non root user with uid 1000 and gid 2000.
<span class="gd">-    ## https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md
</span><span class="gi">+    ## https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md
</span>     ##
     securityContext:
       runAsGroup: 2000
<span class="p">@@ -2477,7 +2475,7 @@</span> prometheus:
     ## Thanos configuration allows configuring various aspects of a Prometheus server in a Thanos environment.
     ## This section is experimental, it may change significantly without deprecation notice in any release.
     ## This is experimental and may change significantly without backward compatibility in any release.
<span class="gd">-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#thanosspec
</span><span class="gi">+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#thanosspec
</span>     ##
     thanos: {}
       # secretProviderClass:
<span class="p">@@ -2695,6 +2693,6 @@</span> prometheus:
       # matchNames: []
 
     ## Endpoints of the selected pods to be monitored
<span class="gd">-    ## https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#podmetricsendpoint
</span><span class="gi">+    ## https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#podmetricsendpoint
</span>     ##
     # podMetricsEndpoints: []
<span class="err">
</span></code></pre></div></div> <h2 id="2401"> <a href="#2401" class="anchor-heading" aria-labelledby="2401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.0.1 </h2> <p><strong>Release date:</strong> 2021-12-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.1&amp;color=success" alt="AppVersion: 0.52.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix yaml comments kube prometheus stack (#1611)</li> </ul> <h3 id="default-value-changes-333"> <a href="#default-value-changes-333" class="anchor-heading" aria-labelledby="default-value-changes-333"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2400"> <a href="#2400" class="anchor-heading" aria-labelledby="2400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.0.0 </h2> <p><strong>Release date:</strong> 2021-12-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.1&amp;color=success" alt="AppVersion: 0.52.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Use sub-chart ServiceMonitors (#1593)</li> </ul> <h3 id="default-value-changes-334"> <a href="#default-value-changes-334" class="anchor-heading" aria-labelledby="default-value-changes-334"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b8d31d04..10f8e9c9 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1293,45 +1293,6 @@</span> kubeProxy:
 ##
 kubeStateMetrics:
   enabled: true
<span class="gd">-  serviceMonitor:
-    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
-    ##
-    interval: ""
-    ## Scrape Timeout. If not set, the Prometheus default scrape timeout is used.
-    ##
-    scrapeTimeout: ""
-    ## proxyUrl: URL of a proxy that should be used for scraping.
-    ##
-    proxyUrl: ""
-    ## Override serviceMonitor selector
-    ##
-    selectorOverride: {}
-
-    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
-    ##
-    metricRelabelings: []
-    # - action: keep
-    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
-    #   sourceLabels: [__name__]
-
-    ## RelabelConfigs to apply to samples before scraping
-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
-    ##
-    relabelings: []
-    # - sourceLabels: [__meta_kubernetes_pod_node_name]
-    #   separator: ;
-    #   regex: ^(.*)$
-    #   targetLabel: nodename
-    #   replacement: $1
-    #   action: replace
-
-    # Keep labels from scraped data, overriding server-side labels
-    honorLabels: true
-
-    # Enable self metrics configuration for Service Monitor
-    selfMonitor:
-      enabled: false
</span> 
 ## Configuration for kube-state-metrics subchart
 ##
<span class="p">@@ -1341,49 +1302,52 @@</span> kube-state-metrics:
     create: true
   podSecurityPolicy:
     enabled: true
<span class="gi">+  prometheus:
+    monitor:
+      enabled: true
</span> 
<span class="gd">-## Deploy node exporter as a daemonset to all nodes
-##
-nodeExporter:
-  enabled: true
</span><span class="gi">+      ## Scrape interval. If not set, the Prometheus default scrape interval is used.
+      ##
+      interval: ""
</span> 
<span class="gd">-  ## Use the value configured in prometheus-node-exporter.podLabels
-  ##
-  jobLabel: jobLabel
</span><span class="gi">+      ## Scrape Timeout. If not set, the Prometheus default scrape timeout is used.
+      ##
+      scrapeTimeout: ""
</span> 
<span class="gd">-  serviceMonitor:
-    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
-    ##
-    interval: ""
</span><span class="gi">+      ## proxyUrl: URL of a proxy that should be used for scraping.
+      ##
+      proxyUrl: ""
</span> 
<span class="gd">-    ## proxyUrl: URL of a proxy that should be used for scraping.
-    ##
-    proxyUrl: ""
</span><span class="gi">+      # Keep labels from scraped data, overriding server-side labels
+      ##
+      honorLabels: true
</span> 
<span class="gd">-    ## How long until a scrape request times out. If not set, the Prometheus default scape timeout is used.
-    ##
-    scrapeTimeout: ""
</span><span class="gi">+      ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+      ##
+      metricRelabelings: []
+      # - action: keep
+      #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
+      #   sourceLabels: [__name__]
</span> 
<span class="gd">-    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
-    ##
-    metricRelabelings: []
-    # - sourceLabels: [__name__]
-    #   separator: ;
-    #   regex: ^node_mountstats_nfs_(event|operations|transport)_.+
-    #   replacement: $1
-    #   action: drop
</span><span class="gi">+      ## RelabelConfigs to apply to samples before scraping
+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+      ##
+      relabelings: []
+      # - sourceLabels: [__meta_kubernetes_pod_node_name]
+      #   separator: ;
+      #   regex: ^(.*)$
+      #   targetLabel: nodename
+      #   replacement: $1
+      #   action: replace
+
+  selfMonitor:
+    enabled: false
</span> 
<span class="gd">-    ## RelabelConfigs to apply to samples before scraping
-    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
-    ##
-    relabelings: []
-    # - sourceLabels: [__meta_kubernetes_pod_node_name]
-    #   separator: ;
-    #   regex: ^(.*)$
-    #   targetLabel: nodename
-    #   replacement: $1
-    #   action: replace
</span><span class="gi">+## Deploy node exporter as a daemonset to all nodes
+##
+nodeExporter:
+  enabled: true
</span> 
 ## Configuration for prometheus-node-exporter subchart
 ##
<span class="p">@@ -1398,6 +1362,44 @@</span> prometheus-node-exporter:
     - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
   service:
     portName: http-metrics
<span class="gi">+  prometheus:
+    monitor:
+      enabled: false
+
+      jobLabel: jobLabel
+
+      ## Scrape interval. If not set, the Prometheus default scrape interval is used.
+      ##
+      interval: ""
+
+      ## How long until a scrape request times out. If not set, the Prometheus default scape timeout is used.
+      ##
+      scrapeTimeout: ""
+
+      ## proxyUrl: URL of a proxy that should be used for scraping.
+      ##
+      proxyUrl: ""
+
+      ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+      ##
+      metricRelabelings: []
+      # - sourceLabels: [__name__]
+      #   separator: ;
+      #   regex: ^node_mountstats_nfs_(event|operations|transport)_.+
+      #   replacement: $1
+      #   action: drop
+
+      ## RelabelConfigs to apply to samples before scraping
+      ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+      ##
+      relabelings: []
+      # - sourceLabels: [__meta_kubernetes_pod_node_name]
+      #   separator: ;
+      #   regex: ^(.*)$
+      #   targetLabel: nodename
+      #   replacement: $1
+      #   action: replace
</span> 
 ## Manages Prometheus and Alertmanager components
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="2332"> <a href="#2332" class="anchor-heading" aria-labelledby="2332"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.3.2 </h2> <p><strong>Release date:</strong> 2021-12-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.1&amp;color=success" alt="AppVersion: 0.52.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana dependency to 6.19.2 (#1602)</li> </ul> <h3 id="default-value-changes-335"> <a href="#default-value-changes-335" class="anchor-heading" aria-labelledby="default-value-changes-335"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2331"> <a href="#2331" class="anchor-heading" aria-labelledby="2331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.3.1 </h2> <p><strong>Release date:</strong> 2021-12-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.1&amp;color=success" alt="AppVersion: 0.52.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump to prometheus-operator 0.52.1 (#1598)</li> </ul> <h3 id="default-value-changes-336"> <a href="#default-value-changes-336" class="anchor-heading" aria-labelledby="default-value-changes-336"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2330"> <a href="#2330" class="anchor-heading" aria-labelledby="2330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.3.0 </h2> <p><strong>Release date:</strong> 2021-12-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Remove app label on ruleSelector (#1113)</li> </ul> <h3 id="default-value-changes-337"> <a href="#default-value-changes-337" class="anchor-heading" aria-labelledby="default-value-changes-337"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2320"> <a href="#2320" class="anchor-heading" aria-labelledby="2320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.2.0 </h2> <p><strong>Release date:</strong> 2021-12-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.1&amp;color=success" alt="AppVersion: 0.52.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana dependency to 6.19.0 (#1586)</li> </ul> <h3 id="default-value-changes-338"> <a href="#default-value-changes-338" class="anchor-heading" aria-labelledby="default-value-changes-338"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2316"> <a href="#2316" class="anchor-heading" aria-labelledby="2316"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.6 </h2> <p><strong>Release date:</strong> 2021-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.1&amp;color=success" alt="AppVersion: 0.52.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Upgrade prometheus-operator to v0.52.1 (#1584)</li> </ul> <h3 id="default-value-changes-339"> <a href="#default-value-changes-339" class="anchor-heading" aria-labelledby="default-value-changes-339"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8be9f182..b8d31d04 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1639,7 +1639,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.52.0
</span><span class="gi">+    tag: v0.52.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1657,7 +1657,7 @@</span> prometheusOperator:
     # image to use for config and rule reloading
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.52.0
</span><span class="gi">+      tag: v0.52.1
</span>       sha: ""
 
     # resource config for prometheusConfigReloader
<span class="err">
</span></code></pre></div></div> <h2 id="2315"> <a href="#2315" class="anchor-heading" aria-labelledby="2315"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.5 </h2> <p><strong>Release date:</strong> 2021-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add alertmanager unittest (#1575)</li> </ul> <h3 id="default-value-changes-340"> <a href="#default-value-changes-340" class="anchor-heading" aria-labelledby="default-value-changes-340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2314"> <a href="#2314" class="anchor-heading" aria-labelledby="2314"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.4 </h2> <p><strong>Release date:</strong> 2021-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix alertmanager (#1581)</li> </ul> <h3 id="default-value-changes-341"> <a href="#default-value-changes-341" class="anchor-heading" aria-labelledby="default-value-changes-341"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2313"> <a href="#2313" class="anchor-heading" aria-labelledby="2313"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.3 </h2> <p><strong>Release date:</strong> 2021-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix double annotation (#1579)</li> </ul> <h3 id="default-value-changes-342"> <a href="#default-value-changes-342" class="anchor-heading" aria-labelledby="default-value-changes-342"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2312"> <a href="#2312" class="anchor-heading" aria-labelledby="2312"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.2 </h2> <p><strong>Release date:</strong> 2021-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> update kube-state-metrics dependency to 4.1.1 (#1577)</li> </ul> <h3 id="default-value-changes-343"> <a href="#default-value-changes-343" class="anchor-heading" aria-labelledby="default-value-changes-343"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2311"> <a href="#2311" class="anchor-heading" aria-labelledby="2311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.1 </h2> <p><strong>Release date:</strong> 2021-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> update grafana dependency to 6.18.2 (#1570)</li> </ul> <h3 id="default-value-changes-344"> <a href="#default-value-changes-344" class="anchor-heading" aria-labelledby="default-value-changes-344"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2310"> <a href="#2310" class="anchor-heading" aria-labelledby="2310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.0 </h2> <p><strong>Release date:</strong> 2021-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for removing old datasources in values file (#1528)</li> </ul> <h3 id="default-value-changes-345"> <a href="#default-value-changes-345" class="anchor-heading" aria-labelledby="default-value-changes-345"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 46910d44..8be9f182 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -720,6 +720,10 @@</span> grafana:
   #   configMap: certs-configmap
   #   readOnly: true
 
<span class="gi">+  deleteDatasources: []
+  # - name: example-datasource
+  #   orgId: 1
+
</span>   ## Configure additional grafana datasources (passed through tpl)
   ## ref: http://docs.grafana.org/administration/provisioning/#datasources
   additionalDataSources: []
<span class="err">
</span></code></pre></div></div> <h2 id="2300"> <a href="#2300" class="anchor-heading" aria-labelledby="2300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.0.0 </h2> <p><strong>Release date:</strong> 2021-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Use Istio service port naming convention (#1407)</li> </ul> <h3 id="default-value-changes-346"> <a href="#default-value-changes-346" class="anchor-heading" aria-labelledby="default-value-changes-346"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 21185425..46910d44 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -598,7 +598,7 @@</span> alertmanager:
 
     ## PortName to use for Alert Manager.
     ##
<span class="gd">-    portName: "web"
</span><span class="gi">+    portName: "http-web"
</span> 
     ## ClusterAdvertiseAddress is the explicit address to advertise in cluster. Needs to be provided for non RFC1918 [1] (public) addresses. [1] RFC1918: https://tools.ietf.org/html/rfc1918
     ##
<span class="p">@@ -739,7 +739,7 @@</span> grafana:
   ## Passed to grafana subchart and used by servicemonitor below
   ##
   service:
<span class="gd">-    portName: service
</span><span class="gi">+    portName: http-web
</span> 
   ## If true, create a serviceMonitor for grafana
   ##
<span class="p">@@ -1392,6 +1392,8 @@</span> prometheus-node-exporter:
   extraArgs:
     - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
     - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
<span class="gi">+  service:
+    portName: http-metrics
</span> 
 ## Manages Prometheus and Alertmanager components
 ##
<span class="p">@@ -2490,7 +2492,7 @@</span> prometheus:
 
     ## PortName to use for Prometheus.
     ##
<span class="gd">-    portName: "web"
</span><span class="gi">+    portName: "http-web"
</span> 
     ## ArbitraryFSAccessThroughSMs configures whether configuration based on a service monitor can access arbitrary files
     ## on the file system of the Prometheus container e.g. bearer token files.
<span class="err">
</span></code></pre></div></div> <h2 id="2210"> <a href="#2210" class="anchor-heading" aria-labelledby="2210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.1.0 </h2> <p><strong>Release date:</strong> 2021-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Grafana chart version to 6.18.* and bump prometheus-node-exporter (#1562)</li> </ul> <h3 id="default-value-changes-347"> <a href="#default-value-changes-347" class="anchor-heading" aria-labelledby="default-value-changes-347"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2200"> <a href="#2200" class="anchor-heading" aria-labelledby="2200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.0.0 </h2> <p><strong>Release date:</strong> 2021-12-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump dependencies (#1518)</li> </ul> <h3 id="default-value-changes-348"> <a href="#default-value-changes-348" class="anchor-heading" aria-labelledby="default-value-changes-348"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2105"> <a href="#2105" class="anchor-heading" aria-labelledby="2105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.5 </h2> <p><strong>Release date:</strong> 2021-12-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Removing me as maintainer (#1560)</li> </ul> <h3 id="default-value-changes-349"> <a href="#default-value-changes-349" class="anchor-heading" aria-labelledby="default-value-changes-349"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2104"> <a href="#2104" class="anchor-heading" aria-labelledby="2104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.4 </h2> <p><strong>Release date:</strong> 2021-12-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Rename alertmanagers serviceperreplica selector key (#1524)</li> </ul> <h3 id="default-value-changes-350"> <a href="#default-value-changes-350" class="anchor-heading" aria-labelledby="default-value-changes-350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2103"> <a href="#2103" class="anchor-heading" aria-labelledby="2103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.3 </h2> <p><strong>Release date:</strong> 2021-12-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump grafana to 6.17.10 (#1544)</li> </ul> <h3 id="default-value-changes-351"> <a href="#default-value-changes-351" class="anchor-heading" aria-labelledby="default-value-changes-351"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2102"> <a href="#2102" class="anchor-heading" aria-labelledby="2102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.2 </h2> <p><strong>Release date:</strong> 2021-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> missplaced end tag (#1417)</li> </ul> <h3 id="default-value-changes-352"> <a href="#default-value-changes-352" class="anchor-heading" aria-labelledby="default-value-changes-352"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2101"> <a href="#2101" class="anchor-heading" aria-labelledby="2101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.1 </h2> <p><strong>Release date:</strong> 2021-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Apply scrapeTimeout config to all kubelet service monitors (#1408)</li> </ul> <h3 id="default-value-changes-353"> <a href="#default-value-changes-353" class="anchor-heading" aria-labelledby="default-value-changes-353"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2100"> <a href="#2100" class="anchor-heading" aria-labelledby="2100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.0 </h2> <p><strong>Release date:</strong> 2021-11-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Separate config reloader limit and request (#1375)</li> </ul> <h3 id="default-value-changes-354"> <a href="#default-value-changes-354" class="anchor-heading" aria-labelledby="default-value-changes-354"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2a4fdf73..21185425 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1645,20 +1645,23 @@</span> prometheusOperator:
   ##
   # alertmanagerDefaultBaseImage: quay.io/prometheus/alertmanager
 
<span class="gd">-  ## Prometheus-config-reloader image to use for config and rule reloading
</span><span class="gi">+  ## Prometheus-config-reloader
</span>   ##
<span class="gd">-  prometheusConfigReloaderImage:
-    repository: quay.io/prometheus-operator/prometheus-config-reloader
-    tag: v0.52.0
-    sha: ""
-
-  ## Set the prometheus config reloader side-car CPU limit
-  ##
-  configReloaderCpu: 100m
</span><span class="gi">+  prometheusConfigReloader:
+    # image to use for config and rule reloading
+    image:
+      repository: quay.io/prometheus-operator/prometheus-config-reloader
+      tag: v0.52.0
+      sha: ""
</span> 
<span class="gd">-  ## Set the prometheus config reloader side-car memory limit
-  ##
-  configReloaderMemory: 50Mi
</span><span class="gi">+    # resource config for prometheusConfigReloader
+    resources:
+      requests:
+        cpu: 100m
+        memory: 50Mi
+      limits:
+        cpu: 100m
+        memory: 50Mi
</span> 
   ## Thanos side-car image when configured
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="2010"> <a href="#2010" class="anchor-heading" aria-labelledby="2010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.1.0 </h2> <p><strong>Release date:</strong> 2021-11-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump Kube-prometheus-stack versions (#1397)</li> </ul> <h3 id="default-value-changes-355"> <a href="#default-value-changes-355" class="anchor-heading" aria-labelledby="default-value-changes-355"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 04dddd78..2a4fdf73 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -398,7 +398,7 @@</span> alertmanager:
     ##
     image:
       repository: quay.io/prometheus/alertmanager
<span class="gd">-      tag: v0.22.2
</span><span class="gi">+      tag: v0.23.0
</span>       sha: ""
 
     ## If true then the user will be responsible to provide a secret with alertmanager configuration
<span class="p">@@ -1664,7 +1664,7 @@</span> prometheusOperator:
   ##
   thanosImage:
     repository: quay.io/thanos/thanos
<span class="gd">-    tag: v0.17.2
</span><span class="gi">+    tag: v0.23.1
</span>     sha: ""
 
   ## Set a Field Selector to filter watched secrets
<span class="p">@@ -2057,7 +2057,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.28.1
</span><span class="gi">+      tag: v2.31.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="2001"> <a href="#2001" class="anchor-heading" aria-labelledby="2001"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.0.1 </h2> <p><strong>Release date:</strong> 2021-11-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> removed app:alertmanager label (#1494)</li> </ul> <h3 id="default-value-changes-356"> <a href="#default-value-changes-356" class="anchor-heading" aria-labelledby="default-value-changes-356"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2000"> <a href="#2000" class="anchor-heading" aria-labelledby="2000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.0.0 </h2> <p><strong>Release date:</strong> 2021-11-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.52.0&amp;color=success" alt="AppVersion: 0.52.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Prometheus operator version upgrade v0.52.0 (#1485)</li> </ul> <h3 id="default-value-changes-357"> <a href="#default-value-changes-357" class="anchor-heading" aria-labelledby="default-value-changes-357"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index cc0f8bbd..04dddd78 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1633,7 +1633,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.50.0
</span><span class="gi">+    tag: v0.52.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1649,7 +1649,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.50.0
</span><span class="gi">+    tag: v0.52.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1930"> <a href="#1930" class="anchor-heading" aria-labelledby="1930"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.3.0 </h2> <p><strong>Release date:</strong> 2021-11-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Ability to specify kubelet-service again (#1434)</li> </ul> <h3 id="default-value-changes-358"> <a href="#default-value-changes-358" class="anchor-heading" aria-labelledby="default-value-changes-358"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f5953614..cc0f8bbd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1541,6 +1541,8 @@</span> prometheusOperator:
   kubeletService:
     enabled: true
     namespace: kube-system
<span class="gi">+    ## Use '{{ template "kube-prometheus-stack.fullname" . }}-kubelet' by default
+    name: ""
</span> 
   ## Create a servicemonitor for the operator
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1923"> <a href="#1923" class="anchor-heading" aria-labelledby="1923"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.3 </h2> <p><strong>Release date:</strong> 2021-11-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Grafana chart version to 6.17.5 (#1487)</li> </ul> <h3 id="default-value-changes-359"> <a href="#default-value-changes-359" class="anchor-heading" aria-labelledby="default-value-changes-359"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1922"> <a href="#1922" class="anchor-heading" aria-labelledby="1922"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.2 </h2> <p><strong>Release date:</strong> 2021-10-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Grafana chart version to 6.17.2 (#1447)</li> </ul> <h3 id="default-value-changes-360"> <a href="#default-value-changes-360" class="anchor-heading" aria-labelledby="default-value-changes-360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1921"> <a href="#1921" class="anchor-heading" aria-labelledby="1921"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.1 </h2> <p><strong>Release date:</strong> 2021-10-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> release new version (#1446)</li> </ul> <h3 id="default-value-changes-361"> <a href="#default-value-changes-361" class="anchor-heading" aria-labelledby="default-value-changes-361"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1920"> <a href="#1920" class="anchor-heading" aria-labelledby="1920"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.0 </h2> <p><strong>Release date:</strong> 2021-10-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump Grafana chart version to 6.17.* (#1439)</li> </ul> <h3 id="default-value-changes-362"> <a href="#default-value-changes-362" class="anchor-heading" aria-labelledby="default-value-changes-362"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1910"> <a href="#1910" class="anchor-heading" aria-labelledby="1910"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.1.0 </h2> <p><strong>Release date:</strong> 2021-10-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Move ServiceMonitor back to main namespace (#1383)</li> </ul> <h3 id="default-value-changes-363"> <a href="#default-value-changes-363" class="anchor-heading" aria-labelledby="default-value-changes-363"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1903"> <a href="#1903" class="anchor-heading" aria-labelledby="1903"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.3 </h2> <p><strong>Release date:</strong> 2021-10-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> 1269: Template the relabellings which are passed into the service monitors (#1271)</li> </ul> <h3 id="default-value-changes-364"> <a href="#default-value-changes-364" class="anchor-heading" aria-labelledby="default-value-changes-364"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a8ba31f8..f5953614 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -366,14 +366,16 @@</span> alertmanager:
 
     bearerTokenFile:
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -751,14 +753,17 @@</span> grafana:
     # in grafana.ini
     path: "/metrics"
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+
+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -789,12 +794,17 @@</span> kubeApiServer:
         component: apiserver
         provider: kubernetes
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
<span class="gi">+
+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+    ##
</span>     relabelings: []
     # - sourceLabels:
     #     - __meta_kubernetes_namespace
<span class="p">@@ -839,7 +849,9 @@</span> kubelet:
     resource: false
     # From kubernetes 1.18, /metrics/resource/v1alpha1 renamed to /metrics/resource
     resourcePath: "/metrics/resource/v1alpha1"
<span class="gd">-    ## Metric relabellings to apply to samples before ingestion
</span><span class="gi">+
+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     cAdvisorMetricRelabelings: []
     # - sourceLabels: [__name__, image]
<span class="p">@@ -853,7 +865,8 @@</span> kubelet:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    ## Metric relabellings to apply to samples before ingestion
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     probesMetricRelabelings: []
     # - sourceLabels: [__name__, image]
<span class="p">@@ -867,9 +880,10 @@</span> kubelet:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
-    #   metrics_path is required to match upstream rules and charts
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
<span class="gi">+    ## metrics_path is required to match upstream rules and charts
</span>     cAdvisorRelabelings:
       - sourceLabels: [__metrics_path__]
         targetLabel: metrics_path
<span class="p">@@ -880,6 +894,9 @@</span> kubelet:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+    ##
</span>     probesRelabelings:
       - sourceLabels: [__metrics_path__]
         targetLabel: metrics_path
<span class="p">@@ -890,6 +907,9 @@</span> kubelet:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+    ##
</span>     resourceRelabelings:
       - sourceLabels: [__metrics_path__]
         targetLabel: metrics_path
<span class="p">@@ -900,6 +920,9 @@</span> kubelet:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+    ##
</span>     metricRelabelings: []
     # - sourceLabels: [__name__, image]
     #   separator: ;
<span class="p">@@ -912,9 +935,10 @@</span> kubelet:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
-    #   metrics_path is required to match upstream rules and charts
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
<span class="gi">+    ## metrics_path is required to match upstream rules and charts
</span>     relabelings:
       - sourceLabels: [__metrics_path__]
         targetLabel: metrics_path
<span class="p">@@ -967,14 +991,16 @@</span> kubeControllerManager:
     # Name of the server to use when validating TLS certificate
     serverName: null
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1002,14 +1028,16 @@</span> coreDns:
     ##
     proxyUrl: ""
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1041,14 +1069,16 @@</span> kubeDns:
     ##
     proxyUrl: ""
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1057,12 +1087,17 @@</span> kubeDns:
     #   targetLabel: nodename
     #   replacement: $1
     #   action: replace
<span class="gi">+
+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+    ##
</span>     dnsmasqMetricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     dnsmasqRelabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1119,14 +1154,16 @@</span> kubeEtcd:
     certFile: ""
     keyFile: ""
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1177,14 +1214,16 @@</span> kubeScheduler:
     ## Name of the server to use when validating TLS certificate
     serverName: null
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1229,14 +1268,16 @@</span> kubeProxy:
     ##
     https: false
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - action: keep
<span class="p">@@ -1262,14 +1303,16 @@</span> kubeStateMetrics:
     ##
     selectorOverride: {}
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    #   relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1317,7 +1360,8 @@</span> nodeExporter:
     ##
     scrapeTimeout: ""
 
<span class="gd">-    ## Metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## MetricRelabelConfigs to apply to samples after scraping, but before ingestion.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     metricRelabelings: []
     # - sourceLabels: [__name__]
<span class="p">@@ -1326,7 +1370,8 @@</span> nodeExporter:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    ## relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## RelabelConfigs to apply to samples before scraping
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="err">
</span></code></pre></div></div> <h2 id="1902"> <a href="#1902" class="anchor-heading" aria-labelledby="1902"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.2 </h2> <p><strong>Release date:</strong> 2021-10-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support for secrets store CSI driver (#1158)</li> </ul> <h3 id="default-value-changes-365"> <a href="#default-value-changes-365" class="anchor-heading" aria-labelledby="default-value-changes-365"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 50ef9724..a8ba31f8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2422,6 +2422,13 @@</span> prometheus:
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#thanosspec
     ##
     thanos: {}
<span class="gi">+      # secretProviderClass:
+      #   provider: gcp
+      #   parameters:
+      #     secrets: |
+      #       - resourceName: "projects/$PROJECT_ID/secrets/testsecret/versions/latest"
+      #         fileName: "objstore.yaml"
+      # objectStorageConfigFile: /var/secrets/object-store.yaml
</span> 
     ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to a Prometheus pod.
     ## if using proxy extraContainer update targetPort with proxy container port
<span class="err">
</span></code></pre></div></div> <h2 id="1901"> <a href="#1901" class="anchor-heading" aria-labelledby="1901"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.1 </h2> <p><strong>Release date:</strong> 2021-09-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump kube-state-metrics dependency version (#1378)</li> </ul> <h3 id="default-value-changes-366"> <a href="#default-value-changes-366" class="anchor-heading" aria-labelledby="default-value-changes-366"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1900"> <a href="#1900" class="anchor-heading" aria-labelledby="1900"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.0 </h2> <p><strong>Release date:</strong> 2021-09-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Use namespaceOverrides when set (#1343)</li> </ul> <h3 id="default-value-changes-367"> <a href="#default-value-changes-367" class="anchor-heading" aria-labelledby="default-value-changes-367"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index cb12c344..50ef9724 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1261,9 +1261,6 @@</span> kubeStateMetrics:
     ## Override serviceMonitor selector
     ##
     selectorOverride: {}
<span class="gd">-    ## Override namespace selector
-    ##
-    namespaceOverride: ""
</span> 
     ## Metric relabel configs to apply to samples before ingestion.
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1811"> <a href="#1811" class="anchor-heading" aria-labelledby="1811"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.1.1 </h2> <p><strong>Release date:</strong> 2021-09-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix drilldown urls for Grafana dashboards (#1377)</li> </ul> <h3 id="default-value-changes-368"> <a href="#default-value-changes-368" class="anchor-heading" aria-labelledby="default-value-changes-368"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1810"> <a href="#1810" class="anchor-heading" aria-labelledby="1810"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.1.0 </h2> <p><strong>Release date:</strong> 2021-09-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support all of the enforce*Limit settings (#1373)</li> </ul> <h3 id="default-value-changes-369"> <a href="#default-value-changes-369" class="anchor-heading" aria-labelledby="default-value-changes-369"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2fbe154d..cb12c344 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2473,6 +2473,28 @@</span> prometheus:
     ## number of samples/series under the desired limit. Note that if SampleLimit is lower that value will be taken instead.
     enforcedSampleLimit: false
 
<span class="gi">+    ## EnforcedTargetLimit defines a global limit on the number of scraped targets. This overrides any TargetLimit set
+    ## per ServiceMonitor or/and PodMonitor. It is meant to be used by admins to enforce the TargetLimit to keep the overall
+    ## number of targets under the desired limit. Note that if TargetLimit is lower, that value will be taken instead, except
+    ## if either value is zero, in which case the non-zero value will be used. If both values are zero, no limit is enforced.
+    enforcedTargetLimit: false
+
+
+    ## Per-scrape limit on number of labels that will be accepted for a sample. If more than this number of labels are present
+    ## post metric-relabeling, the entire scrape will be treated as failed. 0 means no limit. Only valid in Prometheus versions
+    ## 2.27.0 and newer.
+    enforcedLabelLimit: false
+
+    ## Per-scrape limit on length of labels name that will be accepted for a sample. If a label name is longer than this number
+    ## post metric-relabeling, the entire scrape will be treated as failed. 0 means no limit. Only valid in Prometheus versions
+    ## 2.27.0 and newer.
+    enforcedLabelNameLengthLimit: false
+
+    ## Per-scrape limit on length of labels value that will be accepted for a sample. If a label value is longer than this
+    ## number post metric-relabeling, the entire scrape will be treated as failed. 0 means no limit. Only valid in Prometheus
+    ## versions 2.27.0 and newer.
+    enforcedLabelValueLengthLimit: false
+
</span>     ## AllowOverlappingBlocks enables vertical compaction and vertical query merge in Prometheus. This is still experimental
     ## in Prometheus so it may change in any upcoming release.
     allowOverlappingBlocks: false
<span class="err">
</span></code></pre></div></div> <h2 id="18013"> <a href="#18013" class="anchor-heading" aria-labelledby="18013"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.13 </h2> <p><strong>Release date:</strong> 2021-09-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana to 6.16.9 (#1367)</li> </ul> <h3 id="default-value-changes-370"> <a href="#default-value-changes-370" class="anchor-heading" aria-labelledby="default-value-changes-370"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="18012"> <a href="#18012" class="anchor-heading" aria-labelledby="18012"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.12 </h2> <p><strong>Release date:</strong> 2021-09-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow to set a timezone for the default grafana dashboards (#1326)</li> </ul> <h3 id="default-value-changes-371"> <a href="#default-value-changes-371" class="anchor-heading" aria-labelledby="default-value-changes-371"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 34b78859..2fbe154d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -631,10 +631,15 @@</span> grafana:
   ##
   forceDeployDashboards: false
 
<span class="gd">-  ## Deploy default dashboards.
</span><span class="gi">+  ## Deploy default dashboards
</span>   ##
   defaultDashboardsEnabled: true
 
<span class="gi">+  ## Timezone for the default dashboards
+  ## Other options are: browser or a specific timezone, i.e. Europe/Luxembourg
+  ##
+  defaultDashboardsTimezone: utc
+
</span>   adminPassword: prom-operator
 
   ingress:
<span class="err">
</span></code></pre></div></div> <h2 id="18011"> <a href="#18011" class="anchor-heading" aria-labelledby="18011"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.11 </h2> <p><strong>Release date:</strong> 2021-09-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix alert manager soft anti-affinity configuration (#1282)</li> </ul> <h3 id="default-value-changes-372"> <a href="#default-value-changes-372" class="anchor-heading" aria-labelledby="default-value-changes-372"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="18010"> <a href="#18010" class="anchor-heading" aria-labelledby="18010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.10 </h2> <p><strong>Release date:</strong> 2021-09-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Configure Thanos Sidecar monitoring (#1339)</li> </ul> <h3 id="default-value-changes-373"> <a href="#default-value-changes-373" class="anchor-heading" aria-labelledby="default-value-changes-373"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6dfc1bf1..34b78859 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1649,18 +1649,50 @@</span> prometheus:
     enabled: false
     annotations: {}
     labels: {}
<span class="gd">-    portName: grpc
-    port: 10901
-    targetPort: "grpc"
-    clusterIP: "None"
</span> 
     ## Service type
     ##
     type: ClusterIP
 
<span class="gd">-    ## Port to expose on each node
</span><span class="gi">+    ## gRPC port config
+    portName: grpc
+    port: 10901
+    targetPort: "grpc"
+
+    ## HTTP port config (for metrics)
+    httpPortName: http
+    httpPort: 10902
+    targetHttpPort: "http"
+
+    ## ClusterIP to assign
+    # Default is to make this a headless service ("None")
+    clusterIP: "None"
+
+    ## Port to expose on each node, if service type is NodePort
</span>     ##
     nodePort: 30901
<span class="gi">+    httpNodePort: 30902
+
+  # ServiceMonitor to scrape Sidecar metrics
+  # Needs thanosService to be enabled as well
+  thanosServiceMonitor:
+    enabled: false
+    interval: ""
+
+    ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
+    scheme: ""
+
+    ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
+    ## Of type: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
+    tlsConfig: {}
+
+    bearerTokenFile:
+
+    ## Metric relabel configs to apply to samples before ingestion.
+    metricRelabelings: []
+
+    ## relabel configs to apply to samples before ingestion.
+    relabelings: []
</span> 
   # Service for external access to sidecar
   # Enabling this creates a service to expose thanos-sidecar outside the cluster.
<span class="p">@@ -1668,11 +1700,18 @@</span> prometheus:
     enabled: false
     annotations: {}
     labels: {}
<span class="gi">+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+
+    ## gRPC port config
</span>     portName: grpc
     port: 10901
     targetPort: "grpc"
<span class="gd">-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
</span><span class="gi">+
+    ## HTTP port config (for metrics)
+    httpPortName: http
+    httpPort: 10902
+    targetHttpPort: "http"
</span> 
     ## Service type
     ##
<span class="p">@@ -1681,6 +1720,7 @@</span> prometheus:
     ## Port to expose on each node
     ##
     nodePort: 30901
<span class="gi">+    httpNodePort: 30902
</span> 
   ## Configuration for Prometheus service
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1809"> <a href="#1809" class="anchor-heading" aria-labelledby="1809"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.9 </h2> <p><strong>Release date:</strong> 2021-09-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-374"> <a href="#default-value-changes-374" class="anchor-heading" aria-labelledby="default-value-changes-374"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1808"> <a href="#1808" class="anchor-heading" aria-labelledby="1808"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.8 </h2> <p><strong>Release date:</strong> 2021-09-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add scrapeTimeout in kubeStateMetrics <a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> (#1346)</li> </ul> <h3 id="default-value-changes-375"> <a href="#default-value-changes-375" class="anchor-heading" aria-labelledby="default-value-changes-375"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8631157c..6dfc1bf1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1247,6 +1247,9 @@</span> kubeStateMetrics:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+    ## Scrape Timeout. If not set, the Prometheus default scrape timeout is used.
+    ##
+    scrapeTimeout: ""
</span>     ## proxyUrl: URL of a proxy that should be used for scraping.
     ##
     proxyUrl: ""
<span class="err">
</span></code></pre></div></div> <h2 id="1807"> <a href="#1807" class="anchor-heading" aria-labelledby="1807"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.7 </h2> <p><strong>Release date:</strong> 2021-09-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Optional honorLabels for kube-state-metrics ServiceMonitor (#1327)</li> </ul> <h3 id="default-value-changes-376"> <a href="#default-value-changes-376" class="anchor-heading" aria-labelledby="default-value-changes-376"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index ee14ecb1..8631157c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1274,6 +1274,9 @@</span> kubeStateMetrics:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    # Keep labels from scraped data, overriding server-side labels
+    honorLabels: true
+
</span>     # Enable self metrics configuration for Service Monitor
     selfMonitor:
       enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="1806"> <a href="#1806" class="anchor-heading" aria-labelledby="1806"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.6 </h2> <p><strong>Release date:</strong> 2021-09-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> bump grafana to 6.16.* (#1318)</li> </ul> <h3 id="default-value-changes-377"> <a href="#default-value-changes-377" class="anchor-heading" aria-labelledby="default-value-changes-377"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1805"> <a href="#1805" class="anchor-heading" aria-labelledby="1805"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.5 </h2> <p><strong>Release date:</strong> 2021-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Replace admission webhook image (#1280)</li> </ul> <h3 id="default-value-changes-378"> <a href="#default-value-changes-378" class="anchor-heading" aria-labelledby="default-value-changes-378"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 884edc9e..ee14ecb1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1369,9 +1369,9 @@</span> prometheusOperator:
     patch:
       enabled: true
       image:
<span class="gd">-        repository: jettech/kube-webhook-certgen
-        tag: v1.5.2
-        sha: ""
</span><span class="gi">+        repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
+        tag: v1.0
+        sha: "f3b6b39a6062328c095337b4cadcefd1612348fdd5190b1dcbcb9b9e90bd8068"
</span>         pullPolicy: IfNotPresent
       resources: {}
       ## Provide a priority class name to the webhook patching job
<span class="err">
</span></code></pre></div></div> <h2 id="1804"> <a href="#1804" class="anchor-heading" aria-labelledby="1804"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.4 </h2> <p><strong>Release date:</strong> 2021-09-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add option to configure Prometheus image using tag and/or sha256 (#1243)</li> </ul> <h3 id="default-value-changes-379"> <a href="#default-value-changes-379" class="anchor-heading" aria-labelledby="default-value-changes-379"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1803"> <a href="#1803" class="anchor-heading" aria-labelledby="1803"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.3 </h2> <p><strong>Release date:</strong> 2021-09-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<code class="language-plaintext highlighter-rouge">[kube-prometheus-stack]</code> add option to override the allowUiUpdates for grafana dashboards (#1292)</li> </ul> <h3 id="default-value-changes-380"> <a href="#default-value-changes-380" class="anchor-heading" aria-labelledby="default-value-changes-380"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index fdceaf6d..884edc9e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -683,6 +683,8 @@</span> grafana:
           enabled: false
         etcd:
           enabled: false
<span class="gi">+      provider:
+        allowUiUpdates: false
</span>     datasources:
       enabled: true
       defaultDatasourceEnabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="1802"> <a href="#1802" class="anchor-heading" aria-labelledby="1802"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.2 </h2> <p><strong>Release date:</strong> 2021-08-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix alert manager complex config templating (#1289)</li> </ul> <h3 id="default-value-changes-381"> <a href="#default-value-changes-381" class="anchor-heading" aria-labelledby="default-value-changes-381"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1801"> <a href="#1801" class="anchor-heading" aria-labelledby="1801"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.1 </h2> <p><strong>Release date:</strong> 2021-08-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump Grafana chart version (#1252) (#1263)</li> </ul> <h3 id="default-value-changes-382"> <a href="#default-value-changes-382" class="anchor-heading" aria-labelledby="default-value-changes-382"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1800"> <a href="#1800" class="anchor-heading" aria-labelledby="1800"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.0 </h2> <p><strong>Release date:</strong> 2021-08-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.50.0&amp;color=success" alt="AppVersion: 0.50.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade prometheus-operator to v0.50.0 (#1257)</li> </ul> <h3 id="default-value-changes-383"> <a href="#default-value-changes-383" class="anchor-heading" aria-labelledby="default-value-changes-383"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 08893818..fdceaf6d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1576,7 +1576,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.49.0
</span><span class="gi">+    tag: v0.50.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1592,7 +1592,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.49.0
</span><span class="gi">+    tag: v0.50.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1722"> <a href="#1722" class="anchor-heading" aria-labelledby="1722"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.2.2 </h2> <p><strong>Release date:</strong> 2021-08-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add default ingress pathType for prometheus (#1249)</li> </ul> <h3 id="default-value-changes-384"> <a href="#default-value-changes-384" class="anchor-heading" aria-labelledby="default-value-changes-384"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1721"> <a href="#1721" class="anchor-heading" aria-labelledby="1721"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.2.1 </h2> <p><strong>Release date:</strong> 2021-08-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kube-prometheus-stack: Use stable API for PodDisruptionBudget if 1.21+ clusters (#1240)</li> </ul> <h3 id="default-value-changes-385"> <a href="#default-value-changes-385" class="anchor-heading" aria-labelledby="default-value-changes-385"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1720"> <a href="#1720" class="anchor-heading" aria-labelledby="1720"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.2.0 </h2> <p><strong>Release date:</strong> 2021-08-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support multicluster dashboards only for etcd (#1132)</li> </ul> <h3 id="default-value-changes-386"> <a href="#default-value-changes-386" class="anchor-heading" aria-labelledby="default-value-changes-386"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8ed4b4fe..08893818 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -197,7 +197,7 @@</span> alertmanager:
   #       {{- $root := . -}}
   #       {{ range .Alerts }}
   #         *Alert:* {{ .Annotations.summary }} - `{{ .Labels.severity }}`
<span class="gd">-  #         *Cluster:*  {{ template "cluster" $root }}
</span><span class="gi">+  #         *Cluster:* {{ template "cluster" $root }}
</span>   #         *Description:* {{ .Annotations.description }}
   #         *Graph:* &lt;{{ .GeneratorURL }}|:chart_with_upwards_trend:&gt;
   #         *Runbook:* &lt;{{ .Annotations.runbook }}|:spiral_note_pad:&gt;
<span class="p">@@ -366,14 +366,14 @@</span> alertmanager:
 
     bearerTokenFile:
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -486,11 +486,11 @@</span> alertmanager:
     #   selector: {}
 
 
<span class="gd">-    ## 	The external URL the Alertmanager instances will be available under. This is necessary to generate correct URLs. This is necessary if Alertmanager is not served from root of a DNS name.	string	false
</span><span class="gi">+    ## The external URL the Alertmanager instances will be available under. This is necessary to generate correct URLs. This is necessary if Alertmanager is not served from root of a DNS name. string  false
</span>     ##
     externalUrl:
 
<span class="gd">-    ## 	The route prefix Alertmanager registers HTTP handlers for. This is useful, if using ExternalURL and a proxy is rewriting HTTP routes of a request, and the actual ExternalURL is still true,
</span><span class="gi">+    ## The route prefix Alertmanager registers HTTP handlers for. This is useful, if using ExternalURL and a proxy is rewriting HTTP routes of a request, and the actual ExternalURL is still true,
</span>     ## but the server serves requests under a different route prefix. For example for use with kubectl proxy.
     ##
     routePrefix: /
<span class="p">@@ -558,7 +558,7 @@</span> alertmanager:
     #       app: alertmanager
 
     ## SecurityContext holds pod-level security attributes and common container settings.
<span class="gd">-    ## This defaults to non root user with uid 1000 and gid 2000.	*v1.PodSecurityContext	false
</span><span class="gi">+    ## This defaults to non root user with uid 1000 and gid 2000. *v1.PodSecurityContext  false
</span>     ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
     ##
     securityContext:
<span class="p">@@ -678,7 +678,11 @@</span> grafana:
       ## Annotations for Grafana dashboard configmaps
       ##
       annotations: {}
<span class="gd">-      multicluster: false
</span><span class="gi">+      multicluster:
+        global:
+          enabled: false
+        etcd:
+          enabled: false
</span>     datasources:
       enabled: true
       defaultDatasourceEnabled: true
<span class="p">@@ -740,14 +744,14 @@</span> grafana:
     # in grafana.ini
     path: "/metrics"
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -778,7 +782,7 @@</span> kubeApiServer:
         component: apiserver
         provider: kubernetes
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
<span class="p">@@ -856,7 +860,7 @@</span> kubelet:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     #   metrics_path is required to match upstream rules and charts
     ##
     cAdvisorRelabelings:
<span class="p">@@ -901,7 +905,7 @@</span> kubelet:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     #   metrics_path is required to match upstream rules and charts
     ##
     relabelings:
<span class="p">@@ -956,14 +960,14 @@</span> kubeControllerManager:
     # Name of the server to use when validating TLS certificate
     serverName: null
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -991,14 +995,14 @@</span> coreDns:
     ##
     proxyUrl: ""
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1030,14 +1034,14 @@</span> kubeDns:
     ##
     proxyUrl: ""
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1051,7 +1055,7 @@</span> kubeDns:
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     dnsmasqRelabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1108,14 +1112,14 @@</span> kubeEtcd:
     certFile: ""
     keyFile: ""
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1166,14 +1170,14 @@</span> kubeScheduler:
     ## Name of the server to use when validating TLS certificate
     serverName: null
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1218,14 +1222,14 @@</span> kubeProxy:
     ##
     https: false
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - action: keep
<span class="p">@@ -1251,14 +1255,14 @@</span> kubeStateMetrics:
     ##
     namespaceOverride: ""
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1303,7 +1307,7 @@</span> nodeExporter:
     ##
     scrapeTimeout: ""
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - sourceLabels: [__name__]
<span class="p">@@ -1312,7 +1316,7 @@</span> nodeExporter:
     #   replacement: $1
     #   action: drop
 
<span class="gd">-    ## 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1377,7 +1381,7 @@</span> prometheusOperator:
       tolerations: []
 
       ## SecurityContext holds pod-level security attributes and common container settings.
<span class="gd">-      ## This defaults to non root user with uid 2000 and gid 2000.	*v1.PodSecurityContext	false
</span><span class="gi">+      ## This defaults to non root user with uid 2000 and gid 2000. *v1.PodSecurityContext  false
</span>       ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
       ##
       securityContext:
<span class="p">@@ -1493,14 +1497,14 @@</span> prometheusOperator:
     scrapeTimeout: ""
     selfMonitor: true
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -1890,14 +1894,14 @@</span> prometheus:
 
     bearerTokenFile:
 
<span class="gd">-    ## 	metric relabel configs to apply to samples before ingestion.
</span><span class="gi">+    ## Metric relabel configs to apply to samples before ingestion.
</span>     ##
     metricRelabelings: []
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
 
<span class="gd">-    # 	relabel configs to apply to samples before ingestion.
</span><span class="gi">+    #   relabel configs to apply to samples before ingestion.
</span>     ##
     relabelings: []
     # - sourceLabels: [__meta_kubernetes_pod_node_name]
<span class="p">@@ -2358,7 +2362,7 @@</span> prometheus:
       runAsUser: 1000
       fsGroup: 2000
 
<span class="gd">-    ## 	Priority class assigned to the Pods
</span><span class="gi">+    ## Priority class assigned to the Pods
</span>     ##
     priorityClassName: ""
 
<span class="p">@@ -2370,7 +2374,7 @@</span> prometheus:
     thanos: {}
 
     ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to a Prometheus pod.
<span class="gd">-    ##  if using proxy extraContainer  update targetPort with proxy container port
</span><span class="gi">+    ## if using proxy extraContainer update targetPort with proxy container port
</span>     containers: []
 
     ## InitContainers allows injecting additional initContainers. This is meant to allow doing some changes
<span class="err">
</span></code></pre></div></div> <h2 id="1713"> <a href="#1713" class="anchor-heading" aria-labelledby="1713"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.1.3 </h2> <p><strong>Release date:</strong> 2021-08-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> The default for pathType mustnt be empty if networking.k8s.io/v1 is available (#1150)</li> </ul> <h3 id="default-value-changes-387"> <a href="#default-value-changes-387" class="anchor-heading" aria-labelledby="default-value-changes-387"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1712"> <a href="#1712" class="anchor-heading" aria-labelledby="1712"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.1.2 </h2> <p><strong>Release date:</strong> 2021-08-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add support for web TLS configuration (#1233)</li> </ul> <h3 id="default-value-changes-388"> <a href="#default-value-changes-388" class="anchor-heading" aria-labelledby="default-value-changes-388"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e7b5a65e..8ed4b4fe 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1943,6 +1943,10 @@</span> prometheus:
     ##
     enableAdminAPI: false
 
<span class="gi">+    ## WebTLSConfig defines the TLS parameters for HTTPS
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#webtlsconfig
+    web: {}
+
</span>     # EnableFeatures API enables access to Prometheus disabled features.
     # ref: https://prometheus.io/docs/prometheus/latest/disabled_features/
     enableFeatures: []
<span class="err">
</span></code></pre></div></div> <h2 id="1711"> <a href="#1711" class="anchor-heading" aria-labelledby="1711"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.1.1 </h2> <p><strong>Release date:</strong> 2021-08-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix ingress logic (#1218)</li> </ul> <h3 id="default-value-changes-389"> <a href="#default-value-changes-389" class="anchor-heading" aria-labelledby="default-value-changes-389"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1710"> <a href="#1710" class="anchor-heading" aria-labelledby="1710"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.1.0 </h2> <p><strong>Release date:</strong> 2021-08-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> allow to create secrets for basic auth usage (#1193)</li> </ul> <h3 id="default-value-changes-390"> <a href="#default-value-changes-390" class="anchor-heading" aria-labelledby="default-value-changes-390"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0b2a607b..e7b5a65e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -606,6 +606,16 @@</span> alertmanager:
     ## Use case is e.g. spanning an Alertmanager cluster across Kubernetes clusters with a single replica in each.
     forceEnableClusterMode: false
 
<span class="gi">+  ## ExtraSecret can be used to store various data in an extra secret
+  ## (use it for example to store hashed basic auth credentials)
+  extraSecret:
+    ## if not set, name will be auto generated
+    # name: ""
+    annotations: {}
+    data: {}
+  #   auth: |
+  #     foo:$apr1$OFG3Xybp$ckL0FHDAkoXYIlH9.cysT0
+  #     someoneelse:$apr1$DMZX2Z4q$6SbQIfyuLQd.xmo/P0m2c.
</span> 
 ## Using default values from https://github.com/grafana/helm-charts/blob/main/charts/grafana/values.yaml
 ##
<span class="p">@@ -1767,6 +1777,18 @@</span> prometheus:
     # - secretName: thanos-gateway-tls
     #   hosts:
     #   - thanos-gateway.domain.com
<span class="gi">+    #
+
+  ## ExtraSecret can be used to store various data in an extra secret
+  ## (use it for example to store hashed basic auth credentials)
+  extraSecret:
+    ## if not set, name will be auto generated
+    # name: ""
+    annotations: {}
+    data: {}
+  #   auth: |
+  #     foo:$apr1$OFG3Xybp$ckL0FHDAkoXYIlH9.cysT0
+  #     someoneelse:$apr1$DMZX2Z4q$6SbQIfyuLQd.xmo/P0m2c.
</span> 
   ingress:
     enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="1703"> <a href="#1703" class="anchor-heading" aria-labelledby="1703"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.3 </h2> <p><strong>Release date:</strong> 2021-07-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Restore the semver check to AggregatedAPIDown and add it to the sync script (#1215)</li> </ul> <h3 id="default-value-changes-391"> <a href="#default-value-changes-391" class="anchor-heading" aria-labelledby="default-value-changes-391"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1702"> <a href="#1702" class="anchor-heading" aria-labelledby="1702"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.2 </h2> <p><strong>Release date:</strong> 2021-07-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add loadBalancerIP to external Thanos Service (#1190)</li> </ul> <h3 id="default-value-changes-392"> <a href="#default-value-changes-392" class="anchor-heading" aria-labelledby="default-value-changes-392"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f045ba41..0b2a607b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1649,6 +1649,8 @@</span> prometheus:
     portName: grpc
     port: 10901
     targetPort: "grpc"
<span class="gi">+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
</span> 
     ## Service type
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1701"> <a href="#1701" class="anchor-heading" aria-labelledby="1701"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.1 </h2> <p><strong>Release date:</strong> 2021-07-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update README.md - Fix version mismatch (#1201)</li> </ul> <h3 id="default-value-changes-393"> <a href="#default-value-changes-393" class="anchor-heading" aria-labelledby="default-value-changes-393"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1700"> <a href="#1700" class="anchor-heading" aria-labelledby="1700"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.0 </h2> <p><strong>Release date:</strong> 2021-07-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.49.0&amp;color=success" alt="AppVersion: 0.49.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Version bump prometheus-operator to 0.49.0 (#1199)</li> </ul> <h3 id="default-value-changes-394"> <a href="#default-value-changes-394" class="anchor-heading" aria-labelledby="default-value-changes-394"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 276af37f..f045ba41 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1562,7 +1562,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.48.1
</span><span class="gi">+    tag: v0.49.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1578,7 +1578,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.48.1
</span><span class="gi">+    tag: v0.49.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="16150"> <a href="#16150" class="anchor-heading" aria-labelledby="16150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.15.0 </h2> <p><strong>Release date:</strong> 2021-07-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update dependencies, rules and dashboard (#1179)</li> </ul> <h3 id="default-value-changes-395"> <a href="#default-value-changes-395" class="anchor-heading" aria-labelledby="default-value-changes-395"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3dddd432..276af37f 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1928,7 +1928,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.27.1
</span><span class="gi">+      tag: v2.28.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="16141"> <a href="#16141" class="anchor-heading" aria-labelledby="16141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.14.1 </h2> <p><strong>Release date:</strong> 2021-07-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>dashboard templates - only remove lines with defaults (#1160)</li> </ul> <h3 id="default-value-changes-396"> <a href="#default-value-changes-396" class="anchor-heading" aria-labelledby="default-value-changes-396"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="16140"> <a href="#16140" class="anchor-heading" aria-labelledby="16140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.14.0 </h2> <p><strong>Release date:</strong> 2021-07-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync rules (#1165)</li> </ul> <h3 id="default-value-changes-397"> <a href="#default-value-changes-397" class="anchor-heading" aria-labelledby="default-value-changes-397"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="16130"> <a href="#16130" class="anchor-heading" aria-labelledby="16130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.13.0 </h2> <p><strong>Release date:</strong> 2021-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add ability to specify existing secret with additional alertmanager configs (#1108)</li> </ul> <h3 id="default-value-changes-398"> <a href="#default-value-changes-398" class="anchor-heading" aria-labelledby="default-value-changes-398"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c3a9ffd4..3dddd432 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2299,6 +2299,14 @@</span> prometheus:
     #     services:
     #       - metrics-prometheus-alertmanager
 
<span class="gi">+    ## If additional alertmanager configurations are already deployed in a single secret, or you want to manage
+    ## them separately from the helm deployment, you can use this section.
+    ## Expected values are the secret name and key
+    ## Cannot be used with additionalAlertManagerConfigs
+    additionalAlertManagerConfigsSecret: {}
+      # name:
+      # key:
+
</span>     ## AdditionalAlertRelabelConfigs allows specifying Prometheus alert relabel configurations. Alert relabel configurations specified are appended
     ## to the configurations generated by the Prometheus Operator. Alert relabel configurations specified must have the form as specified in the
     ## official Prometheus documentation: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#alert_relabel_configs.
<span class="err">
</span></code></pre></div></div> <h2 id="16122"> <a href="#16122" class="anchor-heading" aria-labelledby="16122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.12.2 </h2> <p><strong>Release date:</strong> 2021-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>sync rules and update chart (#1137)</li> </ul> <h3 id="default-value-changes-399"> <a href="#default-value-changes-399" class="anchor-heading" aria-labelledby="default-value-changes-399"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="16121"> <a href="#16121" class="anchor-heading" aria-labelledby="16121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.12.1 </h2> <p><strong>Release date:</strong> 2021-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Dont create webhookconfigurations when prometheus operator is disabled. (#1100)</li> </ul> <h3 id="default-value-changes-400"> <a href="#default-value-changes-400" class="anchor-heading" aria-labelledby="default-value-changes-400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="16120"> <a href="#16120" class="anchor-heading" aria-labelledby="16120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.12.0 </h2> <p><strong>Release date:</strong> 2021-06-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Adding the possibility to override thanos side-car container registry URL and version. (#1110)</li> </ul> <h3 id="default-value-changes-401"> <a href="#default-value-changes-401" class="anchor-heading" aria-labelledby="default-value-changes-401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6a0ac267..c3a9ffd4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1589,6 +1589,13 @@</span> prometheusOperator:
   ##
   configReloaderMemory: 50Mi
 
<span class="gi">+  ## Thanos side-car image when configured
+  ##
+  thanosImage:
+    repository: quay.io/thanos/thanos
+    tag: v0.17.2
+    sha: ""
+
</span>   ## Set a Field Selector to filter watched secrets
   ##
   secretFieldSelector: ""
<span class="err">
</span></code></pre></div></div> <h2 id="16110"> <a href="#16110" class="anchor-heading" aria-labelledby="16110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.11.0 </h2> <p><strong>Release date:</strong> 2021-06-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync rules, dbs and subcharts (#1103)</li> </ul> <h3 id="default-value-changes-402"> <a href="#default-value-changes-402" class="anchor-heading" aria-labelledby="default-value-changes-402"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="16100"> <a href="#16100" class="anchor-heading" aria-labelledby="16100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.10.0 </h2> <p><strong>Release date:</strong> 2021-06-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add endpoint port mertics for kube-state-metrics self monitor (#1090)</li> </ul> <h3 id="default-value-changes-403"> <a href="#default-value-changes-403" class="anchor-heading" aria-labelledby="default-value-changes-403"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c4b34a1a..6a0ac267 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1258,6 +1258,10 @@</span> kubeStateMetrics:
     #   replacement: $1
     #   action: replace
 
<span class="gi">+    # Enable self metrics configuration for Service Monitor
+    selfMonitor:
+      enabled: false
+
</span> ## Configuration for kube-state-metrics subchart
 ##
 kube-state-metrics:
<span class="err">
</span></code></pre></div></div> <h2 id="1693"> <a href="#1693" class="anchor-heading" aria-labelledby="1693"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.9.3 </h2> <p><strong>Release date:</strong> 2021-06-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update Grafana helm chart (#1092)</li> </ul> <h3 id="default-value-changes-404"> <a href="#default-value-changes-404" class="anchor-heading" aria-labelledby="default-value-changes-404"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1692"> <a href="#1692" class="anchor-heading" aria-labelledby="1692"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.9.2 </h2> <p><strong>Release date:</strong> 2021-06-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump Grafana-chart to 6.13.1 (#1089)</li> </ul> <h3 id="default-value-changes-405"> <a href="#default-value-changes-405" class="anchor-heading" aria-labelledby="default-value-changes-405"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1691"> <a href="#1691" class="anchor-heading" aria-labelledby="1691"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.9.1 </h2> <p><strong>Release date:</strong> 2021-06-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump grafana dep in kube-prometheus-stack to 6.13.* (#1088)</li> </ul> <h3 id="default-value-changes-406"> <a href="#default-value-changes-406" class="anchor-heading" aria-labelledby="default-value-changes-406"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1690"> <a href="#1690" class="anchor-heading" aria-labelledby="1690"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.9.0 </h2> <p><strong>Release date:</strong> 2021-06-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add extra support for Amazon EKS and Google GKE KubeVersion on ingress (#1083)</li> </ul> <h3 id="default-value-changes-407"> <a href="#default-value-changes-407" class="anchor-heading" aria-labelledby="default-value-changes-407"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1680"> <a href="#1680" class="anchor-heading" aria-labelledby="1680"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.8.0 </h2> <p><strong>Release date:</strong> 2021-06-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync rules and dashboards (#1075)</li> </ul> <h3 id="default-value-changes-408"> <a href="#default-value-changes-408" class="anchor-heading" aria-labelledby="default-value-changes-408"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1671"> <a href="#1671" class="anchor-heading" aria-labelledby="1671"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.7.1 </h2> <p><strong>Release date:</strong> 2021-06-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Revert c4a7d10fdc6a0f694d9b97e9446207ba67d997dd (#1072)</li> </ul> <h3 id="default-value-changes-409"> <a href="#default-value-changes-409" class="anchor-heading" aria-labelledby="default-value-changes-409"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1670"> <a href="#1670" class="anchor-heading" aria-labelledby="1670"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.7.0 </h2> <p><strong>Release date:</strong> 2021-06-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Remove old rulesets and sync new (#1066)</li> </ul> <h3 id="default-value-changes-410"> <a href="#default-value-changes-410" class="anchor-heading" aria-labelledby="default-value-changes-410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1664"> <a href="#1664" class="anchor-heading" aria-labelledby="1664"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.6.4 </h2> <p><strong>Release date:</strong> 2021-06-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update kube-state-metrics ServiceMonitor port (#1065)</li> </ul> <h3 id="default-value-changes-411"> <a href="#default-value-changes-411" class="anchor-heading" aria-labelledby="default-value-changes-411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1663"> <a href="#1663" class="anchor-heading" aria-labelledby="1663"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.6.3 </h2> <p><strong>Release date:</strong> 2021-06-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana helm chart version (#1064)</li> </ul> <h3 id="default-value-changes-412"> <a href="#default-value-changes-412" class="anchor-heading" aria-labelledby="default-value-changes-412"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1662"> <a href="#1662" class="anchor-heading" aria-labelledby="1662"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.6.2 </h2> <p><strong>Release date:</strong> 2021-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Following prometheus-operator change #860 (#1048)</li> </ul> <h3 id="default-value-changes-413"> <a href="#default-value-changes-413" class="anchor-heading" aria-labelledby="default-value-changes-413"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1661"> <a href="#1661" class="anchor-heading" aria-labelledby="1661"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.6.1 </h2> <p><strong>Release date:</strong> 2021-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.1&amp;color=success" alt="AppVersion: 0.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Prometheus-Operator to v0.48.1 (#1053)</li> </ul> <h3 id="default-value-changes-414"> <a href="#default-value-changes-414" class="anchor-heading" aria-labelledby="default-value-changes-414"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 94f9576a..c4b34a1a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1558,7 +1558,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.48.0
</span><span class="gi">+    tag: v0.48.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1574,7 +1574,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.48.0
</span><span class="gi">+    tag: v0.48.1
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1660"> <a href="#1660" class="anchor-heading" aria-labelledby="1660"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.6.0 </h2> <p><strong>Release date:</strong> 2021-06-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> update grafana to 8.0 via chart version 6.12.0 (#1056)</li> </ul> <h3 id="default-value-changes-415"> <a href="#default-value-changes-415" class="anchor-heading" aria-labelledby="default-value-changes-415"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1650"> <a href="#1650" class="anchor-heading" aria-labelledby="1650"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.5.0 </h2> <p><strong>Release date:</strong> 2021-06-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync grafana dashboards (#1050)</li> </ul> <h3 id="default-value-changes-416"> <a href="#default-value-changes-416" class="anchor-heading" aria-labelledby="default-value-changes-416"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1641"> <a href="#1641" class="anchor-heading" aria-labelledby="1641"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.4.1 </h2> <p><strong>Release date:</strong> 2021-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> move relabelings filed to servicemonitor in kubeApiServer (#1014)</li> </ul> <h3 id="default-value-changes-417"> <a href="#default-value-changes-417" class="anchor-heading" aria-labelledby="default-value-changes-417"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b125a831..94f9576a 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -754,19 +754,6 @@</span> kubeApiServer:
   tlsConfig:
     serverName: kubernetes
     insecureSkipVerify: false
<span class="gd">-
-  ## If your API endpoint address is not reachable (as in AKS) you can replace it with the kubernetes service
-  ##
-  relabelings: []
-  # - sourceLabels:
-  #     - __meta_kubernetes_namespace
-  #     - __meta_kubernetes_service_name
-  #     - __meta_kubernetes_endpoint_port_name
-  #   action: keep
-  #   regex: default;kubernetes;https
-  # - targetLabel: __address__
-  #   replacement: kubernetes.default.svc:443
-
</span>   serviceMonitor:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
<span class="p">@@ -787,6 +774,15 @@</span> kubeApiServer:
     # - action: keep
     #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
     #   sourceLabels: [__name__]
<span class="gi">+    relabelings: []
+    # - sourceLabels:
+    #     - __meta_kubernetes_namespace
+    #     - __meta_kubernetes_service_name
+    #     - __meta_kubernetes_endpoint_port_name
+    #   action: keep
+    #   regex: default;kubernetes;https
+    # - targetLabel: __address__
+    #   replacement: kubernetes.default.svc:443
</span> 
 ## Component scraping the kubelet and kubelet-hosted cAdvisor
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="1640"> <a href="#1640" class="anchor-heading" aria-labelledby="1640"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.4.0 </h2> <p><strong>Release date:</strong> 2021-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Version bump for grafana, node-exporter and kube-state-metrics (#1049)</li> </ul> <h3 id="default-value-changes-418"> <a href="#default-value-changes-418" class="anchor-heading" aria-labelledby="default-value-changes-418"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1632"> <a href="#1632" class="anchor-heading" aria-labelledby="1632"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.3.2 </h2> <p><strong>Release date:</strong> 2021-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix: CA injection for admission webhook (#897)</li> </ul> <h3 id="default-value-changes-419"> <a href="#default-value-changes-419" class="anchor-heading" aria-labelledby="default-value-changes-419"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1631"> <a href="#1631" class="anchor-heading" aria-labelledby="1631"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.3.1 </h2> <p><strong>Release date:</strong> 2021-06-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> AlertManager v0.22.2 (#1046)</li> </ul> <h3 id="default-value-changes-420"> <a href="#default-value-changes-420" class="anchor-heading" aria-labelledby="default-value-changes-420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index caa43d7f..b125a831 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -396,7 +396,7 @@</span> alertmanager:
     ##
     image:
       repository: quay.io/prometheus/alertmanager
<span class="gd">-      tag: v0.22.0
</span><span class="gi">+      tag: v0.22.2
</span>       sha: ""
 
     ## If true then the user will be responsible to provide a secret with alertmanager configuration
<span class="err">
</span></code></pre></div></div> <h2 id="1630"> <a href="#1630" class="anchor-heading" aria-labelledby="1630"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.3.0 </h2> <p><strong>Release date:</strong> 2021-06-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix issue #1038 (#1045)</li> </ul> <h3 id="default-value-changes-421"> <a href="#default-value-changes-421" class="anchor-heading" aria-labelledby="default-value-changes-421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7a327961..caa43d7f 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1365,6 +1365,16 @@</span> prometheusOperator:
       nodeSelector: {}
       affinity: {}
       tolerations: []
<span class="gi">+
+      ## SecurityContext holds pod-level security attributes and common container settings.
+      ## This defaults to non root user with uid 2000 and gid 2000.	*v1.PodSecurityContext	false
+      ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
+      ##
+      securityContext:
+        runAsGroup: 2000
+        runAsNonRoot: true
+        runAsUser: 2000
+
</span>     # Use certmanager to generate webhook certs
     certManager:
       enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="1620"> <a href="#1620" class="anchor-heading" aria-labelledby="1620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.2.0 </h2> <p><strong>Release date:</strong> 2021-06-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Limit grafana deployment to dashboards (#1044)</li> <li>fix nodeExporter serviceMonitors namespaceSelector (#985)</li> </ul> <h3 id="default-value-changes-422"> <a href="#default-value-changes-422" class="anchor-heading" aria-labelledby="default-value-changes-422"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 109820a3..7a327961 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -613,6 +613,14 @@</span> grafana:
   enabled: true
   namespaceOverride: ""
 
<span class="gi">+  ## ForceDeployDatasources Create datasource configmap even if grafana deployment has been disabled
+  ##
+  forceDeployDatasources: false
+
+  ## ForceDeployDashboard Create dashboard configmap even if grafana deployment has been disabled
+  ##
+  forceDeployDashboards: false
+
</span>   ## Deploy default dashboards.
   ##
   defaultDashboardsEnabled: true
<span class="p">@@ -665,6 +673,10 @@</span> grafana:
       enabled: true
       defaultDatasourceEnabled: true
 
<span class="gi">+      ## URL of prometheus datasource
+      ##
+      # url: http://prometheus-stack-prometheus:9090/
+
</span>       # If not defined, will use prometheus.prometheusSpec.scrapeInterval or its default
       # defaultDatasourceScrapeInterval: 15s
 
<span class="err">
</span></code></pre></div></div> <h2 id="1612"> <a href="#1612" class="anchor-heading" aria-labelledby="1612"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.1.2 </h2> <p><strong>Release date:</strong> 2021-05-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update prometheus service selector for 0.48.0 (#1010)</li> </ul> <h3 id="default-value-changes-423"> <a href="#default-value-changes-423" class="anchor-heading" aria-labelledby="default-value-changes-423"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1611"> <a href="#1611" class="anchor-heading" aria-labelledby="1611"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.1.1 </h2> <p><strong>Release date:</strong> 2021-05-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Set pathType on Ingress only when supported (#960)</li> </ul> <h3 id="default-value-changes-424"> <a href="#default-value-changes-424" class="anchor-heading" aria-labelledby="default-value-changes-424"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1610"> <a href="#1610" class="anchor-heading" aria-labelledby="1610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.1.0 </h2> <p><strong>Release date:</strong> 2021-05-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.48.0&amp;color=success" alt="AppVersion: 0.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Prometheus-Operator v0.48.0 and update used images (#1006)</li> </ul> <h3 id="default-value-changes-425"> <a href="#default-value-changes-425" class="anchor-heading" aria-labelledby="default-value-changes-425"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 9098f9fa..109820a3 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -396,7 +396,7 @@</span> alertmanager:
     ##
     image:
       repository: quay.io/prometheus/alertmanager
<span class="gd">-      tag: v0.21.0
</span><span class="gi">+      tag: v0.22.0
</span>       sha: ""
 
     ## If true then the user will be responsible to provide a secret with alertmanager configuration
<span class="p">@@ -1342,7 +1342,7 @@</span> prometheusOperator:
       enabled: true
       image:
         repository: jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.5.0
</span><span class="gi">+        tag: v1.5.2
</span>         sha: ""
         pullPolicy: IfNotPresent
       resources: {}
<span class="p">@@ -1540,7 +1540,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.47.1
</span><span class="gi">+    tag: v0.48.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1556,7 +1556,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.47.1
</span><span class="gi">+    tag: v0.48.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="p">@@ -1899,7 +1899,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.26.0
</span><span class="gi">+      tag: v2.27.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="1601"> <a href="#1601" class="anchor-heading" aria-labelledby="1601"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.0.1 </h2> <p><strong>Release date:</strong> 2021-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.1&amp;color=success" alt="AppVersion: 0.47.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix kube-state-metrics url (#993)</li> </ul> <h3 id="default-value-changes-426"> <a href="#default-value-changes-426" class="anchor-heading" aria-labelledby="default-value-changes-426"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1600"> <a href="#1600" class="anchor-heading" aria-labelledby="1600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.0.0 </h2> <p><strong>Release date:</strong> 2021-05-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.1&amp;color=success" alt="AppVersion: 0.47.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update dependencies / prometheus-operator 0.47.1 (#951)</li> </ul> <h3 id="default-value-changes-427"> <a href="#default-value-changes-427" class="anchor-heading" aria-labelledby="default-value-changes-427"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 51788366..9098f9fa 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1540,7 +1540,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.47.0
</span><span class="gi">+    tag: v0.47.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1556,7 +1556,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.47.0
</span><span class="gi">+    tag: v0.47.1
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1546"> <a href="#1546" class="anchor-heading" aria-labelledby="1546"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.6 </h2> <p><strong>Release date:</strong> 2021-05-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix proxy url error (#943)</li> </ul> <h3 id="default-value-changes-428"> <a href="#default-value-changes-428" class="anchor-heading" aria-labelledby="default-value-changes-428"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1545"> <a href="#1545" class="anchor-heading" aria-labelledby="1545"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.5 </h2> <p><strong>Release date:</strong> 2021-05-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix ingressperreplica not working (#946)</li> </ul> <h3 id="default-value-changes-429"> <a href="#default-value-changes-429" class="anchor-heading" aria-labelledby="default-value-changes-429"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1544"> <a href="#1544" class="anchor-heading" aria-labelledby="1544"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.4 </h2> <p><strong>Release date:</strong> 2021-05-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Omit imagePullSecrets element if no secrets provided (#936)</li> </ul> <h3 id="default-value-changes-430"> <a href="#default-value-changes-430" class="anchor-heading" aria-labelledby="default-value-changes-430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1543"> <a href="#1543" class="anchor-heading" aria-labelledby="1543"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.3 </h2> <p><strong>Release date:</strong> 2021-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix lint in additional-prometheus-rules (#931)</li> </ul> <h3 id="default-value-changes-431"> <a href="#default-value-changes-431" class="anchor-heading" aria-labelledby="default-value-changes-431"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1542"> <a href="#1542" class="anchor-heading" aria-labelledby="1542"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.2 </h2> <p><strong>Release date:</strong> 2021-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-432"> <a href="#default-value-changes-432" class="anchor-heading" aria-labelledby="default-value-changes-432"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 1321efa9..51788366 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -14,6 +14,10 @@</span> namespaceOverride: ""
 ##
 kubeTargetVersionOverride: ""
 
<span class="gi">+## Allow kubeVersion to be overridden while creating the ingress
+##
+kubeVersionOverride: ""
+
</span> ## Provide a name to substitute for the full names of resources
 ##
 fullnameOverride: ""
<span class="err">
</span></code></pre></div></div> <h2 id="1541"> <a href="#1541" class="anchor-heading" aria-labelledby="1541"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.1 </h2> <p><strong>Release date:</strong> 2021-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> docs: upgrade CRD to v0.44 for chart@v12 (#926)</li> </ul> <h3 id="default-value-changes-433"> <a href="#default-value-changes-433" class="anchor-heading" aria-labelledby="default-value-changes-433"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1540"> <a href="#1540" class="anchor-heading" aria-labelledby="1540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.0 </h2> <p><strong>Release date:</strong> 2021-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add external service for thanos-sidecar (#916)</li> </ul> <h3 id="default-value-changes-434"> <a href="#default-value-changes-434" class="anchor-heading" aria-labelledby="default-value-changes-434"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 6b210fa6..1321efa9 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1607,6 +1607,24 @@</span> prometheus:
     ##
     nodePort: 30901
 
<span class="gi">+  # Service for external access to sidecar
+  # Enabling this creates a service to expose thanos-sidecar outside the cluster.
+  thanosServiceExternal:
+    enabled: false
+    annotations: {}
+    labels: {}
+    portName: grpc
+    port: 10901
+    targetPort: "grpc"
+
+    ## Service type
+    ##
+    type: LoadBalancer
+
+    ## Port to expose on each node
+    ##
+    nodePort: 30901
+
</span>   ## Configuration for Prometheus service
   ##
   service:
<span class="err">
</span></code></pre></div></div> <h2 id="1531"> <a href="#1531" class="anchor-heading" aria-labelledby="1531"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.3.1 </h2> <p><strong>Release date:</strong> 2021-04-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore: bump chart version (#911)</li> </ul> <h3 id="default-value-changes-435"> <a href="#default-value-changes-435" class="anchor-heading" aria-labelledby="default-value-changes-435"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1530"> <a href="#1530" class="anchor-heading" aria-labelledby="1530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.3.0 </h2> <p><strong>Release date:</strong> 2021-04-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Changed Url for etcd rules and synced prometh (#908)</li> </ul> <h3 id="default-value-changes-436"> <a href="#default-value-changes-436" class="anchor-heading" aria-labelledby="default-value-changes-436"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1524"> <a href="#1524" class="anchor-heading" aria-labelledby="1524"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.2.4 </h2> <p><strong>Release date:</strong> 2021-04-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add templating helm function to kube-prometheus remote config. On using kube-prometheus as a dependent helm chart passing {{ .Release.Name}} &amp; {{ .Release.Namespace }} the respective values arent parsed as tpl function isnt used. (#875)</li> </ul> <h3 id="default-value-changes-437"> <a href="#default-value-changes-437" class="anchor-heading" aria-labelledby="default-value-changes-437"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1523"> <a href="#1523" class="anchor-heading" aria-labelledby="1523"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.2.3 </h2> <p><strong>Release date:</strong> 2021-04-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> New location for kube-state-metrics (#892)</li> </ul> <h3 id="default-value-changes-438"> <a href="#default-value-changes-438" class="anchor-heading" aria-labelledby="default-value-changes-438"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1522"> <a href="#1522" class="anchor-heading" aria-labelledby="1522"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.2.2 </h2> <p><strong>Release date:</strong> 2021-04-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-439"> <a href="#default-value-changes-439" class="anchor-heading" aria-labelledby="default-value-changes-439"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1521"> <a href="#1521" class="anchor-heading" aria-labelledby="1521"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.2.1 </h2> <p><strong>Release date:</strong> 2021-04-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add matchLabel to prevent duplicate kubelet targets (#860)</li> </ul> <h3 id="default-value-changes-440"> <a href="#default-value-changes-440" class="anchor-heading" aria-labelledby="default-value-changes-440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1520"> <a href="#1520" class="anchor-heading" aria-labelledby="1520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.2.0 </h2> <p><strong>Release date:</strong> 2021-04-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>#876 Update kube-prometheus-stack grafana dependency to 6.8.0 (#877)</li> </ul> <h3 id="default-value-changes-441"> <a href="#default-value-changes-441" class="anchor-heading" aria-labelledby="default-value-changes-441"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1513"> <a href="#1513" class="anchor-heading" aria-labelledby="1513"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.3 </h2> <p><strong>Release date:</strong> 2021-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fixes oversight in #850 (#872)</li> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Recommanded Kubernetes labels (#692)</li> </ul> <h3 id="default-value-changes-442"> <a href="#default-value-changes-442" class="anchor-heading" aria-labelledby="default-value-changes-442"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1512"> <a href="#1512" class="anchor-heading" aria-labelledby="1512"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.2 </h2> <p><strong>Release date:</strong> 2021-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update ingress for v1 (#850)</li> </ul> <h3 id="default-value-changes-443"> <a href="#default-value-changes-443" class="anchor-heading" aria-labelledby="default-value-changes-443"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1511"> <a href="#1511" class="anchor-heading" aria-labelledby="1511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.1 </h2> <p><strong>Release date:</strong> 2021-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix(#857): Adjusted the anti-affinity rule to match the statefulset p (#867)</li> </ul> <h3 id="default-value-changes-444"> <a href="#default-value-changes-444" class="anchor-heading" aria-labelledby="default-value-changes-444"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1510"> <a href="#1510" class="anchor-heading" aria-labelledby="1510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.0 </h2> <p><strong>Release date:</strong> 2021-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> support enableFeatures API (#828)</li> </ul> <h3 id="default-value-changes-445"> <a href="#default-value-changes-445" class="anchor-heading" aria-labelledby="default-value-changes-445"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0e2d6d6e..6b210fa6 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1868,6 +1868,11 @@</span> prometheus:
     ##
     enableAdminAPI: false
 
<span class="gi">+    # EnableFeatures API enables access to Prometheus disabled features.
+    # ref: https://prometheus.io/docs/prometheus/latest/disabled_features/
+    enableFeatures: []
+    # - exemplar-storage
+
</span>     ## Image of Prometheus.
     ##
     image:
<span class="err">
</span></code></pre></div></div> <h2 id="1500"> <a href="#1500" class="anchor-heading" aria-labelledby="1500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.0.0 </h2> <p><strong>Release date:</strong> 2021-04-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.47.0&amp;color=success" alt="AppVersion: 0.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update prometheus-operator to 0.47.0 (#858)</li> </ul> <h3 id="default-value-changes-446"> <a href="#default-value-changes-446" class="anchor-heading" aria-labelledby="default-value-changes-446"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c7abeefb..0e2d6d6e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1536,7 +1536,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.46.0
</span><span class="gi">+    tag: v0.47.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1552,7 +1552,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.46.0
</span><span class="gi">+    tag: v0.47.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1490"> <a href="#1490" class="anchor-heading" aria-labelledby="1490"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.9.0 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add proxyUrl variable to exporters (#789)</li> </ul> <h3 id="default-value-changes-447"> <a href="#default-value-changes-447" class="anchor-heading" aria-labelledby="default-value-changes-447"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bc546254..c7abeefb 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -349,6 +349,10 @@</span> alertmanager:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
     scheme: ""
 
<span class="p">@@ -751,6 +755,10 @@</span> kubeApiServer:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     jobLabel: component
     selector:
       matchLabels:
<span class="p">@@ -775,6 +783,10 @@</span> kubelet:
     ##
     interval: ""
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## Enable scraping the kubelet over https. For requirements to enable this see
     ## https://github.com/prometheus-operator/prometheus-operator/issues/926
     ##
<span class="p">@@ -907,6 +919,10 @@</span> kubeControllerManager:
     ##
     interval: ""
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## Enable scraping kube-controller-manager over https.
     ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
     ##
<span class="p">@@ -949,6 +965,10 @@</span> coreDns:
     ##
     interval: ""
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## 	metric relabel configs to apply to samples before ingestion.
     ##
     metricRelabelings: []
<span class="p">@@ -984,6 +1004,10 @@</span> kubeDns:
     ##
     interval: ""
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## 	metric relabel configs to apply to samples before ingestion.
     ##
     metricRelabelings: []
<span class="p">@@ -1052,6 +1076,9 @@</span> kubeEtcd:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
</span>     scheme: http
     insecureSkipVerify: false
     serverName: ""
<span class="p">@@ -1103,6 +1130,9 @@</span> kubeScheduler:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
</span>     ## Enable scraping kube-scheduler over https.
     ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
     ##
<span class="p">@@ -1157,6 +1187,10 @@</span> kubeProxy:
     ##
     interval: ""
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## Enable scraping kube-proxy over https.
     ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
     ##
<span class="p">@@ -1185,6 +1219,9 @@</span> kubeStateMetrics:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
</span>     ## Override serviceMonitor selector
     ##
     selectorOverride: {}
<span class="p">@@ -1232,6 +1269,10 @@</span> nodeExporter:
     ##
     interval: ""
 
<span class="gi">+    ## proxyUrl: URL of a proxy that should be used for scraping.
+    ##
+    proxyUrl: ""
+
</span>     ## How long until a scrape request times out. If not set, the Prometheus default scape timeout is used.
     ##
     scrapeTimeout: ""
<span class="err">
</span></code></pre></div></div> <h2 id="1482"> <a href="#1482" class="anchor-heading" aria-labelledby="1482"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.8.2 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add optional kube-state-metrics namespace selector (#827)</li> </ul> <h3 id="default-value-changes-448"> <a href="#default-value-changes-448" class="anchor-heading" aria-labelledby="default-value-changes-448"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4d2840f6..bc546254 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1188,6 +1188,9 @@</span> kubeStateMetrics:
     ## Override serviceMonitor selector
     ##
     selectorOverride: {}
<span class="gi">+    ## Override namespace selector
+    ##
+    namespaceOverride: ""
</span> 
     ## 	metric relabel configs to apply to samples before ingestion.
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1481"> <a href="#1481" class="anchor-heading" aria-labelledby="1481"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.8.1 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for Alertmanager CR annotations (#752)</li> </ul> <h3 id="default-value-changes-449"> <a href="#default-value-changes-449" class="anchor-heading" aria-labelledby="default-value-changes-449"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b85ee806..4d2840f6 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -117,6 +117,10 @@</span> alertmanager:
   ##
   enabled: true
 
<span class="gi">+  ## Annotations for Alertmanager
+  ##
+  annotations: {}
+
</span>   ## Api that prometheus will use to communicate with alertmanager. Possible values are v1, v2
   ##
   apiVersion: v2
<span class="err">
</span></code></pre></div></div> <h2 id="1480"> <a href="#1480" class="anchor-heading" aria-labelledby="1480"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.8.0 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update node-exporter dep to 1.17.0 + kube-state-metrics to 2.13.2 + grafana to 6.7.4 (#847)</li> </ul> <h3 id="default-value-changes-450"> <a href="#default-value-changes-450" class="anchor-heading" aria-labelledby="default-value-changes-450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1472"> <a href="#1472" class="anchor-heading" aria-labelledby="1472"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.7.2 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add service account annotations (#759)</li> </ul> <h3 id="default-value-changes-451"> <a href="#default-value-changes-451" class="anchor-heading" aria-labelledby="default-value-changes-451"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b2c5c4ef..b85ee806 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1535,6 +1535,7 @@</span> prometheus:
   serviceAccount:
     create: true
     name: ""
<span class="gi">+    annotations: {}
</span> 
   # Service for thanos service discovery on sidecar
   # Enable this can make Thanos Query can use
<span class="err">
</span></code></pre></div></div> <h2 id="1471"> <a href="#1471" class="anchor-heading" aria-labelledby="1471"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.7.1 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Avoid using non-ascii char in values.yaml (#843)</li> </ul> <h3 id="default-value-changes-452"> <a href="#default-value-changes-452" class="anchor-heading" aria-labelledby="default-value-changes-452"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 575a1f1b..b2c5c4ef 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -194,7 +194,7 @@</span> alertmanager:
   #         *Graph:* &lt;{{ .GeneratorURL }}|:chart_with_upwards_trend:&gt;
   #         *Runbook:* &lt;{{ .Annotations.runbook }}|:spiral_note_pad:&gt;
   #         *Details:*
<span class="gd">-  #           {{ range .Labels.SortedPairs }}  *{{ .Name }}:* `{{ .Value }}`
</span><span class="gi">+  #           {{ range .Labels.SortedPairs }} - *{{ .Name }}:* `{{ .Value }}`
</span>   #           {{ end }}
   #       {{ end }}
   #       {{ end }}
<span class="p">@@ -375,7 +375,7 @@</span> alertmanager:
   ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#alertmanagerspec
   ##
   alertmanagerSpec:
<span class="gd">-    ## Standard objects metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
</span><span class="gi">+    ## Standard object's metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
</span>     ## Metadata Labels and Annotations gets propagated to the Alertmanager pods.
     ##
     podMetadata: {}
<span class="p">@@ -2044,7 +2044,7 @@</span> prometheus:
     ##
     routePrefix: /
 
<span class="gd">-    ## Standard objects metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
</span><span class="gi">+    ## Standard object's metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
</span>     ## Metadata Labels and Annotations gets propagated to the prometheus pods.
     ##
     podMetadata: {}
<span class="err">
</span></code></pre></div></div> <h2 id="1470"> <a href="#1470" class="anchor-heading" aria-labelledby="1470"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.7.0 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump prometheus image version to fix the targets issue (#842)</li> </ul> <h3 id="default-value-changes-453"> <a href="#default-value-changes-453" class="anchor-heading" aria-labelledby="default-value-changes-453"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 691b2cf4..575a1f1b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1823,7 +1823,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.24.0
</span><span class="gi">+      tag: v2.26.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="1463"> <a href="#1463" class="anchor-heading" aria-labelledby="1463"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.6.3 </h2> <p><strong>Release date:</strong> 2021-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump PyYAML to 5.4 (#829)</li> </ul> <h3 id="default-value-changes-454"> <a href="#default-value-changes-454" class="anchor-heading" aria-labelledby="default-value-changes-454"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1462"> <a href="#1462" class="anchor-heading" aria-labelledby="1462"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.6.2 </h2> <p><strong>Release date:</strong> 2021-04-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add additionalRemoteRead and additionalRemoteWrite (#747)</li> </ul> <h3 id="default-value-changes-455"> <a href="#default-value-changes-455" class="anchor-heading" aria-labelledby="default-value-changes-455"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 290ea1d1..691b2cf4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2081,11 +2081,15 @@</span> prometheus:
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotereadspec
     remoteRead: []
     # - url: http://remote1/read
<span class="gi">+    ## additionalRemoteRead is appended to remoteRead
+    additionalRemoteRead: []
</span> 
     ## The remote_write spec configuration for Prometheus.
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotewritespec
     remoteWrite: []
     # - url: http://remote1/push
<span class="gi">+    ## additionalRemoteWrite is appended to remoteWrite
+    additionalRemoteWrite: []
</span> 
     ## Enable/Disable Grafana dashboards provisioning for prometheus remote write feature
     remoteWriteDashboards: false
<span class="err">
</span></code></pre></div></div> <h2 id="1461"> <a href="#1461" class="anchor-heading" aria-labelledby="1461"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.6.1 </h2> <p><strong>Release date:</strong> 2021-04-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>refactor(kube-prometheus-stack): set cert-manager generated certificate duration to include minutes and seconds complying to cert-manager representation on updates (#750)</li> </ul> <h3 id="default-value-changes-456"> <a href="#default-value-changes-456" class="anchor-heading" aria-labelledby="default-value-changes-456"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1460"> <a href="#1460" class="anchor-heading" aria-labelledby="1460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.6.0 </h2> <p><strong>Release date:</strong> 2021-04-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana dep to 6.7 (#814)</li> </ul> <h3 id="default-value-changes-457"> <a href="#default-value-changes-457" class="anchor-heading" aria-labelledby="default-value-changes-457"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1450"> <a href="#1450" class="anchor-heading" aria-labelledby="1450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.5.0 </h2> <p><strong>Release date:</strong> 2021-04-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Invalid value None for clusterIP (#784)</li> </ul> <h3 id="default-value-changes-458"> <a href="#default-value-changes-458" class="anchor-heading" aria-labelledby="default-value-changes-458"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 42f6ac7c..290ea1d1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1548,6 +1548,7 @@</span> prometheus:
     portName: grpc
     port: 10901
     targetPort: "grpc"
<span class="gi">+    clusterIP: "None"
</span> 
     ## Service type
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1440"> <a href="#1440" class="anchor-heading" aria-labelledby="1440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.4.0 </h2> <p><strong>Release date:</strong> 2021-03-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add more controls to kubescheduler,kubeproxy,controllermanager,etcd exporters (#797)</li> </ul> <h3 id="default-value-changes-459"> <a href="#default-value-changes-459" class="anchor-heading" aria-labelledby="default-value-changes-459"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5848603d..42f6ac7c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -891,12 +891,14 @@</span> kubeControllerManager:
   ## If using kubeControllerManager.endpoints only the port and targetPort are used
   ##
   service:
<span class="gi">+    enabled: true
</span>     port: 10252
     targetPort: 10252
     # selector:
     #   component: kube-controller-manager
 
   serviceMonitor:
<span class="gi">+    enabled: true
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="p">@@ -1024,6 +1026,7 @@</span> kubeEtcd:
   ## Etcd service. If using kubeEtcd.endpoints only the port and targetPort are used
   ##
   service:
<span class="gi">+    enabled: true
</span>     port: 2379
     targetPort: 2379
     # selector:
<span class="p">@@ -1041,6 +1044,7 @@</span> kubeEtcd:
   ##   keyFile: /etc/prometheus/secrets/etcd-client-cert/etcd-client-key
   ##
   serviceMonitor:
<span class="gi">+    enabled: true
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="p">@@ -1084,12 +1088,14 @@</span> kubeScheduler:
   ## If using kubeScheduler.endpoints only the port and targetPort are used
   ##
   service:
<span class="gi">+    enabled: true
</span>     port: 10251
     targetPort: 10251
     # selector:
     #   component: kube-scheduler
 
   serviceMonitor:
<span class="gi">+    enabled: true
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="p">@@ -1135,12 +1141,14 @@</span> kubeProxy:
   # - 10.141.4.24
 
   service:
<span class="gi">+    enabled: true
</span>     port: 10249
     targetPort: 10249
     # selector:
     #   k8s-app: kube-proxy
 
   serviceMonitor:
<span class="gi">+    enabled: true
</span>     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="err">
</span></code></pre></div></div> <h2 id="1430"> <a href="#1430" class="anchor-heading" aria-labelledby="1430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.3.0 </h2> <p><strong>Release date:</strong> 2021-03-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Exclude default rules from namespace enforcement (#770)</li> </ul> <h3 id="default-value-changes-460"> <a href="#default-value-changes-460" class="anchor-heading" aria-labelledby="default-value-changes-460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index efd99acc..5848603d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2242,9 +2242,14 @@</span> prometheus:
     ## configs, and they will only discover endpoints within their current namespace. Defaults to false.
     ignoreNamespaceSelectors: false
 
<span class="gi">+    ## EnforcedNamespaceLabel enforces adding a namespace label of origin for each alert and metric that is user created.
+    ## The label value will always be the namespace of the object that is being created.
+    ## Disabled by default
+    enforcedNamespaceLabel: ""
+
</span>     ## PrometheusRulesExcludedFromEnforce - list of prometheus rules to be excluded from enforcing of adding namespace labels.
     ## Works only if enforcedNamespaceLabel set to true. Make sure both ruleNamespace and ruleName are set for each pair
<span class="gd">-    prometheusRulesExcludedFromEnforce: false
</span><span class="gi">+    prometheusRulesExcludedFromEnforce: []
</span> 
     ## QueryLogFile specifies the file to which PromQL queries are logged. Note that this location must be writable,
     ## and can be persisted using an attached volume. Alternatively, the location can be set to a stdout location such
<span class="err">
</span></code></pre></div></div> <h2 id="1420"> <a href="#1420" class="anchor-heading" aria-labelledby="1420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.2.0 </h2> <p><strong>Release date:</strong> 2021-03-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update dependency version (#776)</li> </ul> <h3 id="default-value-changes-461"> <a href="#default-value-changes-461" class="anchor-heading" aria-labelledby="default-value-changes-461"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1412"> <a href="#1412" class="anchor-heading" aria-labelledby="1412"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.2 </h2> <p><strong>Release date:</strong> 2021-03-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix LoadBalancer typo in service type (#761)</li> </ul> <h3 id="default-value-changes-462"> <a href="#default-value-changes-462" class="anchor-heading" aria-labelledby="default-value-changes-462"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e59a17bd..efd99acc 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -331,7 +331,7 @@</span> alertmanager:
     nodePort: 30904
 
     ## Loadbalancer source IP ranges
<span class="gd">-    ## Only used if servicePerReplica.type is "loadbalancer"
</span><span class="gi">+    ## Only used if servicePerReplica.type is "LoadBalancer"
</span>     loadBalancerSourceRanges: []
     ## Service type
     ##
<span class="p">@@ -1351,13 +1351,13 @@</span> prometheusOperator:
     additionalPorts: []
 
   ## Loadbalancer IP
<span class="gd">-  ## Only use if service.type is "loadbalancer"
</span><span class="gi">+  ## Only use if service.type is "LoadBalancer"
</span>   ##
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
 
   ## Service type
<span class="gd">-  ## NodePort, ClusterIP, loadbalancer
</span><span class="gi">+  ## NodePort, ClusterIP, LoadBalancer
</span>   ##
     type: ClusterIP
 
<span class="p">@@ -1574,7 +1574,7 @@</span> prometheus:
     nodePort: 30090
 
     ## Loadbalancer IP
<span class="gd">-    ## Only use if service.type is "loadbalancer"
</span><span class="gi">+    ## Only use if service.type is "LoadBalancer"
</span>     loadBalancerIP: ""
     loadBalancerSourceRanges: []
     ## Service type
<span class="p">@@ -1602,7 +1602,7 @@</span> prometheus:
     nodePort: 30091
 
     ## Loadbalancer source IP ranges
<span class="gd">-    ## Only used if servicePerReplica.type is "loadbalancer"
</span><span class="gi">+    ## Only used if servicePerReplica.type is "LoadBalancer"
</span>     loadBalancerSourceRanges: []
     ## Service type
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1411"> <a href="#1411" class="anchor-heading" aria-labelledby="1411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.1 </h2> <p><strong>Release date:</strong> 2021-03-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix typo and formatting in comments (#772)</li> </ul> <h3 id="default-value-changes-463"> <a href="#default-value-changes-463" class="anchor-heading" aria-labelledby="default-value-changes-463"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 961c6198..e59a17bd 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1911,10 +1911,10 @@</span> prometheus:
     ruleSelectorNilUsesHelmValues: true
 
     ## PrometheusRules to be selected for target discovery.
<span class="gd">-    ## If {}, select all ServiceMonitors
</span><span class="gi">+    ## If {}, select all PrometheusRules
</span>     ##
     ruleSelector: {}
<span class="gd">-    ## Example which select all prometheusrules resources
</span><span class="gi">+    ## Example which select all PrometheusRules resources
</span>     ## with label "prometheus" with values any of "example-rules" or "example-rules-2"
     # ruleSelector:
     #   matchExpressions:
<span class="p">@@ -1924,7 +1924,7 @@</span> prometheus:
     #         - example-rules
     #         - example-rules-2
     #
<span class="gd">-    ## Example which select all prometheusrules resources with label "role" set to "example-rules"
</span><span class="gi">+    ## Example which select all PrometheusRules resources with label "role" set to "example-rules"
</span>     # ruleSelector:
     #   matchLabels:
     #     role: example-rules
<span class="err">
</span></code></pre></div></div> <h2 id="1410"> <a href="#1410" class="anchor-heading" aria-labelledby="1410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.0 </h2> <p><strong>Release date:</strong> 2021-03-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Added nodePort to thanosService (#769)</li> </ul> <h3 id="default-value-changes-464"> <a href="#default-value-changes-464" class="anchor-heading" aria-labelledby="default-value-changes-464"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2ec73605..961c6198 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1541,6 +1541,14 @@</span> prometheus:
     port: 10901
     targetPort: "grpc"
 
<span class="gi">+    ## Service type
+    ##
+    type: ClusterIP
+
+    ## Port to expose on each node
+    ##
+    nodePort: 30901
+
</span>   ## Configuration for Prometheus service
   ##
   service:
<span class="err">
</span></code></pre></div></div> <h2 id="1401"> <a href="#1401" class="anchor-heading" aria-labelledby="1401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.0.1 </h2> <p><strong>Release date:</strong> 2021-03-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update README with 13.x to 14.x upgrade instructions (#746)</li> </ul> <h3 id="default-value-changes-465"> <a href="#default-value-changes-465" class="anchor-heading" aria-labelledby="default-value-changes-465"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1400"> <a href="#1400" class="anchor-heading" aria-labelledby="1400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.0.0 </h2> <p><strong>Release date:</strong> 2021-03-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.46.0&amp;color=success" alt="AppVersion: 0.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> 0.46.0 operator and crds (#740)</li> </ul> <h3 id="default-value-changes-466"> <a href="#default-value-changes-466" class="anchor-heading" aria-labelledby="default-value-changes-466"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 66114e2e..2ec73605 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1480,7 +1480,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.45.0
</span><span class="gi">+    tag: v0.46.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1496,7 +1496,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.45.0
</span><span class="gi">+    tag: v0.46.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="13131"> <a href="#13131" class="anchor-heading" aria-labelledby="13131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.13.1 </h2> <p><strong>Release date:</strong> 2021-03-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Added missing upgrade command for alertmanager to do before 13.13.x (#715)</li> </ul> <h3 id="default-value-changes-467"> <a href="#default-value-changes-467" class="anchor-heading" aria-labelledby="default-value-changes-467"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="13130"> <a href="#13130" class="anchor-heading" aria-labelledby="13130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.13.0 </h2> <p><strong>Release date:</strong> 2021-02-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade to latest kube-state-metrics chart with v1.9.8 (#703)</li> </ul> <h3 id="default-value-changes-468"> <a href="#default-value-changes-468" class="anchor-heading" aria-labelledby="default-value-changes-468"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="13120"> <a href="#13120" class="anchor-heading" aria-labelledby="13120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.12.0 </h2> <p><strong>Release date:</strong> 2021-02-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add Prometheus and Alertmanager topologySpreadConstraints (#702)</li> </ul> <h3 id="default-value-changes-469"> <a href="#default-value-changes-469" class="anchor-heading" aria-labelledby="default-value-changes-469"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8b363731..66114e2e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -534,6 +534,17 @@</span> alertmanager:
     #   value: "value"
     #   effect: "NoSchedule"
 
<span class="gi">+    ## If specified, the pod's topology spread constraints.
+    ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+    ##
+    topologySpreadConstraints: []
+    # - maxSkew: 1
+    #   topologyKey: topology.kubernetes.io/zone
+    #   whenUnsatisfiable: DoNotSchedule
+    #   labelSelector:
+    #     matchLabels:
+    #       app: alertmanager
+
</span>     ## SecurityContext holds pod-level security attributes and common container settings.
     ## This defaults to non root user with uid 1000 and gid 2000.	*v1.PodSecurityContext	false
     ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
<span class="p">@@ -1807,6 +1818,17 @@</span> prometheus:
     #    value: "value"
     #    effect: "NoSchedule"
 
<span class="gi">+    ## If specified, the pod's topology spread constraints.
+    ## ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+    ##
+    topologySpreadConstraints: []
+    # - maxSkew: 1
+    #   topologyKey: topology.kubernetes.io/zone
+    #   whenUnsatisfiable: DoNotSchedule
+    #   labelSelector:
+    #     matchLabels:
+    #       app: prometheus
+
</span>     ## Alertmanagers to which alerts will be sent
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#alertmanagerendpoints
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="13110"> <a href="#13110" class="anchor-heading" aria-labelledby="13110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.11.0 </h2> <p><strong>Release date:</strong> 2021-02-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Added pathType (#688)</li> </ul> <h3 id="default-value-changes-470"> <a href="#default-value-changes-470" class="anchor-heading" aria-labelledby="default-value-changes-470"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 59467c07..8b363731 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -220,6 +220,10 @@</span> alertmanager:
     paths: []
     # - /
 
<span class="gi">+    ## For Kubernetes &gt;= 1.18 you should specify the pathType (determines how Ingress paths should be matched)
+    ## See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#better-path-matching-with-path-types
+    # pathType: ImplementationSpecific
+
</span>     ## TLS configuration for Alertmanager Ingress
     ## Secret must be manually created in the namespace
     ##
<span class="p">@@ -260,6 +264,10 @@</span> alertmanager:
     paths: []
     # - /
 
<span class="gi">+    ## For Kubernetes &gt;= 1.18 you should specify the pathType (determines how Ingress paths should be matched)
+    ## See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#better-path-matching-with-path-types
+    # pathType: ImplementationSpecific
+
</span>     ## Secret name containing the TLS certificate for alertmanager per replica ingress
     ## Secret must be manually created in the namespace
     tlsSecretName: ""
<span class="p">@@ -1618,6 +1626,10 @@</span> prometheus:
     paths: []
     # - /
 
<span class="gi">+    ## For Kubernetes &gt;= 1.18 you should specify the pathType (determines how Ingress paths should be matched)
+    ## See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#better-path-matching-with-path-types
+    # pathType: ImplementationSpecific
+
</span>     ## TLS configuration for Thanos Ingress
     ## Secret must be manually created in the namespace
     ##
<span class="p">@@ -1648,6 +1660,10 @@</span> prometheus:
     paths: []
     # - /
 
<span class="gi">+    ## For Kubernetes &gt;= 1.18 you should specify the pathType (determines how Ingress paths should be matched)
+    ## See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#better-path-matching-with-path-types
+    # pathType: ImplementationSpecific
+
</span>     ## TLS configuration for Prometheus Ingress
     ## Secret must be manually created in the namespace
     ##
<span class="p">@@ -1683,6 +1699,10 @@</span> prometheus:
     paths: []
     # - /
 
<span class="gi">+    ## For Kubernetes &gt;= 1.18 you should specify the pathType (determines how Ingress paths should be matched)
+    ## See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#better-path-matching-with-path-types
+    # pathType: ImplementationSpecific
+
</span>     ## Secret name containing the TLS certificate for Prometheus per replica ingress
     ## Secret must be manually created in the namespace
     tlsSecretName: ""
<span class="err">
</span></code></pre></div></div> <h2 id="13100"> <a href="#13100" class="anchor-heading" aria-labelledby="13100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.10.0 </h2> <p><strong>Release date:</strong> 2021-02-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade grafana dependency to 6.4 (#685)</li> </ul> <h3 id="default-value-changes-471"> <a href="#default-value-changes-471" class="anchor-heading" aria-labelledby="default-value-changes-471"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1391"> <a href="#1391" class="anchor-heading" aria-labelledby="1391"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.9.1 </h2> <p><strong>Release date:</strong> 2021-02-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Ability for custom dnsConfig (#639)</li> </ul> <h3 id="default-value-changes-472"> <a href="#default-value-changes-472" class="anchor-heading" aria-labelledby="default-value-changes-472"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 01665960..59467c07 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1441,7 +1441,16 @@</span> prometheusOperator:
     #         values:
     #         - e2e-az1
     #         - e2e-az2
<span class="gd">-
</span><span class="gi">+  dnsConfig: {}
+    # nameservers:
+    #   - 1.2.3.4
+    # searches:
+    #   - ns1.svc.cluster-domain.example
+    #   - my.dns.search.suffix
+    # options:
+    #   - name: ndots
+    #     value: "2"
+  #   - name: edns0
</span>   securityContext:
     fsGroup: 65534
     runAsGroup: 65534
<span class="err">
</span></code></pre></div></div> <h2 id="1390"> <a href="#1390" class="anchor-heading" aria-labelledby="1390"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.9.0 </h2> <p><strong>Release date:</strong> 2021-02-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> hack: fix syncing dashboards and alerting rules (#665)</li> </ul> <h3 id="default-value-changes-473"> <a href="#default-value-changes-473" class="anchor-heading" aria-labelledby="default-value-changes-473"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1380"> <a href="#1380" class="anchor-heading" aria-labelledby="1380"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.8.0 </h2> <p><strong>Release date:</strong> 2021-02-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> update node exporter chart to 1.14.* (#677)</li> </ul> <h3 id="default-value-changes-474"> <a href="#default-value-changes-474" class="anchor-heading" aria-labelledby="default-value-changes-474"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1372"> <a href="#1372" class="anchor-heading" aria-labelledby="1372"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.7.2 </h2> <p><strong>Release date:</strong> 2021-02-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Ability for cluster-domain in kube-prometheus-stack (#647)</li> </ul> <h3 id="default-value-changes-475"> <a href="#default-value-changes-475" class="anchor-heading" aria-labelledby="default-value-changes-475"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0bba5e98..01665960 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1299,6 +1299,12 @@</span> prometheusOperator:
   prometheusInstanceNamespaces: []
   thanosRulerInstanceNamespaces: []
 
<span class="gi">+  ## The clusterDomain value will be added to the cluster.peer option of the alertmanager.
+  ## Without this specified option cluster.peer will have value alertmanager-monitoring-alertmanager-0.alertmanager-operated:9094 (default value)
+  ## With this specified option cluster.peer will have value alertmanager-monitoring-alertmanager-0.alertmanager-operated.namespace.svc.cluster-domain:9094
+  ##
+  # clusterDomain: "cluster.local"
+
</span>   ## Service account for Alertmanager to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1371"> <a href="#1371" class="anchor-heading" aria-labelledby="1371"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.7.1 </h2> <p><strong>Release date:</strong> 2021-02-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix yaml indent (#663)</li> </ul> <h3 id="default-value-changes-476"> <a href="#default-value-changes-476" class="anchor-heading" aria-labelledby="default-value-changes-476"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1370"> <a href="#1370" class="anchor-heading" aria-labelledby="1370"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.7.0 </h2> <p><strong>Release date:</strong> 2021-02-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> introduce optional param grafana.sidecar.datasources.defaultDatasourceScrapeInterval. (#659)</li> </ul> <h3 id="default-value-changes-477"> <a href="#default-value-changes-477" class="anchor-heading" aria-labelledby="default-value-changes-477"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index caa38b02..0bba5e98 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -634,6 +634,9 @@</span> grafana:
       enabled: true
       defaultDatasourceEnabled: true
 
<span class="gi">+      # If not defined, will use prometheus.prometheusSpec.scrapeInterval or its default
+      # defaultDatasourceScrapeInterval: 15s
+
</span>       ## Annotations for Grafana datasource configmaps
       ##
       annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="1360"> <a href="#1360" class="anchor-heading" aria-labelledby="1360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.6.0 </h2> <p><strong>Release date:</strong> 2021-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: allow overriding of selector for kube-state-metrics serviceMonitor (#303)</li> </ul> <h3 id="default-value-changes-478"> <a href="#default-value-changes-478" class="anchor-heading" aria-labelledby="default-value-changes-478"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f367e960..caa38b02 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1151,6 +1151,9 @@</span> kubeStateMetrics:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
     ##
     interval: ""
<span class="gi">+    ## Override serviceMonitor selector
+    ##
+    selectorOverride: {}
</span> 
     ## 	metric relabel configs to apply to samples before ingestion.
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1351"> <a href="#1351" class="anchor-heading" aria-labelledby="1351"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.5.1 </h2> <p><strong>Release date:</strong> 2021-02-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync kube-state-metrics (#650)</li> </ul> <h3 id="default-value-changes-479"> <a href="#default-value-changes-479" class="anchor-heading" aria-labelledby="default-value-changes-479"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1350"> <a href="#1350" class="anchor-heading" aria-labelledby="1350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.5.0 </h2> <p><strong>Release date:</strong> 2021-02-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add podTargetLabels to additionalServiceMonitors (#629)</li> </ul> <h3 id="default-value-changes-480"> <a href="#default-value-changes-480" class="anchor-heading" aria-labelledby="default-value-changes-480"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 617b39cc..f367e960 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2213,7 +2213,11 @@</span> prometheus:
 
     ## labels to transfer from the kubernetes service to the target
     ##
<span class="gd">-    # targetLabels: ""
</span><span class="gi">+    # targetLabels: []
+
+    ## labels to transfer from the kubernetes pods to the target
+    ##
+    # podTargetLabels: []
</span> 
     ## Label selector for services to which this ServiceMonitor applies
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1341"> <a href="#1341" class="anchor-heading" aria-labelledby="1341"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.4.1 </h2> <p><strong>Release date:</strong> 2021-01-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: match containerPort and listen-address in operator (#624)</li> </ul> <h3 id="default-value-changes-481"> <a href="#default-value-changes-481" class="anchor-heading" aria-labelledby="default-value-changes-481"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1340"> <a href="#1340" class="anchor-heading" aria-labelledby="1340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.4.0 </h2> <p><strong>Release date:</strong> 2021-01-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add support for specifying webhook port for GKE workaround (#400)</li> </ul> <h3 id="default-value-changes-482"> <a href="#default-value-changes-482" class="anchor-heading" aria-labelledby="default-value-changes-482"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2a0f98c0..617b39cc 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1232,11 +1232,14 @@</span> prometheus-node-exporter:
 prometheusOperator:
   enabled: true
 
<span class="gd">-  # Prometheus-Operator v0.39.0 and later support TLS natively.
</span><span class="gi">+  ## Prometheus-Operator v0.39.0 and later support TLS natively.
+  ##
</span>   tls:
     enabled: true
     # Value must match version names from https://golang.org/pkg/crypto/tls/#pkg-constants
     tlsMinVersion: VersionTLS13
<span class="gi">+    # The default webhook port is 10250 in order to work out-of-the-box in GKE private clusters and avoid adding firewall rules.
+    internalPort: 10250
</span> 
   ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
   ## rules from making their way into prometheus and potentially preventing the container from starting
<span class="err">
</span></code></pre></div></div> <h2 id="1330"> <a href="#1330" class="anchor-heading" aria-labelledby="1330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.3.0 </h2> <p><strong>Release date:</strong> 2021-01-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow override of prometheus and alertmanager default base images (#588)</li> </ul> <h3 id="default-value-changes-483"> <a href="#default-value-changes-483" class="anchor-heading" aria-labelledby="default-value-changes-483"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 2be42c80..2a0f98c0 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1441,6 +1441,14 @@</span> prometheusOperator:
     sha: ""
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## Prometheus image to use for prometheuses managed by the operator
+  ##
+  # prometheusDefaultBaseImage: quay.io/prometheus/prometheus
+
+  ## Alertmanager image to use for alertmanagers managed by the operator
+  ##
+  # alertmanagerDefaultBaseImage: quay.io/prometheus/alertmanager
+
</span>   ## Prometheus-config-reloader image to use for config and rule reloading
   ##
   prometheusConfigReloaderImage:
<span class="err">
</span></code></pre></div></div> <h2 id="1321"> <a href="#1321" class="anchor-heading" aria-labelledby="1321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.2.1 </h2> <p><strong>Release date:</strong> 2021-01-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">Kube-prometheus-stack</a>adding upstream for external label and url (#536)</li> </ul> <h3 id="default-value-changes-484"> <a href="#default-value-changes-484" class="anchor-heading" aria-labelledby="default-value-changes-484"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1320"> <a href="#1320" class="anchor-heading" aria-labelledby="1320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.2.0 </h2> <p><strong>Release date:</strong> 2021-01-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Make it possible to add additional volume and allowerHostPath to prometehus psp (#583)</li> </ul> <h3 id="default-value-changes-485"> <a href="#default-value-changes-485" class="anchor-heading" aria-labelledby="default-value-changes-485"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8fbccb3d..2be42c80 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1668,6 +1668,8 @@</span> prometheus:
   ## ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
   podSecurityPolicy:
     allowedCapabilities: []
<span class="gi">+    allowedHostPaths: []
+    volumes: []
</span> 
   serviceMonitor:
     ## Scrape interval. If not set, the Prometheus default scrape interval is used.
<span class="err">
</span></code></pre></div></div> <h2 id="1312"> <a href="#1312" class="anchor-heading" aria-labelledby="1312"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.1.2 </h2> <p><strong>Release date:</strong> 2021-01-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update list of excluded fs types and mountpoints in node exporter collector (#594)</li> </ul> <h3 id="default-value-changes-486"> <a href="#default-value-changes-486" class="anchor-heading" aria-labelledby="default-value-changes-486"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index dc497e96..8fbccb3d 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1224,8 +1224,8 @@</span> prometheus-node-exporter:
     ##
     jobLabel: node-exporter
   extraArgs:
<span class="gd">-    - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+)($|/)
-    - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|cgroup|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|mqueue|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|sysfs|tracefs)$
</span><span class="gi">+    - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
+    - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
</span> 
 ## Manages Prometheus and Alertmanager components
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="1311"> <a href="#1311" class="anchor-heading" aria-labelledby="1311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.1.1 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add config.templates (#563)</li> </ul> <h3 id="default-value-changes-487"> <a href="#default-value-changes-487" class="anchor-heading" aria-labelledby="default-value-changes-487"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 32730b57..dc497e96 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -158,6 +158,8 @@</span> alertmanager:
         receiver: 'null'
     receivers:
     - name: 'null'
<span class="gi">+    templates:
+    - '/etc/alertmanager/config/*.tmpl'
</span> 
   ## Pass the Alertmanager configuration directives through Helm's templating
   ## engine. If the Alertmanager configuration contains Alertmanager templates,
<span class="p">@@ -170,6 +172,10 @@</span> alertmanager:
   tplConfig: false
 
   ## Alertmanager template files to format alerts
<span class="gi">+  ## By default, templateFiles are placed in /etc/alertmanager/config/ and if
+  ## they have a .tmpl file suffix will be loaded. See config.templates above
+  ## to change, add other suffixes. If adding other suffixes, be sure to update
+  ## config.templates above to include those suffixes.
</span>   ## ref: https://prometheus.io/docs/alerting/notifications/
   ##      https://prometheus.io/docs/alerting/notification_examples/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1305"> <a href="#1305" class="anchor-heading" aria-labelledby="1305"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.5 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Use new API version for ingress (#572)</li> </ul> <h3 id="default-value-changes-488"> <a href="#default-value-changes-488" class="anchor-heading" aria-labelledby="default-value-changes-488"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1304"> <a href="#1304" class="anchor-heading" aria-labelledby="1304"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.4 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Document cert-manager usage (#574)</li> <li> </ul> <h3 id="default-value-changes-489"> <a href="#default-value-changes-489" class="anchor-heading" aria-labelledby="default-value-changes-489"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1303"> <a href="#1303" class="anchor-heading" aria-labelledby="1303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.3 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix thanos grpc port when using service type NodePort (#593)</li> </ul> <h3 id="default-value-changes-490"> <a href="#default-value-changes-490" class="anchor-heading" aria-labelledby="default-value-changes-490"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index dbf5ef62..32730b57 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1564,6 +1564,12 @@</span> prometheus:
     annotations: {}
     labels: {}
     servicePort: 10901
<span class="gi">+
+    ## Port to expose on each node
+    ## Only used if service.type is 'NodePort'
+    ##
+    nodePort: 30901
+
</span>     ## Hosts must be provided if Ingress is enabled.
     ##
     hosts: []
<span class="err">
</span></code></pre></div></div> <h2 id="1302"> <a href="#1302" class="anchor-heading" aria-labelledby="1302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.2 </h2> <p><strong>Release date:</strong> 2021-01-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-491"> <a href="#default-value-changes-491" class="anchor-heading" aria-labelledby="default-value-changes-491"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1301"> <a href="#1301" class="anchor-heading" aria-labelledby="1301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.1 </h2> <p><strong>Release date:</strong> 2021-01-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add grpc thanos port to prometheus service (#504)</li> </ul> <h3 id="default-value-changes-492"> <a href="#default-value-changes-492" class="anchor-heading" aria-labelledby="default-value-changes-492"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1300"> <a href="#1300" class="anchor-heading" aria-labelledby="1300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.0 </h2> <p><strong>Release date:</strong> 2021-01-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.45.0&amp;color=success" alt="AppVersion: 0.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Version bump prometheus-operator to 0.45.0 (#582)</li> </ul> <h3 id="default-value-changes-493"> <a href="#default-value-changes-493" class="anchor-heading" aria-labelledby="default-value-changes-493"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b83d3894..dbf5ef62 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1431,22 +1431,15 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.44.0
</span><span class="gi">+    tag: v0.45.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="gd">-  ## Configmap-reload image to use for reloading configmaps
-  ##
-  configmapReloadImage:
-    repository: docker.io/jimmidyson/configmap-reload
-    tag: v0.4.0
-    sha: ""
-
</span>   ## Prometheus-config-reloader image to use for config and rule reloading
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.44.0
</span><span class="gi">+    tag: v0.45.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="p">@@ -1736,7 +1729,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.22.1
</span><span class="gi">+      tag: v2.24.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="12122"> <a href="#12122" class="anchor-heading" aria-labelledby="12122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.12.2 </h2> <p><strong>Release date:</strong> 2021-01-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix chart version (#589)</li> <li>Use matchExpressions instead of matchLabels in podAntiAffinity rules (#438)</li> </ul> <h3 id="default-value-changes-494"> <a href="#default-value-changes-494" class="anchor-heading" aria-labelledby="default-value-changes-494"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12121"> <a href="#12121" class="anchor-heading" aria-labelledby="12121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.12.1 </h2> <p><strong>Release date:</strong> 2021-01-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Migrate kube-state-metrics off helm/stable (#581)</li> </ul> <h3 id="default-value-changes-495"> <a href="#default-value-changes-495" class="anchor-heading" aria-labelledby="default-value-changes-495"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12120"> <a href="#12120" class="anchor-heading" aria-labelledby="12120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.12.0 </h2> <p><strong>Release date:</strong> 2021-01-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add option to add headless svc for thanos sidecar (#564)</li> </ul> <h3 id="default-value-changes-496"> <a href="#default-value-changes-496" class="anchor-heading" aria-labelledby="default-value-changes-496"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4c46c131..b83d3894 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1478,6 +1478,19 @@</span> prometheus:
     create: true
     name: ""
 
<span class="gi">+  # Service for thanos service discovery on sidecar
+  # Enable this can make Thanos Query can use
+  # `--store=dnssrv+_grpc._tcp.${kube-prometheus-stack.fullname}-thanos-discovery.${namespace}.svc.cluster.local` to discovery
+  # Thanos sidecar on prometheus nodes
+  # (Please remember to change ${kube-prometheus-stack.fullname} and ${namespace}. Not just copy and paste!)
+  thanosService:
+    enabled: false
+    annotations: {}
+    labels: {}
+    portName: grpc
+    port: 10901
+    targetPort: "grpc"
+
</span>   ## Configuration for Prometheus service
   ##
   service:
<span class="err">
</span></code></pre></div></div> <h2 id="12113"> <a href="#12113" class="anchor-heading" aria-labelledby="12113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.11.3 </h2> <p><strong>Release date:</strong> 2021-01-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a>values:fix missleading comment (#553)</li> </ul> <h3 id="default-value-changes-497"> <a href="#default-value-changes-497" class="anchor-heading" aria-labelledby="default-value-changes-497"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b9482cf7..4c46c131 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1843,9 +1843,12 @@</span> prometheus:
     #     prometheus: somelabel
 
     ## Namespaces to be selected for ServiceMonitor discovery.
<span class="gd">-    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
</span>     ##
     serviceMonitorNamespaceSelector: {}
<span class="gi">+    ## Example which selects ServiceMonitors in namespaces with label "prometheus" set to "somelabel"
+    # serviceMonitorNamespaceSelector:
+    #   matchLabels:
+    #     prometheus: somelabel
</span> 
     ## If true, a nil or {} value for prometheus.prometheusSpec.podMonitorSelector will cause the
     ## prometheus resource to be created with selectors based on values in the helm deployment,
<span class="err">
</span></code></pre></div></div> <h2 id="12112"> <a href="#12112" class="anchor-heading" aria-labelledby="12112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.11.2 </h2> <p><strong>Release date:</strong> 2021-01-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> prometheus: add sharding mechanism (#552)</li> </ul> <h3 id="default-value-changes-498"> <a href="#default-value-changes-498" class="anchor-heading" aria-labelledby="default-value-changes-498"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bb93e359..b9482cf7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1903,10 +1903,20 @@</span> prometheus:
     ##
     paused: false
 
<span class="gd">-    ## Number of Prometheus replicas desired
</span><span class="gi">+    ## Number of replicas of each shard to deploy for a Prometheus deployment.
+    ## Number of replicas multiplied by shards is the total number of Pods created.
</span>     ##
     replicas: 1
 
<span class="gi">+    ## EXPERIMENTAL: Number of shards to distribute targets onto.
+    ## Number of replicas multiplied by shards is the total number of Pods created.
+    ## Note that scaling down shards will not reshard data onto remaining instances, it must be manually moved.
+    ## Increasing shards will not reshard data either but it will continue to be available from the same instances.
+    ## To query globally use Thanos sidecar and Thanos querier or remote write data to a central location.
+    ## Sharding is done on the content of the `__address__` target meta-label.
+    ##
+    shards: 1
+
</span>     ## Log level for Prometheus be configured in
     ##
     logLevel: info
<span class="err">
</span></code></pre></div></div> <h2 id="12106"> <a href="#12106" class="anchor-heading" aria-labelledby="12106"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.6 </h2> <p><strong>Release date:</strong> 2021-01-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow setting caBundle value for admission webhook configuration (#543)</li> </ul> <h3 id="default-value-changes-499"> <a href="#default-value-changes-499" class="anchor-heading" aria-labelledby="default-value-changes-499"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a864b592..bb93e359 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1237,6 +1237,9 @@</span> prometheusOperator:
   admissionWebhooks:
     failurePolicy: Fail
     enabled: true
<span class="gi">+    ## A PEM encoded CA bundle which will be used to validate the webhook's server certificate.
+    ## If unspecified, system trust roots on the apiserver are used.
+    caBundle: ""
</span>     ## If enabled, generate a self-signed certificate, then patch the webhook configurations with the generated data.
     ## On chart upgrades (or if the secret exists) the cert will not be re-generated. You can use this to provide your own
     ## certs ahead of time if you wish.
<span class="err">
</span></code></pre></div></div> <h2 id="12105"> <a href="#12105" class="anchor-heading" aria-labelledby="12105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.5 </h2> <p><strong>Release date:</strong> 2021-01-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> 333 - need to template the alertmanager tls settings as well (#539)</li> </ul> <h3 id="default-value-changes-500"> <a href="#default-value-changes-500" class="anchor-heading" aria-labelledby="default-value-changes-500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12104"> <a href="#12104" class="anchor-heading" aria-labelledby="12104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.4 </h2> <p><strong>Release date:</strong> 2021-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> allow to select alertmanagerConfig resources from all namespaces (#503)</li> </ul> <h3 id="default-value-changes-501"> <a href="#default-value-changes-501" class="anchor-heading" aria-labelledby="default-value-changes-501"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12103"> <a href="#12103" class="anchor-heading" aria-labelledby="12103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.3 </h2> <p><strong>Release date:</strong> 2021-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix accessing root in range block for datasources.timeInterval (#518)</li> </ul> <h3 id="default-value-changes-502"> <a href="#default-value-changes-502" class="anchor-heading" aria-labelledby="default-value-changes-502"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12102"> <a href="#12102" class="anchor-heading" aria-labelledby="12102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.2 </h2> <p><strong>Release date:</strong> 2021-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Avoid relying on image/container working directory for TLS cert mounting in the <code class="language-plaintext highlighter-rouge">prometheus-operator</code> <code class="language-plaintext highlighter-rouge">Deployment</code> (#530)</li> </ul> <h3 id="default-value-changes-503"> <a href="#default-value-changes-503" class="anchor-heading" aria-labelledby="default-value-changes-503"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12101"> <a href="#12101" class="anchor-heading" aria-labelledby="12101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.1 </h2> <p><strong>Release date:</strong> 2021-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix an errant dash in prometheus-operators kubelet-service arg (#535)</li> </ul> <h3 id="default-value-changes-504"> <a href="#default-value-changes-504" class="anchor-heading" aria-labelledby="default-value-changes-504"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="12100"> <a href="#12100" class="anchor-heading" aria-labelledby="12100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.10.0 </h2> <p><strong>Release date:</strong> 2021-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade grafan dependency to 6.1, bump major version to match grafana breaking change, update prometheusOperator.configReloaderMemory from 25Mi to 50Mi to follow 0.44.0 change. (#460)</li> </ul> <h3 id="default-value-changes-505"> <a href="#default-value-changes-505" class="anchor-heading" aria-labelledby="default-value-changes-505"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 690b53ef..a864b592 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1452,7 +1452,7 @@</span> prometheusOperator:
 
   ## Set the prometheus config reloader side-car memory limit
   ##
<span class="gd">-  configReloaderMemory: 25Mi
</span><span class="gi">+  configReloaderMemory: 50Mi
</span> 
   ## Set a Field Selector to filter watched secrets
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1292"> <a href="#1292" class="anchor-heading" aria-labelledby="1292"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.9.2 </h2> <p><strong>Release date:</strong> 2021-01-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Correct path to <code class="language-plaintext highlighter-rouge">ServiceMonitor</code> ca cert when running with tls enabled (#531)</li> </ul> <h3 id="default-value-changes-506"> <a href="#default-value-changes-506" class="anchor-heading" aria-labelledby="default-value-changes-506"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1291"> <a href="#1291" class="anchor-heading" aria-labelledby="1291"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.9.1 </h2> <p><strong>Release date:</strong> 2021-01-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix Capabilities check for IngressClass (#489)</li> </ul> <h3 id="default-value-changes-507"> <a href="#default-value-changes-507" class="anchor-heading" aria-labelledby="default-value-changes-507"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1290"> <a href="#1290" class="anchor-heading" aria-labelledby="1290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.9.0 </h2> <p><strong>Release date:</strong> 2020-12-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> cert-manager support for operator webhooks (#481)</li> </ul> <h3 id="default-value-changes-508"> <a href="#default-value-changes-508" class="anchor-heading" aria-labelledby="default-value-changes-508"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e2c481fe..690b53ef 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1256,6 +1256,12 @@</span> prometheusOperator:
       nodeSelector: {}
       affinity: {}
       tolerations: []
<span class="gi">+    # Use certmanager to generate webhook certs
+    certManager:
+      enabled: false
+      # issuerRef:
+      #   name: "issuer"
+      #   kind: "ClusterIssuer"
</span> 
   ## Namespaces to scope the interaction of the Prometheus Operator and the apiserver (allow list).
   ## This is mutually exclusive with denyNamespaces. Setting this to an empty object will disable the configuration
<span class="err">
</span></code></pre></div></div> <h2 id="1281"> <a href="#1281" class="anchor-heading" aria-labelledby="1281"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.8.1 </h2> <p><strong>Release date:</strong> 2020-12-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fixed typos (#496)</li> </ul> <h3 id="default-value-changes-509"> <a href="#default-value-changes-509" class="anchor-heading" aria-labelledby="default-value-changes-509"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3aa810fa..e2c481fe 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1538,7 +1538,7 @@</span> prometheus:
     minAvailable: 1
     maxUnavailable: ""
 
<span class="gd">-  # Ingress exposes thanos sidecar outside the clsuter
</span><span class="gi">+  # Ingress exposes thanos sidecar outside the cluster
</span>   thanosIngress:
     enabled: false
 
<span class="p">@@ -1559,7 +1559,7 @@</span> prometheus:
     paths: []
     # - /
 
<span class="gd">-    ## TLS configuration for Alertmanager Ingress
</span><span class="gi">+    ## TLS configuration for Thanos Ingress
</span>     ## Secret must be manually created in the namespace
     ##
     tls: []
<span class="err">
</span></code></pre></div></div> <h2 id="1280"> <a href="#1280" class="anchor-heading" aria-labelledby="1280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.8.0 </h2> <p><strong>Release date:</strong> 2020-12-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> #356 add support for multicluster in grafana dashboards (#357)</li> </ul> <h3 id="default-value-changes-510"> <a href="#default-value-changes-510" class="anchor-heading" aria-labelledby="default-value-changes-510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 774359fe..3aa810fa 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -623,6 +623,7 @@</span> grafana:
       ## Annotations for Grafana dashboard configmaps
       ##
       annotations: {}
<span class="gi">+      multicluster: false
</span>     datasources:
       enabled: true
       defaultDatasourceEnabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="1270"> <a href="#1270" class="anchor-heading" aria-labelledby="1270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.7.0 </h2> <p><strong>Release date:</strong> 2020-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Configure possibility of providing additional rules to prometheus cluster role (#413)</li> </ul> <h3 id="default-value-changes-511"> <a href="#default-value-changes-511" class="anchor-heading" aria-labelledby="default-value-changes-511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f243f8c4..774359fe 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -2136,6 +2136,12 @@</span> prometheus:
     ## in Prometheus so it may change in any upcoming release.
     allowOverlappingBlocks: false
 
<span class="gi">+  additionalRulesForClusterRole: []
+  #  - apiGroups: [ "" ]
+  #    resources:
+  #      - nodes/proxy
+  #    verbs: [ "get", "list", "watch" ]
+
</span>   additionalServiceMonitors: []
   ## Name of the ServiceMonitor to create
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1260"> <a href="#1260" class="anchor-heading" aria-labelledby="1260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.6.0 </h2> <p><strong>Release date:</strong> 2020-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Align Grafana and Prometheus scrape intervals (#457)</li> </ul> <h3 id="default-value-changes-512"> <a href="#default-value-changes-512" class="anchor-heading" aria-labelledby="default-value-changes-512"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c2c99494..f243f8c4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1686,6 +1686,8 @@</span> prometheus:
     apiserverConfig: {}
 
     ## Interval between consecutive scrapes.
<span class="gi">+    ## Defaults to 30s.
+    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/release-0.44/pkg/prometheus/promcfg.go#L180-L183
</span>     ##
     scrapeInterval: ""
 
<span class="err">
</span></code></pre></div></div> <h2 id="1250"> <a href="#1250" class="anchor-heading" aria-labelledby="1250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.5.0 </h2> <p><strong>Release date:</strong> 2020-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add missing fields to prometheus and alertmanager resources (#208)</li> </ul> <h3 id="default-value-changes-513"> <a href="#default-value-changes-513" class="anchor-heading" aria-labelledby="default-value-changes-513"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index f768a47b..c2c99494 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -545,6 +545,10 @@</span> alertmanager:
     # Additional VolumeMounts on the output StatefulSet definition.
     volumeMounts: []
 
<span class="gi">+    ## InitContainers allows injecting additional initContainers. This is meant to allow doing some changes
+    ## (permissions, dir tree) on mounted volumes before starting prometheus
+    initContainers: []
+
</span>     ## Priority class assigned to the Pods
     ##
     priorityClassName: ""
<span class="p">@@ -561,6 +565,10 @@</span> alertmanager:
     ##
     clusterAdvertiseAddress: false
 
<span class="gi">+    ## ForceEnableClusterMode ensures Alertmanager does not deactivate the cluster mode when running with a single replica.
+    ## Use case is e.g. spanning an Alertmanager cluster across Kubernetes clusters with a single replica in each.
+    forceEnableClusterMode: false
+
</span> 
 ## Using default values from https://github.com/grafana/helm-charts/blob/main/charts/grafana/values.yaml
 ##
<span class="p">@@ -2092,6 +2100,40 @@</span> prometheus:
     ##
     portName: "web"
 
<span class="gi">+    ## ArbitraryFSAccessThroughSMs configures whether configuration based on a service monitor can access arbitrary files
+    ## on the file system of the Prometheus container e.g. bearer token files.
+    arbitraryFSAccessThroughSMs: false
+
+    ## OverrideHonorLabels if set to true overrides all user configured honor_labels. If HonorLabels is set in ServiceMonitor
+    ## or PodMonitor to true, this overrides honor_labels to false.
+    overrideHonorLabels: false
+
+    ## OverrideHonorTimestamps allows to globally enforce honoring timestamps in all scrape configs.
+    overrideHonorTimestamps: false
+
+    ## IgnoreNamespaceSelectors if set to true will ignore NamespaceSelector settings from the podmonitor and servicemonitor
+    ## configs, and they will only discover endpoints within their current namespace. Defaults to false.
+    ignoreNamespaceSelectors: false
+
+    ## PrometheusRulesExcludedFromEnforce - list of prometheus rules to be excluded from enforcing of adding namespace labels.
+    ## Works only if enforcedNamespaceLabel set to true. Make sure both ruleNamespace and ruleName are set for each pair
+    prometheusRulesExcludedFromEnforce: false
+
+    ## QueryLogFile specifies the file to which PromQL queries are logged. Note that this location must be writable,
+    ## and can be persisted using an attached volume. Alternatively, the location can be set to a stdout location such
+    ## as /dev/stdout to log querie information to the default Prometheus log stream. This is only available in versions
+    ## of Prometheus &gt;= 2.16.0. For more details, see the Prometheus docs (https://prometheus.io/docs/guides/query-log/)
+    queryLogFile: false
+
+    ## EnforcedSampleLimit defines global limit on number of scraped samples that will be accepted. This overrides any SampleLimit
+    ## set per ServiceMonitor or/and PodMonitor. It is meant to be used by admins to enforce the SampleLimit to keep overall
+    ## number of samples/series under the desired limit. Note that if SampleLimit is lower that value will be taken instead.
+    enforcedSampleLimit: false
+
+    ## AllowOverlappingBlocks enables vertical compaction and vertical query merge in Prometheus. This is still experimental
+    ## in Prometheus so it may change in any upcoming release.
+    allowOverlappingBlocks: false
+
</span>   additionalServiceMonitors: []
   ## Name of the ServiceMonitor to create
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1241"> <a href="#1241" class="anchor-heading" aria-labelledby="1241"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.4.1 </h2> <p><strong>Release date:</strong> 2020-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Enable AggregatedAPIDown for k8s&gt;=1.18 only (#455)</li> </ul> <h3 id="default-value-changes-514"> <a href="#default-value-changes-514" class="anchor-heading" aria-labelledby="default-value-changes-514"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1240"> <a href="#1240" class="anchor-heading" aria-labelledby="1240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.4.0 </h2> <p><strong>Release date:</strong> 2020-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.44.0&amp;color=success" alt="AppVersion: 0.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update prometheus-operator to v0.44.0 (#441)</li> </ul> <h3 id="default-value-changes-515"> <a href="#default-value-changes-515" class="anchor-heading" aria-labelledby="default-value-changes-515"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5d0f47e3..f768a47b 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1413,7 +1413,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.43.2
</span><span class="gi">+    tag: v0.44.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1428,7 +1428,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.43.2
</span><span class="gi">+    tag: v0.44.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1230"> <a href="#1230" class="anchor-heading" aria-labelledby="1230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.3.0 </h2> <p><strong>Release date:</strong> 2020-11-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Sync grafana dashboards and prometheus rules from kube-prometheus (#432)</li> </ul> <h3 id="default-value-changes-516"> <a href="#default-value-changes-516" class="anchor-heading" aria-labelledby="default-value-changes-516"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1224"> <a href="#1224" class="anchor-heading" aria-labelledby="1224"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.2.4 </h2> <p><strong>Release date:</strong> 2020-11-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[codespell] fix readme (#427)</li> </ul> <h3 id="default-value-changes-517"> <a href="#default-value-changes-517" class="anchor-heading" aria-labelledby="default-value-changes-517"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1223"> <a href="#1223" class="anchor-heading" aria-labelledby="1223"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.2.3 </h2> <p><strong>Release date:</strong> 2020-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix broken volumes and volumeMounts fields on alertmanager (#409)</li> </ul> <h3 id="default-value-changes-518"> <a href="#default-value-changes-518" class="anchor-heading" aria-labelledby="default-value-changes-518"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 76b72adb..5d0f47e3 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -539,6 +539,12 @@</span> alertmanager:
     ##
     containers: []
 
<span class="gi">+    # Additional volumes on the output StatefulSet definition.
+    volumes: []
+
+    # Additional VolumeMounts on the output StatefulSet definition.
+    volumeMounts: []
+
</span>     ## Priority class assigned to the Pods
     ##
     priorityClassName: ""
<span class="p">@@ -1968,6 +1974,7 @@</span> prometheus:
 
     # Additional volumes on the output StatefulSet definition.
     volumes: []
<span class="gi">+
</span>     # Additional VolumeMounts on the output StatefulSet definition.
     volumeMounts: []
 
<span class="err">
</span></code></pre></div></div> <h2 id="1222"> <a href="#1222" class="anchor-heading" aria-labelledby="1222"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.2.2 </h2> <p><strong>Release date:</strong> 2020-11-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow custom TLS min version for operator (#407)</li> </ul> <h3 id="default-value-changes-519"> <a href="#default-value-changes-519" class="anchor-heading" aria-labelledby="default-value-changes-519"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 3371203e..76b72adb 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1214,6 +1214,8 @@</span> prometheusOperator:
   # Prometheus-Operator v0.39.0 and later support TLS natively.
   tls:
     enabled: true
<span class="gi">+    # Value must match version names from https://golang.org/pkg/crypto/tls/#pkg-constants
+    tlsMinVersion: VersionTLS13
</span> 
   ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
   ## rules from making their way into prometheus and potentially preventing the container from starting
<span class="err">
</span></code></pre></div></div> <h2 id="1221"> <a href="#1221" class="anchor-heading" aria-labelledby="1221"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.2.1 </h2> <p><strong>Release date:</strong> 2020-11-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kube-prometheus-stack: fix ports alignment in service (#404)</li> </ul> <h3 id="default-value-changes-520"> <a href="#default-value-changes-520" class="anchor-heading" aria-labelledby="default-value-changes-520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1220"> <a href="#1220" class="anchor-heading" aria-labelledby="1220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.2.0 </h2> <p><strong>Release date:</strong> 2020-11-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kube-prometheus-stack: Add optional extra ports to alertmanager (#396)</li> </ul> <h3 id="default-value-changes-521"> <a href="#default-value-changes-521" class="anchor-heading" aria-labelledby="default-value-changes-521"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 4a7e27df..3371203e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -287,6 +287,10 @@</span> alertmanager:
     ## List of IP addresses at which the Prometheus server service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
     ##
<span class="gi">+
+    ## Additional ports to open for Alertmanager service
+    additionalPorts: []
+
</span>     externalIPs: []
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
<span class="err">
</span></code></pre></div></div> <h2 id="1210"> <a href="#1210" class="anchor-heading" aria-labelledby="1210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.1.0 </h2> <p><strong>Release date:</strong> 2020-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow rules be enabled independent of exporters (#330)</li> </ul> <h3 id="default-value-changes-522"> <a href="#default-value-changes-522" class="anchor-heading" aria-labelledby="default-value-changes-522"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1204"> <a href="#1204" class="anchor-heading" aria-labelledby="1204"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.4 </h2> <p><strong>Release date:</strong> 2020-11-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Clarify log format options in kube-prometheus-stack (#382)</li> </ul> <h3 id="default-value-changes-523"> <a href="#default-value-changes-523" class="anchor-heading" aria-labelledby="default-value-changes-523"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 79803a72..4a7e27df 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -426,7 +426,7 @@</span> alertmanager:
     #     alertmanagerconfig: enabled
 
     ## Define Log Format
<span class="gd">-    # Use logfmt (default) or json-formatted logging
</span><span class="gi">+    # Use logfmt (default) or json logging
</span>     logFormat: logfmt
 
     ## Log level for Alertmanager to be configured with.
<span class="p">@@ -1308,7 +1308,7 @@</span> prometheusOperator:
   # priorityClassName: ""
 
   ## Define Log Format
<span class="gd">-  # Use logfmt (default) or json-formatted logging
</span><span class="gi">+  # Use logfmt (default) or json logging
</span>   # logFormat: logfmt
 
   ## Decrease log verbosity to errors only
<span class="err">
</span></code></pre></div></div> <h2 id="1203"> <a href="#1203" class="anchor-heading" aria-labelledby="1203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.3 </h2> <p><strong>Release date:</strong> 2020-11-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[fix] Correct provisioning for the thanos-ruler-instance-namespaces prometheus-operator (#386)</li> </ul> <h3 id="default-value-changes-524"> <a href="#default-value-changes-524" class="anchor-heading" aria-labelledby="default-value-changes-524"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 17e5d7d7..79803a72 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1252,7 +1252,7 @@</span> prometheusOperator:
   ##
   alertmanagerInstanceNamespaces: []
   prometheusInstanceNamespaces: []
<span class="gd">-  thanosInstanceNamespaces: []
</span><span class="gi">+  thanosRulerInstanceNamespaces: []
</span> 
   ## Service account for Alertmanager to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
<span class="err">
</span></code></pre></div></div> <h2 id="1202"> <a href="#1202" class="anchor-heading" aria-labelledby="1202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.2 </h2> <p><strong>Release date:</strong> 2020-11-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix some GitHub broken links on kube-prometheus-stack/hack/README.md (#344)</li> </ul> <h3 id="default-value-changes-525"> <a href="#default-value-changes-525" class="anchor-heading" aria-labelledby="default-value-changes-525"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1201"> <a href="#1201" class="anchor-heading" aria-labelledby="1201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.1 </h2> <p><strong>Release date:</strong> 2020-11-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add missing parameter scrapetimeout (#370)</li> </ul> <h3 id="default-value-changes-526"> <a href="#default-value-changes-526" class="anchor-heading" aria-labelledby="default-value-changes-526"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 03f759bb..17e5d7d7 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1669,6 +1669,10 @@</span> prometheus:
     ##
     scrapeInterval: ""
 
<span class="gi">+    ## Number of seconds to wait for target to respond before erroring
+    ##
+    scrapeTimeout: ""
+
</span>     ## Interval between consecutive evaluations.
     ##
     evaluationInterval: ""
<span class="err">
</span></code></pre></div></div> <h2 id="1200"> <a href="#1200" class="anchor-heading" aria-labelledby="1200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.0 </h2> <p><strong>Release date:</strong> 2020-11-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Migrate to chart v2 (#307)</li> </ul> <h3 id="default-value-changes-527"> <a href="#default-value-changes-527" class="anchor-heading" aria-labelledby="default-value-changes-527"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1117"> <a href="#1117" class="anchor-heading" aria-labelledby="1117"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.7 </h2> <p><strong>Release date:</strong> 2020-11-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix indentation for applying labels to ingressPerReplica (#347)</li> </ul> <h3 id="default-value-changes-528"> <a href="#default-value-changes-528" class="anchor-heading" aria-labelledby="default-value-changes-528"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1116"> <a href="#1116" class="anchor-heading" aria-labelledby="1116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.6 </h2> <p><strong>Release date:</strong> 2020-11-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Issue #333 (#334)</li> </ul> <h3 id="default-value-changes-529"> <a href="#default-value-changes-529" class="anchor-heading" aria-labelledby="default-value-changes-529"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1115"> <a href="#1115" class="anchor-heading" aria-labelledby="1115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.5 </h2> <p><strong>Release date:</strong> 2020-11-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Show tmpfs option for Prometheus storageSpec (#363)</li> </ul> <h3 id="default-value-changes-530"> <a href="#default-value-changes-530" class="anchor-heading" aria-labelledby="default-value-changes-530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index efa76c75..03f759bb 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1940,6 +1940,8 @@</span> prometheus:
     ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
     ##
     storageSpec: {}
<span class="gi">+    ## Using PersistentVolumeClaim
+    ##
</span>     #  volumeClaimTemplate:
     #    spec:
     #      storageClassName: gluster
<span class="p">@@ -1949,6 +1951,11 @@</span> prometheus:
     #          storage: 50Gi
     #    selector: {}
 
<span class="gi">+    ## Using tmpfs volume
+    ##
+    #  emptyDir:
+    #    medium: Memory
+
</span>     # Additional volumes on the output StatefulSet definition.
     volumes: []
     # Additional VolumeMounts on the output StatefulSet definition.
<span class="err">
</span></code></pre></div></div> <h2 id="1114"> <a href="#1114" class="anchor-heading" aria-labelledby="1114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.4 </h2> <p><strong>Release date:</strong> 2020-11-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix CoreDNS dashboard for v1.7.0+ (#264)</li> </ul> <h3 id="default-value-changes-531"> <a href="#default-value-changes-531" class="anchor-heading" aria-labelledby="default-value-changes-531"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1113"> <a href="#1113" class="anchor-heading" aria-labelledby="1113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.3 </h2> <p><strong>Release date:</strong> 2020-11-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow modifying ServiceMonitor path (#364)</li> </ul> <h3 id="default-value-changes-532"> <a href="#default-value-changes-532" class="anchor-heading" aria-labelledby="default-value-changes-532"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0c83259e..efa76c75 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -655,6 +655,10 @@</span> grafana:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    # Path to use for scraping metrics. Might be different if server.root_url is set
+    # in grafana.ini
+    path: "/metrics"
+
</span>     ## 	metric relabel configs to apply to samples before ingestion.
     ##
     metricRelabelings: []
<span class="err">
</span></code></pre></div></div> <h2 id="1112"> <a href="#1112" class="anchor-heading" aria-labelledby="1112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.2 </h2> <p><strong>Release date:</strong> 2020-11-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix indentation to allow IDE collapse of sections (#350)</li> </ul> <h3 id="default-value-changes-533"> <a href="#default-value-changes-533" class="anchor-heading" aria-labelledby="default-value-changes-533"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 8a678163..0c83259e 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1513,7 +1513,7 @@</span> prometheus:
     minAvailable: 1
     maxUnavailable: ""
 
<span class="gd">-# Ingress exposes thanos sidecar outside the clsuter
</span><span class="gi">+  # Ingress exposes thanos sidecar outside the clsuter
</span>   thanosIngress:
     enabled: false
 
<span class="err">
</span></code></pre></div></div> <h2 id="1111"> <a href="#1111" class="anchor-heading" aria-labelledby="1111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.1 </h2> <p><strong>Release date:</strong> 2020-11-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>charts/kube-prometheus-stack: fix typos (#318)</li> </ul> <h3 id="default-value-changes-534"> <a href="#default-value-changes-534" class="anchor-heading" aria-labelledby="default-value-changes-534"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index d3012b76..8a678163 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1958,7 +1958,7 @@</span> prometheus:
     ## to break upgrades of Prometheus. It is advised to review Prometheus release notes to ensure that no incompatible
     ## scrape configs are going to break Prometheus after the upgrade.
     ##
<span class="gd">-    ## The scrape configuraiton example below will find master nodes, provided they have the name .*mst.*, relabel the
</span><span class="gi">+    ## The scrape configuration example below will find master nodes, provided they have the name .*mst.*, relabel the
</span>     ## port to 2379 and allow etcd scraping provided it is running on all Kubernetes master nodes
     ##
     additionalScrapeConfigs: []
<span class="err">
</span></code></pre></div></div> <h2 id="1110"> <a href="#1110" class="anchor-heading" aria-labelledby="1110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.0 </h2> <p><strong>Release date:</strong> 2020-11-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add alertmanagerConfigSelector option (#311)</li> </ul> <h3 id="default-value-changes-535"> <a href="#default-value-changes-535" class="anchor-heading" aria-labelledby="default-value-changes-535"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index a253f599..d3012b76 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -389,6 +389,42 @@</span> alertmanager:
     ##
     # configSecret:
 
<span class="gi">+    ## AlertmanagerConfigs to be selected to merge and configure Alertmanager with.
+    ##
+    alertmanagerConfigSelector: {}
+    ## Example which selects all alertmanagerConfig resources
+    ## with label "alertconfig" with values any of "example-config" or "example-config-2"
+    # alertmanagerConfigSelector:
+    #   matchExpressions:
+    #     - key: alertconfig
+    #       operator: In
+    #       values:
+    #         - example-config
+    #         - example-config-2
+    #
+    ## Example which selects all alertmanagerConfig resources with label "role" set to "example-config"
+    # alertmanagerConfigSelector:
+    #   matchLabels:
+    #     role: example-config
+
+    ## Namespaces to be selected for AlertmanagerConfig discovery. If nil, only check own namespace.
+    ##
+    alertmanagerConfigNamespaceSelector: {}
+    ## Example which selects all namespaces
+    ## with label "alertmanagerconfig" with values any of "example-namespace" or "example-namespace-2"
+    # alertmanagerConfigNamespaceSelector:
+    #   matchExpressions:
+    #     - key: alertmanagerconfig
+    #       operator: In
+    #       values:
+    #         - example-namespace
+    #         - example-namespace-2
+
+    ## Example which selects all namespaces with label "alertmanagerconfig" set to "enabled"
+    # alertmanagerConfigNamespaceSelector:
+    #   matchLabels:
+    #     alertmanagerconfig: enabled
+
</span>     ## Define Log Format
     # Use logfmt (default) or json-formatted logging
     logFormat: logfmt
<span class="err">
</span></code></pre></div></div> <h2 id="1105"> <a href="#1105" class="anchor-heading" aria-labelledby="1105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.5 </h2> <p><strong>Release date:</strong> 2020-11-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.2&amp;color=success" alt="AppVersion: 0.43.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump prometheus-operator to 0.43.2 (#328)</li> </ul> <h3 id="default-value-changes-536"> <a href="#default-value-changes-536" class="anchor-heading" aria-labelledby="default-value-changes-536"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5db649d5..a253f599 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1361,7 +1361,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.43.1
</span><span class="gi">+    tag: v0.43.2
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1376,7 +1376,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.43.1
</span><span class="gi">+    tag: v0.43.2
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1104"> <a href="#1104" class="anchor-heading" aria-labelledby="1104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.4 </h2> <p><strong>Release date:</strong> 2020-11-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.1&amp;color=success" alt="AppVersion: 0.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add ingressclass support (#321)</li> </ul> <h3 id="default-value-changes-537"> <a href="#default-value-changes-537" class="anchor-heading" aria-labelledby="default-value-changes-537"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 1bd16bc1..5db649d5 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -196,6 +196,10 @@</span> alertmanager:
   ingress:
     enabled: false
 
<span class="gi">+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     annotations: {}
 
     labels: {}
<span class="p">@@ -228,6 +232,11 @@</span> alertmanager:
   ##
   ingressPerReplica:
     enabled: false
<span class="gi">+
+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     annotations: {}
     labels: {}
 
<span class="p">@@ -1471,6 +1480,11 @@</span> prometheus:
 # Ingress exposes thanos sidecar outside the clsuter
   thanosIngress:
     enabled: false
<span class="gi">+
+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     annotations: {}
     labels: {}
     servicePort: 10901
<span class="p">@@ -1494,6 +1508,11 @@</span> prometheus:
 
   ingress:
     enabled: false
<span class="gi">+
+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     annotations: {}
     labels: {}
 
<span class="p">@@ -1522,6 +1541,11 @@</span> prometheus:
   ##
   ingressPerReplica:
     enabled: false
<span class="gi">+
+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     annotations: {}
     labels: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="1103"> <a href="#1103" class="anchor-heading" aria-labelledby="1103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.3 </h2> <p><strong>Release date:</strong> 2020-11-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.1&amp;color=success" alt="AppVersion: 0.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Drop kubectl image field (#312)</li> </ul> <h3 id="default-value-changes-538"> <a href="#default-value-changes-538" class="anchor-heading" aria-labelledby="default-value-changes-538"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5a0810ac..1bd16bc1 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1382,14 +1382,6 @@</span> prometheusOperator:
   ##
   secretFieldSelector: ""
 
<span class="gd">-  ## kubectl image to use when cleaning up
-  ##
-  kubectlImage:
-    repository: docker.io/bitnami/kubectl
-    tag: 1.16.15
-    sha: ""
-    pullPolicy: IfNotPresent
-
</span> ## Deploy a Prometheus instance
 ##
 prometheus:
<span class="err">
</span></code></pre></div></div> <h2 id="1102"> <a href="#1102" class="anchor-heading" aria-labelledby="1102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.2 </h2> <p><strong>Release date:</strong> 2020-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.1&amp;color=success" alt="AppVersion: 0.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Disable scraping kubelet resource metrics endpoint (#301)</li> </ul> <h3 id="default-value-changes-539"> <a href="#default-value-changes-539" class="anchor-heading" aria-labelledby="default-value-changes-539"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 1aded8ff..5a0810ac 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -689,8 +689,9 @@</span> kubelet:
     probes: true
 
     ## Enable scraping /metrics/resource from kubelet's service
<span class="gi">+    ## This is disabled by default because container metrics are already exposed by cAdvisor
</span>     ##
<span class="gd">-    resource: true
</span><span class="gi">+    resource: false
</span>     # From kubernetes 1.18, /metrics/resource/v1alpha1 renamed to /metrics/resource
     resourcePath: "/metrics/resource/v1alpha1"
     ## Metric relabellings to apply to samples before ingestion
<span class="p">@@ -1630,7 +1631,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.22.0
</span><span class="gi">+      tag: v2.22.1
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="1101"> <a href="#1101" class="anchor-heading" aria-labelledby="1101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.1 </h2> <p><strong>Release date:</strong> 2020-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.1&amp;color=success" alt="AppVersion: 0.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump prometheus-operator to 0.43.1 (#305)</li> </ul> <h3 id="default-value-changes-540"> <a href="#default-value-changes-540" class="anchor-heading" aria-labelledby="default-value-changes-540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 7dd1e861..1aded8ff 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1351,7 +1351,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.43.0
</span><span class="gi">+    tag: v0.43.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1366,7 +1366,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.43.0
</span><span class="gi">+    tag: v0.43.1
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="err">
</span></code></pre></div></div> <h2 id="1100"> <a href="#1100" class="anchor-heading" aria-labelledby="1100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.0 </h2> <p><strong>Release date:</strong> 2020-11-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.43.0&amp;color=success" alt="AppVersion: 0.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update prometheus-operator to v0.43.0 (#280)</li> </ul> <h3 id="default-value-changes-541"> <a href="#default-value-changes-541" class="anchor-heading" aria-labelledby="default-value-changes-541"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index fe903812..7dd1e861 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1157,23 +1157,9 @@</span> prometheus-node-exporter:
 prometheusOperator:
   enabled: true
 
<span class="gd">-  # If true prometheus operator will create and update its CRDs on startup
-  # Only for prometheusOperator.image.tag &lt; v0.39.0
-  manageCrds: true
-
-  # This is deprecated and will be removed in v11 of the chart. Please use native TLS support below.
-  tlsProxy:
-    enabled: true
-    image:
-      repository: squareup/ghostunnel
-      tag: v1.5.2
-      sha: ""
-      pullPolicy: IfNotPresent
-    resources: {}
-
-  # Prometheus-Operator v0.39.0 and later support TLS natively. To preserve compatibility with tlsProxy, the secret tls-proxy-secret is reused
</span><span class="gi">+  # Prometheus-Operator v0.39.0 and later support TLS natively.
</span>   tls:
<span class="gd">-    enabled: false
</span><span class="gi">+    enabled: true
</span> 
   ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
   ## rules from making their way into prometheus and potentially preventing the container from starting
<span class="p">@@ -1188,7 +1174,7 @@</span> prometheusOperator:
       enabled: true
       image:
         repository: jettech/kube-webhook-certgen
<span class="gd">-        tag: v1.2.1
</span><span class="gi">+        tag: v1.5.0
</span>         sha: ""
         pullPolicy: IfNotPresent
       resources: {}
<span class="p">@@ -1260,14 +1246,6 @@</span> prometheusOperator:
     ##
     externalIPs: []
 
<span class="gd">-  ## Deploy CRDs used by Prometheus Operator.
-  ##
-  createCustomResource: true
-
-  ## Attempt to clean up CRDs created by Prometheus Operator.
-  ##
-  cleanupCustomResource: false
-
</span>   ## Labels to add to the operator pod
   ##
   podLabels: {}
<span class="p">@@ -1373,7 +1351,7 @@</span> prometheusOperator:
   ##
   image:
     repository: quay.io/prometheus-operator/prometheus-operator
<span class="gd">-    tag: v0.42.1
</span><span class="gi">+    tag: v0.43.0
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1388,7 +1366,7 @@</span> prometheusOperator:
   ##
   prometheusConfigReloaderImage:
     repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-    tag: v0.42.1
</span><span class="gi">+    tag: v0.43.0
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="p">@@ -1652,7 +1630,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.21.0
</span><span class="gi">+      tag: v2.22.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="1035"> <a href="#1035" class="anchor-heading" aria-labelledby="1035"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.5 </h2> <p><strong>Release date:</strong> 2020-11-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update chart dependencies (#293)</li> </ul> <h3 id="default-value-changes-542"> <a href="#default-value-changes-542" class="anchor-heading" aria-labelledby="default-value-changes-542"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1034"> <a href="#1034" class="anchor-heading" aria-labelledby="1034"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.4 </h2> <p><strong>Release date:</strong> 2020-11-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Change helm stable repo in docs (#291)</li> </ul> <h3 id="default-value-changes-543"> <a href="#default-value-changes-543" class="anchor-heading" aria-labelledby="default-value-changes-543"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1033"> <a href="#1033" class="anchor-heading" aria-labelledby="1033"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.3 </h2> <p><strong>Release date:</strong> 2020-10-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-544"> <a href="#default-value-changes-544" class="anchor-heading" aria-labelledby="default-value-changes-544"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 9a4397d8..fe903812 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -64,6 +64,9 @@</span> defaultRules:
   ## Annotations for default rules
   annotations: {}
 
<span class="gi">+  ## Additional labels for PrometheusRule alerts
+  additionalRuleLabels: {}
+
</span> ## Deprecated way to provide custom recording or alerting rules to be deployed into the cluster.
 ##
 # additionalPrometheusRules: []
<span class="err">
</span></code></pre></div></div> <h2 id="1032"> <a href="#1032" class="anchor-heading" aria-labelledby="1032"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.2 </h2> <p><strong>Release date:</strong> 2020-10-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Upgrade admission-webhook api (#267)</li> </ul> <h3 id="default-value-changes-545"> <a href="#default-value-changes-545" class="anchor-heading" aria-labelledby="default-value-changes-545"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1031"> <a href="#1031" class="anchor-heading" aria-labelledby="1031"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.1 </h2> <p><strong>Release date:</strong> 2020-10-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Support native TLS in prometheus-operator (#206)</li> </ul> <h3 id="default-value-changes-546"> <a href="#default-value-changes-546" class="anchor-heading" aria-labelledby="default-value-changes-546"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 0530e486..9a4397d8 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1158,6 +1158,7 @@</span> prometheusOperator:
   # Only for prometheusOperator.image.tag &lt; v0.39.0
   manageCrds: true
 
<span class="gi">+  # This is deprecated and will be removed in v11 of the chart. Please use native TLS support below.
</span>   tlsProxy:
     enabled: true
     image:
<span class="p">@@ -1167,6 +1168,10 @@</span> prometheusOperator:
       pullPolicy: IfNotPresent
     resources: {}
 
<span class="gi">+  # Prometheus-Operator v0.39.0 and later support TLS natively. To preserve compatibility with tlsProxy, the secret tls-proxy-secret is reused
+  tls:
+    enabled: false
+
</span>   ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
   ## rules from making their way into prometheus and potentially preventing the container from starting
   admissionWebhooks:
<span class="err">
</span></code></pre></div></div> <h2 id="1020"> <a href="#1020" class="anchor-heading" aria-labelledby="1020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.2.0 </h2> <p><strong>Release date:</strong> 2020-10-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Allow use of Prometheus Operator master image tag (#224)</li> </ul> <h3 id="default-value-changes-547"> <a href="#default-value-changes-547" class="anchor-heading" aria-labelledby="default-value-changes-547"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1014"> <a href="#1014" class="anchor-heading" aria-labelledby="1014"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1.4 </h2> <p><strong>Release date:</strong> 2020-10-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix requirements.yaml (#269)</li> </ul> <h3 id="default-value-changes-548"> <a href="#default-value-changes-548" class="anchor-heading" aria-labelledby="default-value-changes-548"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1013"> <a href="#1013" class="anchor-heading" aria-labelledby="1013"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1.3 </h2> <p><strong>Release date:</strong> 2020-10-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Bump grafana to include PSP fix (#258)</li> </ul> <h3 id="default-value-changes-549"> <a href="#default-value-changes-549" class="anchor-heading" aria-labelledby="default-value-changes-549"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1012"> <a href="#1012" class="anchor-heading" aria-labelledby="1012"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1.2 </h2> <p><strong>Release date:</strong> 2020-10-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Doc fixes (#246)</li> <li>Add support for ProbeSelector and ProbeNamespaceSelector (#237)</li> </ul> <h3 id="default-value-changes-550"> <a href="#default-value-changes-550" class="anchor-heading" aria-labelledby="default-value-changes-550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index c6729719..0530e486 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1788,6 +1788,26 @@</span> prometheus:
     ##
     podMonitorNamespaceSelector: {}
 
<span class="gi">+    ## If true, a nil or {} value for prometheus.prometheusSpec.probeSelector will cause the
+    ## prometheus resource to be created with selectors based on values in the helm deployment,
+    ## which will also match the probes created
+    ##
+    probeSelectorNilUsesHelmValues: true
+
+    ## Probes to be selected for target discovery.
+    ## If {}, select all Probes
+    ##
+    probeSelector: {}
+    ## Example which selects Probes with label "prometheus" set to "somelabel"
+    # probeSelector:
+    #   matchLabels:
+    #     prometheus: somelabel
+
+    ## Namespaces to be selected for Probe discovery.
+    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
+    ##
+    probeNamespaceSelector: {}
+
</span>     ## How long to retain metrics
     ##
     retention: 10d
<span class="err">
</span></code></pre></div></div> <h2 id="1011"> <a href="#1011" class="anchor-heading" aria-labelledby="1011"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1.1 </h2> <p><strong>Release date:</strong> 2020-10-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add hint for zero downtime migration from stable/prometheus-operator (#239)</li> </ul> <h3 id="default-value-changes-551"> <a href="#default-value-changes-551" class="anchor-heading" aria-labelledby="default-value-changes-551"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1010"> <a href="#1010" class="anchor-heading" aria-labelledby="1010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1.0 </h2> <p><strong>Release date:</strong> 2020-10-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add instance namespaces arguments for prometheus-operator deployment (#92)</li> </ul> <h3 id="default-value-changes-552"> <a href="#default-value-changes-552" class="anchor-heading" aria-labelledby="default-value-changes-552"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e7225038..c6729719 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1204,6 +1204,12 @@</span> prometheusOperator:
   ##
   denyNamespaces: []
 
<span class="gi">+  ## Filter namespaces to look for prometheus-operator custom resources
+  ##
+  alertmanagerInstanceNamespaces: []
+  prometheusInstanceNamespaces: []
+  thanosInstanceNamespaces: []
+
</span>   ## Service account for Alertmanager to use.
   ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1002"> <a href="#1002" class="anchor-heading" aria-labelledby="1002"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.0.2 </h2> <p><strong>Release date:</strong> 2020-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update grafana requirement (#197)</li> </ul> <h3 id="default-value-changes-553"> <a href="#default-value-changes-553" class="anchor-heading" aria-labelledby="default-value-changes-553"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1001"> <a href="#1001" class="anchor-heading" aria-labelledby="1001"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.0.1 </h2> <p><strong>Release date:</strong> 2020-10-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add upgrade path from stable/prometheus-operator (#119)</li> </ul> <h3 id="default-value-changes-554"> <a href="#default-value-changes-554" class="anchor-heading" aria-labelledby="default-value-changes-554"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1000"> <a href="#1000" class="anchor-heading" aria-labelledby="1000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.0.0 </h2> <p><strong>Release date:</strong> 2020-10-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.42.1&amp;color=success" alt="AppVersion: 0.42.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Update prometheus-operator to 0.42.1 (#128)</li> </ul> <h3 id="default-value-changes-555"> <a href="#default-value-changes-555" class="anchor-heading" aria-labelledby="default-value-changes-555"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 932bf667..e7225038 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -499,6 +499,10 @@</span> alertmanager:
     ##
     portName: "web"
 
<span class="gi">+    ## ClusterAdvertiseAddress is the explicit address to advertise in cluster. Needs to be provided for non RFC1918 [1] (public) addresses. [1] RFC1918: https://tools.ietf.org/html/rfc1918
+    ##
+    clusterAdvertiseAddress: false
+
</span> 
 ## Using default values from https://github.com/grafana/helm-charts/blob/main/charts/grafana/values.yaml
 ##
<span class="p">@@ -1354,8 +1358,8 @@</span> prometheusOperator:
   ## Prometheus-operator image
   ##
   image:
<span class="gd">-    repository: quay.io/coreos/prometheus-operator
-    tag: v0.38.1
</span><span class="gi">+    repository: quay.io/prometheus-operator/prometheus-operator
+    tag: v0.42.1
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="p">@@ -1363,14 +1367,14 @@</span> prometheusOperator:
   ##
   configmapReloadImage:
     repository: docker.io/jimmidyson/configmap-reload
<span class="gd">-    tag: v0.3.0
</span><span class="gi">+    tag: v0.4.0
</span>     sha: ""
 
   ## Prometheus-config-reloader image to use for config and rule reloading
   ##
   prometheusConfigReloaderImage:
<span class="gd">-    repository: quay.io/coreos/prometheus-config-reloader
-    tag: v0.38.1
</span><span class="gi">+    repository: quay.io/prometheus-operator/prometheus-config-reloader
+    tag: v0.42.1
</span>     sha: ""
 
   ## Set the prometheus config reloader side-car CPU limit
<span class="p">@@ -1634,7 +1638,7 @@</span> prometheus:
     ##
     image:
       repository: quay.io/prometheus/prometheus
<span class="gd">-      tag: v2.18.2
</span><span class="gi">+      tag: v2.21.0
</span>       sha: ""
 
     ## Tolerations for use with node taints
<span class="err">
</span></code></pre></div></div> <h2 id="9410"> <a href="#9410" class="anchor-heading" aria-labelledby="9410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.10 </h2> <p><strong>Release date:</strong> 2020-10-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> fix broken link in comment (#141)</li> </ul> <h3 id="default-value-changes-556"> <a href="#default-value-changes-556" class="anchor-heading" aria-labelledby="default-value-changes-556"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index bcfb0035..932bf667 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -161,7 +161,7 @@</span> alertmanager:
   ## they'll need to be properly escaped so that they are not interpreted by
   ## Helm
   ## ref: https://helm.sh/docs/developing_charts/#using-the-tpl-function
<span class="gd">-  ##      https://prometheus.io/docs/alerting/configuration/#%3Ctmpl_string%3E
</span><span class="gi">+  ##      https://prometheus.io/docs/alerting/configuration/#tmpl_string
</span>   ##      https://prometheus.io/docs/alerting/notifications/
   ##      https://prometheus.io/docs/alerting/notification_examples/
   tplConfig: false
<span class="err">
</span></code></pre></div></div> <h2 id="949"> <a href="#949" class="anchor-heading" aria-labelledby="949"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.9 </h2> <p><strong>Release date:</strong> 2020-10-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Resync rules and dashboards (#168)</li> </ul> <h3 id="default-value-changes-557"> <a href="#default-value-changes-557" class="anchor-heading" aria-labelledby="default-value-changes-557"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="948"> <a href="#948" class="anchor-heading" aria-labelledby="948"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.8 </h2> <p><strong>Release date:</strong> 2020-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> style(grafana): fix typo (#150)</li> </ul> <h3 id="default-value-changes-558"> <a href="#default-value-changes-558" class="anchor-heading" aria-labelledby="default-value-changes-558"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="947"> <a href="#947" class="anchor-heading" aria-labelledby="947"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.7 </h2> <p><strong>Release date:</strong> 2020-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Replacing hyperkube image with kubectl image from bitnami (#160)</li> </ul> <h3 id="default-value-changes-559"> <a href="#default-value-changes-559" class="anchor-heading" aria-labelledby="default-value-changes-559"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index e0ef831c..bcfb0035 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1385,11 +1385,11 @@</span> prometheusOperator:
   ##
   secretFieldSelector: ""
 
<span class="gd">-  ## Hyperkube image to use when cleaning up
</span><span class="gi">+  ## kubectl image to use when cleaning up
</span>   ##
<span class="gd">-  hyperkubeImage:
-    repository: k8s.gcr.io/hyperkube
-    tag: v1.16.12
</span><span class="gi">+  kubectlImage:
+    repository: docker.io/bitnami/kubectl
+    tag: 1.16.15
</span>     sha: ""
     pullPolicy: IfNotPresent
 
<span class="err">
</span></code></pre></div></div> <h2 id="946"> <a href="#946" class="anchor-heading" aria-labelledby="946"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.6 </h2> <p><strong>Release date:</strong> 2020-10-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Added more options for AlertManager ServiceMonitoring (#169)</li> </ul> <h3 id="default-value-changes-560"> <a href="#default-value-changes-560" class="anchor-heading" aria-labelledby="default-value-changes-560"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 5202bac5..e0ef831c 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -315,6 +315,15 @@</span> alertmanager:
     interval: ""
     selfMonitor: true
 
<span class="gi">+    ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
+    scheme: ""
+
+    ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
+    ## Of type: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
+    tlsConfig: {}
+
+    bearerTokenFile:
+
</span>     ## 	metric relabel configs to apply to samples before ingestion.
     ##
     metricRelabelings: []
<span class="err">
</span></code></pre></div></div> <h2 id="945"> <a href="#945" class="anchor-heading" aria-labelledby="945"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.5 </h2> <p><strong>Release date:</strong> 2020-09-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add podmonitor docs (#164)</li> </ul> <h3 id="default-value-changes-561"> <a href="#default-value-changes-561" class="anchor-heading" aria-labelledby="default-value-changes-561"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="944"> <a href="#944" class="anchor-heading" aria-labelledby="944"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.4 </h2> <p><strong>Release date:</strong> 2020-09-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add documentation on how to configure additionalPrometheusRulesMap (#109)</li> </ul> <h3 id="default-value-changes-562"> <a href="#default-value-changes-562" class="anchor-heading" aria-labelledby="default-value-changes-562"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index 12d782d4..5202bac5 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -64,9 +64,9 @@</span> defaultRules:
   ## Annotations for default rules
   annotations: {}
 
<span class="gd">-## Provide custom recording or alerting rules to be deployed into the cluster.
</span><span class="gi">+## Deprecated way to provide custom recording or alerting rules to be deployed into the cluster.
</span> ##
<span class="gd">-additionalPrometheusRules: []
</span><span class="gi">+# additionalPrometheusRules: []
</span> #  - name: my-rule-file
 #    groups:
 #      - name: my_group
<span class="p">@@ -74,6 +74,16 @@</span> additionalPrometheusRules: []
 #        - record: my_record
 #          expr: 100 * my_record
 
<span class="gi">+## Provide custom recording or alerting rules to be deployed into the cluster.
+##
+additionalPrometheusRulesMap: {}
+#  rule-name:
+#    groups:
+#    - name: my_group
+#      rules:
+#      - record: my_record
+#        expr: 100 * my_record
+
</span> ##
 global:
   rbac:
<span class="err">
</span></code></pre></div></div> <h2 id="943"> <a href="#943" class="anchor-heading" aria-labelledby="943"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.3 </h2> <p><strong>Release date:</strong> 2020-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Fix URL to node-exporter (#104)</li> </ul> <h3 id="default-value-changes-563"> <a href="#default-value-changes-563" class="anchor-heading" aria-labelledby="default-value-changes-563"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="942"> <a href="#942" class="anchor-heading" aria-labelledby="942"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.2 </h2> <p><strong>Release date:</strong> 2020-09-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> Add Artifact Hub annotations for named links and operator search facet (#95)</li> </ul> <h3 id="default-value-changes-564"> <a href="#default-value-changes-564" class="anchor-heading" aria-labelledby="default-value-changes-564"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="941"> <a href="#941" class="anchor-heading" aria-labelledby="941"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.1 </h2> <p><strong>Release date:</strong> 2020-09-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update README.md in kube-prometheus-stack hack (#89)</li> </ul> <h3 id="default-value-changes-565"> <a href="#default-value-changes-565" class="anchor-heading" aria-labelledby="default-value-changes-565"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="940"> <a href="#940" class="anchor-heading" aria-labelledby="940"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.0 </h2> <p><strong>Release date:</strong> 2020-09-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20additional%20alert%20labels%20on%20prometheusRules%20(#247)">kube-prometheus-stack</a> add secret-field-selector (#79)</li> </ul> <h3 id="default-value-changes-566"> <a href="#default-value-changes-566" class="anchor-heading" aria-labelledby="default-value-changes-566"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/kube-prometheus-stack/values.yaml b/charts/kube-prometheus-stack/values.yaml
index b67195d0..12d782d4 100644
</span><span class="gd">--- a/charts/kube-prometheus-stack/values.yaml
</span><span class="gi">+++ b/charts/kube-prometheus-stack/values.yaml
</span><span class="p">@@ -1362,6 +1362,10 @@</span> prometheusOperator:
   ##
   configReloaderMemory: 25Mi
 
<span class="gi">+  ## Set a Field Selector to filter watched secrets
+  ##
+  secretFieldSelector: ""
+
</span>   ## Hyperkube image to use when cleaning up
   ##
   hyperkubeImage:
<span class="err">
</span></code></pre></div></div> <h2 id="934"> <a href="#934" class="anchor-heading" aria-labelledby="934"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.3.4 </h2> <p><strong>Release date:</strong> 2020-09-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.38.1&amp;color=success" alt="AppVersion: 0.38.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[prometheus-operator] Rename to kube-prometheus-stack (#1)</li> </ul> <h3 id="default-value-changes-567"> <a href="#default-value-changes-567" class="anchor-heading" aria-labelledby="default-value-changes-567"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Default values for kube-prometheus-stack.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
<span class="err">
</span>## Provide a name in place of kube-prometheus-stack for `app:` labels
##
<span class="p">nameOverride: ""
</span><span class="err">
</span>## Override the deployment namespace
##
<span class="p">namespaceOverride: ""
</span><span class="err">
</span>## Provide a k8s version to auto dashboard import script example: kubeTargetVersionOverride: 1.16.6
##
<span class="p">kubeTargetVersionOverride: ""
</span><span class="err">
</span>## Provide a name to substitute for the full names of resources
##
<span class="p">fullnameOverride: ""
</span><span class="err">
</span>## Labels to apply to all resources
##
<span class="p">commonLabels: {}
</span># scmhash: abc123
# myLabel: aakkmd
<span class="err">
</span>## Create default rules for monitoring the cluster
##
<span class="p">defaultRules:
</span>  create: true
  rules:
    alertmanager: true
    etcd: true
    general: true
    k8s: true
    kubeApiserver: true
    kubeApiserverAvailability: true
    kubeApiserverError: true
    kubeApiserverSlos: true
    kubelet: true
    kubePrometheusGeneral: true
    kubePrometheusNodeAlerting: true
    kubePrometheusNodeRecording: true
    kubernetesAbsent: true
    kubernetesApps: true
    kubernetesResources: true
    kubernetesStorage: true
    kubernetesSystem: true
    kubeScheduler: true
    kubeStateMetrics: true
    network: true
    node: true
    prometheus: true
    prometheusOperator: true
    time: true
<span class="err">
</span>  ## Runbook url prefix for default rules
  runbookUrl: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#
  ## Reduce app namespace alert scope
  appNamespacesTarget: ".*"
<span class="err">
</span>  ## Labels for default rules
  labels: {}
  ## Annotations for default rules
  annotations: {}
<span class="err">
</span>## Provide custom recording or alerting rules to be deployed into the cluster.
##
<span class="p">additionalPrometheusRules: []
</span>#  - name: my-rule-file
#    groups:
#      - name: my_group
#        rules:
#        - record: my_record
#          expr: 100 * my_record
<span class="err">
</span>##
<span class="p">global:
</span>  rbac:
    create: true
    pspEnabled: true
    pspAnnotations: {}
      ## Specify pod annotations
      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
      ##
      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
<span class="err">
</span>  ## Reference to one or more secrets to be used when pulling images
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
  ##
  imagePullSecrets: []
  # - name: "image-pull-secret"
<span class="err">
</span>## Configuration for alertmanager
## ref: https://prometheus.io/docs/alerting/alertmanager/
##
<span class="p">alertmanager:
</span><span class="err">
</span>  ## Deploy alertmanager
  ##
  enabled: true
<span class="err">
</span>  ## Api that prometheus will use to communicate with alertmanager. Possible values are v1, v2
  ##
  apiVersion: v2
<span class="err">
</span>  ## Service account for Alertmanager to use.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
  ##
  serviceAccount:
    create: true
    name: ""
    annotations: {}
<span class="err">
</span>  ## Configure pod disruption budgets for Alertmanager
  ## ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/#specifying-a-poddisruptionbudget
  ## This configuration is immutable once created and will require the PDB to be deleted to be changed
  ## https://github.com/kubernetes/kubernetes/issues/45398
  ##
  podDisruptionBudget:
    enabled: false
    minAvailable: 1
    maxUnavailable: ""
<span class="err">
</span>  ## Alertmanager configuration directives
  ## ref: https://prometheus.io/docs/alerting/configuration/#configuration-file
  ##      https://prometheus.io/webtools/alerting/routing-tree-editor/
  ##
  config:
    global:
      resolve_timeout: 5m
    route:
      group_by: ['job']
      group_wait: 30s
      group_interval: 5m
      repeat_interval: 12h
      receiver: 'null'
      routes:
      - match:
          alertname: Watchdog
        receiver: 'null'
    receivers:
    - name: 'null'
<span class="err">
</span>  ## Pass the Alertmanager configuration directives through Helm's templating
  ## engine. If the Alertmanager configuration contains Alertmanager templates,
  ## they'll need to be properly escaped so that they are not interpreted by
  ## Helm
  ## ref: https://helm.sh/docs/developing_charts/#using-the-tpl-function
  ##      https://prometheus.io/docs/alerting/configuration/#%3Ctmpl_string%3E
  ##      https://prometheus.io/docs/alerting/notifications/
  ##      https://prometheus.io/docs/alerting/notification_examples/
  tplConfig: false
<span class="err">
</span>  ## Alertmanager template files to format alerts
  ## ref: https://prometheus.io/docs/alerting/notifications/
  ##      https://prometheus.io/docs/alerting/notification_examples/
  ##
  templateFiles: {}
  #
  ## An example template:
  #   template_1.tmpl: |-
  #       {{ define "cluster" }}{{ .ExternalURL | reReplaceAll ".*alertmanager\\.(.*)" "$1" }}{{ end }}
  #
  #       {{ define "slack.myorg.text" }}
  #       {{- $root := . -}}
  #       {{ range .Alerts }}
  #         *Alert:* {{ .Annotations.summary }} - `{{ .Labels.severity }}`
  #         *Cluster:*  {{ template "cluster" $root }}
  #         *Description:* {{ .Annotations.description }}
  #         *Graph:* &lt;{{ .GeneratorURL }}|:chart_with_upwards_trend:&gt;
  #         *Runbook:* &lt;{{ .Annotations.runbook }}|:spiral_note_pad:&gt;
  #         *Details:*
  #           {{ range .Labels.SortedPairs }}  *{{ .Name }}:* `{{ .Value }}`
  #           {{ end }}
  #       {{ end }}
  #       {{ end }}
<span class="err">
</span>  ingress:
    enabled: false
<span class="err">
</span>    annotations: {}
<span class="err">
</span>    labels: {}
<span class="err">
</span>    ## Hosts must be provided if Ingress is enabled.
    ##
    hosts: []
      # - alertmanager.domain.com
<span class="err">
</span>    ## Paths to use for ingress rules - one path should match the alertmanagerSpec.routePrefix
    ##
    paths: []
    # - /
<span class="err">
</span>    ## TLS configuration for Alertmanager Ingress
    ## Secret must be manually created in the namespace
    ##
    tls: []
    # - secretName: alertmanager-general-tls
    #   hosts:
    #   - alertmanager.example.com
<span class="err">
</span>  ## Configuration for Alertmanager secret
  ##
  secret:
    annotations: {}
<span class="err">
</span>  ## Configuration for creating an Ingress that will map to each Alertmanager replica service
  ## alertmanager.servicePerReplica must be enabled
  ##
  ingressPerReplica:
    enabled: false
    annotations: {}
    labels: {}
<span class="err">
</span>    ## Final form of the hostname for each per replica ingress is
    ## {{ ingressPerReplica.hostPrefix }}-{{ $replicaNumber }}.{{ ingressPerReplica.hostDomain }}
    ##
    ## Prefix for the per replica ingress that will have `-$replicaNumber`
    ## appended to the end
    hostPrefix: ""
    ## Domain that will be used for the per replica ingress
    hostDomain: ""
<span class="err">
</span>    ## Paths to use for ingress rules
    ##
    paths: []
    # - /
<span class="err">
</span>    ## Secret name containing the TLS certificate for alertmanager per replica ingress
    ## Secret must be manually created in the namespace
    tlsSecretName: ""
<span class="err">
</span>    ## Separated secret for each per replica Ingress. Can be used together with cert-manager
    ##
    tlsSecretPerReplica:
      enabled: false
      ## Final form of the secret for each per replica ingress is
      ## {{ tlsSecretPerReplica.prefix }}-{{ $replicaNumber }}
      ##
      prefix: "alertmanager"
<span class="err">
</span>  ## Configuration for Alertmanager service
  ##
  service:
    annotations: {}
    labels: {}
    clusterIP: ""
<span class="err">
</span>    ## Port for Alertmanager Service to listen on
    ##
    port: 9093
    ## To be used with a proxy extraContainer port
    ##
    targetPort: 9093
    ## Port to expose on each node
    ## Only used if service.type is 'NodePort'
    ##
    nodePort: 30903
    ## List of IP addresses at which the Prometheus server service is available
    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
    ##
    externalIPs: []
    loadBalancerIP: ""
    loadBalancerSourceRanges: []
    ## Service type
    ##
    type: ClusterIP
<span class="err">
</span>  ## Configuration for creating a separate Service for each statefulset Alertmanager replica
  ##
  servicePerReplica:
    enabled: false
    annotations: {}
<span class="err">
</span>    ## Port for Alertmanager Service per replica to listen on
    ##
    port: 9093
<span class="err">
</span>    ## To be used with a proxy extraContainer port
    targetPort: 9093
<span class="err">
</span>    ## Port to expose on each node
    ## Only used if servicePerReplica.type is 'NodePort'
    ##
    nodePort: 30904
<span class="err">
</span>    ## Loadbalancer source IP ranges
    ## Only used if servicePerReplica.type is "loadbalancer"
    loadBalancerSourceRanges: []
    ## Service type
    ##
    type: ClusterIP
<span class="err">
</span>  ## If true, create a serviceMonitor for alertmanager
  ##
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    selfMonitor: true
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>  ## Settings affecting alertmanagerSpec
  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#alertmanagerspec
  ##
  alertmanagerSpec:
    ## Standard objects metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
    ## Metadata Labels and Annotations gets propagated to the Alertmanager pods.
    ##
    podMetadata: {}
<span class="err">
</span>    ## Image of Alertmanager
    ##
    image:
      repository: quay.io/prometheus/alertmanager
      tag: v0.21.0
      sha: ""
<span class="err">
</span>    ## If true then the user will be responsible to provide a secret with alertmanager configuration
    ## So when true the config part will be ignored (including templateFiles) and the one in the secret will be used
    ##
    useExistingSecret: false
<span class="err">
</span>    ## Secrets is a list of Secrets in the same namespace as the Alertmanager object, which shall be mounted into the
    ## Alertmanager Pods. The Secrets are mounted into /etc/alertmanager/secrets/.
    ##
    secrets: []
<span class="err">
</span>    ## ConfigMaps is a list of ConfigMaps in the same namespace as the Alertmanager object, which shall be mounted into the Alertmanager Pods.
    ## The ConfigMaps are mounted into /etc/alertmanager/configmaps/.
    ##
    configMaps: []
<span class="err">
</span>    ## ConfigSecret is the name of a Kubernetes Secret in the same namespace as the Alertmanager object, which contains configuration for
    ## this Alertmanager instance. Defaults to 'alertmanager-' The secret is mounted into /etc/alertmanager/config.
    ##
    # configSecret:
<span class="err">
</span>    ## Define Log Format
    # Use logfmt (default) or json-formatted logging
    logFormat: logfmt
<span class="err">
</span>    ## Log level for Alertmanager to be configured with.
    ##
    logLevel: info
<span class="err">
</span>    ## Size is the expected size of the alertmanager cluster. The controller will eventually make the size of the
    ## running cluster equal to the expected size.
    replicas: 1
<span class="err">
</span>    ## Time duration Alertmanager shall retain data for. Default is '120h', and must match the regular expression
    ## [0-9]+(ms|s|m|h) (milliseconds seconds minutes hours).
    ##
    retention: 120h
<span class="err">
</span>    ## Storage is the definition of how storage will be used by the Alertmanager instances.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
    ##
    storage: {}
    # volumeClaimTemplate:
    #   spec:
    #     storageClassName: gluster
    #     accessModes: ["ReadWriteOnce"]
    #     resources:
    #       requests:
    #         storage: 50Gi
    #   selector: {}
<span class="err">

</span>    ## 	The external URL the Alertmanager instances will be available under. This is necessary to generate correct URLs. This is necessary if Alertmanager is not served from root of a DNS name.	string	false
    ##
    externalUrl:
<span class="err">
</span>    ## 	The route prefix Alertmanager registers HTTP handlers for. This is useful, if using ExternalURL and a proxy is rewriting HTTP routes of a request, and the actual ExternalURL is still true,
    ## but the server serves requests under a different route prefix. For example for use with kubectl proxy.
    ##
    routePrefix: /
<span class="err">
</span>    ## If set to true all actions on the underlying managed objects are not going to be performed, except for delete actions.
    ##
    paused: false
<span class="err">
</span>    ## Define which Nodes the Pods are scheduled on.
    ## ref: https://kubernetes.io/docs/user-guide/node-selection/
    ##
    nodeSelector: {}
<span class="err">
</span>    ## Define resources requests and limits for single Pods.
    ## ref: https://kubernetes.io/docs/user-guide/compute-resources/
    ##
    resources: {}
    # requests:
    #   memory: 400Mi
<span class="err">
</span>    ## Pod anti-affinity can prevent the scheduler from placing Prometheus replicas on the same node.
    ## The default value "soft" means that the scheduler should *prefer* to not schedule two replica pods onto the same node but no guarantee is provided.
    ## The value "hard" means that the scheduler is *required* to not schedule two replica pods onto the same node.
    ## The value "" will disable pod anti-affinity so that no anti-affinity rules will be configured.
    ##
    podAntiAffinity: ""
<span class="err">
</span>    ## If anti-affinity is enabled sets the topologyKey to use for anti-affinity.
    ## This can be changed to, for example, failure-domain.beta.kubernetes.io/zone
    ##
    podAntiAffinityTopologyKey: kubernetes.io/hostname
<span class="err">
</span>    ## Assign custom affinity rules to the alertmanager instance
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
    ##
    affinity: {}
    # nodeAffinity:
    #   requiredDuringSchedulingIgnoredDuringExecution:
    #     nodeSelectorTerms:
    #     - matchExpressions:
    #       - key: kubernetes.io/e2e-az-name
    #         operator: In
    #         values:
    #         - e2e-az1
    #         - e2e-az2
<span class="err">
</span>    ## If specified, the pod's tolerations.
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    # - key: "key"
    #   operator: "Equal"
    #   value: "value"
    #   effect: "NoSchedule"
<span class="err">
</span>    ## SecurityContext holds pod-level security attributes and common container settings.
    ## This defaults to non root user with uid 1000 and gid 2000.	*v1.PodSecurityContext	false
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
    ##
    securityContext:
      runAsGroup: 2000
      runAsNonRoot: true
      runAsUser: 1000
      fsGroup: 2000
<span class="err">
</span>    ## ListenLocal makes the Alertmanager server listen on loopback, so that it does not bind against the Pod IP.
    ## Note this is only for the Alertmanager UI, not the gossip communication.
    ##
    listenLocal: false
<span class="err">
</span>    ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to an Alertmanager pod.
    ##
    containers: []
<span class="err">
</span>    ## Priority class assigned to the Pods
    ##
    priorityClassName: ""
<span class="err">
</span>    ## AdditionalPeers allows injecting a set of additional Alertmanagers to peer with to form a highly available cluster.
    ##
    additionalPeers: []
<span class="err">
</span>    ## PortName to use for Alert Manager.
    ##
    portName: "web"
<span class="err">

</span>## Using default values from https://github.com/grafana/helm-charts/blob/main/charts/grafana/values.yaml
##
<span class="p">grafana:
</span>  enabled: true
  namespaceOverride: ""
<span class="err">
</span>  ## Deploy default dashboards.
  ##
  defaultDashboardsEnabled: true
<span class="err">
</span>  adminPassword: prom-operator
<span class="err">
</span>  ingress:
    ## If true, Grafana Ingress will be created
    ##
    enabled: false
<span class="err">
</span>    ## Annotations for Grafana Ingress
    ##
    annotations: {}
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
<span class="err">
</span>    ## Labels to be added to the Ingress
    ##
    labels: {}
<span class="err">
</span>    ## Hostnames.
    ## Must be provided if Ingress is enable.
    ##
    # hosts:
    #   - grafana.domain.com
    hosts: []
<span class="err">
</span>    ## Path for grafana ingress
    path: /
<span class="err">
</span>    ## TLS configuration for grafana Ingress
    ## Secret must be manually created in the namespace
    ##
    tls: []
    # - secretName: grafana-general-tls
    #   hosts:
    #   - grafana.example.com
<span class="err">
</span>  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
<span class="err">
</span>      ## Annotations for Grafana dashboard configmaps
      ##
      annotations: {}
    datasources:
      enabled: true
      defaultDatasourceEnabled: true
<span class="err">
</span>      ## Annotations for Grafana datasource configmaps
      ##
      annotations: {}
<span class="err">
</span>      ## Create datasource for each Pod of Prometheus StatefulSet;
      ## this uses headless service `prometheus-operated` which is
      ## created by Prometheus Operator
      ## ref: https://git.io/fjaBS
      createPrometheusReplicasDatasources: false
      label: grafana_datasource
<span class="err">
</span>  extraConfigmapMounts: []
  # - name: certs-configmap
  #   mountPath: /etc/grafana/ssl/
  #   configMap: certs-configmap
  #   readOnly: true
<span class="err">
</span>  ## Configure additional grafana datasources (passed through tpl)
  ## ref: http://docs.grafana.org/administration/provisioning/#datasources
  additionalDataSources: []
  # - name: prometheus-sample
  #   access: proxy
  #   basicAuth: true
  #   basicAuthPassword: pass
  #   basicAuthUser: daco
  #   editable: false
  #   jsonData:
  #       tlsSkipVerify: true
  #   orgId: 1
  #   type: prometheus
  #   url: https://{{ printf "%s-prometheus.svc" .Release.Name }}:9090
  #   version: 1
<span class="err">
</span>  ## Passed to grafana subchart and used by servicemonitor below
  ##
  service:
    portName: service
<span class="err">
</span>  ## If true, create a serviceMonitor for grafana
  ##
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    selfMonitor: true
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Component scraping the kube api server
##
<span class="p">kubeApiServer:
</span>  enabled: true
  tlsConfig:
    serverName: kubernetes
    insecureSkipVerify: false
<span class="err">
</span>  ## If your API endpoint address is not reachable (as in AKS) you can replace it with the kubernetes service
  ##
  relabelings: []
  # - sourceLabels:
  #     - __meta_kubernetes_namespace
  #     - __meta_kubernetes_service_name
  #     - __meta_kubernetes_endpoint_port_name
  #   action: keep
  #   regex: default;kubernetes;https
  # - targetLabel: __address__
  #   replacement: kubernetes.default.svc:443
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    jobLabel: component
    selector:
      matchLabels:
        component: apiserver
        provider: kubernetes
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>## Component scraping the kubelet and kubelet-hosted cAdvisor
##
<span class="p">kubelet:
</span>  enabled: true
  namespace: kube-system
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## Enable scraping the kubelet over https. For requirements to enable this see
    ## https://github.com/prometheus-operator/prometheus-operator/issues/926
    ##
    https: true
<span class="err">
</span>    ## Enable scraping /metrics/cadvisor from kubelet's service
    ##
    cAdvisor: true
<span class="err">
</span>    ## Enable scraping /metrics/probes from kubelet's service
    ##
    probes: true
<span class="err">
</span>    ## Enable scraping /metrics/resource from kubelet's service
    ##
    resource: true
    # From kubernetes 1.18, /metrics/resource/v1alpha1 renamed to /metrics/resource
    resourcePath: "/metrics/resource/v1alpha1"
    ## Metric relabellings to apply to samples before ingestion
    ##
    cAdvisorMetricRelabelings: []
    # - sourceLabels: [__name__, image]
    #   separator: ;
    #   regex: container_([a-z_]+);
    #   replacement: $1
    #   action: drop
    # - sourceLabels: [__name__]
    #   separator: ;
    #   regex: container_(network_tcp_usage_total|network_udp_usage_total|tasks_state|cpu_load_average_10s)
    #   replacement: $1
    #   action: drop
<span class="err">
</span>    ## Metric relabellings to apply to samples before ingestion
    ##
    probesMetricRelabelings: []
    # - sourceLabels: [__name__, image]
    #   separator: ;
    #   regex: container_([a-z_]+);
    #   replacement: $1
    #   action: drop
    # - sourceLabels: [__name__]
    #   separator: ;
    #   regex: container_(network_tcp_usage_total|network_udp_usage_total|tasks_state|cpu_load_average_10s)
    #   replacement: $1
    #   action: drop
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    #   metrics_path is required to match upstream rules and charts
    ##
    cAdvisorRelabelings:
      - sourceLabels: [__metrics_path__]
        targetLabel: metrics_path
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>    probesRelabelings:
      - sourceLabels: [__metrics_path__]
        targetLabel: metrics_path
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>    resourceRelabelings:
      - sourceLabels: [__metrics_path__]
        targetLabel: metrics_path
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>    metricRelabelings: []
    # - sourceLabels: [__name__, image]
    #   separator: ;
    #   regex: container_([a-z_]+);
    #   replacement: $1
    #   action: drop
    # - sourceLabels: [__name__]
    #   separator: ;
    #   regex: container_(network_tcp_usage_total|network_udp_usage_total|tasks_state|cpu_load_average_10s)
    #   replacement: $1
    #   action: drop
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    #   metrics_path is required to match upstream rules and charts
    ##
    relabelings:
      - sourceLabels: [__metrics_path__]
        targetLabel: metrics_path
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Component scraping the kube controller manager
##
<span class="p">kubeControllerManager:
</span>  enabled: true
<span class="err">
</span>  ## If your kube controller manager is not deployed as a pod, specify IPs it can be found on
  ##
  endpoints: []
  # - 10.141.4.22
  # - 10.141.4.23
  # - 10.141.4.24
<span class="err">
</span>  ## If using kubeControllerManager.endpoints only the port and targetPort are used
  ##
  service:
    port: 10252
    targetPort: 10252
    # selector:
    #   component: kube-controller-manager
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## Enable scraping kube-controller-manager over https.
    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
    ##
    https: false
<span class="err">
</span>    # Skip TLS certificate validation when scraping
    insecureSkipVerify: null
<span class="err">
</span>    # Name of the server to use when validating TLS certificate
    serverName: null
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Component scraping coreDns. Use either this or kubeDns
##
<span class="p">coreDns:
</span>  enabled: true
  service:
    port: 9153
    targetPort: 9153
    # selector:
    #   k8s-app: kube-dns
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Component scraping kubeDns. Use either this or coreDns
##
<span class="p">kubeDns:
</span>  enabled: false
  service:
    dnsmasq:
      port: 10054
      targetPort: 10054
    skydns:
      port: 10055
      targetPort: 10055
    # selector:
    #   k8s-app: kube-dns
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
    dnsmasqMetricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    dnsmasqRelabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Component scraping etcd
##
<span class="p">kubeEtcd:
</span>  enabled: true
<span class="err">
</span>  ## If your etcd is not deployed as a pod, specify IPs it can be found on
  ##
  endpoints: []
  # - 10.141.4.22
  # - 10.141.4.23
  # - 10.141.4.24
<span class="err">
</span>  ## Etcd service. If using kubeEtcd.endpoints only the port and targetPort are used
  ##
  service:
    port: 2379
    targetPort: 2379
    # selector:
    #   component: etcd
<span class="err">
</span>  ## Configure secure access to the etcd cluster by loading a secret into prometheus and
  ## specifying security configuration below. For example, with a secret named etcd-client-cert
  ##
  ## serviceMonitor:
  ##   scheme: https
  ##   insecureSkipVerify: false
  ##   serverName: localhost
  ##   caFile: /etc/prometheus/secrets/etcd-client-cert/etcd-ca
  ##   certFile: /etc/prometheus/secrets/etcd-client-cert/etcd-client
  ##   keyFile: /etc/prometheus/secrets/etcd-client-cert/etcd-client-key
  ##
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    scheme: http
    insecureSkipVerify: false
    serverName: ""
    caFile: ""
    certFile: ""
    keyFile: ""
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">

</span>## Component scraping kube scheduler
##
<span class="p">kubeScheduler:
</span>  enabled: true
<span class="err">
</span>  ## If your kube scheduler is not deployed as a pod, specify IPs it can be found on
  ##
  endpoints: []
  # - 10.141.4.22
  # - 10.141.4.23
  # - 10.141.4.24
<span class="err">
</span>  ## If using kubeScheduler.endpoints only the port and targetPort are used
  ##
  service:
    port: 10251
    targetPort: 10251
    # selector:
    #   component: kube-scheduler
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    ## Enable scraping kube-scheduler over https.
    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
    ##
    https: false
<span class="err">
</span>    ## Skip TLS certificate validation when scraping
    insecureSkipVerify: null
<span class="err">
</span>    ## Name of the server to use when validating TLS certificate
    serverName: null
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">

</span>## Component scraping kube proxy
##
<span class="p">kubeProxy:
</span>  enabled: true
<span class="err">
</span>  ## If your kube proxy is not deployed as a pod, specify IPs it can be found on
  ##
  endpoints: []
  # - 10.141.4.22
  # - 10.141.4.23
  # - 10.141.4.24
<span class="err">
</span>  service:
    port: 10249
    targetPort: 10249
    # selector:
    #   k8s-app: kube-proxy
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## Enable scraping kube-proxy over https.
    ## Requires proper certs (not self-signed) and delegated authentication/authorization checks
    ##
    https: false
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">

</span>## Component scraping kube state metrics
##
<span class="p">kubeStateMetrics:
</span>  enabled: true
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Configuration for kube-state-metrics subchart
##
<span class="p">kube-state-metrics:
</span>  namespaceOverride: ""
  rbac:
    create: true
  podSecurityPolicy:
    enabled: true
<span class="err">
</span>## Deploy node exporter as a daemonset to all nodes
##
<span class="p">nodeExporter:
</span>  enabled: true
<span class="err">
</span>  ## Use the value configured in prometheus-node-exporter.podLabels
  ##
  jobLabel: jobLabel
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
<span class="err">
</span>    ## How long until a scrape request times out. If not set, the Prometheus default scape timeout is used.
    ##
    scrapeTimeout: ""
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - sourceLabels: [__name__]
    #   separator: ;
    #   regex: ^node_mountstats_nfs_(event|operations|transport)_.+
    #   replacement: $1
    #   action: drop
<span class="err">
</span>    ## 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>## Configuration for prometheus-node-exporter subchart
##
<span class="p">prometheus-node-exporter:
</span>  namespaceOverride: ""
  podLabels:
    ## Add the 'node-exporter' label to be used by serviceMonitor to match standard common usage in rules and grafana dashboards
    ##
    jobLabel: node-exporter
  extraArgs:
    - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+)($|/)
    - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|cgroup|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|mqueue|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|sysfs|tracefs)$
<span class="err">
</span>## Manages Prometheus and Alertmanager components
##
<span class="p">prometheusOperator:
</span>  enabled: true
<span class="err">
</span>  # If true prometheus operator will create and update its CRDs on startup
  # Only for prometheusOperator.image.tag &lt; v0.39.0
  manageCrds: true
<span class="err">
</span>  tlsProxy:
    enabled: true
    image:
      repository: squareup/ghostunnel
      tag: v1.5.2
      sha: ""
      pullPolicy: IfNotPresent
    resources: {}
<span class="err">
</span>  ## Admission webhook support for PrometheusRules resources added in Prometheus Operator 0.30 can be enabled to prevent incorrectly formatted
  ## rules from making their way into prometheus and potentially preventing the container from starting
  admissionWebhooks:
    failurePolicy: Fail
    enabled: true
    ## If enabled, generate a self-signed certificate, then patch the webhook configurations with the generated data.
    ## On chart upgrades (or if the secret exists) the cert will not be re-generated. You can use this to provide your own
    ## certs ahead of time if you wish.
    ##
    patch:
      enabled: true
      image:
        repository: jettech/kube-webhook-certgen
        tag: v1.2.1
        sha: ""
        pullPolicy: IfNotPresent
      resources: {}
      ## Provide a priority class name to the webhook patching job
      ##
      priorityClassName: ""
      podAnnotations: {}
      nodeSelector: {}
      affinity: {}
      tolerations: []
<span class="err">
</span>  ## Namespaces to scope the interaction of the Prometheus Operator and the apiserver (allow list).
  ## This is mutually exclusive with denyNamespaces. Setting this to an empty object will disable the configuration
  ##
  namespaces: {}
    # releaseNamespace: true
    # additional:
    # - kube-system
<span class="err">
</span>  ## Namespaces not to scope the interaction of the Prometheus Operator (deny list).
  ##
  denyNamespaces: []
<span class="err">
</span>  ## Service account for Alertmanager to use.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
  ##
  serviceAccount:
    create: true
    name: ""
<span class="err">
</span>  ## Configuration for Prometheus operator service
  ##
  service:
    annotations: {}
    labels: {}
    clusterIP: ""
<span class="err">
</span>  ## Port to expose on each node
  ## Only used if service.type is 'NodePort'
  ##
    nodePort: 30080
<span class="err">
</span>    nodePortTls: 30443
<span class="err">
</span>  ## Additional ports to open for Prometheus service
  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#multi-port-services
  ##
    additionalPorts: []
<span class="err">
</span>  ## Loadbalancer IP
  ## Only use if service.type is "loadbalancer"
  ##
    loadBalancerIP: ""
    loadBalancerSourceRanges: []
<span class="err">
</span>  ## Service type
  ## NodePort, ClusterIP, loadbalancer
  ##
    type: ClusterIP
<span class="err">
</span>    ## List of IP addresses at which the Prometheus server service is available
    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
    ##
    externalIPs: []
<span class="err">
</span>  ## Deploy CRDs used by Prometheus Operator.
  ##
  createCustomResource: true
<span class="err">
</span>  ## Attempt to clean up CRDs created by Prometheus Operator.
  ##
  cleanupCustomResource: false
<span class="err">
</span>  ## Labels to add to the operator pod
  ##
  podLabels: {}
<span class="err">
</span>  ## Annotations to add to the operator pod
  ##
  podAnnotations: {}
<span class="err">
</span>  ## Assign a PriorityClassName to pods if set
  # priorityClassName: ""
<span class="err">
</span>  ## Define Log Format
  # Use logfmt (default) or json-formatted logging
  # logFormat: logfmt
<span class="err">
</span>  ## Decrease log verbosity to errors only
  # logLevel: error
<span class="err">
</span>  ## If true, the operator will create and maintain a service for scraping kubelets
  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/helm/prometheus-operator/README.md
  ##
  kubeletService:
    enabled: true
    namespace: kube-system
<span class="err">
</span>  ## Create a servicemonitor for the operator
  ##
  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    ## Scrape timeout. If not set, the Prometheus default scrape timeout is used.
    scrapeTimeout: ""
    selfMonitor: true
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>  ## Resource limits &amp; requests
  ##
  resources: {}
  # limits:
  #   cpu: 200m
  #   memory: 200Mi
  # requests:
  #   cpu: 100m
  #   memory: 100Mi
<span class="err">
</span>  # Required for use in managed kubernetes clusters (such as AWS EKS) with custom CNI (such as calico),
  # because control-plane managed by AWS cannot communicate with pods' IP CIDR and admission webhooks are not working
  ##
  hostNetwork: false
<span class="err">
</span>  ## Define which Nodes the Pods are scheduled on.
  ## ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}
<span class="err">
</span>  ## Tolerations for use with node taints
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  # - key: "key"
  #   operator: "Equal"
  #   value: "value"
  #   effect: "NoSchedule"
<span class="err">
</span>  ## Assign custom affinity rules to the prometheus operator
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
  ##
  affinity: {}
    # nodeAffinity:
    #   requiredDuringSchedulingIgnoredDuringExecution:
    #     nodeSelectorTerms:
    #     - matchExpressions:
    #       - key: kubernetes.io/e2e-az-name
    #         operator: In
    #         values:
    #         - e2e-az1
    #         - e2e-az2
<span class="err">
</span>  securityContext:
    fsGroup: 65534
    runAsGroup: 65534
    runAsNonRoot: true
    runAsUser: 65534
<span class="err">
</span>  ## Prometheus-operator image
  ##
  image:
    repository: quay.io/coreos/prometheus-operator
    tag: v0.38.1
    sha: ""
    pullPolicy: IfNotPresent
<span class="err">
</span>  ## Configmap-reload image to use for reloading configmaps
  ##
  configmapReloadImage:
    repository: docker.io/jimmidyson/configmap-reload
    tag: v0.3.0
    sha: ""
<span class="err">
</span>  ## Prometheus-config-reloader image to use for config and rule reloading
  ##
  prometheusConfigReloaderImage:
    repository: quay.io/coreos/prometheus-config-reloader
    tag: v0.38.1
    sha: ""
<span class="err">
</span>  ## Set the prometheus config reloader side-car CPU limit
  ##
  configReloaderCpu: 100m
<span class="err">
</span>  ## Set the prometheus config reloader side-car memory limit
  ##
  configReloaderMemory: 25Mi
<span class="err">
</span>  ## Hyperkube image to use when cleaning up
  ##
  hyperkubeImage:
    repository: k8s.gcr.io/hyperkube
    tag: v1.16.12
    sha: ""
    pullPolicy: IfNotPresent
<span class="err">
</span>## Deploy a Prometheus instance
##
<span class="p">prometheus:
</span><span class="err">
</span>  enabled: true
<span class="err">
</span>  ## Annotations for Prometheus
  ##
  annotations: {}
<span class="err">
</span>  ## Service account for Prometheuses to use.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
  ##
  serviceAccount:
    create: true
    name: ""
<span class="err">
</span>  ## Configuration for Prometheus service
  ##
  service:
    annotations: {}
    labels: {}
    clusterIP: ""
<span class="err">
</span>    ## Port for Prometheus Service to listen on
    ##
    port: 9090
<span class="err">
</span>    ## To be used with a proxy extraContainer port
    targetPort: 9090
<span class="err">
</span>    ## List of IP addresses at which the Prometheus server service is available
    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
    ##
    externalIPs: []
<span class="err">
</span>    ## Port to expose on each node
    ## Only used if service.type is 'NodePort'
    ##
    nodePort: 30090
<span class="err">
</span>    ## Loadbalancer IP
    ## Only use if service.type is "loadbalancer"
    loadBalancerIP: ""
    loadBalancerSourceRanges: []
    ## Service type
    ##
    type: ClusterIP
<span class="err">
</span>    sessionAffinity: ""
<span class="err">
</span>  ## Configuration for creating a separate Service for each statefulset Prometheus replica
  ##
  servicePerReplica:
    enabled: false
    annotations: {}
<span class="err">
</span>    ## Port for Prometheus Service per replica to listen on
    ##
    port: 9090
<span class="err">
</span>    ## To be used with a proxy extraContainer port
    targetPort: 9090
<span class="err">
</span>    ## Port to expose on each node
    ## Only used if servicePerReplica.type is 'NodePort'
    ##
    nodePort: 30091
<span class="err">
</span>    ## Loadbalancer source IP ranges
    ## Only used if servicePerReplica.type is "loadbalancer"
    loadBalancerSourceRanges: []
    ## Service type
    ##
    type: ClusterIP
<span class="err">
</span>  ## Configure pod disruption budgets for Prometheus
  ## ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/#specifying-a-poddisruptionbudget
  ## This configuration is immutable once created and will require the PDB to be deleted to be changed
  ## https://github.com/kubernetes/kubernetes/issues/45398
  ##
  podDisruptionBudget:
    enabled: false
    minAvailable: 1
    maxUnavailable: ""
<span class="err">
</span># Ingress exposes thanos sidecar outside the clsuter
  thanosIngress:
    enabled: false
    annotations: {}
    labels: {}
    servicePort: 10901
    ## Hosts must be provided if Ingress is enabled.
    ##
    hosts: []
      # - thanos-gateway.domain.com
<span class="err">
</span>    ## Paths to use for ingress rules
    ##
    paths: []
    # - /
<span class="err">
</span>    ## TLS configuration for Alertmanager Ingress
    ## Secret must be manually created in the namespace
    ##
    tls: []
    # - secretName: thanos-gateway-tls
    #   hosts:
    #   - thanos-gateway.domain.com
<span class="err">
</span>  ingress:
    enabled: false
    annotations: {}
    labels: {}
<span class="err">
</span>    ## Hostnames.
    ## Must be provided if Ingress is enabled.
    ##
    # hosts:
    #   - prometheus.domain.com
    hosts: []
<span class="err">
</span>    ## Paths to use for ingress rules - one path should match the prometheusSpec.routePrefix
    ##
    paths: []
    # - /
<span class="err">
</span>    ## TLS configuration for Prometheus Ingress
    ## Secret must be manually created in the namespace
    ##
    tls: []
      # - secretName: prometheus-general-tls
      #   hosts:
      #     - prometheus.example.com
<span class="err">
</span>  ## Configuration for creating an Ingress that will map to each Prometheus replica service
  ## prometheus.servicePerReplica must be enabled
  ##
  ingressPerReplica:
    enabled: false
    annotations: {}
    labels: {}
<span class="err">
</span>    ## Final form of the hostname for each per replica ingress is
    ## {{ ingressPerReplica.hostPrefix }}-{{ $replicaNumber }}.{{ ingressPerReplica.hostDomain }}
    ##
    ## Prefix for the per replica ingress that will have `-$replicaNumber`
    ## appended to the end
    hostPrefix: ""
    ## Domain that will be used for the per replica ingress
    hostDomain: ""
<span class="err">
</span>    ## Paths to use for ingress rules
    ##
    paths: []
    # - /
<span class="err">
</span>    ## Secret name containing the TLS certificate for Prometheus per replica ingress
    ## Secret must be manually created in the namespace
    tlsSecretName: ""
<span class="err">
</span>    ## Separated secret for each per replica Ingress. Can be used together with cert-manager
    ##
    tlsSecretPerReplica:
      enabled: false
      ## Final form of the secret for each per replica ingress is
      ## {{ tlsSecretPerReplica.prefix }}-{{ $replicaNumber }}
      ##
      prefix: "prometheus"
<span class="err">
</span>  ## Configure additional options for default pod security policy for Prometheus
  ## ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
  podSecurityPolicy:
    allowedCapabilities: []
<span class="err">
</span>  serviceMonitor:
    ## Scrape interval. If not set, the Prometheus default scrape interval is used.
    ##
    interval: ""
    selfMonitor: true
<span class="err">
</span>    ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
    scheme: ""
<span class="err">
</span>    ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
    ## Of type: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
    tlsConfig: {}
<span class="err">
</span>    bearerTokenFile:
<span class="err">
</span>    ## 	metric relabel configs to apply to samples before ingestion.
    ##
    metricRelabelings: []
    # - action: keep
    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
    #   sourceLabels: [__name__]
<span class="err">
</span>    # 	relabel configs to apply to samples before ingestion.
    ##
    relabelings: []
    # - sourceLabels: [__meta_kubernetes_pod_node_name]
    #   separator: ;
    #   regex: ^(.*)$
    #   targetLabel: nodename
    #   replacement: $1
    #   action: replace
<span class="err">
</span>  ## Settings affecting prometheusSpec
  ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#prometheusspec
  ##
  prometheusSpec:
    ## If true, pass --storage.tsdb.max-block-duration=2h to prometheus. This is already done if using Thanos
    ##
    disableCompaction: false
    ## APIServerConfig
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#apiserverconfig
    ##
    apiserverConfig: {}
<span class="err">
</span>    ## Interval between consecutive scrapes.
    ##
    scrapeInterval: ""
<span class="err">
</span>    ## Interval between consecutive evaluations.
    ##
    evaluationInterval: ""
<span class="err">
</span>    ## ListenLocal makes the Prometheus server listen on loopback, so that it does not bind against the Pod IP.
    ##
    listenLocal: false
<span class="err">
</span>    ## EnableAdminAPI enables Prometheus the administrative HTTP API which includes functionality such as deleting time series.
    ## This is disabled by default.
    ## ref: https://prometheus.io/docs/prometheus/latest/querying/api/#tsdb-admin-apis
    ##
    enableAdminAPI: false
<span class="err">
</span>    ## Image of Prometheus.
    ##
    image:
      repository: quay.io/prometheus/prometheus
      tag: v2.18.2
      sha: ""
<span class="err">
</span>    ## Tolerations for use with node taints
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    #  - key: "key"
    #    operator: "Equal"
    #    value: "value"
    #    effect: "NoSchedule"
<span class="err">
</span>    ## Alertmanagers to which alerts will be sent
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#alertmanagerendpoints
    ##
    ## Default configuration will connect to the alertmanager deployed as part of this release
    ##
    alertingEndpoints: []
    # - name: ""
    #   namespace: ""
    #   port: http
    #   scheme: http
    #   pathPrefix: ""
    #   tlsConfig: {}
    #   bearerTokenFile: ""
    #   apiVersion: v2
<span class="err">
</span>    ## External labels to add to any time series or alerts when communicating with external systems
    ##
    externalLabels: {}
<span class="err">
</span>    ## Name of the external label used to denote replica name
    ##
    replicaExternalLabelName: ""
<span class="err">
</span>    ## If true, the Operator won't add the external label used to denote replica name
    ##
    replicaExternalLabelNameClear: false
<span class="err">
</span>    ## Name of the external label used to denote Prometheus instance name
    ##
    prometheusExternalLabelName: ""
<span class="err">
</span>    ## If true, the Operator won't add the external label used to denote Prometheus instance name
    ##
    prometheusExternalLabelNameClear: false
<span class="err">
</span>    ## External URL at which Prometheus will be reachable.
    ##
    externalUrl: ""
<span class="err">
</span>    ## Define which Nodes the Pods are scheduled on.
    ## ref: https://kubernetes.io/docs/user-guide/node-selection/
    ##
    nodeSelector: {}
<span class="err">
</span>    ## Secrets is a list of Secrets in the same namespace as the Prometheus object, which shall be mounted into the Prometheus Pods.
    ## The Secrets are mounted into /etc/prometheus/secrets/. Secrets changes after initial creation of a Prometheus object are not
    ## reflected in the running Pods. To change the secrets mounted into the Prometheus Pods, the object must be deleted and recreated
    ## with the new list of secrets.
    ##
    secrets: []
<span class="err">
</span>    ## ConfigMaps is a list of ConfigMaps in the same namespace as the Prometheus object, which shall be mounted into the Prometheus Pods.
    ## The ConfigMaps are mounted into /etc/prometheus/configmaps/.
    ##
    configMaps: []
<span class="err">
</span>    ## QuerySpec defines the query command line flags when starting Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#queryspec
    ##
    query: {}
<span class="err">
</span>    ## Namespaces to be selected for PrometheusRules discovery.
    ## If nil, select own namespace. Namespaces to be selected for ServiceMonitor discovery.
    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
    ##
    ruleNamespaceSelector: {}
<span class="err">
</span>    ## If true, a nil or {} value for prometheus.prometheusSpec.ruleSelector will cause the
    ## prometheus resource to be created with selectors based on values in the helm deployment,
    ## which will also match the PrometheusRule resources created
    ##
    ruleSelectorNilUsesHelmValues: true
<span class="err">
</span>    ## PrometheusRules to be selected for target discovery.
    ## If {}, select all ServiceMonitors
    ##
    ruleSelector: {}
    ## Example which select all prometheusrules resources
    ## with label "prometheus" with values any of "example-rules" or "example-rules-2"
    # ruleSelector:
    #   matchExpressions:
    #     - key: prometheus
    #       operator: In
    #       values:
    #         - example-rules
    #         - example-rules-2
    #
    ## Example which select all prometheusrules resources with label "role" set to "example-rules"
    # ruleSelector:
    #   matchLabels:
    #     role: example-rules
<span class="err">
</span>    ## If true, a nil or {} value for prometheus.prometheusSpec.serviceMonitorSelector will cause the
    ## prometheus resource to be created with selectors based on values in the helm deployment,
    ## which will also match the servicemonitors created
    ##
    serviceMonitorSelectorNilUsesHelmValues: true
<span class="err">
</span>    ## ServiceMonitors to be selected for target discovery.
    ## If {}, select all ServiceMonitors
    ##
    serviceMonitorSelector: {}
    ## Example which selects ServiceMonitors with label "prometheus" set to "somelabel"
    # serviceMonitorSelector:
    #   matchLabels:
    #     prometheus: somelabel
<span class="err">
</span>    ## Namespaces to be selected for ServiceMonitor discovery.
    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
    ##
    serviceMonitorNamespaceSelector: {}
<span class="err">
</span>    ## If true, a nil or {} value for prometheus.prometheusSpec.podMonitorSelector will cause the
    ## prometheus resource to be created with selectors based on values in the helm deployment,
    ## which will also match the podmonitors created
    ##
    podMonitorSelectorNilUsesHelmValues: true
<span class="err">
</span>    ## PodMonitors to be selected for target discovery.
    ## If {}, select all PodMonitors
    ##
    podMonitorSelector: {}
    ## Example which selects PodMonitors with label "prometheus" set to "somelabel"
    # podMonitorSelector:
    #   matchLabels:
    #     prometheus: somelabel
<span class="err">
</span>    ## Namespaces to be selected for PodMonitor discovery.
    ## See https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#namespaceselector for usage
    ##
    podMonitorNamespaceSelector: {}
<span class="err">
</span>    ## How long to retain metrics
    ##
    retention: 10d
<span class="err">
</span>    ## Maximum size of metrics
    ##
    retentionSize: ""
<span class="err">
</span>    ## Enable compression of the write-ahead log using Snappy.
    ##
    walCompression: false
<span class="err">
</span>    ## If true, the Operator won't process any Prometheus configuration changes
    ##
    paused: false
<span class="err">
</span>    ## Number of Prometheus replicas desired
    ##
    replicas: 1
<span class="err">
</span>    ## Log level for Prometheus be configured in
    ##
    logLevel: info
<span class="err">
</span>    ## Log format for Prometheus be configured in
    ##
    logFormat: logfmt
<span class="err">
</span>    ## Prefix used to register routes, overriding externalUrl route.
    ## Useful for proxies that rewrite URLs.
    ##
    routePrefix: /
<span class="err">
</span>    ## Standard objects metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata
    ## Metadata Labels and Annotations gets propagated to the prometheus pods.
    ##
    podMetadata: {}
    # labels:
    #   app: prometheus
    #   k8s-app: prometheus
<span class="err">
</span>    ## Pod anti-affinity can prevent the scheduler from placing Prometheus replicas on the same node.
    ## The default value "soft" means that the scheduler should *prefer* to not schedule two replica pods onto the same node but no guarantee is provided.
    ## The value "hard" means that the scheduler is *required* to not schedule two replica pods onto the same node.
    ## The value "" will disable pod anti-affinity so that no anti-affinity rules will be configured.
    podAntiAffinity: ""
<span class="err">
</span>    ## If anti-affinity is enabled sets the topologyKey to use for anti-affinity.
    ## This can be changed to, for example, failure-domain.beta.kubernetes.io/zone
    ##
    podAntiAffinityTopologyKey: kubernetes.io/hostname
<span class="err">
</span>    ## Assign custom affinity rules to the prometheus instance
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
    ##
    affinity: {}
    # nodeAffinity:
    #   requiredDuringSchedulingIgnoredDuringExecution:
    #     nodeSelectorTerms:
    #     - matchExpressions:
    #       - key: kubernetes.io/e2e-az-name
    #         operator: In
    #         values:
    #         - e2e-az1
    #         - e2e-az2
<span class="err">
</span>    ## The remote_read spec configuration for Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotereadspec
    remoteRead: []
    # - url: http://remote1/read
<span class="err">
</span>    ## The remote_write spec configuration for Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotewritespec
    remoteWrite: []
    # - url: http://remote1/push
<span class="err">
</span>    ## Enable/Disable Grafana dashboards provisioning for prometheus remote write feature
    remoteWriteDashboards: false
<span class="err">
</span>    ## Resource limits &amp; requests
    ##
    resources: {}
    # requests:
    #   memory: 400Mi
<span class="err">
</span>    ## Prometheus StorageSpec for persistent data
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
    ##
    storageSpec: {}
    #  volumeClaimTemplate:
    #    spec:
    #      storageClassName: gluster
    #      accessModes: ["ReadWriteOnce"]
    #      resources:
    #        requests:
    #          storage: 50Gi
    #    selector: {}
<span class="err">
</span>    # Additional volumes on the output StatefulSet definition.
    volumes: []
    # Additional VolumeMounts on the output StatefulSet definition.
    volumeMounts: []
<span class="err">
</span>    ## AdditionalScrapeConfigs allows specifying additional Prometheus scrape configurations. Scrape configurations
    ## are appended to the configurations generated by the Prometheus Operator. Job configurations must have the form
    ## as specified in the official Prometheus documentation:
    ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config. As scrape configs are
    ## appended, the user is responsible to make sure it is valid. Note that using this feature may expose the possibility
    ## to break upgrades of Prometheus. It is advised to review Prometheus release notes to ensure that no incompatible
    ## scrape configs are going to break Prometheus after the upgrade.
    ##
    ## The scrape configuraiton example below will find master nodes, provided they have the name .*mst.*, relabel the
    ## port to 2379 and allow etcd scraping provided it is running on all Kubernetes master nodes
    ##
    additionalScrapeConfigs: []
    # - job_name: kube-etcd
    #   kubernetes_sd_configs:
    #     - role: node
    #   scheme: https
    #   tls_config:
    #     ca_file:   /etc/prometheus/secrets/etcd-client-cert/etcd-ca
    #     cert_file: /etc/prometheus/secrets/etcd-client-cert/etcd-client
    #     key_file:  /etc/prometheus/secrets/etcd-client-cert/etcd-client-key
    #   relabel_configs:
    #   - action: labelmap
    #     regex: __meta_kubernetes_node_label_(.+)
    #   - source_labels: [__address__]
    #     action: replace
    #     targetLabel: __address__
    #     regex: ([^:;]+):(\d+)
    #     replacement: ${1}:2379
    #   - source_labels: [__meta_kubernetes_node_name]
    #     action: keep
    #     regex: .*mst.*
    #   - source_labels: [__meta_kubernetes_node_name]
    #     action: replace
    #     targetLabel: node
    #     regex: (.*)
    #     replacement: ${1}
    #   metric_relabel_configs:
    #   - regex: (kubernetes_io_hostname|failure_domain_beta_kubernetes_io_region|beta_kubernetes_io_os|beta_kubernetes_io_arch|beta_kubernetes_io_instance_type|failure_domain_beta_kubernetes_io_zone)
    #     action: labeldrop
<span class="err">
</span>    ## If additional scrape configurations are already deployed in a single secret file you can use this section.
    ## Expected values are the secret name and key
    ## Cannot be used with additionalScrapeConfigs
    additionalScrapeConfigsSecret: {}
      # enabled: false
      # name:
      # key:
<span class="err">
</span>    ## additionalPrometheusSecretsAnnotations allows to add annotations to the kubernetes secret. This can be useful
    ## when deploying via spinnaker to disable versioning on the secret, strategy.spinnaker.io/versioned: 'false'
    additionalPrometheusSecretsAnnotations: {}
<span class="err">
</span>    ## AdditionalAlertManagerConfigs allows for manual configuration of alertmanager jobs in the form as specified
    ## in the official Prometheus documentation https://prometheus.io/docs/prometheus/latest/configuration/configuration/#&lt;alertmanager_config&gt;.
    ## AlertManager configurations specified are appended to the configurations generated by the Prometheus Operator.
    ## As AlertManager configs are appended, the user is responsible to make sure it is valid. Note that using this
    ## feature may expose the possibility to break upgrades of Prometheus. It is advised to review Prometheus release
    ## notes to ensure that no incompatible AlertManager configs are going to break Prometheus after the upgrade.
    ##
    additionalAlertManagerConfigs: []
    # - consul_sd_configs:
    #   - server: consul.dev.test:8500
    #     scheme: http
    #     datacenter: dev
    #     tag_separator: ','
    #     services:
    #       - metrics-prometheus-alertmanager
<span class="err">
</span>    ## AdditionalAlertRelabelConfigs allows specifying Prometheus alert relabel configurations. Alert relabel configurations specified are appended
    ## to the configurations generated by the Prometheus Operator. Alert relabel configurations specified must have the form as specified in the
    ## official Prometheus documentation: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#alert_relabel_configs.
    ## As alert relabel configs are appended, the user is responsible to make sure it is valid. Note that using this feature may expose the
    ## possibility to break upgrades of Prometheus. It is advised to review Prometheus release notes to ensure that no incompatible alert relabel
    ## configs are going to break Prometheus after the upgrade.
    ##
    additionalAlertRelabelConfigs: []
    # - separator: ;
    #   regex: prometheus_replica
    #   replacement: $1
    #   action: labeldrop
<span class="err">
</span>    ## SecurityContext holds pod-level security attributes and common container settings.
    ## This defaults to non root user with uid 1000 and gid 2000.
    ## https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md
    ##
    securityContext:
      runAsGroup: 2000
      runAsNonRoot: true
      runAsUser: 1000
      fsGroup: 2000
<span class="err">
</span>    ## 	Priority class assigned to the Pods
    ##
    priorityClassName: ""
<span class="err">
</span>    ## Thanos configuration allows configuring various aspects of a Prometheus server in a Thanos environment.
    ## This section is experimental, it may change significantly without deprecation notice in any release.
    ## This is experimental and may change significantly without backward compatibility in any release.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#thanosspec
    ##
    thanos: {}
<span class="err">
</span>    ## Containers allows injecting additional containers. This is meant to allow adding an authentication proxy to a Prometheus pod.
    ##  if using proxy extraContainer  update targetPort with proxy container port
    containers: []
<span class="err">
</span>    ## InitContainers allows injecting additional initContainers. This is meant to allow doing some changes
    ## (permissions, dir tree) on mounted volumes before starting prometheus
    initContainers: []
<span class="err">
</span>    ## PortName to use for Prometheus.
    ##
    portName: "web"
<span class="err">
</span>  additionalServiceMonitors: []
  ## Name of the ServiceMonitor to create
  ##
  # - name: ""
<span class="err">
</span>    ## Additional labels to set used for the ServiceMonitorSelector. Together with standard labels from
    ## the chart
    ##
    # additionalLabels: {}
<span class="err">
</span>    ## Service label for use in assembling a job name of the form &lt;label value&gt;-&lt;port&gt;
    ## If no label is specified, the service name is used.
    ##
    # jobLabel: ""
<span class="err">
</span>    ## labels to transfer from the kubernetes service to the target
    ##
    # targetLabels: ""
<span class="err">
</span>    ## Label selector for services to which this ServiceMonitor applies
    ##
    # selector: {}
<span class="err">
</span>    ## Namespaces from which services are selected
    ##
    # namespaceSelector:
      ## Match any namespace
      ##
      # any: false
<span class="err">
</span>      ## Explicit list of namespace names to select
      ##
      # matchNames: []
<span class="err">
</span>    ## Endpoints of the selected service to be monitored
    ##
    # endpoints: []
      ## Name of the endpoint's service port
      ## Mutually exclusive with targetPort
      # - port: ""
<span class="err">
</span>      ## Name or number of the endpoint's target port
      ## Mutually exclusive with port
      # - targetPort: ""
<span class="err">
</span>      ## File containing bearer token to be used when scraping targets
      ##
      #   bearerTokenFile: ""
<span class="err">
</span>      ## Interval at which metrics should be scraped
      ##
      #   interval: 30s
<span class="err">
</span>      ## HTTP path to scrape for metrics
      ##
      #   path: /metrics
<span class="err">
</span>      ## HTTP scheme to use for scraping
      ##
      #   scheme: http
<span class="err">
</span>      ## TLS configuration to use when scraping the endpoint
      ##
      #   tlsConfig:
<span class="err">
</span>          ## Path to the CA file
          ##
          # caFile: ""
<span class="err">
</span>          ## Path to client certificate file
          ##
          # certFile: ""
<span class="err">
</span>          ## Skip certificate verification
          ##
          # insecureSkipVerify: false
<span class="err">
</span>          ## Path to client key file
          ##
          # keyFile: ""
<span class="err">
</span>          ## Server name used to verify host name
          ##
          # serverName: ""
<span class="err">
</span>  additionalPodMonitors: []
  ## Name of the PodMonitor to create
  ##
  # - name: ""
<span class="err">
</span>    ## Additional labels to set used for the PodMonitorSelector. Together with standard labels from
    ## the chart
    ##
    # additionalLabels: {}
<span class="err">
</span>    ## Pod label for use in assembling a job name of the form &lt;label value&gt;-&lt;port&gt;
    ## If no label is specified, the pod endpoint name is used.
    ##
    # jobLabel: ""
<span class="err">
</span>    ## Label selector for pods to which this PodMonitor applies
    ##
    # selector: {}
<span class="err">
</span>    ## PodTargetLabels transfers labels on the Kubernetes Pod onto the target.
    ##
    # podTargetLabels: {}
<span class="err">
</span>    ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
    ##
    # sampleLimit: 0
<span class="err">
</span>    ## Namespaces from which pods are selected
    ##
    # namespaceSelector:
      ## Match any namespace
      ##
      # any: false
<span class="err">
</span>      ## Explicit list of namespace names to select
      ##
      # matchNames: []
<span class="err">
</span>    ## Endpoints of the selected pods to be monitored
    ## https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#podmetricsendpoint
    ##
    # podMetricsEndpoints: []
<span class="err">
</span></code></pre></div></div>
<hr> <p>Autogenerated from Helm Chart and git history using <a href="https://github.com/mogensen/helm-changelog" target="_blank" rel="noopener noreferrer">helm-changelog</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
