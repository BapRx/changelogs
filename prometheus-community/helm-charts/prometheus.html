<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(8)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(8) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(7) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(8) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list > li.nav-list-item:nth-child(8) > ul.nav-list { display: block; } </style> <script src="/changelogs/assets/js/vendor/lunr.min.js"></script> <script src="/changelogs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>prometheus | Changelogs</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="prometheus" /> <meta name="author" content="Baptiste ROUX" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://baprx.github.io/changelogs/prometheus-community/helm-charts/prometheus" /> <meta property="og:url" content="https://baprx.github.io/changelogs/prometheus-community/helm-charts/prometheus" /> <meta property="og:site_name" content="Changelogs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="prometheus" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Baptiste ROUX"},"headline":"prometheus","url":"https://baprx.github.io/changelogs/prometheus-community/helm-charts/prometheus"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewbox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewbox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewbox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewbox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/changelogs/" class="site-title lh-tight"> Changelogs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewbox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list">
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in argoproj/argo-helm category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/argoproj/argo-helm" class="nav-list-link">argoproj/argo-helm</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-events" class="nav-list-link">argo-events</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-rollouts" class="nav-list-link">argo-rollouts</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-apps" class="nav-list-link">argocd-apps</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-image-updater" class="nav-list-link">argocd-image-updater</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in authelia/chartrepo category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/authelia/chartrepo" class="nav-list-link">authelia/chartrepo</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/authelia/chartrepo/authelia" class="nav-list-link">authelia</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in bitnami/charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/bitnami/charts" class="nav-list-link">bitnami/charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/CHART_NAME" class="nav-list-link">CHART_NAME</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/airflow" class="nav-list-link">airflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apache" class="nav-list-link">apache</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apisix" class="nav-list-link">apisix</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/appsmith" class="nav-list-link">appsmith</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/aspnet-core" class="nav-list-link">aspnet-core</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cassandra" class="nav-list-link">cassandra</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cert-manager" class="nav-list-link">cert-manager</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/clickhouse" class="nav-list-link">clickhouse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/common" class="nav-list-link">common</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/concourse" class="nav-list-link">concourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/consul" class="nav-list-link">consul</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/contour" class="nav-list-link">contour</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/deepspeed" class="nav-list-link">deepspeed</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/discourse" class="nav-list-link">discourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/dokuwiki" class="nav-list-link">dokuwiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/drupal" class="nav-list-link">drupal</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ejbca" class="nav-list-link">ejbca</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/elasticsearch" class="nav-list-link">elasticsearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/etcd" class="nav-list-link">etcd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/external-dns" class="nav-list-link">external-dns</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flink" class="nav-list-link">flink</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluentd" class="nav-list-link">fluentd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flux" class="nav-list-link">flux</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ghost" class="nav-list-link">ghost</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/gitea" class="nav-list-link">gitea</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-loki" class="nav-list-link">grafana-loki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-mimir" class="nav-list-link">grafana-mimir</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-operator" class="nav-list-link">grafana-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-tempo" class="nav-list-link">grafana-tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/haproxy" class="nav-list-link">haproxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/harbor" class="nav-list-link">harbor</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/influxdb" class="nav-list-link">influxdb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jaeger" class="nav-list-link">jaeger</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jasperreports" class="nav-list-link">jasperreports</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jenkins" class="nav-list-link">jenkins</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/joomla" class="nav-list-link">joomla</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jupyterhub" class="nav-list-link">jupyterhub</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kafka" class="nav-list-link">kafka</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/keycloak" class="nav-list-link">keycloak</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kiam" class="nav-list-link">kiam</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kibana" class="nav-list-link">kibana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kong" class="nav-list-link">kong</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-prometheus" class="nav-list-link">kube-prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubeapps" class="nav-list-link">kubeapps</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kuberay" class="nav-list-link">kuberay</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubernetes-event-exporter" class="nav-list-link">kubernetes-event-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/logstash" class="nav-list-link">logstash</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/magento" class="nav-list-link">magento</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb" class="nav-list-link">mariadb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb-galera" class="nav-list-link">mariadb-galera</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mastodon" class="nav-list-link">mastodon</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/matomo" class="nav-list-link">matomo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mediawiki" class="nav-list-link">mediawiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/memcached" class="nav-list-link">memcached</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metallb" class="nav-list-link">metallb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metrics-server" class="nav-list-link">metrics-server</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/milvus" class="nav-list-link">milvus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/minio" class="nav-list-link">minio</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mlflow" class="nav-list-link">mlflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb" class="nav-list-link">mongodb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb-sharded" class="nav-list-link">mongodb-sharded</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/moodle" class="nav-list-link">moodle</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/multus-cni" class="nav-list-link">multus-cni</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mysql" class="nav-list-link">mysql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nats" class="nav-list-link">nats</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx" class="nav-list-link">nginx</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx-ingress-controller" class="nav-list-link">nginx-ingress-controller</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/node-exporter" class="nav-list-link">node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/oauth2-proxy" class="nav-list-link">oauth2-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/odoo" class="nav-list-link">odoo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opencart" class="nav-list-link">opencart</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opensearch" class="nav-list-link">opensearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/osclass" class="nav-list-link">osclass</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/parse" class="nav-list-link">parse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpbb" class="nav-list-link">phpbb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpmyadmin" class="nav-list-link">phpmyadmin</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pinniped" class="nav-list-link">pinniped</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql" class="nav-list-link">postgresql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql-ha" class="nav-list-link">postgresql-ha</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prestashop" class="nav-list-link">prestashop</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pytorch" class="nav-list-link">pytorch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq" class="nav-list-link">rabbitmq</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq-cluster-operator" class="nav-list-link">rabbitmq-cluster-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis" class="nav-list-link">redis</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis-cluster" class="nav-list-link">redis-cluster</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redmine" class="nav-list-link">redmine</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/schema-registry" class="nav-list-link">schema-registry</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sealed-secrets" class="nav-list-link">sealed-secrets</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/solr" class="nav-list-link">solr</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sonarqube" class="nav-list-link">sonarqube</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spark" class="nav-list-link">spark</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spring-cloud-dataflow" class="nav-list-link">spring-cloud-dataflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/supabase" class="nav-list-link">supabase</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tensorflow-resnet" class="nav-list-link">tensorflow-resnet</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/thanos" class="nav-list-link">thanos</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tomcat" class="nav-list-link">tomcat</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/vault" class="nav-list-link">vault</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/whereabouts" class="nav-list-link">whereabouts</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wildfly" class="nav-list-link">wildfly</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wordpress" class="nav-list-link">wordpress</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/zookeeper" class="nav-list-link">zookeeper</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in grafana/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/grafana/helm-charts" class="nav-list-link">grafana/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/agent-operator" class="nav-list-link">agent-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs" class="nav-list-link">enterprise-logs</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs-simple" class="nav-list-link">enterprise-logs-simple</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-metrics" class="nav-list-link">enterprise-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/lgtm-distributed" class="nav-list-link">lgtm-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-canary" class="nav-list-link">loki-canary</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-distributed" class="nav-list-link">loki-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-stack" class="nav-list-link">loki-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/promtail" class="nav-list-link">promtail</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/rollout-operator" class="nav-list-link">rollout-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/snyk-exporter" class="nav-list-link">snyk-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/synthetic-monitoring-agent" class="nav-list-link">synthetic-monitoring-agent</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo" class="nav-list-link">tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-distributed" class="nav-list-link">tempo-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-vulture" class="nav-list-link">tempo-vulture</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in kubernetes/ingress-nginx category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/kubernetes/ingress-nginx" class="nav-list-link">kubernetes/ingress-nginx</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/kubernetes/ingress-nginx/ingress-nginx" class="nav-list-link">ingress-nginx</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in minio/operator category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/minio/operator" class="nav-list-link">minio/operator</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/minio/operator/operator" class="nav-list-link">operator</a></li>
<li class="nav-list-item"><a href="/changelogs/minio/operator/tenant" class="nav-list-link">tenant</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in prometheus-community/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/prometheus-community/helm-charts" class="nav-list-link">prometheus-community/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager" class="nav-list-link">alertmanager</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager-snmp-notifier" class="nav-list-link">alertmanager-snmp-notifier</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/crds" class="nav-list-link">crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/jiralert" class="nav-list-link">jiralert</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" class="nav-list-link">kube-prometheus-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prom-label-proxy" class="nav-list-link">prom-label-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-adapter" class="nav-list-link">prometheus-adapter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-blackbox-exporter" class="nav-list-link">prometheus-blackbox-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-cloudwatch-exporter" class="nav-list-link">prometheus-cloudwatch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-conntrack-stats-exporter" class="nav-list-link">prometheus-conntrack-stats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-consul-exporter" class="nav-list-link">prometheus-consul-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-couchdb-exporter" class="nav-list-link">prometheus-couchdb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-druid-exporter" class="nav-list-link">prometheus-druid-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-elasticsearch-exporter" class="nav-list-link">prometheus-elasticsearch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-fastly-exporter" class="nav-list-link">prometheus-fastly-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-ipmi-exporter" class="nav-list-link">prometheus-ipmi-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-json-exporter" class="nav-list-link">prometheus-json-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-kafka-exporter" class="nav-list-link">prometheus-kafka-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-memcached-exporter" class="nav-list-link">prometheus-memcached-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-modbus-exporter" class="nav-list-link">prometheus-modbus-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mongodb-exporter" class="nav-list-link">prometheus-mongodb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mysql-exporter" class="nav-list-link">prometheus-mysql-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nats-exporter" class="nav-list-link">prometheus-nats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nginx-exporter" class="nav-list-link">prometheus-nginx-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-node-exporter" class="nav-list-link">prometheus-node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-opencost-exporter" class="nav-list-link">prometheus-opencost-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-admission-webhook" class="nav-list-link">prometheus-operator-admission-webhook</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-crds" class="nav-list-link">prometheus-operator-crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pgbouncer-exporter" class="nav-list-link">prometheus-pgbouncer-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingdom-exporter" class="nav-list-link">prometheus-pingdom-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingmesh-exporter" class="nav-list-link">prometheus-pingmesh-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" class="nav-list-link">prometheus-postgres-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pushgateway" class="nav-list-link">prometheus-pushgateway</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-rabbitmq-exporter" class="nav-list-link">prometheus-rabbitmq-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-redis-exporter" class="nav-list-link">prometheus-redis-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-smartctl-exporter" class="nav-list-link">prometheus-smartctl-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-snmp-exporter" class="nav-list-link">prometheus-snmp-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-stackdriver-exporter" class="nav-list-link">prometheus-stackdriver-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-statsd-exporter" class="nav-list-link">prometheus-statsd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-systemd-exporter" class="nav-list-link">prometheus-systemd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-to-sd" class="nav-list-link">prometheus-to-sd</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-windows-exporter" class="nav-list-link">prometheus-windows-exporter</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in traefik/traefik-helm-chart category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/traefik/traefik-helm-chart" class="nav-list-link">traefik/traefik-helm-chart</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/traefik/traefik-helm-chart/traefik" class="nav-list-link">traefik</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in vmware-tanzu/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/vmware-tanzu/helm-charts" class="nav-list-link">vmware-tanzu/helm-charts</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/vmware-tanzu/helm-charts/velero" class="nav-list-link">velero</a></li></ul>
</li>
</ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Changelogs" aria-label="Search Changelogs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/changelogs/prometheus-community/helm-charts">prometheus-community/helm-charts</a></li> <li class="breadcrumb-nav-list-item"><span>prometheus</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="prometheus"> <a href="#prometheus" class="anchor-heading" aria-labelledby="prometheus"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> prometheus </h1> <h2 id="25110"> <a href="#25110" class="anchor-heading" aria-labelledby="25110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.11.0 </h2> <p><strong>Release date:</strong> 2024-01-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.49.1&amp;color=success" alt="AppVersion: v2.49.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> bump reloader + node-exporter dep (#4182)</li> </ul> <h3 id="default-value-changes"> <a href="#default-value-changes" class="anchor-heading" aria-labelledby="default-value-changes"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 38ebf103..24243047 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -60,7 +60,7 @@</span> configmapReload:
     ##
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.70.0
</span><span class="gi">+      tag: v0.71.2
</span>       # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
       digest: ""
       pullPolicy: IfNotPresent
<span class="err">
</span></code></pre></div></div> <h2 id="25100"> <a href="#25100" class="anchor-heading" aria-labelledby="25100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.10.0 </h2> <p><strong>Release date:</strong> 2024-01-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.49.1&amp;color=success" alt="AppVersion: v2.49.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> bump pgw dep (#4163)</li> </ul> <h3 id="default-value-changes-1"> <a href="#default-value-changes-1" class="anchor-heading" aria-labelledby="default-value-changes-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2590"> <a href="#2590" class="anchor-heading" aria-labelledby="2590"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.9.0 </h2> <p><strong>Release date:</strong> 2024-01-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.49.1&amp;color=success" alt="AppVersion: v2.49.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> bump to 2.49.1 and deps (#4150)</li> </ul> <h3 id="default-value-changes-2"> <a href="#default-value-changes-2" class="anchor-heading" aria-labelledby="default-value-changes-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2582"> <a href="#2582" class="anchor-heading" aria-labelledby="2582"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.8.2 </h2> <p><strong>Release date:</strong> 2023-12-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.48.1&amp;color=success" alt="AppVersion: v2.48.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> bump prom to 2.48.1 (#4083)</li> </ul> <h3 id="default-value-changes-3"> <a href="#default-value-changes-3" class="anchor-heading" aria-labelledby="default-value-changes-3"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2581"> <a href="#2581" class="anchor-heading" aria-labelledby="2581"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.8.1 </h2> <p><strong>Release date:</strong> 2023-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.48.0&amp;color=success" alt="AppVersion: v2.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> bump reloader to 0.70.0 (#4064)</li> </ul> <h3 id="default-value-changes-4"> <a href="#default-value-changes-4" class="anchor-heading" aria-labelledby="default-value-changes-4"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 43d0f6ab..38ebf103 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -60,7 +60,7 @@</span> configmapReload:
     ##
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.67.0
</span><span class="gi">+      tag: v0.70.0
</span>       # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
       digest: ""
       pullPolicy: IfNotPresent
<span class="err">
</span></code></pre></div></div> <h2 id="2580"> <a href="#2580" class="anchor-heading" aria-labelledby="2580"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.8.0 </h2> <p><strong>Release date:</strong> 2023-11-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.48.0&amp;color=success" alt="AppVersion: v2.48.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump prom to 2.48.0 (#4018)</li> </ul> <h3 id="default-value-changes-5"> <a href="#default-value-changes-5" class="anchor-heading" aria-labelledby="default-value-changes-5"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2570"> <a href="#2570" class="anchor-heading" aria-labelledby="2570"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.7.0 </h2> <p><strong>Release date:</strong> 2023-11-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.2&amp;color=success" alt="AppVersion: v2.47.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> automountServiceAccountToken to be configurable (#3998)</li> </ul> <h3 id="default-value-changes-6"> <a href="#default-value-changes-6" class="anchor-heading" aria-labelledby="default-value-changes-6"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c68e8c19..43d0f6ab 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -19,7 +19,10 @@</span> serviceAccounts:
     create: true
     name: ""
     annotations: {}
<span class="gd">-    # automountServiceAccountToken:
</span><span class="gi">+
+    ## Opt out of automounting Kubernetes API credentials.
+    ## It will be overriden by server.automountServiceAccountToken value, if set.
+    # automountServiceAccountToken: false
</span> 
 ## Additional labels to attach to all resources
 commonMetaLabels: {}
<span class="p">@@ -98,6 +101,10 @@</span> server:
   ##
   name: server
 
<span class="gi">+  ## Opt out of automounting Kubernetes API credentials.
+  ## If set it will override serviceAccounts.server.automountServiceAccountToken value for ServiceAccount.
+  # automountServiceAccountToken: false
+
</span>   ## Use a ClusterRole (and ClusterRoleBinding)
   ## - If set to false - we define a RoleBinding in the defined namespaces ONLY
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="2560"> <a href="#2560" class="anchor-heading" aria-labelledby="2560"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.6.0 </h2> <p><strong>Release date:</strong> 2023-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.2&amp;color=success" alt="AppVersion: v2.47.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Support retention size, attach volume labels to PVC (#3985)</li> </ul> <h3 id="default-value-changes-7"> <a href="#default-value-changes-7" class="anchor-heading" aria-labelledby="default-value-changes-7"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index bacd158a..c68e8c19 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,3 +1,8 @@</span>
<span class="gi">+# yaml-language-server: $schema=values.schema.json
+# Default values for prometheus.
+# This is a YAML-formatted file.
+# Declare variables to be passed into your templates.
+
</span> rbac:
   create: true
 
<span class="p">@@ -16,6 +21,9 @@</span> serviceAccounts:
     annotations: {}
     # automountServiceAccountToken:
 
<span class="gi">+## Additional labels to attach to all resources
+commonMetaLabels: {}
+
</span> ## Monitors ConfigMap changes and POSTs to a URL
 ## Ref: https://github.com/prometheus-operator/prometheus-operator/tree/main/cmd/prometheus-config-reloader
 ##
<span class="p">@@ -198,6 +206,7 @@</span> server:
   # List of flags to override default parameters, e.g:
   # - --enable-feature=agent
   # - --storage.agent.retention.max-time=30m
<span class="gi">+  # - --config.file=/etc/config/prometheus.yml
</span>   defaultFlagsOverride: []
 
   extraFlags:
<span class="p">@@ -364,7 +373,7 @@</span> server:
   #       - "example.com"
 
   ## Node tolerations for server scheduling to nodes with taints
<span class="gd">-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
</span><span class="gi">+  ## Ref: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/
</span>   ##
   tolerations: []
     # - key: "key"
<span class="p">@@ -373,7 +382,7 @@</span> server:
     #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
 
   ## Node labels for Prometheus server pod assignment
<span class="gd">-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+  ## Ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
</span>   ##
   nodeSelector: {}
 
<span class="p">@@ -679,6 +688,10 @@</span> server:
   ##
   retention: "15d"
 
<span class="gi">+  ## Prometheus' data retention size. Supported units: B, KB, MB, GB, TB, PB, EB.
+  ##
+  retentionSize: ""
+
</span> ## Prometheus server ConfigMap entries for rule files (allow prometheus labels interpolation)
 ruleFiles: {}
 
<span class="p">@@ -1206,7 +1219,7 @@</span> kube-state-metrics:
   ##
   enabled: true
 
<span class="gd">-## promtheus-node-exporter sub-chart configurable values
</span><span class="gi">+## prometheus-node-exporter sub-chart configurable values
</span> ## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-node-exporter
 ##
 prometheus-node-exporter:
<span class="p">@@ -1220,7 +1233,7 @@</span> prometheus-node-exporter:
   containerSecurityContext:
     allowPrivilegeEscalation: false
 
<span class="gd">-## pprometheus-pushgateway sub-chart configurable values
</span><span class="gi">+## prometheus-pushgateway sub-chart configurable values
</span> ## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-pushgateway
 ##
 prometheus-pushgateway:
<span class="err">
</span></code></pre></div></div> <h2 id="2550"> <a href="#2550" class="anchor-heading" aria-labelledby="2550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.5.0 </h2> <p><strong>Release date:</strong> 2023-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.2&amp;color=success" alt="AppVersion: v2.47.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump deps (#3997)</li> </ul> <h3 id="default-value-changes-8"> <a href="#default-value-changes-8" class="anchor-heading" aria-labelledby="default-value-changes-8"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2540"> <a href="#2540" class="anchor-heading" aria-labelledby="2540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.4.0 </h2> <p><strong>Release date:</strong> 2023-10-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.2&amp;color=success" alt="AppVersion: v2.47.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Upgrade Prometheus, update deps (#3947)</li> </ul> <h3 id="default-value-changes-9"> <a href="#default-value-changes-9" class="anchor-heading" aria-labelledby="default-value-changes-9"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2531"> <a href="#2531" class="anchor-heading" aria-labelledby="2531"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.3.1 </h2> <p><strong>Release date:</strong> 2023-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Loosen typing for pdb.maxUnavailable (#3927)</li> </ul> <h3 id="default-value-changes-10"> <a href="#default-value-changes-10" class="anchor-heading" aria-labelledby="default-value-changes-10"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2530"> <a href="#2530" class="anchor-heading" aria-labelledby="2530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.3.0 </h2> <p><strong>Release date:</strong> 2023-10-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Allow setting scrape_config_files in prometheus config (#3930)</li> </ul> <h3 id="default-value-changes-11"> <a href="#default-value-changes-11" class="anchor-heading" aria-labelledby="default-value-changes-11"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ff71bdfe..bacd158a 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -682,6 +682,11 @@</span> server:
 ## Prometheus server ConfigMap entries for rule files (allow prometheus labels interpolation)
 ruleFiles: {}
 
<span class="gi">+## Prometheus server ConfigMap entries for scrape_config_files
+## (allows scrape configs defined in additional files)
+##
+scrapeConfigFiles: []
+
</span> ## Prometheus server ConfigMap entries
 ##
 serverFiles:
<span class="err">
</span></code></pre></div></div> <h2 id="2520"> <a href="#2520" class="anchor-heading" aria-labelledby="2520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.2.0 </h2> <p><strong>Release date:</strong> 2023-10-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Allow setting automountServiceAccountToken (#3911)</li> </ul> <h3 id="default-value-changes-12"> <a href="#default-value-changes-12" class="anchor-heading" aria-labelledby="default-value-changes-12"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b47ec992..ff71bdfe 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -14,6 +14,7 @@</span> serviceAccounts:
     create: true
     name: ""
     annotations: {}
<span class="gi">+    # automountServiceAccountToken:
</span> 
 ## Monitors ConfigMap changes and POSTs to a URL
 ## Ref: https://github.com/prometheus-operator/prometheus-operator/tree/main/cmd/prometheus-config-reloader
<span class="err">
</span></code></pre></div></div> <h2 id="2510"> <a href="#2510" class="anchor-heading" aria-labelledby="2510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.1.0 </h2> <p><strong>Release date:</strong> 2023-10-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add permission on endpointslices in cluster role (#3840)</li> </ul> <h3 id="default-value-changes-13"> <a href="#default-value-changes-13" class="anchor-heading" aria-labelledby="default-value-changes-13"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2500"> <a href="#2500" class="anchor-heading" aria-labelledby="2500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 25.0.0 </h2> <p><strong>Release date:</strong> 2023-09-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Apply templating to remote_read &amp; remote_write config (#3777)</li> </ul> <h3 id="default-value-changes-14"> <a href="#default-value-changes-14" class="anchor-heading" aria-labelledby="default-value-changes-14"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2450"> <a href="#2450" class="anchor-heading" aria-labelledby="2450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.5.0 </h2> <p><strong>Release date:</strong> 2023-09-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Adding additionalPorts and servicePort (#3779)</li> </ul> <h3 id="default-value-changes-15"> <a href="#default-value-changes-15" class="anchor-heading" aria-labelledby="default-value-changes-15"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 45d3bcd3..b47ec992 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -117,6 +117,19 @@</span> server:
   #   sidecarContainers:
   #      webserver:
   #        image: nginx
<span class="gi">+  # OR for adding OAuth authentication to Prometheus
+  #   sidecarContainers:
+  #     oauth-proxy:
+  #       image: quay.io/oauth2-proxy/oauth2-proxy:v7.1.2
+  #       args:
+  #       - --upstream=http://127.0.0.1:9090
+  #       - --http-address=0.0.0.0:8081
+  #       - ...
+  #       ports:
+  #       - containerPort: 8081
+  #         name: oauth-proxy
+  #         protocol: TCP
+  #       resources: {}
</span>   sidecarContainers: {}
 
   # sidecarTemplateValues - context to be used in template for sidecarContainers
<span class="p">@@ -309,6 +322,9 @@</span> server:
     ##
     extraLabels: {}
 
<span class="gi">+    ## Redirect ingress to an additional defined port on the service
+    # servicePort: 8081
+
</span>     ## Prometheus server Ingress hostnames with optional path
     ## Must be provided if Ingress is enabled
     ##
<span class="p">@@ -647,6 +663,13 @@</span> server:
       enabled: false
       replica: 0
 
<span class="gi">+    ## Additional port to define in the Service
+    additionalPorts: []
+    # additionalPorts:
+    # - name: authenticated
+    #   port: 8081
+    #   targetPort: 8081
+
</span>   ## Prometheus server pod termination grace period
   ##
   terminationGracePeriodSeconds: 300
<span class="err">
</span></code></pre></div></div> <h2 id="2440"> <a href="#2440" class="anchor-heading" aria-labelledby="2440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.4.0 </h2> <p><strong>Release date:</strong> 2023-09-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.47.0&amp;color=success" alt="AppVersion: v2.47.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update prometheus to 2.47.0 + deps (#3774)</li> </ul> <h3 id="default-value-changes-16"> <a href="#default-value-changes-16" class="anchor-heading" aria-labelledby="default-value-changes-16"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2431"> <a href="#2431" class="anchor-heading" aria-labelledby="2431"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.3.1 </h2> <p><strong>Release date:</strong> 2023-09-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> allow more flexible poddisruptionbudget config (#3772)</li> </ul> <h3 id="default-value-changes-17"> <a href="#default-value-changes-17" class="anchor-heading" aria-labelledby="default-value-changes-17"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 90dd3c7d..45d3bcd3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -374,6 +374,10 @@</span> server:
   podDisruptionBudget:
     enabled: false
     maxUnavailable: 1
<span class="gi">+    # minAvailable: 1
+    ## unhealthyPodEvictionPolicy is available since 1.27.0 (beta)
+    ## https://kubernetes.io/docs/tasks/run-application/configure-pdb/#unhealthy-pod-eviction-policy
+    # unhealthyPodEvictionPolicy: IfHealthyBudget
</span> 
   ## Use an alternate scheduler, e.g. "stork".
   ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
<span class="err">
</span></code></pre></div></div> <h2 id="2430"> <a href="#2430" class="anchor-heading" aria-labelledby="2430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.3.0 </h2> <p><strong>Release date:</strong> 2023-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add support for PVC retention policy in statefulset (#3748)</li> </ul> <h3 id="default-value-changes-18"> <a href="#default-value-changes-18" class="anchor-heading" aria-labelledby="default-value-changes-18"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 528eee10..90dd3c7d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -522,6 +522,15 @@</span> server:
         servicePort: 10901
         # nodePort: 10901
 
<span class="gi">+    ## Statefulset's persistent volume claim retention policy
+    ## pvcDeleteOnStsDelete and pvcDeleteOnStsScale determine whether
+    ## statefulset's PVCs are deleted (true) or retained (false) on scaling down
+    ## and deleting statefulset, respectively. Requires 1.27.0+.
+    ## Ref: https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#persistentvolumeclaim-retention
+    ##
+    pvcDeleteOnStsDelete: false
+    pvcDeleteOnStsScale: false
+
</span>   ## Prometheus server readiness and liveness probe initial delay and timeout
   ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="2420"> <a href="#2420" class="anchor-heading" aria-labelledby="2420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.2.0 </h2> <p><strong>Release date:</strong> 2023-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> add port name (#3755)</li> </ul> <h3 id="default-value-changes-19"> <a href="#default-value-changes-19" class="anchor-heading" aria-labelledby="default-value-changes-19"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e28518c6..528eee10 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -565,6 +565,9 @@</span> server:
   # Use hostPort
   # hostPort: 9090
 
<span class="gi">+  # Use portName
+  portName: ""
+
</span>   ## Vertical Pod Autoscaler config
   ## Ref: https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
   verticalAutoscaler:
<span class="err">
</span></code></pre></div></div> <h2 id="2410"> <a href="#2410" class="anchor-heading" aria-labelledby="2410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.1.0 </h2> <p><strong>Release date:</strong> 2023-08-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add a releaseNamespace option (#3732)</li> </ul> <h3 id="default-value-changes-20"> <a href="#default-value-changes-20" class="anchor-heading" aria-labelledby="default-value-changes-20"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9f576523..e28518c6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -103,6 +103,10 @@</span> server:
   ##
   clusterRoleNameOverride: ""
 
<span class="gi">+  # Enable only the release namespace for monitoring. By default all namespaces are monitored.
+  # If releaseNamespace and namespaces are both set a merged list will be monitored.
+  releaseNamespace: false
+
</span>   ## namespaces to monitor (instead of monitoring all - clusterwide). Needed if you want to run without Cluster-admin privileges.
   # namespaces:
   #   - yournamespace
<span class="err">
</span></code></pre></div></div> <h2 id="2400"> <a href="#2400" class="anchor-heading" aria-labelledby="2400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 24.0.0 </h2> <p><strong>Release date:</strong> 2023-08-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.19.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.19.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump chart dependencies, bump minimum kubeVersion (#3726)</li> </ul> <h3 id="default-value-changes-21"> <a href="#default-value-changes-21" class="anchor-heading" aria-labelledby="default-value-changes-21"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2340"> <a href="#2340" class="anchor-heading" aria-labelledby="2340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.4.0 </h2> <p><strong>Release date:</strong> 2023-08-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Remove unused tpl from Prometheus chart (#3702)</li> </ul> <h3 id="default-value-changes-22"> <a href="#default-value-changes-22" class="anchor-heading" aria-labelledby="default-value-changes-22"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2330"> <a href="#2330" class="anchor-heading" aria-labelledby="2330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.3.0 </h2> <p><strong>Release date:</strong> 2023-08-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: allow changing the default revisionHistoryLimit (#3676)</li> </ul> <h3 id="default-value-changes-23"> <a href="#default-value-changes-23" class="anchor-heading" aria-labelledby="default-value-changes-23"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 343fac03..9f576523 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -487,6 +487,11 @@</span> server:
   ##
   replicaCount: 1
 
<span class="gi">+  ## Number of old history to retain to allow rollback
+  ## Default Kubernetes value is set to 10
+  ##
+  revisionHistoryLimit: 10
+
</span>   ## Annotations to be added to deployment
   ##
   deploymentAnnotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="2320"> <a href="#2320" class="anchor-heading" aria-labelledby="2320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.2.0 </h2> <p><strong>Release date:</strong> 2023-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.46.0&amp;color=success" alt="AppVersion: v2.46.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump prometheus, config-reloader and chart deps (#3652)</li> </ul> <h3 id="default-value-changes-24"> <a href="#default-value-changes-24" class="anchor-heading" aria-labelledby="default-value-changes-24"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 87a9ffc2..343fac03 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -48,7 +48,7 @@</span> configmapReload:
     ##
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.66.0
</span><span class="gi">+      tag: v0.67.0
</span>       # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
       digest: ""
       pullPolicy: IfNotPresent
<span class="err">
</span></code></pre></div></div> <h2 id="2310"> <a href="#2310" class="anchor-heading" aria-labelledby="2310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.1.0 </h2> <p><strong>Release date:</strong> 2023-07-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.45.0&amp;color=success" alt="AppVersion: v2.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update prometheus-pushgateway chart to 2.4.0 (#3573)</li> </ul> <h3 id="default-value-changes-25"> <a href="#default-value-changes-25" class="anchor-heading" aria-labelledby="default-value-changes-25"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2300"> <a href="#2300" class="anchor-heading" aria-labelledby="2300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 23.0.0 </h2> <p><strong>Release date:</strong> 2023-07-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.45.0&amp;color=success" alt="AppVersion: v2.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump chart dependencies (#3422)</li> </ul> <h3 id="default-value-changes-26"> <a href="#default-value-changes-26" class="anchor-heading" aria-labelledby="default-value-changes-26"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2270"> <a href="#2270" class="anchor-heading" aria-labelledby="2270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.7.0 </h2> <p><strong>Release date:</strong> 2023-07-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.45.0&amp;color=success" alt="AppVersion: v2.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Added custom common meta labels (#3538)</li> </ul> <h3 id="default-value-changes-27"> <a href="#default-value-changes-27" class="anchor-heading" aria-labelledby="default-value-changes-27"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2267"> <a href="#2267" class="anchor-heading" aria-labelledby="2267"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.7 </h2> <p><strong>Release date:</strong> 2023-06-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.45.0&amp;color=success" alt="AppVersion: v2.45.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> updates Prometheus image to 2.45.0(LTS) (#3519)</li> </ul> <h3 id="default-value-changes-28"> <a href="#default-value-changes-28" class="anchor-heading" aria-labelledby="default-value-changes-28"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2266"> <a href="#2266" class="anchor-heading" aria-labelledby="2266"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.6 </h2> <p><strong>Release date:</strong> 2023-06-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump config-reloader version (#3503)</li> </ul> <h3 id="default-value-changes-29"> <a href="#default-value-changes-29" class="anchor-heading" aria-labelledby="default-value-changes-29"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6e6b7843..87a9ffc2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -48,7 +48,7 @@</span> configmapReload:
     ##
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.65.1
</span><span class="gi">+      tag: v0.66.0
</span>       # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
       digest: ""
       pullPolicy: IfNotPresent
<span class="err">
</span></code></pre></div></div> <h2 id="2265"> <a href="#2265" class="anchor-heading" aria-labelledby="2265"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.5 </h2> <p><strong>Release date:</strong> 2023-06-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> correct NOTES.txt for pod labels selection (#3486)</li> </ul> <h3 id="default-value-changes-30"> <a href="#default-value-changes-30" class="anchor-heading" aria-labelledby="default-value-changes-30"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2264"> <a href="#2264" class="anchor-heading" aria-labelledby="2264"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.4 </h2> <p><strong>Release date:</strong> 2023-06-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Added node label to pod scrape jobs (#3484)</li> </ul> <h3 id="default-value-changes-31"> <a href="#default-value-changes-31" class="anchor-heading" aria-labelledby="default-value-changes-31"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 27314794..6e6b7843 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1015,6 +1015,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_phase]
             regex: Pending|Succeeded|Failed|Completed
             action: drop
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_node_name]
+            action: replace
+            target_label: node
</span> 
       # Example Scrape config for pods which should be scraped slower. An useful example
       # would be stackriver-exporter which queries an API on every scrape of the pod
<span class="p">@@ -1072,6 +1075,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_phase]
             regex: Pending|Succeeded|Failed|Completed
             action: drop
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_node_name]
+            action: replace
+            target_label: node
</span> 
 # adds additional scrape configs to prometheus.yml
 # must be a string so you have to add a | after extraScrapeConfigs:
<span class="err">
</span></code></pre></div></div> <h2 id="2263"> <a href="#2263" class="anchor-heading" aria-labelledby="2263"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.3 </h2> <p><strong>Release date:</strong> 2023-06-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add extra volume mounts to configmapreload (#3488)</li> </ul> <h3 id="default-value-changes-32"> <a href="#default-value-changes-32" class="anchor-heading" aria-labelledby="default-value-changes-32"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 86d0d1f6..27314794 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -63,6 +63,10 @@</span> configmapReload:
     ##
     extraVolumeDirs: []
 
<span class="gi">+    ## Additional configmap-reload volume mounts
+    ##
+    extraVolumeMounts: []
+
</span>     ## Additional configmap-reload mounts
     ##
     extraConfigmapMounts: []
<span class="err">
</span></code></pre></div></div> <h2 id="2262"> <a href="#2262" class="anchor-heading" aria-labelledby="2262"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.2 </h2> <p><strong>Release date:</strong> 2023-05-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[promtheus] Typo correction (#3387)</li> </ul> <h3 id="default-value-changes-33"> <a href="#default-value-changes-33" class="anchor-heading" aria-labelledby="default-value-changes-33"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2261"> <a href="#2261" class="anchor-heading" aria-labelledby="2261"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.1 </h2> <p><strong>Release date:</strong> 2023-05-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Correct reload URL (#3391)</li> </ul> <h3 id="default-value-changes-34"> <a href="#default-value-changes-34" class="anchor-heading" aria-labelledby="default-value-changes-34"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2260"> <a href="#2260" class="anchor-heading" aria-labelledby="2260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.6.0 </h2> <p><strong>Release date:</strong> 2023-05-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.44.0&amp;color=success" alt="AppVersion: v2.44.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump Prometheus release (#3374)</li> </ul> <h3 id="default-value-changes-35"> <a href="#default-value-changes-35" class="anchor-heading" aria-labelledby="default-value-changes-35"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2250"> <a href="#2250" class="anchor-heading" aria-labelledby="2250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.5.0 </h2> <p><strong>Release date:</strong> 2023-05-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.1&amp;color=success" alt="AppVersion: v2.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add support for renaming Cluster Role and Binding (#3354)</li> </ul> <h3 id="default-value-changes-36"> <a href="#default-value-changes-36" class="anchor-heading" aria-labelledby="default-value-changes-36"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b2d3b6f2..86d0d1f6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -95,6 +95,10 @@</span> server:
   ##
   # useExistingClusterRoleName: nameofclusterrole
 
<span class="gi">+  ## If set it will override prometheus.server.fullname value for ClusterRole and ClusterRoleBinding
+  ##
+  clusterRoleNameOverride: ""
+
</span>   ## namespaces to monitor (instead of monitoring all - clusterwide). Needed if you want to run without Cluster-admin privileges.
   # namespaces:
   #   - yournamespace
<span class="err">
</span></code></pre></div></div> <h2 id="2241"> <a href="#2241" class="anchor-heading" aria-labelledby="2241"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.4.1 </h2> <p><strong>Release date:</strong> 2023-05-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.1&amp;color=success" alt="AppVersion: v2.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix volume name evaluation (#3348)</li> </ul> <h3 id="default-value-changes-37"> <a href="#default-value-changes-37" class="anchor-heading" aria-labelledby="default-value-changes-37"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2240"> <a href="#2240" class="anchor-heading" aria-labelledby="2240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.4.0 </h2> <p><strong>Release date:</strong> 2023-05-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.1&amp;color=success" alt="AppVersion: v2.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> env vars for configmap-reload (#3344)</li> </ul> <h3 id="default-value-changes-38"> <a href="#default-value-changes-38" class="anchor-heading" aria-labelledby="default-value-changes-38"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index fe16c275..b2d3b6f2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -19,6 +19,22 @@</span> serviceAccounts:
 ## Ref: https://github.com/prometheus-operator/prometheus-operator/tree/main/cmd/prometheus-config-reloader
 ##
 configmapReload:
<span class="gi">+  ## URL for configmap-reload to use for reloads
+  ##
+  reloadUrl: ""
+
+  ## env sets environment variables to pass to the container. Can be set as name/value pairs,
+  ## read from secrets or configmaps.
+  env: []
+    # - name: SOMEVAR
+    #   value: somevalue
+    # - name: PASSWORD
+    #   valueFrom:
+    #     secretKeyRef:
+    #       name: mysecret
+    #       key: password
+    #       optional: false
+
</span>   prometheus:
     ## If false, the configmap-reload container will not be deployed
     ##
<span class="p">@@ -32,7 +48,7 @@</span> configmapReload:
     ##
     image:
       repository: quay.io/prometheus-operator/prometheus-config-reloader
<span class="gd">-      tag: v0.63.0
</span><span class="gi">+      tag: v0.65.1
</span>       # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
       digest: ""
       pullPolicy: IfNotPresent
<span class="p">@@ -42,11 +58,11 @@</span> configmapReload:
     ## Additional configmap-reload container arguments
     ##
     extraArgs: {}
<span class="gi">+
</span>     ## Additional configmap-reload volume directories
     ##
     extraVolumeDirs: []
 
<span class="gd">-
</span>     ## Additional configmap-reload mounts
     ##
     extraConfigmapMounts: []
<span class="p">@@ -361,7 +377,7 @@</span> server:
     ## If set it will override the name of the created persistent volume claim
     ## generated by the stateful set.
     ##
<span class="gd">-    statefulSetNameOverride:
</span><span class="gi">+    statefulSetNameOverride: ""
</span> 
     ## Prometheus server data Persistent Volume access modes
     ## Must match those of existing PV or dynamic provisioner
<span class="err">
</span></code></pre></div></div> <h2 id="2232"> <a href="#2232" class="anchor-heading" aria-labelledby="2232"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.3.2 </h2> <p><strong>Release date:</strong> 2023-05-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.1&amp;color=success" alt="AppVersion: v2.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update extraManifests example to be multiline string instead of YAML (#3343)</li> </ul> <h3 id="default-value-changes-39"> <a href="#default-value-changes-39" class="anchor-heading" aria-labelledby="default-value-changes-39"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 13d8dec6..fe16c275 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1086,7 +1086,8 @@</span> forceNamespace: ""
 
 # Extra manifests to deploy as an array
 extraManifests: []
<span class="gd">-  # - apiVersion: v1
</span><span class="gi">+  # - |
+  #   apiVersion: v1
</span>   #   kind: ConfigMap
   #   metadata:
   #   labels:
<span class="err">
</span></code></pre></div></div> <h2 id="2231"> <a href="#2231" class="anchor-heading" aria-labelledby="2231"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.3.1 </h2> <p><strong>Release date:</strong> 2023-05-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.1&amp;color=success" alt="AppVersion: v2.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix RoleBinding subject namespace reference (#3342)</li> </ul> <h3 id="default-value-changes-40"> <a href="#default-value-changes-40" class="anchor-heading" aria-labelledby="default-value-changes-40"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2230"> <a href="#2230" class="anchor-heading" aria-labelledby="2230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.3.0 </h2> <p><strong>Release date:</strong> 2023-05-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.1&amp;color=success" alt="AppVersion: v2.43.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump Prometheus release (#3335)</li> </ul> <h3 id="default-value-changes-41"> <a href="#default-value-changes-41" class="anchor-heading" aria-labelledby="default-value-changes-41"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2220"> <a href="#2220" class="anchor-heading" aria-labelledby="2220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.2.0 </h2> <p><strong>Release date:</strong> 2023-05-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> 3287-bumpup alertmanager dependency chart (#3325)</li> </ul> <h3 id="default-value-changes-42"> <a href="#default-value-changes-42" class="anchor-heading" aria-labelledby="default-value-changes-42"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2210"> <a href="#2210" class="anchor-heading" aria-labelledby="2210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.1.0 </h2> <p><strong>Release date:</strong> 2023-05-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add option to change deployment command (#3329)</li> </ul> <h3 id="default-value-changes-43"> <a href="#default-value-changes-43" class="anchor-heading" aria-labelledby="default-value-changes-43"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index eb1836f2..13d8dec6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -113,6 +113,10 @@</span> server:
     digest: ""
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## Prometheus server command
+  ##
+  command: []
+
</span>   ## prometheus server priorityClassName
   ##
   priorityClassName: ""
<span class="err">
</span></code></pre></div></div> <h2 id="2202"> <a href="#2202" class="anchor-heading" aria-labelledby="2202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.0.2 </h2> <p><strong>Release date:</strong> 2023-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-44"> <a href="#default-value-changes-44" class="anchor-heading" aria-labelledby="default-value-changes-44"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2201"> <a href="#2201" class="anchor-heading" aria-labelledby="2201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.0.1 </h2> <p><strong>Release date:</strong> 2023-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add a maintainer (#3311)</li> </ul> <h3 id="default-value-changes-45"> <a href="#default-value-changes-45" class="anchor-heading" aria-labelledby="default-value-changes-45"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2200"> <a href="#2200" class="anchor-heading" aria-labelledby="2200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 22.0.0 </h2> <p><strong>Release date:</strong> 2023-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a>Remove app.kubernetes.io/version label from selector (#3309)</li> </ul> <h3 id="default-value-changes-46"> <a href="#default-value-changes-46" class="anchor-heading" aria-labelledby="default-value-changes-46"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2112"> <a href="#2112" class="anchor-heading" aria-labelledby="2112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.1.2 </h2> <p><strong>Release date:</strong> 2023-04-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix prometheus 3307 (#3308)</li> </ul> <h3 id="default-value-changes-47"> <a href="#default-value-changes-47" class="anchor-heading" aria-labelledby="default-value-changes-47"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2111"> <a href="#2111" class="anchor-heading" aria-labelledby="2111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.1.1 </h2> <p><strong>Release date:</strong> 2023-04-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Make Prometheus configmap reload can have custom reload url (#3298)</li> </ul> <h3 id="default-value-changes-48"> <a href="#default-value-changes-48" class="anchor-heading" aria-labelledby="default-value-changes-48"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2110"> <a href="#2110" class="anchor-heading" aria-labelledby="2110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.1.0 </h2> <p><strong>Release date:</strong> 2023-04-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for renaming generated persistent volume (#3289)</li> </ul> <h3 id="default-value-changes-49"> <a href="#default-value-changes-49" class="anchor-heading" aria-labelledby="default-value-changes-49"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1000b68b..eb1836f2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -354,6 +354,11 @@</span> server:
     ##
     enabled: true
 
<span class="gi">+    ## If set it will override the name of the created persistent volume claim
+    ## generated by the stateful set.
+    ##
+    statefulSetNameOverride:
+
</span>     ## Prometheus server data Persistent Volume access modes
     ## Must match those of existing PV or dynamic provisioner
     ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
<span class="err">
</span></code></pre></div></div> <h2 id="2101"> <a href="#2101" class="anchor-heading" aria-labelledby="2101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.1 </h2> <p><strong>Release date:</strong> 2023-04-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Remove toYaml function in extraManifests template (#3287)</li> </ul> <h3 id="default-value-changes-50"> <a href="#default-value-changes-50" class="anchor-heading" aria-labelledby="default-value-changes-50"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2100"> <a href="#2100" class="anchor-heading" aria-labelledby="2100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 21.0.0 </h2> <p><strong>Release date:</strong> 2023-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Adopt helm standard label format (#3246)</li> </ul> <h3 id="default-value-changes-51"> <a href="#default-value-changes-51" class="anchor-heading" aria-labelledby="default-value-changes-51"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2021"> <a href="#2021" class="anchor-heading" aria-labelledby="2021"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.2.1 </h2> <p><strong>Release date:</strong> 2023-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Typo and broken link fix (#3261)</li> </ul> <h3 id="default-value-changes-52"> <a href="#default-value-changes-52" class="anchor-heading" aria-labelledby="default-value-changes-52"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index bb459edd..1000b68b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -566,7 +566,7 @@</span> server:
     clusterIP: ""
 
     ## List of IP addresses at which the Prometheus server service is available
<span class="gd">-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
</span><span class="gi">+    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/#external-ips
</span>     ##
     externalIPs: []
 
<span class="err">
</span></code></pre></div></div> <h2 id="2020"> <a href="#2020" class="anchor-heading" aria-labelledby="2020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.2.0 </h2> <p><strong>Release date:</strong> 2023-04-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add support for pod topology spread constraints (#3183)</li> </ul> <h3 id="default-value-changes-53"> <a href="#default-value-changes-53" class="anchor-heading" aria-labelledby="default-value-changes-53"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8fd7a0fe..bb459edd 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -332,6 +332,10 @@</span> server:
   ##
   affinity: {}
 
<span class="gi">+  ## Pod topology spread constraints
+  ## ref. https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/
+  topologySpreadConstraints: []
+
</span>   ## PodDisruptionBudget settings
   ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="2010"> <a href="#2010" class="anchor-heading" aria-labelledby="2010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.1.0 </h2> <p><strong>Release date:</strong> 2023-04-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add support for tsdb and exemplars (#3181)</li> </ul> <h3 id="default-value-changes-54"> <a href="#default-value-changes-54" class="anchor-heading" aria-labelledby="default-value-changes-54"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5b525a9d..8fd7a0fe 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -190,6 +190,17 @@</span> server:
   ##
   remoteRead: []
 
<span class="gi">+  ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#tsdb
+  ##
+  tsdb: {}
+    # out_of_order_time_window: 0s
+
+  ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#exemplars
+  ## Must be enabled via --enable-feature=exemplar-storage
+  ##
+  exemplars: {}
+    # max_exemplars: 100000
+
</span>   ## Custom HTTP headers for Liveness/Readiness/Startup Probe
   ##
   ## Useful for providing HTTP Basic Auth to healthchecks
<span class="err">
</span></code></pre></div></div> <h2 id="2002"> <a href="#2002" class="anchor-heading" aria-labelledby="2002"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.0.2 </h2> <p><strong>Release date:</strong> 2023-03-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.43.0&amp;color=success" alt="AppVersion: v2.43.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> hotfix CVE-2022-28391 (#3154)</li> </ul> <h3 id="default-value-changes-55"> <a href="#default-value-changes-55" class="anchor-heading" aria-labelledby="default-value-changes-55"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2001"> <a href="#2001" class="anchor-heading" aria-labelledby="2001"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.0.1 </h2> <p><strong>Release date:</strong> 2023-03-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix passing extra watched dirs and usage in statefulset (#3141)</li> </ul> <h3 id="default-value-changes-56"> <a href="#default-value-changes-56" class="anchor-heading" aria-labelledby="default-value-changes-56"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="2000"> <a href="#2000" class="anchor-heading" aria-labelledby="2000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 20.0.0 </h2> <p><strong>Release date:</strong> 2023-03-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Switch to use a different config map reloader (#3133)</li> </ul> <h3 id="default-value-changes-57"> <a href="#default-value-changes-57" class="anchor-heading" aria-labelledby="default-value-changes-57"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 981af89c..5b525a9d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -16,7 +16,7 @@</span> serviceAccounts:
     annotations: {}
 
 ## Monitors ConfigMap changes and POSTs to a URL
<span class="gd">-## Ref: https://github.com/jimmidyson/configmap-reload
</span><span class="gi">+## Ref: https://github.com/prometheus-operator/prometheus-operator/tree/main/cmd/prometheus-config-reloader
</span> ##
 configmapReload:
   prometheus:
<span class="p">@@ -31,8 +31,8 @@</span> configmapReload:
     ## configmap-reload container image
     ##
     image:
<span class="gd">-      repository: jimmidyson/configmap-reload
-      tag: v0.8.0
</span><span class="gi">+      repository: quay.io/prometheus-operator/prometheus-config-reloader
+      tag: v0.63.0
</span>       # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
       digest: ""
       pullPolicy: IfNotPresent
<span class="err">
</span></code></pre></div></div> <h2 id="1972"> <a href="#1972" class="anchor-heading" aria-labelledby="1972"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.7.2 </h2> <p><strong>Release date:</strong> 2023-02-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Revert remove obsolete permission (#3078)</li> </ul> <h3 id="default-value-changes-58"> <a href="#default-value-changes-58" class="anchor-heading" aria-labelledby="default-value-changes-58"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1971"> <a href="#1971" class="anchor-heading" aria-labelledby="1971"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.7.1 </h2> <p><strong>Release date:</strong> 2023-02-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Remove obsolete permissions (#3077)</li> </ul> <h3 id="default-value-changes-59"> <a href="#default-value-changes-59" class="anchor-heading" aria-labelledby="default-value-changes-59"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1961"> <a href="#1961" class="anchor-heading" aria-labelledby="1961"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.6.1 </h2> <p><strong>Release date:</strong> 2023-02-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-60"> <a href="#default-value-changes-60" class="anchor-heading" aria-labelledby="default-value-changes-60"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 61c455c6..981af89c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -943,10 +943,15 @@</span> serverFiles:
             action: replace
             target_label: __metrics_path__
             regex: (.+)
<span class="gd">-          - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
</span><span class="gi">+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_port, __meta_kubernetes_pod_ip]
</span>             action: replace
<span class="gd">-            regex: (.+?)(?::\d+)?;(\d+)
-            replacement: $1:$2
</span><span class="gi">+            regex: (\d+);(([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})
+            replacement: '[$2]:$1'
+            target_label: __address__
+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_port, __meta_kubernetes_pod_ip]
+            action: replace
+            regex: (\d+);((([0-9]+?)(\.|$)){4})
+            replacement: $2:$1
</span>             target_label: __address__
           - action: labelmap
             regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)
<span class="p">@@ -995,10 +1000,15 @@</span> serverFiles:
             action: replace
             target_label: __metrics_path__
             regex: (.+)
<span class="gd">-          - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
</span><span class="gi">+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_port, __meta_kubernetes_pod_ip]
</span>             action: replace
<span class="gd">-            regex: (.+?)(?::\d+)?;(\d+)
-            replacement: $1:$2
</span><span class="gi">+            regex: (\d+);(([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})
+            replacement: '[$2]:$1'
+            target_label: __address__
+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_port, __meta_kubernetes_pod_ip]
+            action: replace
+            regex: (\d+);((([0-9]+?)(\.|$)){4})
+            replacement: $2:$1
</span>             target_label: __address__
           - action: labelmap
             regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)
<span class="err">
</span></code></pre></div></div> <h2 id="1960"> <a href="#1960" class="anchor-heading" aria-labelledby="1960"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.6.0 </h2> <p><strong>Release date:</strong> 2023-02-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update kube-state-metrics deps version (#3036)</li> </ul> <h3 id="default-value-changes-61"> <a href="#default-value-changes-61" class="anchor-heading" aria-labelledby="default-value-changes-61"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1950"> <a href="#1950" class="anchor-heading" aria-labelledby="1950"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.5.0 </h2> <p><strong>Release date:</strong> 2023-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update kube-state-metrics deps version (#3032)</li> </ul> <h3 id="default-value-changes-62"> <a href="#default-value-changes-62" class="anchor-heading" aria-labelledby="default-value-changes-62"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1940"> <a href="#1940" class="anchor-heading" aria-labelledby="1940"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.4.0 </h2> <p><strong>Release date:</strong> 2023-02-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add values.schema.json file (#2965)</li> </ul> <h3 id="default-value-changes-63"> <a href="#default-value-changes-63" class="anchor-heading" aria-labelledby="default-value-changes-63"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 50176f7e..61c455c6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -4,7 +4,7 @@</span> rbac:
 podSecurityPolicy:
   enabled: false
 
<span class="gd">-imagePullSecrets:
</span><span class="gi">+imagePullSecrets: []
</span> # - name: "image-pull-secret"
 
 ## Define serviceAccount names for components. Defaults to component's fully qualified name.
<span class="p">@@ -12,7 +12,7 @@</span> imagePullSecrets:
 serviceAccounts:
   server:
     create: true
<span class="gd">-    name:
</span><span class="gi">+    name: ""
</span>     annotations: {}
 
 ## Monitors ConfigMap changes and POSTs to a URL
<span class="p">@@ -1018,7 +1018,7 @@</span> serverFiles:
 # adds additional scrape configs to prometheus.yml
 # must be a string so you have to add a | after extraScrapeConfigs:
 # example adds prometheus-blackbox-exporter scrape config
<span class="gd">-extraScrapeConfigs:
</span><span class="gi">+extraScrapeConfigs: ""
</span>   # - job_name: 'prometheus-blackbox-exporter'
   #   metrics_path: /probe
   #   params:
<span class="p">@@ -1036,7 +1036,7 @@</span> extraScrapeConfigs:
 
 # Adds option to add alert_relabel_configs to avoid duplicate alerts in alertmanager
 # useful in H/A prometheus with different external labels but the same alerts
<span class="gd">-alertRelabelConfigs:
</span><span class="gi">+alertRelabelConfigs: {}
</span>   # alert_relabel_configs:
   # - source_labels: [dc]
   #   regex: (.+)\d+
<span class="p">@@ -1048,7 +1048,7 @@</span> networkPolicy:
   enabled: false
 
 # Force namespace of namespaced resources
<span class="gd">-forceNamespace: null
</span><span class="gi">+forceNamespace: ""
</span> 
 # Extra manifests to deploy as an array
 extraManifests: []
<span class="err">
</span></code></pre></div></div> <h2 id="1933"> <a href="#1933" class="anchor-heading" aria-labelledby="1933"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.3.3 </h2> <p><strong>Release date:</strong> 2023-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix typo in promethus in prometheus chart readme (#2949)</li> </ul> <h3 id="default-value-changes-64"> <a href="#default-value-changes-64" class="anchor-heading" aria-labelledby="default-value-changes-64"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1932"> <a href="#1932" class="anchor-heading" aria-labelledby="1932"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.3.2 </h2> <p><strong>Release date:</strong> 2023-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add commented metric_relabel_configs example for kubernetes-nodes-cadvisor job (#2947)</li> </ul> <h3 id="default-value-changes-65"> <a href="#default-value-changes-65" class="anchor-heading" aria-labelledby="default-value-changes-65"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 54b6dd19..50176f7e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -751,6 +751,12 @@</span> serverFiles:
             target_label: __metrics_path__
             replacement: /api/v1/nodes/$1/proxy/metrics/cadvisor
 
<span class="gi">+        # Metric relabel configs to apply to samples before ingestion.
+        # [Metric Relabeling](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs)
+        # metric_relabel_configs:
+        # - action: labeldrop
+        #   regex: (kubernetes_io_hostname|failure_domain_beta_kubernetes_io_region|beta_kubernetes_io_os|beta_kubernetes_io_arch|beta_kubernetes_io_instance_type|failure_domain_beta_kubernetes_io_zone)
+
</span>       # Scrape config for service endpoints.
       #
       # The relabeling allows the actual service scrape endpoint to be configured
<span class="err">
</span></code></pre></div></div> <h2 id="1931"> <a href="#1931" class="anchor-heading" aria-labelledby="1931"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.3.1 </h2> <p><strong>Release date:</strong> 2023-01-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Restore VPA v1beta2 compatibility (#2896)</li> </ul> <h3 id="default-value-changes-66"> <a href="#default-value-changes-66" class="anchor-heading" aria-labelledby="default-value-changes-66"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1930"> <a href="#1930" class="anchor-heading" aria-labelledby="1930"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.3.0 </h2> <p><strong>Release date:</strong> 2023-01-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> vpa.yaml - bump apiVersion(v1beta1 to v1) (#2875)</li> </ul> <h3 id="default-value-changes-67"> <a href="#default-value-changes-67" class="anchor-heading" aria-labelledby="default-value-changes-67"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1922"> <a href="#1922" class="anchor-heading" aria-labelledby="1922"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.2 </h2> <p><strong>Release date:</strong> 2022-12-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>kubeStateMetrics.enabled is now kube-state-metrics.enabled (#2864)</li> </ul> <h3 id="default-value-changes-68"> <a href="#default-value-changes-68" class="anchor-heading" aria-labelledby="default-value-changes-68"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1921"> <a href="#1921" class="anchor-heading" aria-labelledby="1921"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.1 </h2> <p><strong>Release date:</strong> 2022-12-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a>add license annotations (#2863)</li> </ul> <h3 id="default-value-changes-69"> <a href="#default-value-changes-69" class="anchor-heading" aria-labelledby="default-value-changes-69"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1920"> <a href="#1920" class="anchor-heading" aria-labelledby="1920"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.2.0 </h2> <p><strong>Release date:</strong> 2022-12-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Enable pulling images by digest (#2849)</li> </ul> <h3 id="default-value-changes-70"> <a href="#default-value-changes-70" class="anchor-heading" aria-labelledby="default-value-changes-70"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f403143a..54b6dd19 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -33,6 +33,8 @@</span> configmapReload:
     image:
       repository: jimmidyson/configmap-reload
       tag: v0.8.0
<span class="gi">+      # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
+      digest: ""
</span>       pullPolicy: IfNotPresent
 
     # containerPort: 9533
<span class="p">@@ -107,6 +109,8 @@</span> server:
     repository: quay.io/prometheus/prometheus
     # if not set appVersion field from Chart.yaml is used
     tag: ""
<span class="gi">+    # When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value).
+    digest: ""
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1910"> <a href="#1910" class="anchor-heading" aria-labelledby="1910"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.1.0 </h2> <p><strong>Release date:</strong> 2022-12-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.41.0&amp;color=success" alt="AppVersion: v2.41.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update chart dependency alertmanager (to 0.24) (#2854)</li> </ul> <h3 id="default-value-changes-71"> <a href="#default-value-changes-71" class="anchor-heading" aria-labelledby="default-value-changes-71"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1902"> <a href="#1902" class="anchor-heading" aria-labelledby="1902"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.2 </h2> <p><strong>Release date:</strong> 2022-12-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.40.5&amp;color=success" alt="AppVersion: v2.40.5"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix Chart.yaml - remove engine: gotpl (#2815)</li> </ul> <h3 id="default-value-changes-72"> <a href="#default-value-changes-72" class="anchor-heading" aria-labelledby="default-value-changes-72"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1901"> <a href="#1901" class="anchor-heading" aria-labelledby="1901"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.1 </h2> <p><strong>Release date:</strong> 2022-12-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.40.5&amp;color=success" alt="AppVersion: v2.40.5"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=&gt;=1.16.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: &gt;=1.16.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Chart.yaml - add kubeVersion, keywords, annotation-links (#2787)</li> </ul> <h3 id="default-value-changes-73"> <a href="#default-value-changes-73" class="anchor-heading" aria-labelledby="default-value-changes-73"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1900"> <a href="#1900" class="anchor-heading" aria-labelledby="1900"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 19.0.0 </h2> <p><strong>Release date:</strong> 2022-12-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.40.5&amp;color=success" alt="AppVersion: v2.40.5"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update chart dependency prometheus-pushgateway (to 2.0) (#2775)</li> </ul> <h3 id="default-value-changes-74"> <a href="#default-value-changes-74" class="anchor-heading" aria-labelledby="default-value-changes-74"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f931fd11..f403143a 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -15,292 +15,6 @@</span> serviceAccounts:
     name:
     annotations: {}
 
<span class="gd">-alertmanager:
-  ## If false, alertmanager will not be installed
-  ##
-  enabled: true
-
-  # Default values for alertmanager.
-  # This is a YAML-formatted file.
-  # Declare variables to be passed into your templates.
-
-  image:
-    repository: quay.io/prometheus/alertmanager
-    tag: v0.24.0
-    pullPolicy: IfNotPresent
-
-  imagePullSecrets: []
-  nameOverride: ""
-  fullnameOverride: ""
-
-  livenessProbe:
-    httpGet:
-      path: /
-      port: http
-
-  readinessProbe:
-    httpGet:
-      path: /
-      port: http
-
-  ## Additional alertmanager container arguments
-  ##
-  extraArgs: {}
-
-  ## Additional Alertmanager Secret mounts
-  # Defines additional mounts with secrets. Secrets must be manually created in the namespace.
-  extraSecretMounts: []
-    # - name: secret-files
-    #   mountPath: /etc/secrets
-    #   subPath: ""
-    #   secretName: alertmanager-secret-files
-    #   readOnly: true
-
-  ingress:
-    ## If true, alertmanager Ingress will be created
-    ##
-    enabled: false
-
-    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
-    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
-    className: ""
-
-    ## alertmanager Ingress annotations
-    ##
-    annotations: {}
-    #   kubernetes.io/ingress.class: nginx
-    #   kubernetes.io/tls-acme: 'true'
-
-    ## alertmanager Ingress hostnames with optional path
-    ## Must be provided if Ingress is enabled
-    ##
-    hosts: []
-      # - host: alertmanager.domain.com
-      #   paths:
-      #     - path: /
-      #       pathType: Prefix
-
-    ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
-    extraPaths: []
-    # - path: /*
-    #   backend:
-    #     serviceName: ssl-redirect
-    #     servicePort: use-annotation
-
-    ## alertmanager Ingress TLS configuration
-    ## Secrets must be manually created in the namespace
-    ##
-    tls: []
-    #  - secretName: chart-example-tls
-    #    hosts:
-    #      - alertmanager.domain.com
-
-  ## Node tolerations for alertmanager scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: []
-    # - key: "key"
-    #   operator: "Equal|Exists"
-    #   value: "value"
-    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  ## Node labels for alertmanager pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector: {}
-
-  ## Pod affinity
-  ##
-  affinity: {}
-
-  ## PodDisruptionBudget settings
-  # Ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/
-  #      https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
-  podDisruptionBudget: {}
-    # maxUnavailable: 1
-    # minAvailable: 1
-
-  persistence:
-    ## If true, alertmanager will create/use a Persistent Volume Claim
-    ## If false, use emptyDir
-    ##
-    enabled: true
-
-    ## alertmanager data Persistent Volume access modes
-    ## Must match those of existing PV or dynamic provisioner
-    ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
-    ##
-    accessModes:
-      - ReadWriteOnce
-
-    ## alertmanager data Persistent Volume size
-    ##
-    size: 2Gi
-
-    ## alertmanager data Persistent Volume Storage Class
-    ## If defined, storageClassName: &lt;storageClass&gt;
-    ## If set to "-", storageClassName: "", which disables dynamic provisioning
-    ## If undefined (the default) or set to null, no storageClassName spec is
-    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
-    ##   GKE, AWS &amp; OpenStack)
-    ##
-    # storageClass: "-"
-
-  ## Annotations to be added to alertmanager pods
-  ##
-  podAnnotations: {}
-    ## Tell prometheus to use a specific set of alertmanager pods
-    ## instead of all alertmanager pods found in the same namespace
-    ## Useful if you deploy multiple releases within the same namespace
-    ##
-    ## prometheus.io/probe: alertmanager-teamA
-
-  ## Labels to be added to Prometheus AlertManager pods
-  ##
-  podLabels: {}
-
-  ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
-  ##
-  replicaCount: 1
-
-  statefulSet:
-    annotations: {}
-
-  ## alertmanager resource requests and limits
-  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
-  ##
-  resources: {}
-    # limits:
-    #   cpu: 10m
-    #   memory: 32Mi
-    # requests:
-    #   cpu: 10m
-    #   memory: 32Mi
-
-  # Custom DNS configuration to be added to alertmanager pods
-  dnsConfig: {}
-    # nameservers:
-    #   - 1.2.3.4
-    # searches:
-    #   - ns1.svc.cluster-domain.example
-    #   - my.dns.search.suffix
-    # options:
-    #   - name: ndots
-    #     value: "2"
-    #   - name: edns0
-
-  ## Security context to be added to alertmanager pods
-  ##
-  podSecurityContext:
-    runAsUser: 65534
-    runAsNonRoot: true
-    runAsGroup: 65534
-    fsGroup: 65534
-
-  ## Security context to be added to alertmanager container
-  ##
-  securityContext: {}
-    # capabilities:
-    #   drop:
-    #   - ALL
-    # readOnlyRootFilesystem: true
-
-  service:
-    annotations: {}
-    clusterPort: 9094
-    loadBalancerIP: ""  # Assign ext IP when Service type is LoadBalancer
-    loadBalancerSourceRanges: []  # Only allow access to loadBalancerIP from these IPs
-    port: 9093
-    # if you want to force a specific nodePort. Must be use with service.type=NodePort
-    # nodePort:
-    type: ClusterIP
-
-  ## List of initial peers
-  ## Ref: https://github.com/prometheus/alertmanager/blob/main/README.md#high-availability
-  additionalPeers: []
-
-  ## Pod anti-affinity can prevent the scheduler from placing Alertmanager replicas on the same node.
-  ## The default value "soft" means that the scheduler should *prefer* to not schedule two replica pods onto the same node but no guarantee is provided.
-  ## The value "hard" means that the scheduler is *required* to not schedule two replica pods onto the same node.
-  ## The value "" will disable pod anti-affinity so that no anti-affinity rules will be configured.
-  ##
-  podAntiAffinity: ""
-
-  ## If anti-affinity is enabled sets the topologyKey to use for anti-affinity.
-  ## This can be changed to, for example, failure-domain.beta.kubernetes.io/zone
-  ##
-  podAntiAffinityTopologyKey: kubernetes.io/hostname
-
-  ## Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
-  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
-  topologySpreadConstraints: []
-    # - maxSkew: 1
-    #   topologyKey: failure-domain.beta.kubernetes.io/zone
-    #   whenUnsatisfiable: DoNotSchedule
-    #   labelSelector:
-    #     matchLabels:
-    #       app.kubernetes.io/instance: alertmanager
-
-
-  command: []
-
-  config:
-    global: {}
-      # slack_api_url: ''
-
-    templates:
-      - '/etc/alertmanager/*.tmpl'
-
-    receivers:
-      - name: default-receiver
-        # slack_configs:
-        #  - channel: '@you'
-        #    send_resolved: true
-
-    route:
-      group_wait: 10s
-      group_interval: 5m
-      receiver: default-receiver
-      repeat_interval: 3h
-
-  ## Monitors ConfigMap changes and POSTs to a URL
-  ## Ref: https://github.com/jimmidyson/configmap-reload
-  ##
-  configmapReload:
-    ## If false, the configmap-reload container will not be deployed
-    ##
-    enabled: true
-
-    ## configmap-reload container name
-    ##
-    name: configmap-reload
-
-    ## configmap-reload container image
-    ##
-    image:
-      repository: jimmidyson/configmap-reload
-      tag: v0.8.0
-      pullPolicy: IfNotPresent
-
-    # containerPort: 9533
-
-    ## configmap-reload resource requests and limits
-    ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
-    ##
-    resources: {}
-
-  templates: {}
-  #   alertmanager.tmpl: |-
-
-  serviceAccount:
-    # Specifies whether a service account should be created
-    create: true
-    # Annotations to add to the service account
-    annotations: {}
-    # The name of the service account to use.
-    # If not set and create is true, a name is generated using the fullname template
-    name:
-
</span> ## Monitors ConfigMap changes and POSTs to a URL
 ## Ref: https://github.com/jimmidyson/configmap-reload
 ##
<span class="p">@@ -348,325 +62,10 @@</span> configmapReload:
     ##
     resources: {}
 
<span class="gd">-kubeStateMetrics:
-  ## If false, kube-state-metrics sub-chart will not be installed
-  ##
-  enabled: true
-
-## kube-state-metrics sub-chart configurable values
-## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-state-metrics
-##
-# kube-state-metrics:
-
-## promtheus-node-exporter sub-chart configurable values
-## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-node-exporter
-##
-prometheus-node-exporter:
-  ## If false, node-exporter will not be installed
-  ##
-  enabled: true
-
-  # Expose the service to the host network
-  hostNetwork: true
-
-  # Share the host process ID namespace
-  hostPID: true
-
-  # Mount the node's root file system (/) at /host/root in the container
-  hostRootFsMount:
-    enabled: true
-    # Defines how new mounts in existing mounts on the node or in the container
-    # are propagated to the container or node, respectively. Possible values are
-    # None, HostToContainer, and Bidirectional. If this field is omitted, then
-    # None is used. More information on:
-    # https://kubernetes.io/docs/concepts/storage/volumes/#mount-propagation
-    mountPropagation: HostToContainer
-
-  image:
-    repository: quay.io/prometheus/node-exporter
-    # Overrides the image tag whose default is {{ printf "v%s" .Chart.AppVersion }}
-    tag: ""
-    pullPolicy: IfNotPresent
-    sha: ""
-
-  imagePullSecrets: []
-  # - name: "image-pull-secret"
-
-  rbac:
-    ## If true, create &amp; use RBAC resources
-    ##
-    create: true
-    ## If true, create &amp; use Pod Security Policy resources
-    ## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
-    pspEnabled: false
-    pspAnnotations: {}
-      ## Specify pod annotations
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
-      ##
-      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
-      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
-      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
-
-  ## Assign a PriorityClassName to pods if set
-  ##
-  # priorityClassName: ""
-
-  ## Customize the updateStrategy if set
-  ##
-  updateStrategy:
-    type: RollingUpdate
-    rollingUpdate:
-      maxUnavailable: 1
-
-  ## Additional InitContainers to initialize the pod
-  ##
-  extraInitContainers: []
-
-  ## Additional mounts from the host to node-exporter container
-  ##
-  extraHostVolumeMounts: []
-  #  - name: &lt;mountName&gt;
-  #    hostPath: &lt;hostPath&gt;
-  #    mountPath: &lt;mountPath&gt;
-  #    readOnly: true|false
-  #    mountPropagation: None|HostToContainer|Bidirectional
-
-  ## Additional configmaps to be mounted.
-  ##
-  configmaps: []
-  # - name: &lt;configMapName&gt;
-  #   mountPath: &lt;mountPath&gt;
-  secrets: []
-  # - name: &lt;secretName&gt;
-  #   mountPath: &lt;mountPatch&gt;
-
-  ## Node tolerations for node-exporter scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations:
-    - effect: NoSchedule
-      operator: Exists
-
-  ## Assign a nodeSelector if operating a hybrid cluster
-  ##
-  nodeSelector: {}
-  #   beta.kubernetes.io/arch: amd64
-  #   beta.kubernetes.io/os: linux
-
-  # Annotations to be added to node exporter pods
-  podAnnotations:
-    # Fix for very slow GKE cluster upgrades
-    cluster-autoscaler.kubernetes.io/safe-to-evict: "true"
-
-  # Extra labels to be added to node exporter pods
-  podLabels: {}
-
-  # Additional environment variables that will be passed to the daemonset
-  env: {}
-    # VARIABLE: value
-
-  prometheus:
-    monitor:
-      enabled: false
-      additionalLabels: {}
-      namespace: ""
-
-      jobLabel: ""
-
-      scheme: http
-      basicAuth: {}
-      bearerTokenFile:
-      tlsConfig: {}
-
-      ## proxyUrl: URL of a proxy that should be used for scraping.
-      ##
-      proxyUrl: ""
-
-      ## Override serviceMonitor selector
-      ##
-      selectorOverride: {}
-
-      relabelings: []
-      metricRelabelings: []
-      interval: ""
-      scrapeTimeout: 10s
-      ## prometheus.monitor.apiVersion ApiVersion for the serviceMonitor Resource(defaults to "monitoring.coreos.com/v1")
-      apiVersion: ""
-
-      ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
-      ##
-      sampleLimit: 0
-
-      ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
-      ##
-      targetLimit: 0
-
-      ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
-      ##
-      labelLimit: 0
-
-      ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
-      ##
-      labelNameLengthLimit: 0
-
-      ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
-      ##
-      labelValueLengthLimit: 0
-
-  ## node-exporter resource limits &amp; requests
-  ## Ref: https://kubernetes.io/docs/user-guide/compute-resources/
-  ##
-  resources: {}
-    # We usually recommend not to specify default resources and to leave this as a conscious
-    # choice for the user. This also increases chances charts run on environments with little
-    # resources, such as Minikube. If you do want to specify resources, uncomment the following
-    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
-    # limits:
-    #   cpu: 200m
-    #   memory: 50Mi
-    # requests:
-    #   cpu: 100m
-    #   memory: 30Mi
-
-  containerSecurityContext:
-    allowPrivilegeEscalation: false
-    # capabilities:
-    #   add:
-    #   - SYS_TIME
-
-  # Custom DNS configuration to be added to prometheus-node-exporter pods
-  dnsConfig: {}
-  # nameservers:
-  #   - 1.2.3.4
-  # searches:
-  #   - ns1.svc.cluster-domain.example
-  #   - my.dns.search.suffix
-  # options:
-  #   - name: ndots
-  #     value: "2"
-  #   - name: edns0
-
-  serviceAccount:
-    # Specifies whether a ServiceAccount should be created
-    create: true
-    # The name of the ServiceAccount to use.
-    # If not set and create is true, a name is generated using the fullname template
-    name:
-    annotations: {}
-    imagePullSecrets: []
-    automountServiceAccountToken: false
-
-  securityContext:
-    fsGroup: 65534
-    runAsGroup: 65534
-    runAsNonRoot: true
-    runAsUser: 65534
-
-  service:
-    type: ClusterIP
-    port: 9100
-    targetPort: 9100
-    nodePort:
-    portName: metrics
-    listenOnAllInterfaces: true
-    annotations:
-      prometheus.io/scrape: "true"
-
-  # for deployments that have node_exporter deployed outside of the cluster, list
-  # their addresses here
-  endpoints: []
-
-  ## Assign a group of affinity scheduling rules
-  ##
-  affinity: {}
-  #   nodeAffinity:
-  #     requiredDuringSchedulingIgnoredDuringExecution:
-  #       nodeSelectorTerms:
-  #         - matchFields:
-  #             - key: metadata.name
-  #               operator: In
-  #               values:
-  #                 - target-host-name
-
-  ## set to true to add the release label so scraping of the servicemonitor with kube-prometheus-stack works out of the box
-  releaseLabel: false
-
-  ## Override the deployment namespace
-  ##
-  namespaceOverride: ""
-
-  ## Additional containers for export metrics to text file
-  ##
-  sidecars: []
-  ##  - name: nvidia-dcgm-exporter
-  ##    image: nvidia/dcgm-exporter:1.4.3
-
-  ## Volume for sidecar containers
-  ##
-  sidecarVolumeMount: []
-  ##  - name: collector-textfiles
-  ##    mountPath: /run/prometheus
-  ##    readOnly: false
-
-  ## Additional mounts from the host to sidecar containers
-  ##
-  sidecarHostVolumeMounts: []
-  #  - name: &lt;mountName&gt;
-  #    hostPath: &lt;hostPath&gt;
-  #    mountPath: &lt;mountPath&gt;
-  #    readOnly: true|false
-  #    mountPropagation: None|HostToContainer|Bidirectional
-
-  ## Liveness probe
-  ##
-  livenessProbe:
-    failureThreshold: 3
-    httpGet:
-      httpHeaders: []
-      scheme: http
-    initialDelaySeconds: 0
-    periodSeconds: 10
-    successThreshold: 1
-    timeoutSeconds: 1
-
-  ## Readiness probe
-  ##
-  readinessProbe:
-    failureThreshold: 3
-    httpGet:
-      httpHeaders: []
-      scheme: http
-    initialDelaySeconds: 0
-    periodSeconds: 10
-    successThreshold: 1
-    timeoutSeconds: 1
-
-  # Enable vertical pod autoscaler support for prometheus-node-exporter
-  verticalPodAutoscaler:
-    enabled: false
-    # List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
-    controlledResources: []
-
-    # Define the max allowed resources for the pod
-    maxAllowed: {}
-    # cpu: 200m
-    # memory: 100Mi
-    # Define the min allowed resources for the pod
-    minAllowed: {}
-    # cpu: 200m
-    # memory: 100Mi
-
-    # updatePolicy:
-      # Specifies whether recommended updates are applied when a Pod is started and whether recommended updates
-      # are applied during the life of a Pod. Possible values are "Off", "Initial", "Recreate", and "Auto".
-      # updateMode: Auto
-
</span> server:
   ## Prometheus server container name
   ##
<span class="gd">-  enabled: true
</span><span class="gi">+  name: server
</span> 
   ## Use a ClusterRole (and ClusterRoleBinding)
   ## - If set to false - we define a RoleBinding in the defined namespaces ONLY
<span class="p">@@ -682,8 +81,6 @@</span> server:
   # namespaces:
   #   - yournamespace
 
<span class="gd">-  name: server
-
</span>   # sidecarContainers - add more containers to prometheus server
   # Key/Value where Key is the sidecar `- name: &lt;Key&gt;`
   # Example:
<span class="p">@@ -708,7 +105,8 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.39.1
</span><span class="gi">+    # if not set appVersion field from Chart.yaml is used
+    tag: ""
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -892,8 +290,8 @@</span> server:
     #       - prometheus.domain.com
 
   ## Server Deployment Strategy type
<span class="gd">-  # strategy:
-  #   type: Recreate
</span><span class="gi">+  strategy:
+    type: Recreate
</span> 
   ## hostAliases allows adding entries to /etc/hosts inside the containers
   hostAliases: []
<span class="p">@@ -1180,395 +578,12 @@</span> server:
   ##
   retention: "15d"
 
<span class="gd">-  ## Array of extra Kubernetes manifests, in form of YAML object,
-  ## if you want to deploy
-  extraObjects: []
-  # - apiVersion: v1
-  #   kind: ConfigMap
-  #   metadata:
-  #     name: '{{ template "prometheus.name" . }}-extra-config'
-
-  ## Array of extra Kubernetes manifest, in form of template string,
-  ## if you want to deploy
-  extraTemplates: []
-  # - |
-  #   apiVersion: v1
-  #   kind: ConfigMap
-  #   metadata:
-  #     name: extra-config
-  #     labels:
-  #   {{- include "prometheus.server.labels" . | nindent 4 }}
-
-prometheus-pushgateway:
-  ## If false, pushgateway will not be installed
-  ##
-  enabled: true
-
-  # Provide a name in place of prometheus-pushgateway for `app:` labels
-  nameOverride: ""
-
-  # Provide a name to substitute for the full names of resources
-  fullnameOverride: ""
-
-  ## pushgateway container image
-  ##
-  image:
-    repository: prom/pushgateway
-    tag: v1.4.3
-    pullPolicy: IfNotPresent
-
-  ## pushgateway priorityClassName
-  ##
-  priorityClassName: ""
-
-  ## Additional pushgateway container arguments
-  ##
-  ## example:
-  ## extraArgs:
-  ##  - --persistence.file=/data/pushgateway.data
-  ##  - --persistence.interval=5m
-  extraArgs: []
-
-  ## Additional InitContainers to initialize the pod
-  ##
-  extraInitContainers: []
-
-  ## Configure ingress resource that allow you to access the
-  ## pushgateway installation. Set up the URL
-  ## ref: http://kubernetes.io/docs/user-guide/ingress/
-  ##
-  ingress:
-    ## Enable Ingress.
-    ##
-    enabled: false
-
-    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
-    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
-    # AWS ALB requires path of /*
-    # className: "nginx"
-
-    ## Annotations.
-    ##
-    annotations: {}
-    #   kubernetes.io/ingress.class: nginx
-    #   kubernetes.io/tls-acme: 'true'
-
-    ## pushgateway Ingress hostnames with optional path
-    ## Must be provided if Ingress is enabled.
-    ##
-    hosts: []
-    #   - pushgateway.domain.com
-    #   - domain.com/pushgateway
-
-    path: /
-
-    # pathType is only for k8s &gt;= 1.18
-    pathType: Prefix
-
-    ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
-    extraPaths: []
-    # - path: /*
-    #   backend:
-    #     serviceName: ssl-redirect
-    #     servicePort: use-annotation
-
-    ## pushgateway Ingress TLS configuration
-    ## Secrets must be manually created in the namespace.
-    ##
-    tls: []
-    #   - secretName: pushgateway-tls
-    #     hosts:
-    #       - pushgateway.domain.com
-
-  ## Node tolerations for pushgateway scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: {}
-    # - key: "key"
-    #   operator: "Equal|Exists"
-    #   value: "value"
-    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  ## Node labels for pushgateway pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector: {}
-
-  ## Annotations to be added to pushgateway pods
-  ##
-  podAnnotations: {}
-
-  ## Labels to be added to pushgateway pods
-  ##
-  podLabels: {}
-
-  replicaCount: 1
-
-  # The values to set in the PodDisruptionBudget spec (minAvailable/maxUnavailable)
-  # If not set then a PodDisruptionBudget will not be created
-  podDisruptionBudget: {}
-    # enabled: false
-    # maxUnavailable: 1
-
-  resources: {}
-    # We usually recommend not to specify default resources and to leave this as a conscious
-    # choice for the user. This also increases chances charts run on environments with little
-    # resources, such as Minikube. If you do want to specify resources, uncomment the following
-    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
-    # limits:
-    #   cpu: 200m
-    #   memory: 50Mi
-    # requests:
-    #   cpu: 100m
-    #   memory: 30Mi
-
-  ## Security context to be added to push-gateway pods
-  ##
-  securityContext:
-    fsGroup: 65534
-    runAsUser: 65534
-    runAsNonRoot: true
-
-  ## Security context to be added to push-gateway containers
-  ## Having a separate variable as securityContext differs for pods and containers.
-  containerSecurityContext: {}
-  #  allowPrivilegeEscalation: false
-  #  readOnlyRootFilesystem: true
-  #  runAsUser: 65534
-  #  runAsNonRoot: true
-
-  # Optional service annotations
-  serviceAnnotations:
-    prometheus.io/probe: pushgateway
-
-  # Optional service labels
-  serviceLabels: {}
-
-  service:
-    targetPort: 9091
-
-    # Optional - Can be used for headless if value is "None"
-    clusterIP: ""
-
-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-    port: 9091
-    type: ClusterIP
-
-  ## pushgateway Deployment Strategy type
-  # strategy:
-  #   type: Recreate
-
-  # Optional persistentVolume labels
-  persistentVolumeLabels: {}
-
-  persistentVolume:
-    ## If true, pushgateway will create/use a Persistent Volume Claim
-    ## If false, use emptyDir
-    ##
-    enabled: false
-
-    ## pushgateway data Persistent Volume access modes
-    ## Must match those of existing PV or dynamic provisioner
-    ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
-    ##
-    accessModes:
-      - ReadWriteOnce
-
-    ## pushgateway data Persistent Volume Claim annotations
-    ##
-    annotations: {}
-
-    ## pushgateway data Persistent Volume existing claim name
-    ## Requires pushgateway.persistentVolume.enabled: true
-    ## If defined, PVC must be created manually before volume will be bound
-    existingClaim: ""
-
-    ## pushgateway data Persistent Volume mount root path
-    ##
-    mountPath: /data
-
-    ## pushgateway data Persistent Volume size
-    ##
-    size: 2Gi
-
-    ## pushgateway data Persistent Volume Storage Class
-    ## If defined, storageClassName: &lt;storageClass&gt;
-    ## If set to "-", storageClassName: "", which disables dynamic provisioning
-    ## If undefined (the default) or set to null, no storageClassName spec is
-    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
-    ##   GKE, AWS &amp; OpenStack)
-    ##
-    # storageClass: "-"
-
-    ## Subdirectory of pushgateway data Persistent Volume to mount
-    ## Useful if the volume's root directory is not empty
-    ##
-    subPath: ""
-
-  extraVolumes: []
-    # - name: extra
-    #   emptyDir: {}
-
-  extraVolumeMounts: []
-    # - name: extra
-    #   mountPath: /usr/share/extras
-    #   readOnly: true
-
-  # Optional serviceAccount labels
-  serviceAccountLabels: {}
-
-  # Optional pod imagePullSecrets
-  imagePullSecrets: []
-
-  # Optional additional environment variables
-  extraVars: []
-
-  # Optional additional containers (sidecar)
-  extraContainers: []
-    # - name: oAuth2-proxy
-    #   args:
-    #     - -https-address=:9092
-    #     - -upstream=http://localhost:9091
-    #     - -skip-auth-regex=^/metrics
-    #     - -openshift-delegate-urls={"/":{"group":"monitoring.coreos.com","resource":"prometheuses","verb":"get"}}
-    #   image: openshift/oauth-proxy:v1.1.0
-    #   ports:
-    #       - containerPort: 9092
-    #         name: proxy
-    #   resources:
-    #       limits:
-    #         memory: 16Mi
-    #       requests:
-    #         memory: 4Mi
-    #         cpu: 20m
-    #   volumeMounts:
-    #     - mountPath: /etc/prometheus/secrets/pushgateway-tls
-    #       name: secret-pushgateway-tls
-
-  liveness:
-    enabled: true
-    probe:
-      httpGet:
-        path: /-/ready
-        port: 9091
-      initialDelaySeconds: 10
-      timeoutSeconds: 10
-
-  readiness:
-    enabled: true
-    probe:
-      httpGet:
-        path: /-/ready
-        port: 9091
-      initialDelaySeconds: 10
-      timeoutSeconds: 10
-
-  serviceAccount:
-    # Specifies whether a ServiceAccount should be created
-    create: true
-    # The name of the ServiceAccount to use.
-    # If not set and create is true, a name is generated using the fullname template
-    name:
-
-  ## When running more than one replica alongside with persistence, different volumes are needed
-  ## per replica, since sharing a `persistence.file` across replicas does not keep metrics synced.
-  ## For this purpose, you can enable the `runAsStatefulSet` to deploy the pushgateway as a
-  ## StatefulSet instead of as a Deployment.
-  runAsStatefulSet: false
-
-  ## Affinity for pod assignment
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
-  affinity: {}
-
-  ## Topology spread constraints for pods
-  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
-  topologySpreadConstraints: []
-
-  # Enable this if you're using https://github.com/coreos/prometheus-operator
-  serviceMonitor:
-    enabled: false
-    namespace: monitoring
-
-    # Fallback to the prometheus default unless specified
-    # interval: 10s
-
-    ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
-    # scheme: ""
-
-    ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
-    ## Of type: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
-    # tlsConfig: {}
-
-    # bearerTokenFile:
-    # Fallback to the prometheus default unless specified
-    # scrapeTimeout: 30s
-
-    ## Used to pass Labels that are used by the Prometheus installed in your cluster to select Service Monitors to work with
-    ## ref: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#prometheusspec
-    additionalLabels: {}
-
-    # Retain the job and instance labels of the metrics pushed to the Pushgateway
-    # [Scraping Pushgateway](https://github.com/prometheus/pushgateway#configure-the-pushgateway-as-a-target-to-scrape)
-    honorLabels: true
-
-    ## Metric relabel configs to apply to samples before ingestion.
-    ## [Metric Relabeling](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs)
-    metricRelabelings: []
-    # - action: keep
-    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
-    #   sourceLabels: [__name__]
-
-    ## Relabel configs to apply to samples before ingestion.
-    ## [Relabeling](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config)
-    relabelings: []
-    # - sourceLabels: [__meta_kubernetes_pod_node_name]
-    #   separator: ;
-    #   regex: ^(.*)$
-    #   targetLabel: nodename
-    #   replacement: $1
-    #   action: replace
-
-  # Configuration for clusters with restrictive network policies in place:
-  # - allowAll allows access to the PushGateway from any namespace
-  # - customSelector is a list of pod/namespaceSelectors to allow access from
-  # These options are mutually exclusive and the latter will take precedence.
-  networkPolicy: {}
-    # allowAll: true
-    # customSelectors:
-    #   - namespaceSelector:
-    #       matchLabels:
-    #         type: admin
-    #   - podSelector:
-    #       matchLabels:
-    #         app: myapp
-
-## alertmanager ConfigMap entries
-##
-alertmanagerFiles:
-  alertmanager.yml:
-    global: {}
-      # slack_api_url: ''
-
-    receivers:
-      - name: default-receiver
-        # slack_configs:
-        #  - channel: '@you'
-        #    send_resolved: true
-
-    route:
-      group_wait: 10s
-      group_interval: 5m
-      receiver: default-receiver
-      repeat_interval: 3h
-
</span> ## Prometheus server ConfigMap entries for rule files (allow prometheus labels interpolation)
 ruleFiles: {}
 
 ## Prometheus server ConfigMap entries
 ##
 serverFiles:
<span class="gd">-
</span>   ## Alerts configuration
   ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/
   alerting_rules.yml: {}
<span class="p">@@ -2034,3 +1049,56 @@</span> extraManifests: []
   #     name: prometheus-extra
   #   data:
   #     extra-data: "value"
<span class="gi">+
+# Configuration of subcharts defined in Chart.yaml
+
+## alertmanager sub-chart configurable values
+## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/alertmanager
+##
+alertmanager:
+  ## If false, alertmanager will not be installed
+  ##
+  enabled: true
+
+  persistence:
+    size: 2Gi
+
+  podSecurityContext:
+    runAsUser: 65534
+    runAsNonRoot: true
+    runAsGroup: 65534
+    fsGroup: 65534
+
+## kube-state-metrics sub-chart configurable values
+## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-state-metrics
+##
+kube-state-metrics:
+  ## If false, kube-state-metrics sub-chart will not be installed
+  ##
+  enabled: true
+
+## promtheus-node-exporter sub-chart configurable values
+## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-node-exporter
+##
+prometheus-node-exporter:
+  ## If false, node-exporter will not be installed
+  ##
+  enabled: true
+
+  rbac:
+    pspEnabled: false
+
+  containerSecurityContext:
+    allowPrivilegeEscalation: false
+
+## pprometheus-pushgateway sub-chart configurable values
+## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-pushgateway
+##
+prometheus-pushgateway:
+  ## If false, pushgateway will not be installed
+  ##
+  enabled: true
+
+  # Optional service annotations
+  serviceAnnotations:
+    prometheus.io/probe: pushgateway
</span><span class="err">
</span></code></pre></div></div> <h2 id="1840"> <a href="#1840" class="anchor-heading" aria-labelledby="1840"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.4.0 </h2> <p><strong>Release date:</strong> 2022-12-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a>update chart dependency prometheus-node-exporter (4.7 to 4.8), image 1.5.0 (#2768)</li> </ul> <h3 id="default-value-changes-75"> <a href="#default-value-changes-75" class="anchor-heading" aria-labelledby="default-value-changes-75"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1832"> <a href="#1832" class="anchor-heading" aria-labelledby="1832"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.3.2 </h2> <p><strong>Release date:</strong> 2022-12-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix alertmanager discovery when overriding names (#2771)</li> </ul> <h3 id="default-value-changes-76"> <a href="#default-value-changes-76" class="anchor-heading" aria-labelledby="default-value-changes-76"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1831"> <a href="#1831" class="anchor-heading" aria-labelledby="1831"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.3.1 </h2> <p><strong>Release date:</strong> 2022-12-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix alertmanager discovery (#2765)</li> </ul> <h3 id="default-value-changes-77"> <a href="#default-value-changes-77" class="anchor-heading" aria-labelledby="default-value-changes-77"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1830"> <a href="#1830" class="anchor-heading" aria-labelledby="1830"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.3.0 </h2> <p><strong>Release date:</strong> 2022-12-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updates the configmap-reload image to v0.8.0 (#2767)</li> </ul> <h3 id="default-value-changes-78"> <a href="#default-value-changes-78" class="anchor-heading" aria-labelledby="default-value-changes-78"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 7e257ff1..f931fd11 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -318,7 +318,7 @@</span> configmapReload:
     ##
     image:
       repository: jimmidyson/configmap-reload
<span class="gd">-      tag: v0.5.0
</span><span class="gi">+      tag: v0.8.0
</span>       pullPolicy: IfNotPresent
 
     # containerPort: 9533
<span class="err">
</span></code></pre></div></div> <h2 id="1820"> <a href="#1820" class="anchor-heading" aria-labelledby="1820"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.2.0 </h2> <p><strong>Release date:</strong> 2022-11-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update chart dependency kube-state-metrics (4.22 to 4.24), image 2.7.0 (#2760)</li> </ul> <h3 id="default-value-changes-79"> <a href="#default-value-changes-79" class="anchor-heading" aria-labelledby="default-value-changes-79"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1811"> <a href="#1811" class="anchor-heading" aria-labelledby="1811"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.1.1 </h2> <p><strong>Release date:</strong> 2022-11-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a>update README.md - add chart dependencies (#2756)</li> </ul> <h3 id="default-value-changes-80"> <a href="#default-value-changes-80" class="anchor-heading" aria-labelledby="default-value-changes-80"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1810"> <a href="#1810" class="anchor-heading" aria-labelledby="1810"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.1.0 </h2> <p><strong>Release date:</strong> 2022-11-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update referenced node-exporter to 4.7.* (#2747)</li> </ul> <h3 id="default-value-changes-81"> <a href="#default-value-changes-81" class="anchor-heading" aria-labelledby="default-value-changes-81"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1800"> <a href="#1800" class="anchor-heading" aria-labelledby="1800"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 18.0.0 </h2> <p><strong>Release date:</strong> 2022-11-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> move alertmanager out of prometheus (#2717)</li> </ul> <h3 id="default-value-changes-82"> <a href="#default-value-changes-82" class="anchor-heading" aria-labelledby="default-value-changes-82"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9f324b6a..7e257ff1 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -10,74 +10,44 @@</span> imagePullSecrets:
 ## Define serviceAccount names for components. Defaults to component's fully qualified name.
 ##
 serviceAccounts:
<span class="gd">-  alertmanager:
-    create: true
-    name:
-    annotations: {}
</span>   server:
     create: true
     name:
     annotations: {}
<span class="gd">-  # pushgateway:
-  #   create: true
-  #   name:
-  #   annotations: {}
</span> 
 alertmanager:
   ## If false, alertmanager will not be installed
   ##
   enabled: true
 
<span class="gd">-  ## Use a ClusterRole (and ClusterRoleBinding)
-  ## - If set to false - we define a Role and RoleBinding in the defined namespaces ONLY
-  ## This makes alertmanager work - for users who do not have ClusterAdmin privs, but wants alertmanager to operate on their own namespaces, instead of clusterwide.
-  useClusterRole: true
-
-  ## Set to a rolename to use existing role - skipping role creating - but still doing serviceaccount and rolebinding to the rolename set here.
-  useExistingRole: false
-
-  ## alertmanager container name
-  ##
-  name: alertmanager
</span><span class="gi">+  # Default values for alertmanager.
+  # This is a YAML-formatted file.
+  # Declare variables to be passed into your templates.
</span> 
<span class="gd">-  ## alertmanager container image
-  ##
</span>   image:
     repository: quay.io/prometheus/alertmanager
     tag: v0.24.0
     pullPolicy: IfNotPresent
 
<span class="gd">-  ## alertmanager priorityClassName
-  ##
-  priorityClassName: ""
</span><span class="gi">+  imagePullSecrets: []
+  nameOverride: ""
+  fullnameOverride: ""
</span> 
<span class="gd">-  ## Custom HTTP headers for Readiness Probe
-  ##
-  ## Useful for providing HTTP Basic Auth to healthchecks
-  probeHeaders: []
</span><span class="gi">+  livenessProbe:
+    httpGet:
+      path: /
+      port: http
+
+  readinessProbe:
+    httpGet:
+      path: /
+      port: http
</span> 
   ## Additional alertmanager container arguments
   ##
   extraArgs: {}
 
<span class="gd">-  ## Additional InitContainers to initialize the pod
-  ##
-  extraInitContainers: []
-
-  ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
-  ## so that the various internal URLs are still able to access as they are in the default case.
-  ## (Optional)
-  prefixURL: ""
-
-  ## External URL which can access alertmanager
-  baseURL: "http://localhost:9093"
-
-  ## Additional alertmanager container environment variable
-  ## For instance to add a http_proxy
-  ##
-  extraEnv: {}
-
-  ## Additional alertmanager Secret mounts
</span><span class="gi">+  ## Additional Alertmanager Secret mounts
</span>   # Defines additional mounts with secrets. Secrets must be manually created in the namespace.
   extraSecretMounts: []
     # - name: secret-files
<span class="p">@@ -86,30 +56,6 @@</span> alertmanager:
     #   secretName: alertmanager-secret-files
     #   readOnly: true
 
<span class="gd">-  ## Additional alertmanager Configmap mounts
-  extraConfigmapMounts: []
-    # - name: template-files
-    #   mountPath: /etc/config/templates.d
-    #   configMap: alertmanager-template-files
-    #   readOnly: true
-
-  ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.alertmanager.configMapOverrideName}}
-  ## Defining configMapOverrideName will cause templates/alertmanager-configmap.yaml
-  ## to NOT generate a ConfigMap resource
-  ##
-  configMapOverrideName: ""
-
-  ## The name of a secret in the same kubernetes namespace which contains the Alertmanager config
-  ## Defining configFromSecret will cause templates/alertmanager-configmap.yaml
-  ## to NOT generate a ConfigMap resource
-  ##
-  configFromSecret: ""
-
-  ## The configuration file name to be loaded to alertmanager
-  ## Must match the key within configuration loaded from ConfigMap/Secret
-  ##
-  configFileName: alertmanager.yml
-
</span>   ingress:
     ## If true, alertmanager Ingress will be created
     ##
<span class="p">@@ -117,7 +63,7 @@</span> alertmanager:
 
     # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
     # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
<span class="gd">-    # ingressClassName: nginx
</span><span class="gi">+    className: ""
</span> 
     ## alertmanager Ingress annotations
     ##
<span class="p">@@ -125,21 +71,14 @@</span> alertmanager:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## alertmanager Ingress additional labels
-    ##
-    extraLabels: {}
-
</span>     ## alertmanager Ingress hostnames with optional path
     ## Must be provided if Ingress is enabled
     ##
     hosts: []
<span class="gd">-    #   - alertmanager.domain.com
-    #   - domain.com/alertmanager
-
-    path: /
-
-    # pathType is only for k8s &gt;= 1.18
-    pathType: Prefix
</span><span class="gi">+      # - host: alertmanager.domain.com
+      #   paths:
+      #     - path: /
+      #       pathType: Prefix
</span> 
     ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
     extraPaths: []
<span class="p">@@ -152,13 +91,9 @@</span> alertmanager:
     ## Secrets must be manually created in the namespace
     ##
     tls: []
<span class="gd">-    #   - secretName: prometheus-alerts-tls
-    #     hosts:
-    #       - alertmanager.domain.com
-
-  ## Alertmanager Deployment Strategy type
-  # strategy:
-  #   type: Recreate
</span><span class="gi">+    #  - secretName: chart-example-tls
+    #    hosts:
+    #      - alertmanager.domain.com
</span> 
   ## Node tolerations for alertmanager scheduling to nodes with taints
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
<span class="p">@@ -179,18 +114,13 @@</span> alertmanager:
   affinity: {}
 
   ## PodDisruptionBudget settings
<span class="gd">-  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
-  ##
-  podDisruptionBudget:
-    enabled: false
-    maxUnavailable: 1
-
-  ## Use an alternate scheduler, e.g. "stork".
-  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
-  ##
-  # schedulerName:
</span><span class="gi">+  # Ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/
+  #      https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
+  podDisruptionBudget: {}
+    # maxUnavailable: 1
+    # minAvailable: 1
</span> 
<span class="gd">-  persistentVolume:
</span><span class="gi">+  persistence:
</span>     ## If true, alertmanager will create/use a Persistent Volume Claim
     ## If false, use emptyDir
     ##
<span class="p">@@ -203,19 +133,6 @@</span> alertmanager:
     accessModes:
       - ReadWriteOnce
 
<span class="gd">-    ## alertmanager data Persistent Volume Claim annotations
-    ##
-    annotations: {}
-
-    ## alertmanager data Persistent Volume existing claim name
-    ## Requires alertmanager.persistentVolume.enabled: true
-    ## If defined, PVC must be created manually before volume will be bound
-    existingClaim: ""
-
-    ## alertmanager data Persistent Volume mount root path
-    ##
-    mountPath: /data
-
</span>     ## alertmanager data Persistent Volume size
     ##
     size: 2Gi
<span class="p">@@ -229,38 +146,6 @@</span> alertmanager:
     ##
     # storageClass: "-"
 
<span class="gd">-    ## alertmanager data Persistent Volume Binding Mode
-    ## If defined, volumeBindingMode: &lt;volumeBindingMode&gt;
-    ## If undefined (the default) or set to null, no volumeBindingMode spec is
-    ##   set, choosing the default mode.
-    ##
-    # volumeBindingMode: ""
-
-    ## Subdirectory of alertmanager data Persistent Volume to mount
-    ## Useful if the volume's root directory is not empty
-    ##
-    subPath: ""
-
-    ## Persistent Volume Claim Selector
-    ## Useful if Persistent Volumes have been provisioned in advance
-    ## Ref: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector
-    ##
-    # selector:
-    #  matchLabels:
-    #    release: "stable"
-    #  matchExpressions:
-    #    - { key: environment, operator: In, values: [ dev ] }
-
-    ## Persistent Volume Name
-    ## Useful if Persistent Volumes have been provisioned in advance and you want to use a specific one
-    ##
-    # volumeName: ""
-
-  emptyDir:
-    ## alertmanager emptyDir volume size limit
-    ##
-    sizeLimit: ""
-
</span>   ## Annotations to be added to alertmanager pods
   ##
   podAnnotations: {}
<span class="p">@@ -274,49 +159,12 @@</span> alertmanager:
   ##
   podLabels: {}
 
<span class="gd">-  ## Specify if a Pod Security Policy for node-exporter must be created
-  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
-  ##
-  podSecurityPolicy:
-    annotations: {}
-      ## Specify pod annotations
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
-      ##
-      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
-      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
-      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
-
</span>   ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
   ##
   replicaCount: 1
 
<span class="gd">-  ## Annotations to be added to deployment
-  ##
-  deploymentAnnotations: {}
-
</span>   statefulSet:
<span class="gd">-    ## If true, use a statefulset instead of a deployment for pod management.
-    ## This allows to scale replicas to more than 1 pod
-    ##
-    enabled: false
-
</span>     annotations: {}
<span class="gd">-    labels: {}
-    podManagementPolicy: OrderedReady
-
-    ## Alertmanager headless service to use for the statefulset
-    ##
-    headless:
-      annotations: {}
-      labels: {}
-
-      ## Enabling peer mesh service end points for enabling the HA alert manager
-      ## Ref: https://github.com/prometheus/alertmanager/blob/master/README.md
-      enableMeshPeer: false
-
-      servicePort: 80
</span> 
   ## alertmanager resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="p">@@ -339,11 +187,11 @@</span> alertmanager:
     # options:
     #   - name: ndots
     #     value: "2"
<span class="gd">-  #   - name: edns0
</span><span class="gi">+    #   - name: edns0
</span> 
   ## Security context to be added to alertmanager pods
   ##
<span class="gd">-  securityContext:
</span><span class="gi">+  podSecurityContext:
</span>     runAsUser: 65534
     runAsNonRoot: true
     runAsGroup: 65534
<span class="p">@@ -351,38 +199,74 @@</span> alertmanager:
 
   ## Security context to be added to alertmanager container
   ##
<span class="gd">-  containerSecurityContext: {}
</span><span class="gi">+  securityContext: {}
+    # capabilities:
+    #   drop:
+    #   - ALL
+    # readOnlyRootFilesystem: true
</span> 
   service:
     annotations: {}
<span class="gd">-    labels: {}
-    clusterIP: ""
-
-    ## Enabling peer mesh service end points for enabling the HA alert manager
-    ## Ref: https://github.com/prometheus/alertmanager/blob/master/README.md
-    # enableMeshPeer : true
-
-    ## List of IP addresses at which the alertmanager service is available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-    ##
-    externalIPs: []
-
-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-    servicePort: 80
-    # nodePort: 30000
-    sessionAffinity: None
</span><span class="gi">+    clusterPort: 9094
+    loadBalancerIP: ""  # Assign ext IP when Service type is LoadBalancer
+    loadBalancerSourceRanges: []  # Only allow access to loadBalancerIP from these IPs
+    port: 9093
+    # if you want to force a specific nodePort. Must be use with service.type=NodePort
+    # nodePort:
</span>     type: ClusterIP
 
   ## List of initial peers
   ## Ref: https://github.com/prometheus/alertmanager/blob/main/README.md#high-availability
<span class="gd">-  clusterPeers: []
</span><span class="gi">+  additionalPeers: []
</span> 
<span class="gd">-## Monitors ConfigMap changes and POSTs to a URL
-## Ref: https://github.com/jimmidyson/configmap-reload
-##
-configmapReload:
-  prometheus:
</span><span class="gi">+  ## Pod anti-affinity can prevent the scheduler from placing Alertmanager replicas on the same node.
+  ## The default value "soft" means that the scheduler should *prefer* to not schedule two replica pods onto the same node but no guarantee is provided.
+  ## The value "hard" means that the scheduler is *required* to not schedule two replica pods onto the same node.
+  ## The value "" will disable pod anti-affinity so that no anti-affinity rules will be configured.
+  ##
+  podAntiAffinity: ""
+
+  ## If anti-affinity is enabled sets the topologyKey to use for anti-affinity.
+  ## This can be changed to, for example, failure-domain.beta.kubernetes.io/zone
+  ##
+  podAntiAffinityTopologyKey: kubernetes.io/hostname
+
+  ## Topology spread constraints rely on node labels to identify the topology domain(s) that each Node is in.
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+  topologySpreadConstraints: []
+    # - maxSkew: 1
+    #   topologyKey: failure-domain.beta.kubernetes.io/zone
+    #   whenUnsatisfiable: DoNotSchedule
+    #   labelSelector:
+    #     matchLabels:
+    #       app.kubernetes.io/instance: alertmanager
+
+
+  command: []
+
+  config:
+    global: {}
+      # slack_api_url: ''
+
+    templates:
+      - '/etc/alertmanager/*.tmpl'
+
+    receivers:
+      - name: default-receiver
+        # slack_configs:
+        #  - channel: '@you'
+        #    send_resolved: true
+
+    route:
+      group_wait: 10s
+      group_interval: 5m
+      receiver: default-receiver
+      repeat_interval: 3h
+
+  ## Monitors ConfigMap changes and POSTs to a URL
+  ## Ref: https://github.com/jimmidyson/configmap-reload
+  ##
+  configmapReload:
</span>     ## If false, the configmap-reload container will not be deployed
     ##
     enabled: true
<span class="p">@@ -395,36 +279,33 @@</span> configmapReload:
     ##
     image:
       repository: jimmidyson/configmap-reload
<span class="gd">-      tag: v0.5.0
</span><span class="gi">+      tag: v0.8.0
</span>       pullPolicy: IfNotPresent
 
     # containerPort: 9533
 
<span class="gd">-    ## Additional configmap-reload container arguments
-    ##
-    extraArgs: {}
-    ## Additional configmap-reload volume directories
-    ##
-    extraVolumeDirs: []
-
-
-    ## Additional configmap-reload mounts
-    ##
-    extraConfigmapMounts: []
-      # - name: prometheus-alerts
-      #   mountPath: /etc/alerts.d
-      #   subPath: ""
-      #   configMap: prometheus-alerts
-      #   readOnly: true
-
-    ## Security context to be added to configmap-reload container
-    containerSecurityContext: {}
-
</span>     ## configmap-reload resource requests and limits
     ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
     ##
     resources: {}
<span class="gd">-  alertmanager:
</span><span class="gi">+
+  templates: {}
+  #   alertmanager.tmpl: |-
+
+  serviceAccount:
+    # Specifies whether a service account should be created
+    create: true
+    # Annotations to add to the service account
+    annotations: {}
+    # The name of the service account to use.
+    # If not set and create is true, a name is generated using the fullname template
+    name:
+
+## Monitors ConfigMap changes and POSTs to a URL
+## Ref: https://github.com/jimmidyson/configmap-reload
+##
+configmapReload:
+  prometheus:
</span>     ## If false, the configmap-reload container will not be deployed
     ##
     enabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="1702"> <a href="#1702" class="anchor-heading" aria-labelledby="1702"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.2 </h2> <p><strong>Release date:</strong> 2022-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix Node Exporter URL in README (#2730)</li> </ul> <h3 id="default-value-changes-83"> <a href="#default-value-changes-83" class="anchor-heading" aria-labelledby="default-value-changes-83"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1701"> <a href="#1701" class="anchor-heading" aria-labelledby="1701"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.1 </h2> <p><strong>Release date:</strong> 2022-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update prometheus README to mention prometheus-pushgateway (#2725)</li> </ul> <h3 id="default-value-changes-84"> <a href="#default-value-changes-84" class="anchor-heading" aria-labelledby="default-value-changes-84"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1700"> <a href="#1700" class="anchor-heading" aria-labelledby="1700"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17.0.0 </h2> <p><strong>Release date:</strong> 2022-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> moving pushgateway out of prometheus (#2714)</li> </ul> <h3 id="default-value-changes-85"> <a href="#default-value-changes-85" class="anchor-heading" aria-labelledby="default-value-changes-85"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 52686dd1..9f324b6a 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -14,14 +14,14 @@</span> serviceAccounts:
     create: true
     name:
     annotations: {}
<span class="gd">-  pushgateway:
-    create: true
-    name:
-    annotations: {}
</span>   server:
     create: true
     name:
     annotations: {}
<span class="gi">+  # pushgateway:
+  #   create: true
+  #   name:
+  #   annotations: {}
</span> 
 alertmanager:
   ## If false, alertmanager will not be installed
<span class="p">@@ -1318,19 +1318,16 @@</span> server:
   #     labels:
   #   {{- include "prometheus.server.labels" . | nindent 4 }}
 
<span class="gd">-pushgateway:
</span><span class="gi">+prometheus-pushgateway:
</span>   ## If false, pushgateway will not be installed
   ##
   enabled: true
 
<span class="gd">-  ## Use an alternate scheduler, e.g. "stork".
-  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
-  ##
-  # schedulerName:
</span><span class="gi">+  # Provide a name in place of prometheus-pushgateway for `app:` labels
+  nameOverride: ""
</span> 
<span class="gd">-  ## pushgateway container name
-  ##
-  name: pushgateway
</span><span class="gi">+  # Provide a name to substitute for the full names of resources
+  fullnameOverride: ""
</span> 
   ## pushgateway container image
   ##
<span class="p">@@ -1345,30 +1342,38 @@</span> pushgateway:
 
   ## Additional pushgateway container arguments
   ##
<span class="gd">-  ## for example: persistence.file: /data/pushgateway.data
-  extraArgs: {}
</span><span class="gi">+  ## example:
+  ## extraArgs:
+  ##  - --persistence.file=/data/pushgateway.data
+  ##  - --persistence.interval=5m
+  extraArgs: []
</span> 
   ## Additional InitContainers to initialize the pod
   ##
   extraInitContainers: []
 
<span class="gi">+  ## Configure ingress resource that allow you to access the
+  ## pushgateway installation. Set up the URL
+  ## ref: http://kubernetes.io/docs/user-guide/ingress/
+  ##
</span>   ingress:
<span class="gd">-    ## If true, pushgateway Ingress will be created
</span><span class="gi">+    ## Enable Ingress.
</span>     ##
     enabled: false
 
     # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
     # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
<span class="gd">-    # ingressClassName: nginx
</span><span class="gi">+    # AWS ALB requires path of /*
+    # className: "nginx"
</span> 
<span class="gd">-    ## pushgateway Ingress annotations
</span><span class="gi">+    ## Annotations.
</span>     ##
     annotations: {}
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
     ## pushgateway Ingress hostnames with optional path
<span class="gd">-    ## Must be provided if Ingress is enabled
</span><span class="gi">+    ## Must be provided if Ingress is enabled.
</span>     ##
     hosts: []
     #   - pushgateway.domain.com
<span class="p">@@ -1387,17 +1392,17 @@</span> pushgateway:
     #     servicePort: use-annotation
 
     ## pushgateway Ingress TLS configuration
<span class="gd">-    ## Secrets must be manually created in the namespace
</span><span class="gi">+    ## Secrets must be manually created in the namespace.
</span>     ##
     tls: []
<span class="gd">-    #   - secretName: prometheus-alerts-tls
</span><span class="gi">+    #   - secretName: pushgateway-tls
</span>     #     hosts:
     #       - pushgateway.domain.com
 
   ## Node tolerations for pushgateway scheduling to nodes with taints
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
<span class="gd">-  tolerations: []
</span><span class="gi">+  tolerations: {}
</span>     # - key: "key"
     #   operator: "Equal|Exists"
     #   value: "value"
<span class="p">@@ -1416,103 +1421,69 @@</span> pushgateway:
   ##
   podLabels: {}
 
<span class="gd">-  ## Specify if a Pod Security Policy for node-exporter must be created
-  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
-  ##
-  podSecurityPolicy:
-    annotations: {}
-      ## Specify pod annotations
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
-      ##
-      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
-      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
-      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
-
</span>   replicaCount: 1
 
<span class="gd">-  ## Annotations to be added to deployment
-  ##
-  deploymentAnnotations: {}
-
-  ## PodDisruptionBudget settings
-  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
-  ##
-  podDisruptionBudget:
-    enabled: false
-    maxUnavailable: 1
</span><span class="gi">+  # The values to set in the PodDisruptionBudget spec (minAvailable/maxUnavailable)
+  # If not set then a PodDisruptionBudget will not be created
+  podDisruptionBudget: {}
+    # enabled: false
+    # maxUnavailable: 1
</span> 
<span class="gd">-  ## pushgateway resource requests and limits
-  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
-  ##
</span>   resources: {}
<span class="gi">+    # We usually recommend not to specify default resources and to leave this as a conscious
+    # choice for the user. This also increases chances charts run on environments with little
+    # resources, such as Minikube. If you do want to specify resources, uncomment the following
+    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
</span>     # limits:
<span class="gd">-    #   cpu: 10m
-    #   memory: 32Mi
</span><span class="gi">+    #   cpu: 200m
+    #   memory: 50Mi
</span>     # requests:
<span class="gd">-    #   cpu: 10m
-    #   memory: 32Mi
-
-  ## Vertical Pod Autoscaler config
-  ## Ref: https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
-  verticalAutoscaler:
-    ## If true a VPA object will be created for the controller
-    enabled: false
-    # updateMode: "Auto"
-    # containerPolicies:
-    # - containerName: 'prometheus-pushgateway'
-
-  # Custom DNS configuration to be added to push-gateway pods
-  dnsConfig: {}
-    # nameservers:
-    #   - 1.2.3.4
-    # searches:
-    #   - ns1.svc.cluster-domain.example
-    #   - my.dns.search.suffix
-    # options:
-    #   - name: ndots
-    #     value: "2"
-  #   - name: edns0
</span><span class="gi">+    #   cpu: 100m
+    #   memory: 30Mi
</span> 
   ## Security context to be added to push-gateway pods
   ##
   securityContext:
<span class="gi">+    fsGroup: 65534
</span>     runAsUser: 65534
     runAsNonRoot: true
 
<span class="gd">-  ## Security context to be added to push-gateway container
</span><span class="gi">+  ## Security context to be added to push-gateway containers
+  ## Having a separate variable as securityContext differs for pods and containers.
</span>   containerSecurityContext: {}
<span class="gi">+  #  allowPrivilegeEscalation: false
+  #  readOnlyRootFilesystem: true
+  #  runAsUser: 65534
+  #  runAsNonRoot: true
+
+  # Optional service annotations
+  serviceAnnotations:
+    prometheus.io/probe: pushgateway
+
+  # Optional service labels
+  serviceLabels: {}
</span> 
   service:
<span class="gd">-    annotations:
-      prometheus.io/probe: pushgateway
-    labels: {}
-    clusterIP: ""
</span><span class="gi">+    targetPort: 9091
</span> 
<span class="gd">-    ## List of IP addresses at which the pushgateway service is available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-    ##
-    externalIPs: []
</span><span class="gi">+    # Optional - Can be used for headless if value is "None"
+    clusterIP: ""
</span> 
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
<span class="gd">-    servicePort: 9091
</span><span class="gi">+    port: 9091
</span>     type: ClusterIP
 
   ## pushgateway Deployment Strategy type
   # strategy:
   #   type: Recreate
 
<span class="gd">-  ## Custom HTTP headers for Liveness/Readiness/Startup Probe
-  ##
-  ## Useful for providing HTTP Basic Auth to healthchecks
-  probeHeaders: []
-    # - name: "Authorization"
-    #   value: "Bearer ABCDEabcde12345"
</span><span class="gi">+  # Optional persistentVolume labels
+  persistentVolumeLabels: {}
</span> 
   persistentVolume:
     ## If true, pushgateway will create/use a Persistent Volume Claim
<span class="gi">+    ## If false, use emptyDir
</span>     ##
     enabled: false
 
<span class="p">@@ -1549,22 +1520,147 @@</span> pushgateway:
     ##
     # storageClass: "-"
 
<span class="gd">-    ## pushgateway data Persistent Volume Binding Mode
-    ## If defined, volumeBindingMode: &lt;volumeBindingMode&gt;
-    ## If undefined (the default) or set to null, no volumeBindingMode spec is
-    ##   set, choosing the default mode.
-    ##
-    # volumeBindingMode: ""
-
</span>     ## Subdirectory of pushgateway data Persistent Volume to mount
     ## Useful if the volume's root directory is not empty
     ##
     subPath: ""
 
<span class="gd">-    ## Persistent Volume Name
-    ## Useful if Persistent Volumes have been provisioned in advance and you want to use a specific one
-    ##
-    # volumeName: ""
</span><span class="gi">+  extraVolumes: []
+    # - name: extra
+    #   emptyDir: {}
+
+  extraVolumeMounts: []
+    # - name: extra
+    #   mountPath: /usr/share/extras
+    #   readOnly: true
+
+  # Optional serviceAccount labels
+  serviceAccountLabels: {}
+
+  # Optional pod imagePullSecrets
+  imagePullSecrets: []
+
+  # Optional additional environment variables
+  extraVars: []
+
+  # Optional additional containers (sidecar)
+  extraContainers: []
+    # - name: oAuth2-proxy
+    #   args:
+    #     - -https-address=:9092
+    #     - -upstream=http://localhost:9091
+    #     - -skip-auth-regex=^/metrics
+    #     - -openshift-delegate-urls={"/":{"group":"monitoring.coreos.com","resource":"prometheuses","verb":"get"}}
+    #   image: openshift/oauth-proxy:v1.1.0
+    #   ports:
+    #       - containerPort: 9092
+    #         name: proxy
+    #   resources:
+    #       limits:
+    #         memory: 16Mi
+    #       requests:
+    #         memory: 4Mi
+    #         cpu: 20m
+    #   volumeMounts:
+    #     - mountPath: /etc/prometheus/secrets/pushgateway-tls
+    #       name: secret-pushgateway-tls
+
+  liveness:
+    enabled: true
+    probe:
+      httpGet:
+        path: /-/ready
+        port: 9091
+      initialDelaySeconds: 10
+      timeoutSeconds: 10
+
+  readiness:
+    enabled: true
+    probe:
+      httpGet:
+        path: /-/ready
+        port: 9091
+      initialDelaySeconds: 10
+      timeoutSeconds: 10
+
+  serviceAccount:
+    # Specifies whether a ServiceAccount should be created
+    create: true
+    # The name of the ServiceAccount to use.
+    # If not set and create is true, a name is generated using the fullname template
+    name:
+
+  ## When running more than one replica alongside with persistence, different volumes are needed
+  ## per replica, since sharing a `persistence.file` across replicas does not keep metrics synced.
+  ## For this purpose, you can enable the `runAsStatefulSet` to deploy the pushgateway as a
+  ## StatefulSet instead of as a Deployment.
+  runAsStatefulSet: false
+
+  ## Affinity for pod assignment
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
+  affinity: {}
+
+  ## Topology spread constraints for pods
+  ## Ref: https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
+  topologySpreadConstraints: []
+
+  # Enable this if you're using https://github.com/coreos/prometheus-operator
+  serviceMonitor:
+    enabled: false
+    namespace: monitoring
+
+    # Fallback to the prometheus default unless specified
+    # interval: 10s
+
+    ## scheme: HTTP scheme to use for scraping. Can be used with `tlsConfig` for example if using istio mTLS.
+    # scheme: ""
+
+    ## tlsConfig: TLS configuration to use when scraping the endpoint. For example if using istio mTLS.
+    ## Of type: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#tlsconfig
+    # tlsConfig: {}
+
+    # bearerTokenFile:
+    # Fallback to the prometheus default unless specified
+    # scrapeTimeout: 30s
+
+    ## Used to pass Labels that are used by the Prometheus installed in your cluster to select Service Monitors to work with
+    ## ref: https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#prometheusspec
+    additionalLabels: {}
+
+    # Retain the job and instance labels of the metrics pushed to the Pushgateway
+    # [Scraping Pushgateway](https://github.com/prometheus/pushgateway#configure-the-pushgateway-as-a-target-to-scrape)
+    honorLabels: true
+
+    ## Metric relabel configs to apply to samples before ingestion.
+    ## [Metric Relabeling](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs)
+    metricRelabelings: []
+    # - action: keep
+    #   regex: 'kube_(daemonset|deployment|pod|namespace|node|statefulset).+'
+    #   sourceLabels: [__name__]
+
+    ## Relabel configs to apply to samples before ingestion.
+    ## [Relabeling](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config)
+    relabelings: []
+    # - sourceLabels: [__meta_kubernetes_pod_node_name]
+    #   separator: ;
+    #   regex: ^(.*)$
+    #   targetLabel: nodename
+    #   replacement: $1
+    #   action: replace
+
+  # Configuration for clusters with restrictive network policies in place:
+  # - allowAll allows access to the PushGateway from any namespace
+  # - customSelector is a list of pod/namespaceSelectors to allow access from
+  # These options are mutually exclusive and the latter will take precedence.
+  networkPolicy: {}
+    # allowAll: true
+    # customSelectors:
+    #   - namespaceSelector:
+    #       matchLabels:
+    #         type: admin
+    #   - podSelector:
+    #       matchLabels:
+    #         app: myapp
</span> 
 ## alertmanager ConfigMap entries
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="1600"> <a href="#1600" class="anchor-heading" aria-labelledby="1600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16.0.0 </h2> <p><strong>Release date:</strong> 2022-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> moving node-exporter out of prometheus (#2673)</li> </ul> <h3 id="default-value-changes-86"> <a href="#default-value-changes-86" class="anchor-heading" aria-labelledby="default-value-changes-86"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3b373826..52686dd1 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -14,10 +14,6 @@</span> serviceAccounts:
     create: true
     name:
     annotations: {}
<span class="gd">-  nodeExporter:
-    create: true
-    name:
-    annotations: {}
</span>   pushgateway:
     create: true
     name:
<span class="p">@@ -481,39 +477,48 @@</span> kubeStateMetrics:
 ##
 # kube-state-metrics:
 
<span class="gd">-nodeExporter:
</span><span class="gi">+## promtheus-node-exporter sub-chart configurable values
+## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-node-exporter
+##
+prometheus-node-exporter:
</span>   ## If false, node-exporter will not be installed
   ##
   enabled: true
 
<span class="gd">-  ## If true, node-exporter pods share the host network namespace
-  ##
</span><span class="gi">+  # Expose the service to the host network
</span>   hostNetwork: true
 
<span class="gd">-  ## If true, node-exporter pods share the host PID namespace
-  ##
</span><span class="gi">+  # Share the host process ID namespace
</span>   hostPID: true
 
<span class="gd">-  ## If true, node-exporter pods mounts host / at /host/root
-  ##
-  hostRootfs: true
-
-  ## node-exporter container name
-  ##
-  name: node-exporter
</span><span class="gi">+  # Mount the node's root file system (/) at /host/root in the container
+  hostRootFsMount:
+    enabled: true
+    # Defines how new mounts in existing mounts on the node or in the container
+    # are propagated to the container or node, respectively. Possible values are
+    # None, HostToContainer, and Bidirectional. If this field is omitted, then
+    # None is used. More information on:
+    # https://kubernetes.io/docs/concepts/storage/volumes/#mount-propagation
+    mountPropagation: HostToContainer
</span> 
<span class="gd">-  ## node-exporter container image
-  ##
</span>   image:
     repository: quay.io/prometheus/node-exporter
<span class="gd">-    tag: v1.3.1
</span><span class="gi">+    # Overrides the image tag whose default is {{ printf "v%s" .Chart.AppVersion }}
+    tag: ""
</span>     pullPolicy: IfNotPresent
<span class="gi">+    sha: ""
</span> 
<span class="gd">-  ## Specify if a Pod Security Policy for node-exporter must be created
-  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
-  ##
-  podSecurityPolicy:
-    annotations: {}
</span><span class="gi">+  imagePullSecrets: []
+  # - name: "image-pull-secret"
+
+  rbac:
+    ## If true, create &amp; use RBAC resources
+    ##
+    create: true
+    ## If true, create &amp; use Pod Security Policy resources
+    ## https://kubernetes.io/docs/concepts/policy/pod-security-policy/
+    pspEnabled: false
+    pspAnnotations: {}
</span>       ## Specify pod annotations
       ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
       ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
<span class="p">@@ -523,95 +528,155 @@</span> nodeExporter:
       # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
       # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
 
<span class="gd">-  ## node-exporter priorityClassName
</span><span class="gi">+  ## Assign a PriorityClassName to pods if set
</span>   ##
<span class="gd">-  priorityClassName: ""
</span><span class="gi">+  # priorityClassName: ""
</span> 
<span class="gd">-  ## Custom Update Strategy
</span><span class="gi">+  ## Customize the updateStrategy if set
</span>   ##
   updateStrategy:
     type: RollingUpdate
<span class="gd">-
-  ## Additional node-exporter container arguments
-  ##
-  extraArgs: {}
</span><span class="gi">+    rollingUpdate:
+      maxUnavailable: 1
</span> 
   ## Additional InitContainers to initialize the pod
   ##
   extraInitContainers: []
 
<span class="gd">-  ## Additional node-exporter hostPath mounts
</span><span class="gi">+  ## Additional mounts from the host to node-exporter container
</span>   ##
<span class="gd">-  extraHostPathMounts: []
-    # - name: textfile-dir
-    #   mountPath: /srv/txt_collector
-    #   hostPath: /var/lib/node-exporter
-    #   readOnly: true
-    #   mountPropagation: HostToContainer
</span><span class="gi">+  extraHostVolumeMounts: []
+  #  - name: &lt;mountName&gt;
+  #    hostPath: &lt;hostPath&gt;
+  #    mountPath: &lt;mountPath&gt;
+  #    readOnly: true|false
+  #    mountPropagation: None|HostToContainer|Bidirectional
</span> 
<span class="gd">-  extraConfigmapMounts: []
-    # - name: certs-configmap
-    #   mountPath: /prometheus
-    #   configMap: certs-configmap
-    #   readOnly: true
</span><span class="gi">+  ## Additional configmaps to be mounted.
+  ##
+  configmaps: []
+  # - name: &lt;configMapName&gt;
+  #   mountPath: &lt;mountPath&gt;
+  secrets: []
+  # - name: &lt;secretName&gt;
+  #   mountPath: &lt;mountPatch&gt;
</span> 
   ## Node tolerations for node-exporter scheduling to nodes with taints
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
<span class="gd">-  tolerations: []
-    # - key: "key"
-    #   operator: "Equal|Exists"
-    #   value: "value"
-    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
</span><span class="gi">+  tolerations:
+    - effect: NoSchedule
+      operator: Exists
</span> 
<span class="gd">-  ## Node labels for node-exporter pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+  ## Assign a nodeSelector if operating a hybrid cluster
</span>   ##
   nodeSelector: {}
<span class="gi">+  #   beta.kubernetes.io/arch: amd64
+  #   beta.kubernetes.io/os: linux
</span> 
<span class="gd">-  ## Annotations to be added to node-exporter pods
-  ##
-  podAnnotations: {}
</span><span class="gi">+  # Annotations to be added to node exporter pods
+  podAnnotations:
+    # Fix for very slow GKE cluster upgrades
+    cluster-autoscaler.kubernetes.io/safe-to-evict: "true"
</span> 
<span class="gd">-  ## Labels to be added to node-exporter pods
-  ##
-  pod:
-    labels: {}
</span><span class="gi">+  # Extra labels to be added to node exporter pods
+  podLabels: {}
</span> 
<span class="gd">-  ## PodDisruptionBudget settings
-  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
-  ##
-  podDisruptionBudget:
-    enabled: false
-    maxUnavailable: 1
</span><span class="gi">+  # Additional environment variables that will be passed to the daemonset
+  env: {}
+    # VARIABLE: value
+
+  prometheus:
+    monitor:
+      enabled: false
+      additionalLabels: {}
+      namespace: ""
+
+      jobLabel: ""
+
+      scheme: http
+      basicAuth: {}
+      bearerTokenFile:
+      tlsConfig: {}
+
+      ## proxyUrl: URL of a proxy that should be used for scraping.
+      ##
+      proxyUrl: ""
+
+      ## Override serviceMonitor selector
+      ##
+      selectorOverride: {}
+
+      relabelings: []
+      metricRelabelings: []
+      interval: ""
+      scrapeTimeout: 10s
+      ## prometheus.monitor.apiVersion ApiVersion for the serviceMonitor Resource(defaults to "monitoring.coreos.com/v1")
+      apiVersion: ""
+
+      ## SampleLimit defines per-scrape limit on number of scraped samples that will be accepted.
+      ##
+      sampleLimit: 0
+
+      ## TargetLimit defines a limit on the number of scraped targets that will be accepted.
+      ##
+      targetLimit: 0
+
+      ## Per-scrape limit on number of labels that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelLimit: 0
+
+      ## Per-scrape limit on length of labels name that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelNameLengthLimit: 0
+
+      ## Per-scrape limit on length of labels value that will be accepted for a sample. Only valid in Prometheus versions 2.27.0 and newer.
+      ##
+      labelValueLengthLimit: 0
</span> 
   ## node-exporter resource limits &amp; requests
   ## Ref: https://kubernetes.io/docs/user-guide/compute-resources/
   ##
   resources: {}
<span class="gi">+    # We usually recommend not to specify default resources and to leave this as a conscious
+    # choice for the user. This also increases chances charts run on environments with little
+    # resources, such as Minikube. If you do want to specify resources, uncomment the following
+    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
</span>     # limits:
     #   cpu: 200m
     #   memory: 50Mi
     # requests:
     #   cpu: 100m
     #   memory: 30Mi
<span class="gd">-  container:
-    securityContext:
-      allowPrivilegeEscalation: false
-  # Custom DNS configuration to be added to node-exporter pods
</span><span class="gi">+
+  containerSecurityContext:
+    allowPrivilegeEscalation: false
+    # capabilities:
+    #   add:
+    #   - SYS_TIME
+
+  # Custom DNS configuration to be added to prometheus-node-exporter pods
</span>   dnsConfig: {}
<span class="gd">-    # nameservers:
-    #   - 1.2.3.4
-    # searches:
-    #   - ns1.svc.cluster-domain.example
-    #   - my.dns.search.suffix
-    # options:
-    #   - name: ndots
-    #     value: "2"
</span><span class="gi">+  # nameservers:
+  #   - 1.2.3.4
+  # searches:
+  #   - ns1.svc.cluster-domain.example
+  #   - my.dns.search.suffix
+  # options:
+  #   - name: ndots
+  #     value: "2"
</span>   #   - name: edns0
 
<span class="gd">-  ## Security context to be added to node-exporter pods
-  ##
</span><span class="gi">+  serviceAccount:
+    # Specifies whether a ServiceAccount should be created
+    create: true
+    # The name of the ServiceAccount to use.
+    # If not set and create is true, a name is generated using the fullname template
+    name:
+    annotations: {}
+    imagePullSecrets: []
+    automountServiceAccountToken: false
+
</span>   securityContext:
     fsGroup: 65534
     runAsGroup: 65534
<span class="p">@@ -619,24 +684,103 @@</span> nodeExporter:
     runAsUser: 65534
 
   service:
<span class="gi">+    type: ClusterIP
+    port: 9100
+    targetPort: 9100
+    nodePort:
+    portName: metrics
+    listenOnAllInterfaces: true
</span>     annotations:
       prometheus.io/scrape: "true"
<span class="gd">-    labels: {}
-
-    # Exposed as a headless service:
-    # https://kubernetes.io/docs/concepts/services-networking/service/#headless-services
-    clusterIP: ""
</span> 
<span class="gd">-    ## List of IP addresses at which the node-exporter service is available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-    ##
-    externalIPs: []
</span><span class="gi">+  # for deployments that have node_exporter deployed outside of the cluster, list
+  # their addresses here
+  endpoints: []
</span> 
<span class="gd">-    hostPort: 9100
-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-    servicePort: 9100
-    type: ClusterIP
</span><span class="gi">+  ## Assign a group of affinity scheduling rules
+  ##
+  affinity: {}
+  #   nodeAffinity:
+  #     requiredDuringSchedulingIgnoredDuringExecution:
+  #       nodeSelectorTerms:
+  #         - matchFields:
+  #             - key: metadata.name
+  #               operator: In
+  #               values:
+  #                 - target-host-name
+
+  ## set to true to add the release label so scraping of the servicemonitor with kube-prometheus-stack works out of the box
+  releaseLabel: false
+
+  ## Override the deployment namespace
+  ##
+  namespaceOverride: ""
+
+  ## Additional containers for export metrics to text file
+  ##
+  sidecars: []
+  ##  - name: nvidia-dcgm-exporter
+  ##    image: nvidia/dcgm-exporter:1.4.3
+
+  ## Volume for sidecar containers
+  ##
+  sidecarVolumeMount: []
+  ##  - name: collector-textfiles
+  ##    mountPath: /run/prometheus
+  ##    readOnly: false
+
+  ## Additional mounts from the host to sidecar containers
+  ##
+  sidecarHostVolumeMounts: []
+  #  - name: &lt;mountName&gt;
+  #    hostPath: &lt;hostPath&gt;
+  #    mountPath: &lt;mountPath&gt;
+  #    readOnly: true|false
+  #    mountPropagation: None|HostToContainer|Bidirectional
+
+  ## Liveness probe
+  ##
+  livenessProbe:
+    failureThreshold: 3
+    httpGet:
+      httpHeaders: []
+      scheme: http
+    initialDelaySeconds: 0
+    periodSeconds: 10
+    successThreshold: 1
+    timeoutSeconds: 1
+
+  ## Readiness probe
+  ##
+  readinessProbe:
+    failureThreshold: 3
+    httpGet:
+      httpHeaders: []
+      scheme: http
+    initialDelaySeconds: 0
+    periodSeconds: 10
+    successThreshold: 1
+    timeoutSeconds: 1
+
+  # Enable vertical pod autoscaler support for prometheus-node-exporter
+  verticalPodAutoscaler:
+    enabled: false
+    # List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
+    controlledResources: []
+
+    # Define the max allowed resources for the pod
+    maxAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+    # Define the min allowed resources for the pod
+    minAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+
+    # updatePolicy:
+      # Specifies whether recommended updates are applied when a Pod is started and whether recommended updates
+      # are applied during the life of a Pod. Possible values are "Off", "Initial", "Recreate", and "Auto".
+      # updateMode: Auto
</span> 
 server:
   ## Prometheus server container name
<span class="err">
</span></code></pre></div></div> <h2 id="15180"> <a href="#15180" class="anchor-heading" aria-labelledby="15180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.18.0 </h2> <p><strong>Release date:</strong> 2022-11-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat(prometheus): uptaded kube-state-metrics dependency to 4.22.* (#2638)</li> </ul> <h3 id="default-value-changes-87"> <a href="#default-value-changes-87" class="anchor-heading" aria-labelledby="default-value-changes-87"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="15170"> <a href="#15170" class="anchor-heading" aria-labelledby="15170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.17.0 </h2> <p><strong>Release date:</strong> 2022-10-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-88"> <a href="#default-value-changes-88" class="anchor-heading" aria-labelledby="default-value-changes-88"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 198938ba..3b373826 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -354,6 +354,7 @@</span> alertmanager:
     fsGroup: 65534
 
   ## Security context to be added to alertmanager container
<span class="gi">+  ##
</span>   containerSecurityContext: {}
 
   service:
<span class="p">@@ -1100,6 +1101,7 @@</span> server:
     #   - name: ndots
     #     value: "2"
   #   - name: edns0
<span class="gi">+
</span>   ## Security context to be added to server pods
   ##
   securityContext:
<span class="p">@@ -1109,6 +1111,7 @@</span> server:
     fsGroup: 65534
 
   ## Security context to be added to server container
<span class="gi">+  ##
</span>   containerSecurityContext: {}
 
   service:
<span class="err">
</span></code></pre></div></div> <h2 id="15161"> <a href="#15161" class="anchor-heading" aria-labelledby="15161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.16.1 </h2> <p><strong>Release date:</strong> 2022-10-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> handle PSP removed in k8s 1.25+ (#2562)</li> </ul> <h3 id="default-value-changes-89"> <a href="#default-value-changes-89" class="anchor-heading" aria-labelledby="default-value-changes-89"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="15160"> <a href="#15160" class="anchor-heading" aria-labelledby="15160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.16.0 </h2> <p><strong>Release date:</strong> 2022-10-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Allow addition of extra labels to prometheus configmap (#2519)</li> </ul> <h3 id="default-value-changes-90"> <a href="#default-value-changes-90" class="anchor-heading" aria-labelledby="default-value-changes-90"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4ea0eab7..198938ba 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -816,6 +816,9 @@</span> server:
   ##
   configMapOverrideName: ""
 
<span class="gi">+  ## Extra labels for Prometheus server ConfigMap (ConfigMap that holds serverFiles)
+  extraConfigmapLabels: {}
+
</span>   ingress:
     ## If true, Prometheus server Ingress will be created
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="15150"> <a href="#15150" class="anchor-heading" aria-labelledby="15150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.15.0 </h2> <p><strong>Release date:</strong> 2022-10-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.39.1&amp;color=success" alt="AppVersion: 2.39.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update Prometheus to v2.39.1 (#2535)</li> </ul> <h3 id="default-value-changes-91"> <a href="#default-value-changes-91" class="anchor-heading" aria-labelledby="default-value-changes-91"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 2f5577e4..4ea0eab7 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -682,7 +682,7 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.36.2
</span><span class="gi">+    tag: v2.39.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="15140"> <a href="#15140" class="anchor-heading" aria-labelledby="15140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.14.0 </h2> <p><strong>Release date:</strong> 2022-09-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Allow custom HTTP headers in PushGateway Probes (#2504)</li> </ul> <h3 id="default-value-changes-92"> <a href="#default-value-changes-92" class="anchor-heading" aria-labelledby="default-value-changes-92"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 36b64152..2f5577e4 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1354,6 +1354,13 @@</span> pushgateway:
   # strategy:
   #   type: Recreate
 
<span class="gi">+  ## Custom HTTP headers for Liveness/Readiness/Startup Probe
+  ##
+  ## Useful for providing HTTP Basic Auth to healthchecks
+  probeHeaders: []
+    # - name: "Authorization"
+    #   value: "Bearer ABCDEabcde12345"
+
</span>   persistentVolume:
     ## If true, pushgateway will create/use a Persistent Volume Claim
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="15130"> <a href="#15130" class="anchor-heading" aria-labelledby="15130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.13.0 </h2> <p><strong>Release date:</strong> 2022-09-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add a startup probe to StatefulSet too (#2468)</li> </ul> <h3 id="default-value-changes-93"> <a href="#default-value-changes-93" class="anchor-heading" aria-labelledby="default-value-changes-93"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f8f702e8..36b64152 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -766,6 +766,8 @@</span> server:
   ##
   ## Useful for providing HTTP Basic Auth to healthchecks
   probeHeaders: []
<span class="gi">+    # - name: "Authorization"
+    #   value: "Bearer ABCDEabcde12345"
</span> 
   ## Additional Prometheus server container arguments
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="15122"> <a href="#15122" class="anchor-heading" aria-labelledby="15122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.12.2 </h2> <p><strong>Release date:</strong> 2022-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix double securityContext for server-container in prometheus-deployment (#2446)</li> </ul> <h3 id="default-value-changes-94"> <a href="#default-value-changes-94" class="anchor-heading" aria-labelledby="default-value-changes-94"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="15121"> <a href="#15121" class="anchor-heading" aria-labelledby="15121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.12.1 </h2> <p><strong>Release date:</strong> 2022-09-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore : set dnsPolicy when using hostNetwork (#2445)</li> </ul> <h3 id="default-value-changes-95"> <a href="#default-value-changes-95" class="anchor-heading" aria-labelledby="default-value-changes-95"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 840b27dc..f8f702e8 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1069,7 +1069,7 @@</span> server:
   ##
   hostNetwork: false
 
<span class="gd">-  # When hostNetwork is enabled, you probably want to set this to ClusterFirstWithHostNet
</span><span class="gi">+  # When hostNetwork is enabled, this will set to ClusterFirstWithHostNet automatically
</span>   dnsPolicy: ClusterFirst
 
   # Use hostPort
<span class="err">
</span></code></pre></div></div> <h2 id="15120"> <a href="#15120" class="anchor-heading" aria-labelledby="15120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.12.0 </h2> <p><strong>Release date:</strong> 2022-08-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>(prometheus) Allowed to add custom labels to Statefulset volume template (#2338)</li> </ul> <h3 id="default-value-changes-96"> <a href="#default-value-changes-96" class="anchor-heading" aria-labelledby="default-value-changes-96"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6986f3a7..840b27dc 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -913,6 +913,10 @@</span> server:
     accessModes:
       - ReadWriteOnce
 
<span class="gi">+    ## Prometheus server data Persistent Volume labels
+    ##
+    labels: {}
+
</span>     ## Prometheus server data Persistent Volume annotations
     ##
     annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="15110"> <a href="#15110" class="anchor-heading" aria-labelledby="15110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.11.0 </h2> <p><strong>Release date:</strong> 2022-07-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add support for pvc.spec.volumeName (#2311)</li> </ul> <h3 id="default-value-changes-97"> <a href="#default-value-changes-97" class="anchor-heading" aria-labelledby="default-value-changes-97"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ee794998..6986f3a7 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -255,6 +255,11 @@</span> alertmanager:
     #  matchExpressions:
     #    - { key: environment, operator: In, values: [ dev ] }
 
<span class="gi">+    ## Persistent Volume Name
+    ## Useful if Persistent Volumes have been provisioned in advance and you want to use a specific one
+    ##
+    # volumeName: ""
+
</span>   emptyDir:
     ## alertmanager emptyDir volume size limit
     ##
<span class="p">@@ -956,6 +961,11 @@</span> server:
     #  matchExpressions:
     #    - { key: environment, operator: In, values: [ dev ] }
 
<span class="gi">+    ## Persistent Volume Name
+    ## Useful if Persistent Volumes have been provisioned in advance and you want to use a specific one
+    ##
+    # volumeName: ""
+
</span>   emptyDir:
     ## Prometheus server emptyDir volume size limit
     ##
<span class="p">@@ -1388,6 +1398,10 @@</span> pushgateway:
     ##
     subPath: ""
 
<span class="gi">+    ## Persistent Volume Name
+    ## Useful if Persistent Volumes have been provisioned in advance and you want to use a specific one
+    ##
+    # volumeName: ""
</span> 
 ## alertmanager ConfigMap entries
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="15105"> <a href="#15105" class="anchor-heading" aria-labelledby="15105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.10.5 </h2> <p><strong>Release date:</strong> 2022-07-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for extra manifests (#2294)</li> </ul> <h3 id="default-value-changes-98"> <a href="#default-value-changes-98" class="anchor-heading" aria-labelledby="default-value-changes-98"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1e2f01f3..ee794998 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1870,3 +1870,13 @@</span> networkPolicy:
 
 # Force namespace of namespaced resources
 forceNamespace: null
<span class="gi">+
+# Extra manifests to deploy as an array
+extraManifests: []
+  # - apiVersion: v1
+  #   kind: ConfigMap
+  #   metadata:
+  #   labels:
+  #     name: prometheus-extra
+  #   data:
+  #     extra-data: "value"
</span><span class="err">
</span></code></pre></div></div> <h2 id="15104"> <a href="#15104" class="anchor-heading" aria-labelledby="15104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.10.4 </h2> <p><strong>Release date:</strong> 2022-07-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.36.2&amp;color=success" alt="AppVersion: 2.36.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update applications to latest versions (#2257)</li> </ul> <h3 id="default-value-changes-99"> <a href="#default-value-changes-99" class="anchor-heading" aria-labelledby="default-value-changes-99"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 211526bc..1e2f01f3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -48,7 +48,7 @@</span> alertmanager:
   ##
   image:
     repository: quay.io/prometheus/alertmanager
<span class="gd">-    tag: v0.23.0
</span><span class="gi">+    tag: v0.24.0
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="p">@@ -500,7 +500,7 @@</span> nodeExporter:
   ##
   image:
     repository: quay.io/prometheus/node-exporter
<span class="gd">-    tag: v1.3.0
</span><span class="gi">+    tag: v1.3.1
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="p">@@ -677,7 +677,7 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.34.0
</span><span class="gi">+    tag: v2.36.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -1170,7 +1170,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v1.4.2
</span><span class="gi">+    tag: v1.4.3
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="15103"> <a href="#15103" class="anchor-heading" aria-labelledby="15103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.10.3 </h2> <p><strong>Release date:</strong> 2022-07-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> typo in probeHeaders, should be alertmanaeger.probeHeaders not server.probeHeaders (#2229)</li> </ul> <h3 id="default-value-changes-100"> <a href="#default-value-changes-100" class="anchor-heading" aria-labelledby="default-value-changes-100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="15102"> <a href="#15102" class="anchor-heading" aria-labelledby="15102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.10.2 </h2> <p><strong>Release date:</strong> 2022-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> add http headers for probes in statefulset (#2206)</li> </ul> <h3 id="default-value-changes-101"> <a href="#default-value-changes-101" class="anchor-heading" aria-labelledby="default-value-changes-101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="15101"> <a href="#15101" class="anchor-heading" aria-labelledby="15101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.10.1 </h2> <p><strong>Release date:</strong> 2022-06-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix cve-2021-25742 (#2147)</li> </ul> <h3 id="default-value-changes-102"> <a href="#default-value-changes-102" class="anchor-heading" aria-labelledby="default-value-changes-102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="15100"> <a href="#15100" class="anchor-heading" aria-labelledby="15100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.10.0 </h2> <p><strong>Release date:</strong> 2022-06-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add extra manifest templates (#2140)</li> </ul> <h3 id="default-value-changes-103"> <a href="#default-value-changes-103" class="anchor-heading" aria-labelledby="default-value-changes-103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5107e8ce..211526bc 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1133,8 +1133,24 @@</span> server:
   ##
   retention: "15d"
 
<span class="gd">-  ## Array of extra Kubernetes manifests, if you want to deploy
</span><span class="gi">+  ## Array of extra Kubernetes manifests, in form of YAML object,
+  ## if you want to deploy
</span>   extraObjects: []
<span class="gi">+  # - apiVersion: v1
+  #   kind: ConfigMap
+  #   metadata:
+  #     name: '{{ template "prometheus.name" . }}-extra-config'
+
+  ## Array of extra Kubernetes manifest, in form of template string,
+  ## if you want to deploy
+  extraTemplates: []
+  # - |
+  #   apiVersion: v1
+  #   kind: ConfigMap
+  #   metadata:
+  #     name: extra-config
+  #     labels:
+  #   {{- include "prometheus.server.labels" . | nindent 4 }}
</span> 
 pushgateway:
   ## If false, pushgateway will not be installed
<span class="err">
</span></code></pre></div></div> <h2 id="1593"> <a href="#1593" class="anchor-heading" aria-labelledby="1593"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.9.3 </h2> <p><strong>Release date:</strong> 2022-06-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update scrape config to support IPv6 (#2127)</li> </ul> <h3 id="default-value-changes-104"> <a href="#default-value-changes-104" class="anchor-heading" aria-labelledby="default-value-changes-104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ea605a4e..5107e8ce 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1600,7 +1600,7 @@</span> serverFiles:
           - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port]
             action: replace
             target_label: __address__
<span class="gd">-            regex: ([^:]+)(?::\d+)?;(\d+)
</span><span class="gi">+            regex: (.+?)(?::\d+)?;(\d+)
</span>             replacement: $1:$2
           - action: labelmap
             regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)
<span class="p">@@ -1655,7 +1655,7 @@</span> serverFiles:
           - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port]
             action: replace
             target_label: __address__
<span class="gd">-            regex: ([^:]+)(?::\d+)?;(\d+)
</span><span class="gi">+            regex: (.+?)(?::\d+)?;(\d+)
</span>             replacement: $1:$2
           - action: labelmap
             regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)
<span class="p">@@ -1750,7 +1750,7 @@</span> serverFiles:
             regex: (.+)
           - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
             action: replace
<span class="gd">-            regex: ([^:]+)(?::\d+)?;(\d+)
</span><span class="gi">+            regex: (.+?)(?::\d+)?;(\d+)
</span>             replacement: $1:$2
             target_label: __address__
           - action: labelmap
<span class="p">@@ -1802,7 +1802,7 @@</span> serverFiles:
             regex: (.+)
           - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
             action: replace
<span class="gd">-            regex: ([^:]+)(?::\d+)?;(\d+)
</span><span class="gi">+            regex: (.+?)(?::\d+)?;(\d+)
</span>             replacement: $1:$2
             target_label: __address__
           - action: labelmap
<span class="err">
</span></code></pre></div></div> <h2 id="1592"> <a href="#1592" class="anchor-heading" aria-labelledby="1592"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.9.2 </h2> <p><strong>Release date:</strong> 2022-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add containerSecurityContext to components of prometheus chart (#2118)</li> </ul> <h3 id="default-value-changes-105"> <a href="#default-value-changes-105" class="anchor-heading" aria-labelledby="default-value-changes-105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index be9167c8..ea605a4e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -348,6 +348,9 @@</span> alertmanager:
     runAsGroup: 65534
     fsGroup: 65534
 
<span class="gi">+  ## Security context to be added to alertmanager container
+  containerSecurityContext: {}
+
</span>   service:
     annotations: {}
     labels: {}
<span class="p">@@ -412,6 +415,8 @@</span> configmapReload:
       #   configMap: prometheus-alerts
       #   readOnly: true
 
<span class="gi">+    ## Security context to be added to configmap-reload container
+    containerSecurityContext: {}
</span> 
     ## configmap-reload resource requests and limits
     ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="p">@@ -452,6 +457,8 @@</span> configmapReload:
       #   configMap: prometheus-alerts
       #   readOnly: true
 
<span class="gi">+    ## Security context to be added to configmap-reload container
+    containerSecurityContext: {}
</span> 
     ## configmap-reload resource requests and limits
     ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="p">@@ -1082,6 +1089,9 @@</span> server:
     runAsGroup: 65534
     fsGroup: 65534
 
<span class="gi">+  ## Security context to be added to server container
+  containerSecurityContext: {}
+
</span>   service:
     ## If false, no Service will be created for the Prometheus server
     ##
<span class="p">@@ -1289,6 +1299,9 @@</span> pushgateway:
     runAsUser: 65534
     runAsNonRoot: true
 
<span class="gi">+  ## Security context to be added to push-gateway container
+  containerSecurityContext: {}
+
</span>   service:
     annotations:
       prometheus.io/probe: pushgateway
<span class="err">
</span></code></pre></div></div> <h2 id="1591"> <a href="#1591" class="anchor-heading" aria-labelledby="1591"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.9.1 </h2> <p><strong>Release date:</strong> 2022-06-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>use policy/v1 for poddisruptionbudgets, when available (#2109)</li> </ul> <h3 id="default-value-changes-106"> <a href="#default-value-changes-106" class="anchor-heading" aria-labelledby="default-value-changes-106"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1590"> <a href="#1590" class="anchor-heading" aria-labelledby="1590"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.9.0 </h2> <p><strong>Release date:</strong> 2022-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add ability to define PushGateway node port number (#2080)</li> </ul> <h3 id="default-value-changes-107"> <a href="#default-value-changes-107" class="anchor-heading" aria-labelledby="default-value-changes-107"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1587"> <a href="#1587" class="anchor-heading" aria-labelledby="1587"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.7 </h2> <p><strong>Release date:</strong> 2022-05-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix clusterType for service node-exporter of prometheus (#2047)</li> </ul> <h3 id="default-value-changes-108"> <a href="#default-value-changes-108" class="anchor-heading" aria-labelledby="default-value-changes-108"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1d09555d..be9167c8 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -612,7 +612,7 @@</span> nodeExporter:
 
     # Exposed as a headless service:
     # https://kubernetes.io/docs/concepts/services-networking/service/#headless-services
<span class="gd">-    clusterIP: None
</span><span class="gi">+    clusterIP: ""
</span> 
     ## List of IP addresses at which the node-exporter service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
<span class="err">
</span></code></pre></div></div> <h2 id="1586"> <a href="#1586" class="anchor-heading" aria-labelledby="1586"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.6 </h2> <p><strong>Release date:</strong> 2022-05-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add extra manifest template (#2044)</li> </ul> <h3 id="default-value-changes-109"> <a href="#default-value-changes-109" class="anchor-heading" aria-labelledby="default-value-changes-109"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 64324eb5..1d09555d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1123,6 +1123,9 @@</span> server:
   ##
   retention: "15d"
 
<span class="gi">+  ## Array of extra Kubernetes manifests, if you want to deploy
+  extraObjects: []
+
</span> pushgateway:
   ## If false, pushgateway will not be installed
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1585"> <a href="#1585" class="anchor-heading" aria-labelledby="1585"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.5 </h2> <p><strong>Release date:</strong> 2022-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fixing indentation securityContext for prometheus server containers (#1999)</li> </ul> <h3 id="default-value-changes-110"> <a href="#default-value-changes-110" class="anchor-heading" aria-labelledby="default-value-changes-110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1584"> <a href="#1584" class="anchor-heading" aria-labelledby="1584"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.4 </h2> <p><strong>Release date:</strong> 2022-04-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add missing extraArgs for alertmanager configmapreloader (#1989)</li> </ul> <h3 id="default-value-changes-111"> <a href="#default-value-changes-111" class="anchor-heading" aria-labelledby="default-value-changes-111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1583"> <a href="#1583" class="anchor-heading" aria-labelledby="1583"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.3 </h2> <p><strong>Release date:</strong> 2022-04-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> adding securityContext for prometheus server containers (#1991)</li> </ul> <h3 id="default-value-changes-112"> <a href="#default-value-changes-112" class="anchor-heading" aria-labelledby="default-value-changes-112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1582"> <a href="#1582" class="anchor-heading" aria-labelledby="1582"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.2 </h2> <p><strong>Release date:</strong> 2022-04-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a>Added securityContext for nodeExporter container (#1988)</li> </ul> <h3 id="default-value-changes-113"> <a href="#default-value-changes-113" class="anchor-heading" aria-labelledby="default-value-changes-113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e904142b..64324eb5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -582,7 +582,9 @@</span> nodeExporter:
     # requests:
     #   cpu: 100m
     #   memory: 30Mi
<span class="gd">-
</span><span class="gi">+  container:
+    securityContext:
+      allowPrivilegeEscalation: false
</span>   # Custom DNS configuration to be added to node-exporter pods
   dnsConfig: {}
     # nameservers:
<span class="err">
</span></code></pre></div></div> <h2 id="1581"> <a href="#1581" class="anchor-heading" aria-labelledby="1581"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.1 </h2> <p><strong>Release date:</strong> 2022-04-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(prometheus): Existing labels are honored (#1957)</li> </ul> <h3 id="default-value-changes-114"> <a href="#default-value-changes-114" class="anchor-heading" aria-labelledby="default-value-changes-114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8fd4ae67..e904142b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1559,6 +1559,7 @@</span> serverFiles:
       # * `prometheus.io/param_&lt;parameter&gt;`: If the metrics endpoint uses parameters
       # then you can set any parameter
       - job_name: 'kubernetes-service-endpoints'
<span class="gi">+        honor_labels: true
</span> 
         kubernetes_sd_configs:
           - role: endpoints
<span class="p">@@ -1613,6 +1614,7 @@</span> serverFiles:
       # * `prometheus.io/param_&lt;parameter&gt;`: If the metrics endpoint uses parameters
       # then you can set any parameter
       - job_name: 'kubernetes-service-endpoints-slow'
<span class="gi">+        honor_labels: true
</span> 
         scrape_interval: 5m
         scrape_timeout: 30s
<span class="p">@@ -1670,6 +1672,7 @@</span> serverFiles:
       #
       # * `prometheus.io/probe`: Only probe services that have a value of `true`
       - job_name: 'kubernetes-services'
<span class="gi">+        honor_labels: true
</span> 
         metrics_path: /probe
         params:
<span class="p">@@ -1707,6 +1710,7 @@</span> serverFiles:
       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
       # * `prometheus.io/port`: Scrape the pod on the indicated port instead of the default of `9102`.
       - job_name: 'kubernetes-pods'
<span class="gi">+        honor_labels: true
</span> 
         kubernetes_sd_configs:
           - role: pod
<span class="p">@@ -1758,6 +1762,7 @@</span> serverFiles:
       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
       # * `prometheus.io/port`: Scrape the pod on the indicated port instead of the default of `9102`.
       - job_name: 'kubernetes-pods-slow'
<span class="gi">+        honor_labels: true
</span> 
         scrape_interval: 5m
         scrape_timeout: 30s
<span class="err">
</span></code></pre></div></div> <h2 id="1580"> <a href="#1580" class="anchor-heading" aria-labelledby="1580"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.8.0 </h2> <p><strong>Release date:</strong> 2022-03-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> update kube-state-metrics &amp; ci components (#1932)</li> </ul> <h3 id="default-value-changes-115"> <a href="#default-value-changes-115" class="anchor-heading" aria-labelledby="default-value-changes-115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1571"> <a href="#1571" class="anchor-heading" aria-labelledby="1571"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.7.1 </h2> <p><strong>Release date:</strong> 2022-03-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>remove monotek from prometheus chart (#1929)</li> </ul> <h3 id="default-value-changes-116"> <a href="#default-value-changes-116" class="anchor-heading" aria-labelledby="default-value-changes-116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1570"> <a href="#1570" class="anchor-heading" aria-labelledby="1570"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.7.0 </h2> <p><strong>Release date:</strong> 2022-03-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow exposing configmap reloaders port (#1916)</li> </ul> <h3 id="default-value-changes-117"> <a href="#default-value-changes-117" class="anchor-heading" aria-labelledby="default-value-changes-117"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index d4e5fc7d..8fd4ae67 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -393,6 +393,8 @@</span> configmapReload:
       tag: v0.5.0
       pullPolicy: IfNotPresent
 
<span class="gi">+    # containerPort: 9533
+
</span>     ## Additional configmap-reload container arguments
     ##
     extraArgs: {}
<span class="p">@@ -431,6 +433,8 @@</span> configmapReload:
       tag: v0.5.0
       pullPolicy: IfNotPresent
 
<span class="gi">+    # containerPort: 9533
+
</span>     ## Additional configmap-reload container arguments
     ##
     extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="1560"> <a href="#1560" class="anchor-heading" aria-labelledby="1560"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.6.0 </h2> <p><strong>Release date:</strong> 2022-03-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Make it possible to disable the Service for Prometheus server (#1909)</li> </ul> <h3 id="default-value-changes-118"> <a href="#default-value-changes-118" class="anchor-heading" aria-labelledby="default-value-changes-118"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index eafb3e82..d4e5fc7d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1077,6 +1077,10 @@</span> server:
     fsGroup: 65534
 
   service:
<span class="gi">+    ## If false, no Service will be created for the Prometheus server
+    ##
+    enabled: true
+
</span>     annotations: {}
     labels: {}
     clusterIP: ""
<span class="err">
</span></code></pre></div></div> <h2 id="1554"> <a href="#1554" class="anchor-heading" aria-labelledby="1554"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.5.4 </h2> <p><strong>Release date:</strong> 2022-03-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.34.0&amp;color=success" alt="AppVersion: 2.34.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update Prometheus version to v2.34.0 (#1903)</li> </ul> <h3 id="default-value-changes-119"> <a href="#default-value-changes-119" class="anchor-heading" aria-labelledby="default-value-changes-119"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f25b1706..eafb3e82 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -664,7 +664,7 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.31.1
</span><span class="gi">+    tag: v2.34.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1553"> <a href="#1553" class="anchor-heading" aria-labelledby="1553"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.5.3 </h2> <p><strong>Release date:</strong> 2022-03-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump chart version to release previous commit. (#1842)</li> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add configFromSecret support to server (#1836)</li> </ul> <h3 id="default-value-changes-120"> <a href="#default-value-changes-120" class="anchor-heading" aria-labelledby="default-value-changes-120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1552"> <a href="#1552" class="anchor-heading" aria-labelledby="1552"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.5.2 </h2> <p><strong>Release date:</strong> 2022-03-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Move back to tpl for extraScrapeConfigs since breaking other stuffs (#1839)</li> </ul> <h3 id="default-value-changes-121"> <a href="#default-value-changes-121" class="anchor-heading" aria-labelledby="default-value-changes-121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1551"> <a href="#1551" class="anchor-heading" aria-labelledby="1551"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.5.1 </h2> <p><strong>Release date:</strong> 2022-02-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Move tpl to ToYaml for extraScrapeConfigs (#1834)</li> </ul> <h3 id="default-value-changes-122"> <a href="#default-value-changes-122" class="anchor-heading" aria-labelledby="default-value-changes-122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1550"> <a href="#1550" class="anchor-heading" aria-labelledby="1550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.5.0 </h2> <p><strong>Release date:</strong> 2022-02-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> add ruleFiles value to insert rule files with label interpolation (#1832)</li> </ul> <h3 id="default-value-changes-123"> <a href="#default-value-changes-123" class="anchor-heading" aria-labelledby="default-value-changes-123"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 05e43c85..f25b1706 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1366,6 +1366,9 @@</span> alertmanagerFiles:
       receiver: default-receiver
       repeat_interval: 3h
 
<span class="gi">+## Prometheus server ConfigMap entries for rule files (allow prometheus labels interpolation)
+ruleFiles: {}
+
</span> ## Prometheus server ConfigMap entries
 ##
 serverFiles:
<span class="err">
</span></code></pre></div></div> <h2 id="1540"> <a href="#1540" class="anchor-heading" aria-labelledby="1540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.4.0 </h2> <p><strong>Release date:</strong> 2022-02-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> support using hostPort on prometheus-server (#1817)</li> </ul> <h3 id="default-value-changes-124"> <a href="#default-value-changes-124" class="anchor-heading" aria-labelledby="default-value-changes-124"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index fd922532..05e43c85 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1045,6 +1045,9 @@</span> server:
   # When hostNetwork is enabled, you probably want to set this to ClusterFirstWithHostNet
   dnsPolicy: ClusterFirst
 
<span class="gi">+  # Use hostPort
+  # hostPort: 9090
+
</span>   ## Vertical Pod Autoscaler config
   ## Ref: https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
   verticalAutoscaler:
<span class="err">
</span></code></pre></div></div> <h2 id="1530"> <a href="#1530" class="anchor-heading" aria-labelledby="1530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.3.0 </h2> <p><strong>Release date:</strong> 2022-02-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> adding defaultFlagsOverride key for Prometheus server (#1802)</li> </ul> <h3 id="default-value-changes-125"> <a href="#default-value-changes-125" class="anchor-heading" aria-labelledby="default-value-changes-125"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0de80300..fd922532 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -703,6 +703,11 @@</span> server:
   ##       key: username
   env: []
 
<span class="gi">+  # List of flags to override default parameters, e.g:
+  # - --enable-feature=agent
+  # - --storage.agent.retention.max-time=30m
+  defaultFlagsOverride: []
+
</span>   extraFlags:
     - web.enable-lifecycle
     ## web.enable-admin-api flag controls access to the administrative HTTP API which includes functionality such as
<span class="err">
</span></code></pre></div></div> <h2 id="1520"> <a href="#1520" class="anchor-heading" aria-labelledby="1520"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.2.0 </h2> <p><strong>Release date:</strong> 2022-02-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Allow to specify custom probeHeaders for Alertmanager (#1798)</li> </ul> <h3 id="default-value-changes-126"> <a href="#default-value-changes-126" class="anchor-heading" aria-labelledby="default-value-changes-126"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 45f5d7ae..0de80300 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -55,6 +55,11 @@</span> alertmanager:
   ##
   priorityClassName: ""
 
<span class="gi">+  ## Custom HTTP headers for Readiness Probe
+  ##
+  ## Useful for providing HTTP Basic Auth to healthchecks
+  probeHeaders: []
+
</span>   ## Additional alertmanager container arguments
   ##
   extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="1513"> <a href="#1513" class="anchor-heading" aria-labelledby="1513"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.3 </h2> <p><strong>Release date:</strong> 2022-02-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add alertmanager extraConfigmapMounts (#1767)</li> </ul> <h3 id="default-value-changes-127"> <a href="#default-value-changes-127" class="anchor-heading" aria-labelledby="default-value-changes-127"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ca611472..45f5d7ae 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -85,6 +85,13 @@</span> alertmanager:
     #   secretName: alertmanager-secret-files
     #   readOnly: true
 
<span class="gi">+  ## Additional alertmanager Configmap mounts
+  extraConfigmapMounts: []
+    # - name: template-files
+    #   mountPath: /etc/config/templates.d
+    #   configMap: alertmanager-template-files
+    #   readOnly: true
+
</span>   ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.alertmanager.configMapOverrideName}}
   ## Defining configMapOverrideName will cause templates/alertmanager-configmap.yaml
   ## to NOT generate a ConfigMap resource
<span class="err">
</span></code></pre></div></div> <h2 id="1512"> <a href="#1512" class="anchor-heading" aria-labelledby="1512"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.2 </h2> <p><strong>Release date:</strong> 2022-02-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for extraconfigmap mounts on alertmanager (#1759)</li> </ul> <h3 id="default-value-changes-128"> <a href="#default-value-changes-128" class="anchor-heading" aria-labelledby="default-value-changes-128"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1511"> <a href="#1511" class="anchor-heading" aria-labelledby="1511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.1 </h2> <p><strong>Release date:</strong> 2022-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix issue with web.route-prefix order (#1594) (#1738)</li> </ul> <h3 id="default-value-changes-129"> <a href="#default-value-changes-129" class="anchor-heading" aria-labelledby="default-value-changes-129"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1510"> <a href="#1510" class="anchor-heading" aria-labelledby="1510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.1.0 </h2> <p><strong>Release date:</strong> 2022-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump version of kube-state-metrics dependency to latest (#1736)</li> </ul> <h3 id="default-value-changes-130"> <a href="#default-value-changes-130" class="anchor-heading" aria-labelledby="default-value-changes-130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1504"> <a href="#1504" class="anchor-heading" aria-labelledby="1504"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.0.4 </h2> <p><strong>Release date:</strong> 2022-01-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix field name (#1714)</li> </ul> <h3 id="default-value-changes-131"> <a href="#default-value-changes-131" class="anchor-heading" aria-labelledby="default-value-changes-131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1503"> <a href="#1503" class="anchor-heading" aria-labelledby="1503"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.0.3 </h2> <p><strong>Release date:</strong> 2022-01-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Set sidecarContainers in values to {} if empty (#1708)</li> </ul> <h3 id="default-value-changes-132"> <a href="#default-value-changes-132" class="anchor-heading" aria-labelledby="default-value-changes-132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9f45e060..ca611472 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -634,7 +634,7 @@</span> server:
   #   sidecarContainers:
   #      webserver:
   #        image: nginx
<span class="gd">-  sidecarContainers: []
</span><span class="gi">+  sidecarContainers: {}
</span> 
   # sidecarTemplateValues - context to be used in template for sidecarContainers
   # Example:
<span class="err">
</span></code></pre></div></div> <h2 id="1502"> <a href="#1502" class="anchor-heading" aria-labelledby="1502"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.0.2 </h2> <p><strong>Release date:</strong> 2021-12-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Prometheus scrapes with both scrape and scrape-slow annotations (#1616)</li> </ul> <h3 id="default-value-changes-133"> <a href="#default-value-changes-133" class="anchor-heading" aria-labelledby="default-value-changes-133"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8d76e073..9f45e060 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1518,7 +1518,8 @@</span> serverFiles:
       # The relabeling allows the actual service scrape endpoint to be configured
       # via the following annotations:
       #
<span class="gd">-      # * `prometheus.io/scrape`: Only scrape services that have a value of `true`
</span><span class="gi">+      # * `prometheus.io/scrape`: Only scrape services that have a value of
+      # `true`, except if `prometheus.io/scrape-slow` is set to `true` as well.
</span>       # * `prometheus.io/scheme`: If the metrics endpoint is secured then you will need
       # to set this to `https` &amp; most likely set the `tls_config` of the scrape config.
       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
<span class="p">@@ -1535,6 +1536,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape]
             action: keep
             regex: true
<span class="gi">+          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape_slow]
+            action: drop
+            regex: true
</span>           - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scheme]
             action: replace
             target_label: __scheme__
<span class="p">@@ -1665,7 +1669,8 @@</span> serverFiles:
       # The relabeling allows the actual pod scrape endpoint to be configured via the
       # following annotations:
       #
<span class="gd">-      # * `prometheus.io/scrape`: Only scrape pods that have a value of `true`
</span><span class="gi">+      # * `prometheus.io/scrape`: Only scrape pods that have a value of `true`,
+      # except if `prometheus.io/scrape-slow` is set to `true` as well.
</span>       # * `prometheus.io/scheme`: If the metrics endpoint is secured then you will need
       # to set this to `https` &amp; most likely set the `tls_config` of the scrape config.
       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
<span class="p">@@ -1679,6 +1684,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]
             action: keep
             regex: true
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape_slow]
+            action: drop
+            regex: true
</span>           - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scheme]
             action: replace
             regex: (https?)
<span class="err">
</span></code></pre></div></div> <h2 id="1501"> <a href="#1501" class="anchor-heading" aria-labelledby="1501"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.0.1 </h2> <p><strong>Release date:</strong> 2021-11-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix prometheus update readme (#1541)</li> </ul> <h3 id="default-value-changes-134"> <a href="#default-value-changes-134" class="anchor-heading" aria-labelledby="default-value-changes-134"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1500"> <a href="#1500" class="anchor-heading" aria-labelledby="1500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15.0.0 </h2> <p><strong>Release date:</strong> 2021-11-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>prometheus: align relabelling convention with prometheus example (#1520)</li> </ul> <h3 id="default-value-changes-135"> <a href="#default-value-changes-135" class="anchor-heading" aria-labelledby="default-value-changes-135"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f3f2f622..8d76e073 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -477,7 +477,7 @@</span> nodeExporter:
   ##
   image:
     repository: quay.io/prometheus/node-exporter
<span class="gd">-    tag: v1.1.2
</span><span class="gi">+    tag: v1.3.0
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="p">@@ -1111,7 +1111,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v1.3.1
</span><span class="gi">+    tag: v1.4.2
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="p">@@ -1555,13 +1555,13 @@</span> serverFiles:
             regex: __meta_kubernetes_service_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
             action: replace
<span class="gd">-            target_label: kubernetes_namespace
</span><span class="gi">+            target_label: namespace
</span>           - source_labels: [__meta_kubernetes_service_name]
             action: replace
<span class="gd">-            target_label: kubernetes_name
</span><span class="gi">+            target_label: service
</span>           - source_labels: [__meta_kubernetes_pod_node_name]
             action: replace
<span class="gd">-            target_label: kubernetes_node
</span><span class="gi">+            target_label: node
</span> 
       # Scrape config for slow service endpoints; same as above, but with a larger
       # timeout and a larger interval
<span class="p">@@ -1609,13 +1609,13 @@</span> serverFiles:
             regex: __meta_kubernetes_service_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
             action: replace
<span class="gd">-            target_label: kubernetes_namespace
</span><span class="gi">+            target_label: namespace
</span>           - source_labels: [__meta_kubernetes_service_name]
             action: replace
<span class="gd">-            target_label: kubernetes_name
</span><span class="gi">+            target_label: service
</span>           - source_labels: [__meta_kubernetes_pod_node_name]
             action: replace
<span class="gd">-            target_label: kubernetes_node
</span><span class="gi">+            target_label: node
</span> 
       - job_name: 'prometheus-pushgateway'
         honor_labels: true
<span class="p">@@ -1656,9 +1656,9 @@</span> serverFiles:
           - action: labelmap
             regex: __meta_kubernetes_service_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
<span class="gd">-            target_label: kubernetes_namespace
</span><span class="gi">+            target_label: namespace
</span>           - source_labels: [__meta_kubernetes_service_name]
<span class="gd">-            target_label: kubernetes_name
</span><span class="gi">+            target_label: service
</span> 
       # Example scrape config for pods
       #
<span class="p">@@ -1699,10 +1699,10 @@</span> serverFiles:
             regex: __meta_kubernetes_pod_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
             action: replace
<span class="gd">-            target_label: kubernetes_namespace
</span><span class="gi">+            target_label: namespace
</span>           - source_labels: [__meta_kubernetes_pod_name]
             action: replace
<span class="gd">-            target_label: kubernetes_pod_name
</span><span class="gi">+            target_label: pod
</span>           - source_labels: [__meta_kubernetes_pod_phase]
             regex: Pending|Succeeded|Failed|Completed
             action: drop
<span class="p">@@ -1750,10 +1750,10 @@</span> serverFiles:
             regex: __meta_kubernetes_pod_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
             action: replace
<span class="gd">-            target_label: kubernetes_namespace
</span><span class="gi">+            target_label: namespace
</span>           - source_labels: [__meta_kubernetes_pod_name]
             action: replace
<span class="gd">-            target_label: kubernetes_pod_name
</span><span class="gi">+            target_label: pod
</span>           - source_labels: [__meta_kubernetes_pod_phase]
             regex: Pending|Succeeded|Failed|Completed
             action: drop
<span class="err">
</span></code></pre></div></div> <h2 id="14120"> <a href="#14120" class="anchor-heading" aria-labelledby="14120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.12.0 </h2> <p><strong>Release date:</strong> 2021-11-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.31.1&amp;color=success" alt="AppVersion: 2.31.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Bump Prometheus to 2.31.1 and Alertmanager to 0.23.0 (#1536)</li> </ul> <h3 id="default-value-changes-136"> <a href="#default-value-changes-136" class="anchor-heading" aria-labelledby="default-value-changes-136"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c777adf5..f3f2f622 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -48,7 +48,7 @@</span> alertmanager:
   ##
   image:
     repository: quay.io/prometheus/alertmanager
<span class="gd">-    tag: v0.21.0
</span><span class="gi">+    tag: v0.23.0
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="p">@@ -652,7 +652,7 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.26.0
</span><span class="gi">+    tag: v2.31.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="14111"> <a href="#14111" class="anchor-heading" aria-labelledby="14111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.11.1 </h2> <p><strong>Release date:</strong> 2021-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>docs(prometheus): updating README for prometheus chart to reflect new install location for kube-stat (#1486)</li> </ul> <h3 id="default-value-changes-137"> <a href="#default-value-changes-137" class="anchor-heading" aria-labelledby="default-value-changes-137"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="14110"> <a href="#14110" class="anchor-heading" aria-labelledby="14110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.11.0 </h2> <p><strong>Release date:</strong> 2021-10-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Support for selector in persistent volume claims (#1395)</li> </ul> <h3 id="default-value-changes-138"> <a href="#default-value-changes-138" class="anchor-heading" aria-labelledby="default-value-changes-138"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5a5bd0b3..c777adf5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -233,6 +233,16 @@</span> alertmanager:
     ##
     subPath: ""
 
<span class="gi">+    ## Persistent Volume Claim Selector
+    ## Useful if Persistent Volumes have been provisioned in advance
+    ## Ref: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector
+    ##
+    # selector:
+    #  matchLabels:
+    #    release: "stable"
+    #  matchExpressions:
+    #    - { key: environment, operator: In, values: [ dev ] }
+
</span>   emptyDir:
     ## alertmanager emptyDir volume size limit
     ##
<span class="p">@@ -906,6 +916,16 @@</span> server:
     ##
     subPath: ""
 
<span class="gi">+    ## Persistent Volume Claim Selector
+    ## Useful if Persistent Volumes have been provisioned in advance
+    ## Ref: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector
+    ##
+    # selector:
+    #  matchLabels:
+    #    release: "stable"
+    #  matchExpressions:
+    #    - { key: environment, operator: In, values: [ dev ] }
+
</span>   emptyDir:
     ## Prometheus server emptyDir volume size limit
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="14100"> <a href="#14100" class="anchor-heading" aria-labelledby="14100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.10.0 </h2> <p><strong>Release date:</strong> 2021-10-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow to specify custom headers for probes (#1422)</li> </ul> <h3 id="default-value-changes-139"> <a href="#default-value-changes-139" class="anchor-heading" aria-labelledby="default-value-changes-139"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8dba0670..5a5bd0b3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -717,6 +717,11 @@</span> server:
   ##
   remoteRead: []
 
<span class="gi">+  ## Custom HTTP headers for Liveness/Readiness/Startup Probe
+  ##
+  ## Useful for providing HTTP Basic Auth to healthchecks
+  probeHeaders: []
+
</span>   ## Additional Prometheus server container arguments
   ##
   extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="1492"> <a href="#1492" class="anchor-heading" aria-labelledby="1492"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.9.2 </h2> <p><strong>Release date:</strong> 2021-10-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Use extraArgs for alertmanager configmap-reload container (#1394)</li> </ul> <h3 id="default-value-changes-140"> <a href="#default-value-changes-140" class="anchor-heading" aria-labelledby="default-value-changes-140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1491"> <a href="#1491" class="anchor-heading" aria-labelledby="1491"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.9.1 </h2> <p><strong>Release date:</strong> 2021-10-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Enable tcpsocket probe (#1411)</li> </ul> <h3 id="default-value-changes-141"> <a href="#default-value-changes-141" class="anchor-heading" aria-labelledby="default-value-changes-141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 25b60317..8dba0670 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -966,6 +966,7 @@</span> server:
   ## Prometheus server readiness and liveness probe initial delay and timeout
   ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
   ##
<span class="gi">+  tcpSocketProbeEnabled: false
</span>   probeScheme: HTTP
   readinessProbeInitialDelay: 30
   readinessProbePeriodSeconds: 5
<span class="err">
</span></code></pre></div></div> <h2 id="1490"> <a href="#1490" class="anchor-heading" aria-labelledby="1490"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.9.0 </h2> <p><strong>Release date:</strong> 2021-10-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add a startup probe to prometheus server (#1404)</li> </ul> <h3 id="default-value-changes-142"> <a href="#default-value-changes-142" class="anchor-heading" aria-labelledby="default-value-changes-142"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c8e42d63..25b60317 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -977,6 +977,11 @@</span> server:
   livenessProbeTimeout: 10
   livenessProbeFailureThreshold: 3
   livenessProbeSuccessThreshold: 1
<span class="gi">+  startupProbe:
+    enabled: false
+    periodSeconds: 5
+    failureThreshold: 30
+    timeoutSeconds: 10
</span> 
   ## Prometheus server resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="err">
</span></code></pre></div></div> <h2 id="1481"> <a href="#1481" class="anchor-heading" aria-labelledby="1481"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.8.1 </h2> <p><strong>Release date:</strong> 2021-10-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> add probeScheme for prometheus server (#1385)</li> </ul> <h3 id="default-value-changes-143"> <a href="#default-value-changes-143" class="anchor-heading" aria-labelledby="default-value-changes-143"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f1bd8e7a..c8e42d63 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -966,6 +966,7 @@</span> server:
   ## Prometheus server readiness and liveness probe initial delay and timeout
   ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
   ##
<span class="gi">+  probeScheme: HTTP
</span>   readinessProbeInitialDelay: 30
   readinessProbePeriodSeconds: 5
   readinessProbeTimeout: 4
<span class="err">
</span></code></pre></div></div> <h2 id="1480"> <a href="#1480" class="anchor-heading" aria-labelledby="1480"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.8.0 </h2> <p><strong>Release date:</strong> 2021-09-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add VPA support for pushgateway (#1277)</li> </ul> <h3 id="default-value-changes-144"> <a href="#default-value-changes-144" class="anchor-heading" aria-labelledby="default-value-changes-144"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 44637044..f1bd8e7a 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1197,6 +1197,15 @@</span> pushgateway:
     #   cpu: 10m
     #   memory: 32Mi
 
<span class="gi">+  ## Vertical Pod Autoscaler config
+  ## Ref: https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
+  verticalAutoscaler:
+    ## If true a VPA object will be created for the controller
+    enabled: false
+    # updateMode: "Auto"
+    # containerPolicies:
+    # - containerName: 'prometheus-pushgateway'
+
</span>   # Custom DNS configuration to be added to push-gateway pods
   dnsConfig: {}
     # nameservers:
<span class="err">
</span></code></pre></div></div> <h2 id="1472"> <a href="#1472" class="anchor-heading" aria-labelledby="1472"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.7.2 </h2> <p><strong>Release date:</strong> 2021-09-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> bump kube-state-metrics version to 3.5.* (#1363)</li> </ul> <h3 id="default-value-changes-145"> <a href="#default-value-changes-145" class="anchor-heading" aria-labelledby="default-value-changes-145"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1471"> <a href="#1471" class="anchor-heading" aria-labelledby="1471"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.7.1 </h2> <p><strong>Release date:</strong> 2021-09-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix AlertManager deploy.yaml missing <code class="language-plaintext highlighter-rouge">cluster.listen-address</code> (#1270)</li> </ul> <h3 id="default-value-changes-146"> <a href="#default-value-changes-146" class="anchor-heading" aria-labelledby="default-value-changes-146"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 80992ced..44637044 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -347,6 +347,10 @@</span> alertmanager:
     sessionAffinity: None
     type: ClusterIP
 
<span class="gi">+  ## List of initial peers
+  ## Ref: https://github.com/prometheus/alertmanager/blob/main/README.md#high-availability
+  clusterPeers: []
+
</span> ## Monitors ConfigMap changes and POSTs to a URL
 ## Ref: https://github.com/jimmidyson/configmap-reload
 ##
<span class="err">
</span></code></pre></div></div> <h2 id="1470"> <a href="#1470" class="anchor-heading" aria-labelledby="1470"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.7.0 </h2> <p><strong>Release date:</strong> 2021-09-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Support metrics target parameters (#1298)</li> </ul> <h3 id="default-value-changes-147"> <a href="#default-value-changes-147" class="anchor-heading" aria-labelledby="default-value-changes-147"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5d2de018..80992ced 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1479,6 +1479,8 @@</span> serverFiles:
       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
       # * `prometheus.io/port`: If the metrics are exposed on a different port to the
       # service then set this appropriately.
<span class="gi">+      # * `prometheus.io/param_&lt;parameter&gt;`: If the metrics endpoint uses parameters
+      # then you can set any parameter
</span>       - job_name: 'kubernetes-service-endpoints'
 
         kubernetes_sd_configs:
<span class="p">@@ -1501,6 +1503,9 @@</span> serverFiles:
             target_label: __address__
             regex: ([^:]+)(?::\d+)?;(\d+)
             replacement: $1:$2
<span class="gi">+          - action: labelmap
+            regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)
+            replacement: __param_$1
</span>           - action: labelmap
             regex: __meta_kubernetes_service_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
<span class="p">@@ -1525,6 +1530,8 @@</span> serverFiles:
       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
       # * `prometheus.io/port`: If the metrics are exposed on a different port to the
       # service then set this appropriately.
<span class="gi">+      # * `prometheus.io/param_&lt;parameter&gt;`: If the metrics endpoint uses parameters
+      # then you can set any parameter
</span>       - job_name: 'kubernetes-service-endpoints-slow'
 
         scrape_interval: 5m
<span class="p">@@ -1550,6 +1557,9 @@</span> serverFiles:
             target_label: __address__
             regex: ([^:]+)(?::\d+)?;(\d+)
             replacement: $1:$2
<span class="gi">+          - action: labelmap
+            regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)
+            replacement: __param_$1
</span>           - action: labelmap
             regex: __meta_kubernetes_service_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
<span class="p">@@ -1637,6 +1647,9 @@</span> serverFiles:
             regex: ([^:]+)(?::\d+)?;(\d+)
             replacement: $1:$2
             target_label: __address__
<span class="gi">+          - action: labelmap
+            regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)
+            replacement: __param_$1
</span>           - action: labelmap
             regex: __meta_kubernetes_pod_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
<span class="p">@@ -1685,6 +1698,9 @@</span> serverFiles:
             regex: ([^:]+)(?::\d+)?;(\d+)
             replacement: $1:$2
             target_label: __address__
<span class="gi">+          - action: labelmap
+            regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)
+            replacement: __param_$1
</span>           - action: labelmap
             regex: __meta_kubernetes_pod_label_(.+)
           - source_labels: [__meta_kubernetes_namespace]
<span class="err">
</span></code></pre></div></div> <h2 id="1461"> <a href="#1461" class="anchor-heading" aria-labelledby="1461"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.6.1 </h2> <p><strong>Release date:</strong> 2021-09-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Turn server.sidecarContainers into list (#1259)</li> </ul> <h3 id="default-value-changes-148"> <a href="#default-value-changes-148" class="anchor-heading" aria-labelledby="default-value-changes-148"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 7f5579c6..5d2de018 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -620,7 +620,7 @@</span> server:
   #   sidecarContainers:
   #      webserver:
   #        image: nginx
<span class="gd">-  sidecarContainers: {}
</span><span class="gi">+  sidecarContainers: []
</span> 
   # sidecarTemplateValues - context to be used in template for sidecarContainers
   # Example:
<span class="err">
</span></code></pre></div></div> <h2 id="1460"> <a href="#1460" class="anchor-heading" aria-labelledby="1460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.6.0 </h2> <p><strong>Release date:</strong> 2021-08-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Upgrade dependent kube-state-metrics chart version + additional dependent charts (#1216)</li> </ul> <h3 id="default-value-changes-149"> <a href="#default-value-changes-149" class="anchor-heading" aria-labelledby="default-value-changes-149"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1450"> <a href="#1450" class="anchor-heading" aria-labelledby="1450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.5.0 </h2> <p><strong>Release date:</strong> 2021-08-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>drop Completed pods (#1228)</li> </ul> <h3 id="default-value-changes-150"> <a href="#default-value-changes-150" class="anchor-heading" aria-labelledby="default-value-changes-150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 332303e9..7f5579c6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1646,7 +1646,7 @@</span> serverFiles:
             action: replace
             target_label: kubernetes_pod_name
           - source_labels: [__meta_kubernetes_pod_phase]
<span class="gd">-            regex: Pending|Succeeded|Failed
</span><span class="gi">+            regex: Pending|Succeeded|Failed|Completed
</span>             action: drop
 
       # Example Scrape config for pods which should be scraped slower. An useful example
<span class="p">@@ -1694,7 +1694,7 @@</span> serverFiles:
             action: replace
             target_label: kubernetes_pod_name
           - source_labels: [__meta_kubernetes_pod_phase]
<span class="gd">-            regex: Pending|Succeeded|Failed
</span><span class="gi">+            regex: Pending|Succeeded|Failed|Completed
</span>             action: drop
 
 # adds additional scrape configs to prometheus.yml
<span class="err">
</span></code></pre></div></div> <h2 id="1441"> <a href="#1441" class="anchor-heading" aria-labelledby="1441"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.4.1 </h2> <p><strong>Release date:</strong> 2021-07-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Align server sts &amp; deploy manifests (#1125)</li> </ul> <h3 id="default-value-changes-151"> <a href="#default-value-changes-151" class="anchor-heading" aria-labelledby="default-value-changes-151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1440"> <a href="#1440" class="anchor-heading" aria-labelledby="1440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.4.0 </h2> <p><strong>Release date:</strong> 2021-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix missing web.route-prefix arg when prefixURL is set (#1093)</li> </ul> <h3 id="default-value-changes-152"> <a href="#default-value-changes-152" class="anchor-heading" aria-labelledby="default-value-changes-152"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1431"> <a href="#1431" class="anchor-heading" aria-labelledby="1431"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.3.1 </h2> <p><strong>Release date:</strong> 2021-07-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix link to new repo (#1142)</li> </ul> <h3 id="default-value-changes-153"> <a href="#default-value-changes-153" class="anchor-heading" aria-labelledby="default-value-changes-153"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b47160fb..332303e9 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -434,7 +434,7 @@</span> kubeStateMetrics:
   enabled: true
 
 ## kube-state-metrics sub-chart configurable values
<span class="gd">-## Please see https://github.com/kubernetes/kube-state-metrics/tree/master/charts/kube-state-metrics
</span><span class="gi">+## Please see https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-state-metrics
</span> ##
 # kube-state-metrics:
 
<span class="err">
</span></code></pre></div></div> <h2 id="1430"> <a href="#1430" class="anchor-heading" aria-labelledby="1430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.3.0 </h2> <p><strong>Release date:</strong> 2021-06-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> chore: improve ingress support for k8s v1.18 (#1106)</li> </ul> <h3 id="default-value-changes-154"> <a href="#default-value-changes-154" class="anchor-heading" aria-labelledby="default-value-changes-154"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4c997743..b47160fb 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -128,6 +128,11 @@</span> alertmanager:
     #   - alertmanager.domain.com
     #   - domain.com/alertmanager
 
<span class="gi">+    path: /
+
+    # pathType is only for k8s &gt;= 1.18
+    pathType: Prefix
+
</span>     ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
     extraPaths: []
     # - path: /*
<span class="p">@@ -781,6 +786,11 @@</span> server:
     #   - prometheus.domain.com
     #   - domain.com/prometheus
 
<span class="gi">+    path: /
+
+    # pathType is only for k8s &gt;= 1.18
+    pathType: Prefix
+
</span>     ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
     extraPaths: []
     # - path: /*
<span class="p">@@ -1103,6 +1113,11 @@</span> pushgateway:
     #   - pushgateway.domain.com
     #   - domain.com/pushgateway
 
<span class="gi">+    path: /
+
+    # pathType is only for k8s &gt;= 1.18
+    pathType: Prefix
+
</span>     ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
     extraPaths: []
     # - path: /*
<span class="err">
</span></code></pre></div></div> <h2 id="1421"> <a href="#1421" class="anchor-heading" aria-labelledby="1421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.2.1 </h2> <p><strong>Release date:</strong> 2021-06-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow templating sidecar containers for prometheus server (#1084)</li> </ul> <h3 id="default-value-changes-155"> <a href="#default-value-changes-155" class="anchor-heading" aria-labelledby="default-value-changes-155"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 605285d4..4c997743 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -617,6 +617,18 @@</span> server:
   #        image: nginx
   sidecarContainers: {}
 
<span class="gi">+  # sidecarTemplateValues - context to be used in template for sidecarContainers
+  # Example:
+  #   sidecarTemplateValues: *your-custom-globals
+  #   sidecarContainers:
+  #     webserver: |-
+  #       {{ include "webserver-container-template" . }}
+  # Template for `webserver-container-template` might looks like this:
+  #   image: "{{ .Values.server.sidecarTemplateValues.repository }}:{{ .Values.server.sidecarTemplateValues.tag }}"
+  #   ...
+  #
+  sidecarTemplateValues: {}
+
</span>   ## Prometheus server container image
   ##
   image:
<span class="err">
</span></code></pre></div></div> <h2 id="1420"> <a href="#1420" class="anchor-heading" aria-labelledby="1420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.2.0 </h2> <p><strong>Release date:</strong> 2021-06-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> allow boolean pushgateway extraArgs (#1076)</li> </ul> <h3 id="default-value-changes-156"> <a href="#default-value-changes-156" class="anchor-heading" aria-labelledby="default-value-changes-156"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1413"> <a href="#1413" class="anchor-heading" aria-labelledby="1413"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.3 </h2> <p><strong>Release date:</strong> 2021-06-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> expose optional flag for extra configmaps and secrets (#1073)</li> </ul> <h3 id="default-value-changes-157"> <a href="#default-value-changes-157" class="anchor-heading" aria-labelledby="default-value-changes-157"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1412"> <a href="#1412" class="anchor-heading" aria-labelledby="1412"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.2 </h2> <p><strong>Release date:</strong> 2021-06-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> add IngressClassName support for pushgateway (#1061)</li> </ul> <h3 id="default-value-changes-158"> <a href="#default-value-changes-158" class="anchor-heading" aria-labelledby="default-value-changes-158"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0cb42207..605285d4 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -107,6 +107,10 @@</span> alertmanager:
     ##
     enabled: false
 
<span class="gi">+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     ## alertmanager Ingress annotations
     ##
     annotations: {}
<span class="p">@@ -744,6 +748,10 @@</span> server:
     ##
     enabled: false
 
<span class="gi">+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     ## Prometheus server Ingress annotations
     ##
     annotations: {}
<span class="p">@@ -1066,6 +1074,10 @@</span> pushgateway:
     ##
     enabled: false
 
<span class="gi">+    # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+    # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+    # ingressClassName: nginx
+
</span>     ## pushgateway Ingress annotations
     ##
     annotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="1411"> <a href="#1411" class="anchor-heading" aria-labelledby="1411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.1 </h2> <p><strong>Release date:</strong> 2021-05-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Respect storagePath value when deployed as StatefulSet (#1003)</li> </ul> <h3 id="default-value-changes-159"> <a href="#default-value-changes-159" class="anchor-heading" aria-labelledby="default-value-changes-159"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1410"> <a href="#1410" class="anchor-heading" aria-labelledby="1410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.1.0 </h2> <p><strong>Release date:</strong> 2021-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Add option to set storage.tsdb.path (#986)</li> </ul> <h3 id="default-value-changes-160"> <a href="#default-value-changes-160" class="anchor-heading" aria-labelledby="default-value-changes-160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1ee6089c..0cb42207 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -671,6 +671,10 @@</span> server:
   ## Path to a configuration file on prometheus server container FS
   configPath: /etc/config/prometheus.yml
 
<span class="gi">+  ### The data directory used by prometheus to set --storage.tsdb.path
+  ### When empty server.persistentVolume.mountPath is used instead
+  storagePath: ""
+
</span>   global:
     ## How frequently to scrape targets by default
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1401"> <a href="#1401" class="anchor-heading" aria-labelledby="1401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.0.1 </h2> <p><strong>Release date:</strong> 2021-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> kube-state-metrics subchart updated from chart 3.0.* to chart 3.1.* (#975)</li> </ul> <h3 id="default-value-changes-161"> <a href="#default-value-changes-161" class="anchor-heading" aria-labelledby="default-value-changes-161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1400"> <a href="#1400" class="anchor-heading" aria-labelledby="1400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14.0.0 </h2> <p><strong>Release date:</strong> 2021-05-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Updated Kube-State-Metrics to version 3.0.* (#968)</li> </ul> <h3 id="default-value-changes-162"> <a href="#default-value-changes-162" class="anchor-heading" aria-labelledby="default-value-changes-162"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1380"> <a href="#1380" class="anchor-heading" aria-labelledby="1380"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.8.0 </h2> <p><strong>Release date:</strong> 2021-04-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Upgraded node-exporter to v1.1.2 (#855)</li> </ul> <h3 id="default-value-changes-163"> <a href="#default-value-changes-163" class="anchor-heading" aria-labelledby="default-value-changes-163"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 02c3bf21..1ee6089c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -454,7 +454,7 @@</span> nodeExporter:
   ##
   image:
     repository: quay.io/prometheus/node-exporter
<span class="gd">-    tag: v1.0.1
</span><span class="gi">+    tag: v1.1.2
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="err">
</span></code></pre></div></div> <h2 id="1370"> <a href="#1370" class="anchor-heading" aria-labelledby="1370"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.7.0 </h2> <p><strong>Release date:</strong> 2021-04-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.26.0&amp;color=success" alt="AppVersion: 2.26.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump up to v2.26-Signed off by: Imaya Kumar Jagannathan(ijaganna@amazon.com) (#833)</li> </ul> <h3 id="default-value-changes-164"> <a href="#default-value-changes-164" class="anchor-heading" aria-labelledby="default-value-changes-164"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9f16dddd..02c3bf21 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -617,7 +617,7 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.24.0
</span><span class="gi">+    tag: v2.26.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1360"> <a href="#1360" class="anchor-heading" aria-labelledby="1360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.6.0 </h2> <p><strong>Release date:</strong> 2021-03-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> make path.rootfs conditional (#737)</li> </ul> <h3 id="default-value-changes-165"> <a href="#default-value-changes-165" class="anchor-heading" aria-labelledby="default-value-changes-165"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b14d8444..9f16dddd 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -442,6 +442,10 @@</span> nodeExporter:
   ##
   hostPID: true
 
<span class="gi">+  ## If true, node-exporter pods mounts host / at /host/root
+  ##
+  hostRootfs: true
+
</span>   ## node-exporter container name
   ##
   name: node-exporter
<span class="err">
</span></code></pre></div></div> <h2 id="1350"> <a href="#1350" class="anchor-heading" aria-labelledby="1350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.5.0 </h2> <p><strong>Release date:</strong> 2021-03-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Allow to enable hostNetwork (#733)</li> </ul> <h3 id="default-value-changes-166"> <a href="#default-value-changes-166" class="anchor-heading" aria-labelledby="default-value-changes-166"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index dc4fe316..b14d8444 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -946,6 +946,14 @@</span> server:
     #   cpu: 500m
     #   memory: 512Mi
 
<span class="gi">+  # Required for use in managed kubernetes clusters (such as AWS EKS) with custom CNI (such as calico),
+  # because control-plane managed by AWS cannot communicate with pods' IP CIDR and admission webhooks are not working
+  ##
+  hostNetwork: false
+
+  # When hostNetwork is enabled, you probably want to set this to ClusterFirstWithHostNet
+  dnsPolicy: ClusterFirst
+
</span>   ## Vertical Pod Autoscaler config
   ## Ref: https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
   verticalAutoscaler:
<span class="err">
</span></code></pre></div></div> <h2 id="1340"> <a href="#1340" class="anchor-heading" aria-labelledby="1340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.4.0 </h2> <p><strong>Release date:</strong> 2021-02-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Kube State Metrics chart to 2.13.* to include latest patch release and ability to provide extra arguments (#714)</li> </ul> <h3 id="default-value-changes-167"> <a href="#default-value-changes-167" class="anchor-heading" aria-labelledby="default-value-changes-167"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1333"> <a href="#1333" class="anchor-heading" aria-labelledby="1333"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.3.3 </h2> <p><strong>Release date:</strong> 2021-02-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix imagePullSecrets indentation (#691)</li> </ul> <h3 id="default-value-changes-168"> <a href="#default-value-changes-168" class="anchor-heading" aria-labelledby="default-value-changes-168"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1332"> <a href="#1332" class="anchor-heading" aria-labelledby="1332"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.3.2 </h2> <p><strong>Release date:</strong> 2021-02-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>chore: fix and bump the configmap reloader for real (#664)</li> </ul> <h3 id="default-value-changes-169"> <a href="#default-value-changes-169" class="anchor-heading" aria-labelledby="default-value-changes-169"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 75c97f37..dc4fe316 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -355,7 +355,7 @@</span> configmapReload:
     ##
     image:
       repository: jimmidyson/configmap-reload
<span class="gd">-      tag: v0.4.0
</span><span class="gi">+      tag: v0.5.0
</span>       pullPolicy: IfNotPresent
 
     ## Additional configmap-reload container arguments
<span class="p">@@ -393,7 +393,7 @@</span> configmapReload:
     ##
     image:
       repository: jimmidyson/configmap-reload
<span class="gd">-      tag: v0.4.0
</span><span class="gi">+      tag: v0.5.0
</span>       pullPolicy: IfNotPresent
 
     ## Additional configmap-reload container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="1331"> <a href="#1331" class="anchor-heading" aria-labelledby="1331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.3.1 </h2> <p><strong>Release date:</strong> 2021-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update chart version (#636)</li> </ul> <h3 id="default-value-changes-170"> <a href="#default-value-changes-170" class="anchor-heading" aria-labelledby="default-value-changes-170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1330"> <a href="#1330" class="anchor-heading" aria-labelledby="1330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.3.0 </h2> <p><strong>Release date:</strong> 2021-02-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Ability for custom dnsConfig to prometheus (#643)</li> </ul> <h3 id="default-value-changes-171"> <a href="#default-value-changes-171" class="anchor-heading" aria-labelledby="default-value-changes-171"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 891d8990..75c97f37 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -297,6 +297,18 @@</span> alertmanager:
     #   cpu: 10m
     #   memory: 32Mi
 
<span class="gi">+  # Custom DNS configuration to be added to alertmanager pods
+  dnsConfig: {}
+    # nameservers:
+    #   - 1.2.3.4
+    # searches:
+    #   - ns1.svc.cluster-domain.example
+    #   - my.dns.search.suffix
+    # options:
+    #   - name: ndots
+    #     value: "2"
+  #   - name: edns0
+
</span>   ## Security context to be added to alertmanager pods
   ##
   securityContext:
<span class="p">@@ -528,6 +540,18 @@</span> nodeExporter:
     #   cpu: 100m
     #   memory: 30Mi
 
<span class="gi">+  # Custom DNS configuration to be added to node-exporter pods
+  dnsConfig: {}
+    # nameservers:
+    #   - 1.2.3.4
+    # searches:
+    #   - ns1.svc.cluster-domain.example
+    #   - my.dns.search.suffix
+    # options:
+    #   - name: ndots
+    #     value: "2"
+  #   - name: edns0
+
</span>   ## Security context to be added to node-exporter pods
   ##
   securityContext:
<span class="p">@@ -931,6 +955,17 @@</span> server:
     # containerPolicies:
     # - containerName: 'prometheus-server'
 
<span class="gi">+  # Custom DNS configuration to be added to prometheus server pods
+  dnsConfig: {}
+    # nameservers:
+    #   - 1.2.3.4
+    # searches:
+    #   - ns1.svc.cluster-domain.example
+    #   - my.dns.search.suffix
+    # options:
+    #   - name: ndots
+    #     value: "2"
+  #   - name: edns0
</span>   ## Security context to be added to server pods
   ##
   securityContext:
<span class="p">@@ -1103,6 +1138,18 @@</span> pushgateway:
     #   cpu: 10m
     #   memory: 32Mi
 
<span class="gi">+  # Custom DNS configuration to be added to push-gateway pods
+  dnsConfig: {}
+    # nameservers:
+    #   - 1.2.3.4
+    # searches:
+    #   - ns1.svc.cluster-domain.example
+    #   - my.dns.search.suffix
+    # options:
+    #   - name: ndots
+    #     value: "2"
+  #   - name: edns0
+
</span>   ## Security context to be added to push-gateway pods
   ##
   securityContext:
<span class="err">
</span></code></pre></div></div> <h2 id="1321"> <a href="#1321" class="anchor-heading" aria-labelledby="1321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.2.1 </h2> <p><strong>Release date:</strong> 2021-01-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Update Helm dependency to use new kube-state-metrics chart versions (#497)</li> </ul> <h3 id="default-value-changes-172"> <a href="#default-value-changes-172" class="anchor-heading" aria-labelledby="default-value-changes-172"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f5b0ed39..891d8990 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -413,7 +413,7 @@</span> kubeStateMetrics:
   enabled: true
 
 ## kube-state-metrics sub-chart configurable values
<span class="gd">-## Please see https://github.com/helm/charts/tree/master/stable/kube-state-metrics
</span><span class="gi">+## Please see https://github.com/kubernetes/kube-state-metrics/tree/master/charts/kube-state-metrics
</span> ##
 # kube-state-metrics:
 
<span class="err">
</span></code></pre></div></div> <h2 id="1320"> <a href="#1320" class="anchor-heading" aria-labelledby="1320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.2.0 </h2> <p><strong>Release date:</strong> 2021-01-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.24.0&amp;color=success" alt="AppVersion: 2.24.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> image &amp; dependency updates (#556)</li> </ul> <h3 id="default-value-changes-173"> <a href="#default-value-changes-173" class="anchor-heading" aria-labelledby="default-value-changes-173"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 83c40d0f..f5b0ed39 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -589,7 +589,7 @@</span> server:
   ##
   image:
     repository: quay.io/prometheus/prometheus
<span class="gd">-    tag: v2.22.1
</span><span class="gi">+    tag: v2.24.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -994,7 +994,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v1.3.0
</span><span class="gi">+    tag: v1.3.1
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1310"> <a href="#1310" class="anchor-heading" aria-labelledby="1310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.1.0 </h2> <p><strong>Release date:</strong> 2021-01-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.22.1&amp;color=success" alt="AppVersion: 2.22.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Support scheme annotation for pod scrapers. (#559)</li> </ul> <h3 id="default-value-changes-174"> <a href="#default-value-changes-174" class="anchor-heading" aria-labelledby="default-value-changes-174"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a3bc388a..83c40d0f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1509,6 +1509,8 @@</span> serverFiles:
       # following annotations:
       #
       # * `prometheus.io/scrape`: Only scrape pods that have a value of `true`
<span class="gi">+      # * `prometheus.io/scheme`: If the metrics endpoint is secured then you will need
+      # to set this to `https` &amp; most likely set the `tls_config` of the scrape config.
</span>       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
       # * `prometheus.io/port`: Scrape the pod on the indicated port instead of the default of `9102`.
       - job_name: 'kubernetes-pods'
<span class="p">@@ -1520,6 +1522,10 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]
             action: keep
             regex: true
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scheme]
+            action: replace
+            regex: (https?)
+            target_label: __scheme__
</span>           - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]
             action: replace
             target_label: __metrics_path__
<span class="p">@@ -1548,6 +1554,8 @@</span> serverFiles:
       # following annotations:
       #
       # * `prometheus.io/scrape-slow`: Only scrape pods that have a value of `true`
<span class="gi">+      # * `prometheus.io/scheme`: If the metrics endpoint is secured then you will need
+      # to set this to `https` &amp; most likely set the `tls_config` of the scrape config.
</span>       # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
       # * `prometheus.io/port`: Scrape the pod on the indicated port instead of the default of `9102`.
       - job_name: 'kubernetes-pods-slow'
<span class="p">@@ -1562,6 +1570,10 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape_slow]
             action: keep
             regex: true
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scheme]
+            action: replace
+            regex: (https?)
+            target_label: __scheme__
</span>           - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]
             action: replace
             target_label: __metrics_path__
<span class="err">
</span></code></pre></div></div> <h2 id="1303"> <a href="#1303" class="anchor-heading" aria-labelledby="1303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.3 </h2> <p><strong>Release date:</strong> 2021-01-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.22.1&amp;color=success" alt="AppVersion: 2.22.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow alertmanager to be deployed in IPv6 only environments (#528)</li> </ul> <h3 id="default-value-changes-175"> <a href="#default-value-changes-175" class="anchor-heading" aria-labelledby="default-value-changes-175"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1302"> <a href="#1302" class="anchor-heading" aria-labelledby="1302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.2 </h2> <p><strong>Release date:</strong> 2020-12-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.22.1&amp;color=success" alt="AppVersion: 2.22.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>prometheus: fix chart version (#525)</li> <li>Added absent allowedHostPath to psp for node-exporter (#470)</li> </ul> <h3 id="default-value-changes-176"> <a href="#default-value-changes-176" class="anchor-heading" aria-labelledby="default-value-changes-176"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1301"> <a href="#1301" class="anchor-heading" aria-labelledby="1301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.1 </h2> <p><strong>Release date:</strong> 2020-12-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.22.1&amp;color=success" alt="AppVersion: 2.22.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> add .Capabilities.APIVersions for IngressClass fixes #507 (#508)</li> </ul> <h3 id="default-value-changes-177"> <a href="#default-value-changes-177" class="anchor-heading" aria-labelledby="default-value-changes-177"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1300"> <a href="#1300" class="anchor-heading" aria-labelledby="1300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13.0.0 </h2> <p><strong>Release date:</strong> 2020-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.22.1&amp;color=success" alt="AppVersion: 2.22.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Prometheus - GH-417 Allow merging server sidecarContainers (#440)</li> </ul> <h3 id="default-value-changes-178"> <a href="#default-value-changes-178" class="anchor-heading" aria-labelledby="default-value-changes-178"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 66376084..a3bc388a 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -576,7 +576,14 @@</span> server:
   #   - yournamespace
 
   name: server
<span class="gd">-  sidecarContainers:
</span><span class="gi">+
+  # sidecarContainers - add more containers to prometheus server
+  # Key/Value where Key is the sidecar `- name: &lt;Key&gt;`
+  # Example:
+  #   sidecarContainers:
+  #      webserver:
+  #        image: nginx
+  sidecarContainers: {}
</span> 
   ## Prometheus server container image
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1203"> <a href="#1203" class="anchor-heading" aria-labelledby="1203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.3 </h2> <p><strong>Release date:</strong> 2020-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.22.1&amp;color=success" alt="AppVersion: 2.22.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>change appversion to 2.22.1 matching prometheus server version (#459)</li> </ul> <h3 id="default-value-changes-179"> <a href="#default-value-changes-179" class="anchor-heading" aria-labelledby="default-value-changes-179"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1202"> <a href="#1202" class="anchor-heading" aria-labelledby="1202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.2 </h2> <p><strong>Release date:</strong> 2020-12-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> - Fix/node exporter host bug (#451)</li> </ul> <h3 id="default-value-changes-180"> <a href="#default-value-changes-180" class="anchor-heading" aria-labelledby="default-value-changes-180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1d323777..66376084 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -530,8 +530,11 @@</span> nodeExporter:
 
   ## Security context to be added to node-exporter pods
   ##
<span class="gd">-  securityContext: {}
-    # runAsUser: 0
</span><span class="gi">+  securityContext:
+    fsGroup: 65534
+    runAsGroup: 65534
+    runAsNonRoot: true
+    runAsUser: 65534
</span> 
   service:
     annotations:
<span class="err">
</span></code></pre></div></div> <h2 id="1201"> <a href="#1201" class="anchor-heading" aria-labelledby="1201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.1 </h2> <p><strong>Release date:</strong> 2020-11-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Potentially change default liveness and readiness to abide by GKE limitations (#411)</li> </ul> <h3 id="default-value-changes-181"> <a href="#default-value-changes-181" class="anchor-heading" aria-labelledby="default-value-changes-181"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8bc08459..1d323777 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -892,12 +892,12 @@</span> server:
   ##
   readinessProbeInitialDelay: 30
   readinessProbePeriodSeconds: 5
<span class="gd">-  readinessProbeTimeout: 30
</span><span class="gi">+  readinessProbeTimeout: 4
</span>   readinessProbeFailureThreshold: 3
   readinessProbeSuccessThreshold: 1
   livenessProbeInitialDelay: 30
   livenessProbePeriodSeconds: 15
<span class="gd">-  livenessProbeTimeout: 30
</span><span class="gi">+  livenessProbeTimeout: 10
</span>   livenessProbeFailureThreshold: 3
   livenessProbeSuccessThreshold: 1
 
<span class="err">
</span></code></pre></div></div> <h2 id="1200"> <a href="#1200" class="anchor-heading" aria-labelledby="1200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12.0.0 </h2> <p><strong>Release date:</strong> 2020-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Migrate to chart v2 (#387)</li> </ul> <h3 id="default-value-changes-182"> <a href="#default-value-changes-182" class="anchor-heading" aria-labelledby="default-value-changes-182"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6244d181..8bc08459 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -47,7 +47,7 @@</span> alertmanager:
   ## alertmanager container image
   ##
   image:
<span class="gd">-    repository: prom/alertmanager
</span><span class="gi">+    repository: quay.io/prometheus/alertmanager
</span>     tag: v0.21.0
     pullPolicy: IfNotPresent
 
<span class="p">@@ -437,7 +437,7 @@</span> nodeExporter:
   ## node-exporter container image
   ##
   image:
<span class="gd">-    repository: prom/node-exporter
</span><span class="gi">+    repository: quay.io/prometheus/node-exporter
</span>     tag: v1.0.1
     pullPolicy: IfNotPresent
 
<span class="p">@@ -578,8 +578,8 @@</span> server:
   ## Prometheus server container image
   ##
   image:
<span class="gd">-    repository: prom/prometheus
-    tag: v2.21.0
</span><span class="gi">+    repository: quay.io/prometheus/prometheus
+    tag: v2.22.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -984,7 +984,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v1.2.0
</span><span class="gi">+    tag: v1.3.0
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="11169"> <a href="#11169" class="anchor-heading" aria-labelledby="11169"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.9 </h2> <p><strong>Release date:</strong> 2020-11-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Use Alertmanager API port only for kubernetes_sd. (#353)</li> </ul> <h3 id="default-value-changes-183"> <a href="#default-value-changes-183" class="anchor-heading" aria-labelledby="default-value-changes-183"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11168"> <a href="#11168" class="anchor-heading" aria-labelledby="11168"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.8 </h2> <p><strong>Release date:</strong> 2020-11-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>charts/prometheus: fix typo (#319)</li> </ul> <h3 id="default-value-changes-184"> <a href="#default-value-changes-184" class="anchor-heading" aria-labelledby="default-value-changes-184"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index fa2f40aa..6244d181 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1532,7 +1532,7 @@</span> serverFiles:
             action: drop
 
       # Example Scrape config for pods which should be scraped slower. An useful example
<span class="gd">-      # would be stackriver-exporter which querys an API on every scrape of the pod
</span><span class="gi">+      # would be stackriver-exporter which queries an API on every scrape of the pod
</span>       #
       # The relabeling allows the actual pod scrape endpoint to be configured via the
       # following annotations:
<span class="err">
</span></code></pre></div></div> <h2 id="11167"> <a href="#11167" class="anchor-heading" aria-labelledby="11167"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.7 </h2> <p><strong>Release date:</strong> 2020-10-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Change helm stable repo (#290)</li> </ul> <h3 id="default-value-changes-185"> <a href="#default-value-changes-185" class="anchor-heading" aria-labelledby="default-value-changes-185"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11166"> <a href="#11166" class="anchor-heading" aria-labelledby="11166"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.6 </h2> <p><strong>Release date:</strong> 2020-10-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Fix rolebinding apiVersion (#287)</li> </ul> <h3 id="default-value-changes-186"> <a href="#default-value-changes-186" class="anchor-heading" aria-labelledby="default-value-changes-186"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11165"> <a href="#11165" class="anchor-heading" aria-labelledby="11165"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.5 </h2> <p><strong>Release date:</strong> 2020-10-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> comment for prometheus base url fixing (#256)</li> </ul> <h3 id="default-value-changes-187"> <a href="#default-value-changes-187" class="anchor-heading" aria-labelledby="default-value-changes-187"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 25bf6c71..fa2f40aa 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -597,7 +597,7 @@</span> server:
   ## (Optional)
   prefixURL: ""
 
<span class="gd">-  ## External URL which can access alertmanager
</span><span class="gi">+  ## External URL which can access prometheus
</span>   ## Maybe same with Ingress host name
   baseURL: ""
 
<span class="err">
</span></code></pre></div></div> <h2 id="11164"> <a href="#11164" class="anchor-heading" aria-labelledby="11164"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.4 </h2> <p><strong>Release date:</strong> 2020-10-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Make emptyDir settings consistent across components (#243)</li> </ul> <h3 id="default-value-changes-188"> <a href="#default-value-changes-188" class="anchor-heading" aria-labelledby="default-value-changes-188"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 193542b5..25bf6c71 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -224,6 +224,11 @@</span> alertmanager:
     ##
     subPath: ""
 
<span class="gi">+  emptyDir:
+    ## alertmanager emptyDir volume size limit
+    ##
+    sizeLimit: ""
+
</span>   ## Annotations to be added to alertmanager pods
   ##
   podAnnotations: {}
<span class="p">@@ -821,6 +826,8 @@</span> server:
     subPath: ""
 
   emptyDir:
<span class="gi">+    ## Prometheus server emptyDir volume size limit
+    ##
</span>     sizeLimit: ""
 
   ## Annotations to be added to Prometheus server pods
<span class="p">@@ -1114,7 +1121,6 @@</span> pushgateway:
 
   persistentVolume:
     ## If true, pushgateway will create/use a Persistent Volume Claim
<span class="gd">-    ## If false, use emptyDir
</span>     ##
     enabled: false
 
<span class="err">
</span></code></pre></div></div> <h2 id="11163"> <a href="#11163" class="anchor-heading" aria-labelledby="11163"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.3 </h2> <p><strong>Release date:</strong> 2020-10-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> Create PSP only when corresponding components enabled (#233)</li> </ul> <h3 id="default-value-changes-189"> <a href="#default-value-changes-189" class="anchor-heading" aria-labelledby="default-value-changes-189"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11162"> <a href="#11162" class="anchor-heading" aria-labelledby="11162"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.2 </h2> <p><strong>Release date:</strong> 2020-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix alertmanager meshpeer (#179)</li> </ul> <h3 id="default-value-changes-190"> <a href="#default-value-changes-190" class="anchor-heading" aria-labelledby="default-value-changes-190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3a26f9c2..193542b5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -277,7 +277,7 @@</span> alertmanager:
 
       ## Enabling peer mesh service end points for enabling the HA alert manager
       ## Ref: https://github.com/prometheus/alertmanager/blob/master/README.md
<span class="gd">-      # enableMeshPeer : true
</span><span class="gi">+      enableMeshPeer: false
</span> 
       servicePort: 80
 
<span class="err">
</span></code></pre></div></div> <h2 id="11161"> <a href="#11161" class="anchor-heading" aria-labelledby="11161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.1 </h2> <p><strong>Release date:</strong> 2020-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>propose to not try scrapping not running pods (#166)</li> </ul> <h3 id="default-value-changes-191"> <a href="#default-value-changes-191" class="anchor-heading" aria-labelledby="default-value-changes-191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 439c5296..3a26f9c2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1521,6 +1521,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_name]
             action: replace
             target_label: kubernetes_pod_name
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_phase]
+            regex: Pending|Succeeded|Failed
+            action: drop
</span> 
       # Example Scrape config for pods which should be scraped slower. An useful example
       # would be stackriver-exporter which querys an API on every scrape of the pod
<span class="p">@@ -1560,6 +1563,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_name]
             action: replace
             target_label: kubernetes_pod_name
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_phase]
+            regex: Pending|Succeeded|Failed
+            action: drop
</span> 
 # adds additional scrape configs to prometheus.yml
 # must be a string so you have to add a | after extraScrapeConfigs:
<span class="err">
</span></code></pre></div></div> <h2 id="11160"> <a href="#11160" class="anchor-heading" aria-labelledby="11160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.16.0 </h2> <p><strong>Release date:</strong> 2020-10-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.21.0&amp;color=success" alt="AppVersion: 2.21.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update prometheus image to 2.21.0 (#173)</li> </ul> <h3 id="default-value-changes-192"> <a href="#default-value-changes-192" class="anchor-heading" aria-labelledby="default-value-changes-192"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index cd941cf0..439c5296 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -574,7 +574,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.20.1
</span><span class="gi">+    tag: v2.21.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="11150"> <a href="#11150" class="anchor-heading" aria-labelledby="11150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.15.0 </h2> <p><strong>Release date:</strong> 2020-09-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.20.1&amp;color=success" alt="AppVersion: 2.20.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> group templated by component rather than resource type (#67)</li> </ul> <h3 id="default-value-changes-193"> <a href="#default-value-changes-193" class="anchor-heading" aria-labelledby="default-value-changes-193"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11141"> <a href="#11141" class="anchor-heading" aria-labelledby="11141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.14.1 </h2> <p><strong>Release date:</strong> 2020-09-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.20.1&amp;color=success" alt="AppVersion: 2.20.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add naseemkullah as maintainer (#63)</li> </ul> <h3 id="default-value-changes-194"> <a href="#default-value-changes-194" class="anchor-heading" aria-labelledby="default-value-changes-194"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11140"> <a href="#11140" class="anchor-heading" aria-labelledby="11140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.14.0 </h2> <p><strong>Release date:</strong> 2020-09-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.20.1&amp;color=success" alt="AppVersion: 2.20.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> set rbac api version with template rbac.apiVersion (#66)</li> </ul> <h3 id="default-value-changes-195"> <a href="#default-value-changes-195" class="anchor-heading" aria-labelledby="default-value-changes-195"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11131"> <a href="#11131" class="anchor-heading" aria-labelledby="11131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.13.1 </h2> <p><strong>Release date:</strong> 2020-09-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.20.1&amp;color=success" alt="AppVersion: 2.20.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> - adds monotek to prometheus maintainers (#55)</li> </ul> <h3 id="default-value-changes-196"> <a href="#default-value-changes-196" class="anchor-heading" aria-labelledby="default-value-changes-196"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11130"> <a href="#11130" class="anchor-heading" aria-labelledby="11130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.13.0 </h2> <p><strong>Release date:</strong> 2020-09-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.20.1&amp;color=success" alt="AppVersion: 2.20.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> unify labels and annotations across all deploymens and statefulsets (#45)</li> </ul> <h3 id="default-value-changes-197"> <a href="#default-value-changes-197" class="anchor-heading" aria-labelledby="default-value-changes-197"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1045f271..cd941cf0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -255,12 +255,18 @@</span> alertmanager:
   ##
   replicaCount: 1
 
<span class="gi">+  ## Annotations to be added to deployment
+  ##
+  deploymentAnnotations: {}
+
</span>   statefulSet:
     ## If true, use a statefulset instead of a deployment for pod management.
     ## This allows to scale replicas to more than 1 pod
     ##
     enabled: false
 
<span class="gi">+    annotations: {}
+    labels: {}
</span>     podManagementPolicy: OrderedReady
 
     ## Alertmanager headless service to use for the statefulset
<span class="p">@@ -848,6 +854,10 @@</span> server:
   ##
   replicaCount: 1
 
<span class="gi">+  ## Annotations to be added to deployment
+  ##
+  deploymentAnnotations: {}
+
</span>   statefulSet:
     ## If true, use a statefulset instead of a deployment for pod management.
     ## This allows to scale replicas to more than 1 pod
<span class="p">@@ -1034,6 +1044,10 @@</span> pushgateway:
   ##
   podAnnotations: {}
 
<span class="gi">+  ## Labels to be added to pushgateway pods
+  ##
+  podLabels: {}
+
</span>   ## Specify if a Pod Security Policy for node-exporter must be created
   ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
   ##
<span class="p">@@ -1050,6 +1064,10 @@</span> pushgateway:
 
   replicaCount: 1
 
<span class="gi">+  ## Annotations to be added to deployment
+  ##
+  deploymentAnnotations: {}
+
</span>   ## PodDisruptionBudget settings
   ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="11121"> <a href="#11121" class="anchor-heading" aria-labelledby="11121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.12.1 </h2> <p><strong>Release date:</strong> 2020-08-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.20.1&amp;color=success" alt="AppVersion: 2.20.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Prep initial charts indexing (#14)</li> </ul> <h3 id="default-value-changes-198"> <a href="#default-value-changes-198" class="anchor-heading" aria-labelledby="default-value-changes-198"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c326cd6f..1045f271 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -332,7 +332,7 @@</span> configmapReload:
     ##
     image:
       repository: jimmidyson/configmap-reload
<span class="gd">-      tag: v0.3.0
</span><span class="gi">+      tag: v0.4.0
</span>       pullPolicy: IfNotPresent
 
     ## Additional configmap-reload container arguments
<span class="p">@@ -370,7 +370,7 @@</span> configmapReload:
     ##
     image:
       repository: jimmidyson/configmap-reload
<span class="gd">-      tag: v0.3.0
</span><span class="gi">+      tag: v0.4.0
</span>       pullPolicy: IfNotPresent
 
     ## Additional configmap-reload container arguments
<span class="p">@@ -568,7 +568,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.19.2
</span><span class="gi">+    tag: v2.20.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="11111"> <a href="#11111" class="anchor-heading" aria-labelledby="11111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.11.1 </h2> <p><strong>Release date:</strong> 2020-07-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Added init containers for prometheus server stateful set. (#23389)</li> </ul> <h3 id="default-value-changes-199"> <a href="#default-value-changes-199" class="anchor-heading" aria-labelledby="default-value-changes-199"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="11110"> <a href="#11110" class="anchor-heading" aria-labelledby="11110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.11.0 </h2> <p><strong>Release date:</strong> 2020-07-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add alertmanger useExistingRole support (#23349)</li> </ul> <h3 id="default-value-changes-200"> <a href="#default-value-changes-200" class="anchor-heading" aria-labelledby="default-value-changes-200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0bf2f0a0..c326cd6f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -33,10 +33,13 @@</span> alertmanager:
   enabled: true
 
   ## Use a ClusterRole (and ClusterRoleBinding)
<span class="gd">-  ## - If set to false, we define a Role and RoleBinding in the defined namespaces ONLY
</span><span class="gi">+  ## - If set to false - we define a Role and RoleBinding in the defined namespaces ONLY
</span>   ## This makes alertmanager work - for users who do not have ClusterAdmin privs, but wants alertmanager to operate on their own namespaces, instead of clusterwide.
   useClusterRole: true
 
<span class="gi">+  ## Set to a rolename to use existing role - skipping role creating - but still doing serviceaccount and rolebinding to the rolename set here.
+  useExistingRole: false
+
</span>   ## alertmanager container name
   ##
   name: alertmanager
<span class="err">
</span></code></pre></div></div> <h2 id="11101"> <a href="#11101" class="anchor-heading" aria-labelledby="11101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.10.1 </h2> <p><strong>Release date:</strong> 2020-07-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Document in README and Values enableServiceLinks (#23346)</li> </ul> <h3 id="default-value-changes-201"> <a href="#default-value-changes-201" class="anchor-heading" aria-labelledby="default-value-changes-201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f653f46e..0bf2f0a0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -572,7 +572,10 @@</span> server:
   ##
   priorityClassName: ""
 
<span class="gd">-  # EnableServiceLinks indicates whether information about services should be injected into pod's environment variables, matching the syntax of Docker links.
</span><span class="gi">+  ## EnableServiceLinks indicates whether information about services should be injected
+  ## into pod's environment variables, matching the syntax of Docker links.
+  ## WARNING: the field is unsupported and will be skipped in K8s prior to v1.13.0.
+  ##
</span>   enableServiceLinks: true
 
   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
<span class="err">
</span></code></pre></div></div> <h2 id="11100"> <a href="#11100" class="anchor-heading" aria-labelledby="11100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.10.0 </h2> <p><strong>Release date:</strong> 2020-07-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Disable enableServiceLinks on Kubernetes prior 1.13 (#23299)</li> </ul> <h3 id="default-value-changes-202"> <a href="#default-value-changes-202" class="anchor-heading" aria-labelledby="default-value-changes-202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1191"> <a href="#1191" class="anchor-heading" aria-labelledby="1191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.9.1 </h2> <p><strong>Release date:</strong> 2020-07-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add a new owner and approver (#23276)</li> </ul> <h3 id="default-value-changes-203"> <a href="#default-value-changes-203" class="anchor-heading" aria-labelledby="default-value-changes-203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1190"> <a href="#1190" class="anchor-heading" aria-labelledby="1190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.9.0 </h2> <p><strong>Release date:</strong> 2020-07-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Organized Templates Directory. Add .gitignore. (#23186)</li> </ul> <h3 id="default-value-changes-204"> <a href="#default-value-changes-204" class="anchor-heading" aria-labelledby="default-value-changes-204"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1180"> <a href="#1180" class="anchor-heading" aria-labelledby="1180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.8.0 </h2> <p><strong>Release date:</strong> 2020-07-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> bump alertmanager v0.21.0 and prometheus v2.19.2 (#23253)</li> </ul> <h3 id="default-value-changes-205"> <a href="#default-value-changes-205" class="anchor-heading" aria-labelledby="default-value-changes-205"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 35d40a6d..f653f46e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -45,7 +45,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.20.0
</span><span class="gi">+    tag: v0.21.0
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="p">@@ -565,7 +565,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.19.0
</span><span class="gi">+    tag: v2.19.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1170"> <a href="#1170" class="anchor-heading" aria-labelledby="1170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.7.0 </h2> <p><strong>Release date:</strong> 2020-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Improve Prometheus Server Probes. Fix MD Syntax Issues in README. (#23116)</li> </ul> <h3 id="default-value-changes-206"> <a href="#default-value-changes-206" class="anchor-heading" aria-labelledby="default-value-changes-206"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ef05b89c..35d40a6d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -868,10 +868,12 @@</span> server:
   ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
   ##
   readinessProbeInitialDelay: 30
<span class="gi">+  readinessProbePeriodSeconds: 5
</span>   readinessProbeTimeout: 30
   readinessProbeFailureThreshold: 3
   readinessProbeSuccessThreshold: 1
   livenessProbeInitialDelay: 30
<span class="gi">+  livenessProbePeriodSeconds: 15
</span>   livenessProbeTimeout: 30
   livenessProbeFailureThreshold: 3
   livenessProbeSuccessThreshold: 1
<span class="err">
</span></code></pre></div></div> <h2 id="1162"> <a href="#1162" class="anchor-heading" aria-labelledby="1162"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.6.2 </h2> <p><strong>Release date:</strong> 2020-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add support for running without cluster-admin privileges (#23049)</li> </ul> <h3 id="default-value-changes-207"> <a href="#default-value-changes-207" class="anchor-heading" aria-labelledby="default-value-changes-207"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0e1cdad1..ef05b89c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -32,6 +32,11 @@</span> alertmanager:
   ##
   enabled: true
 
<span class="gi">+  ## Use a ClusterRole (and ClusterRoleBinding)
+  ## - If set to false, we define a Role and RoleBinding in the defined namespaces ONLY
+  ## This makes alertmanager work - for users who do not have ClusterAdmin privs, but wants alertmanager to operate on their own namespaces, instead of clusterwide.
+  useClusterRole: true
+
</span>   ## alertmanager container name
   ##
   name: alertmanager
<span class="p">@@ -538,6 +543,21 @@</span> server:
   ## Prometheus server container name
   ##
   enabled: true
<span class="gi">+
+  ## Use a ClusterRole (and ClusterRoleBinding)
+  ## - If set to false - we define a RoleBinding in the defined namespaces ONLY
+  ##
+  ## NB: because we need a Role with nonResourceURL's ("/metrics") - you must get someone with Cluster-admin privileges to define this role for you, before running with this setting enabled.
+  ##     This makes prometheus work - for users who do not have ClusterAdmin privs, but wants prometheus to operate on their own namespaces, instead of clusterwide.
+  ##
+  ## You MUST also set namespaces to the ones you have access to and want monitored by Prometheus.
+  ##
+  # useExistingClusterRoleName: nameofclusterrole
+
+  ## namespaces to monitor (instead of monitoring all - clusterwide). Needed if you want to run without Cluster-admin privileges.
+  # namespaces:
+  #   - yournamespace
+
</span>   name: server
   sidecarContainers:
 
<span class="err">
</span></code></pre></div></div> <h2 id="1161"> <a href="#1161" class="anchor-heading" aria-labelledby="1161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.6.1 </h2> <p><strong>Release date:</strong> 2020-07-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix rbac for get ingress info (#23015)</li> </ul> <h3 id="default-value-changes-208"> <a href="#default-value-changes-208" class="anchor-heading" aria-labelledby="default-value-changes-208"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1160"> <a href="#1160" class="anchor-heading" aria-labelledby="1160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.6.0 </h2> <p><strong>Release date:</strong> 2020-06-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.19.0&amp;color=success" alt="AppVersion: 2.19.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> updated all prometheus docker images to latest versions (#22849)</li> </ul> <h3 id="default-value-changes-209"> <a href="#default-value-changes-209" class="anchor-heading" aria-labelledby="default-value-changes-209"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1ad07996..0e1cdad1 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -419,7 +419,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.18.1
</span><span class="gi">+    tag: v1.0.1
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="p">@@ -545,7 +545,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.18.1
</span><span class="gi">+    tag: v2.19.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -939,7 +939,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v1.0.1
</span><span class="gi">+    tag: v1.2.0
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1150"> <a href="#1150" class="anchor-heading" aria-labelledby="1150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.5.0 </h2> <p><strong>Release date:</strong> 2020-06-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> gRPC port on headless svc (#22784)</li> </ul> <h3 id="default-value-changes-210"> <a href="#default-value-changes-210" class="anchor-heading" aria-labelledby="default-value-changes-210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b3af346e..1ad07996 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -838,6 +838,11 @@</span> server:
       annotations: {}
       labels: {}
       servicePort: 80
<span class="gi">+      ## Enable gRPC port on service to allow auto discovery with thanos-querier
+      gRPC:
+        enabled: false
+        servicePort: 10901
+        # nodePort: 10901
</span> 
   ## Prometheus server readiness and liveness probe initial delay and timeout
   ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
<span class="err">
</span></code></pre></div></div> <h2 id="1140"> <a href="#1140" class="anchor-heading" aria-labelledby="1140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.4.0 </h2> <p><strong>Release date:</strong> 2020-06-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add configFromSecret support to StatefulSet alertmanagers (#22647)</li> </ul> <h3 id="default-value-changes-211"> <a href="#default-value-changes-211" class="anchor-heading" aria-labelledby="default-value-changes-211"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1131"> <a href="#1131" class="anchor-heading" aria-labelledby="1131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.3.1 </h2> <p><strong>Release date:</strong> 2020-06-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix stable/prometheus node-exporter containerPort to hostPort (#22141)</li> </ul> <h3 id="default-value-changes-212"> <a href="#default-value-changes-212" class="anchor-heading" aria-labelledby="default-value-changes-212"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1130"> <a href="#1130" class="anchor-heading" aria-labelledby="1130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.3.0 </h2> <p><strong>Release date:</strong> 2020-05-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add Namespace to applicable Resources (#22378)</li> </ul> <h3 id="default-value-changes-213"> <a href="#default-value-changes-213" class="anchor-heading" aria-labelledby="default-value-changes-213"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ecd5165e..b3af346e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1541,3 +1541,6 @@</span> networkPolicy:
   ## Enable creation of NetworkPolicy resources.
   ##
   enabled: false
<span class="gi">+
+# Force namespace of namespaced resources
+forceNamespace: null
</span><span class="err">
</span></code></pre></div></div> <h2 id="1123"> <a href="#1123" class="anchor-heading" aria-labelledby="1123"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.2.3 </h2> <p><strong>Release date:</strong> 2020-05-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix incorrect rendering of enableServiceLinks (#22391)</li> </ul> <h3 id="default-value-changes-214"> <a href="#default-value-changes-214" class="anchor-heading" aria-labelledby="default-value-changes-214"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1122"> <a href="#1122" class="anchor-heading" aria-labelledby="1122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.2.2 </h2> <p><strong>Release date:</strong> 2020-05-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix default non-HA state for alertmanager statefulset (#22386)</li> </ul> <h3 id="default-value-changes-215"> <a href="#default-value-changes-215" class="anchor-heading" aria-labelledby="default-value-changes-215"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1121"> <a href="#1121" class="anchor-heading" aria-labelledby="1121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.2.1 </h2> <p><strong>Release date:</strong> 2020-05-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix default non-ha state for alert-manager statefulset (#22350)</li> </ul> <h3 id="default-value-changes-216"> <a href="#default-value-changes-216" class="anchor-heading" aria-labelledby="default-value-changes-216"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1120"> <a href="#1120" class="anchor-heading" aria-labelledby="1120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.2.0 </h2> <p><strong>Release date:</strong> 2020-05-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.18.1&amp;color=success" alt="AppVersion: 2.18.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>upgrade to 2.18.1 (#22349)</li> </ul> <h3 id="default-value-changes-217"> <a href="#default-value-changes-217" class="anchor-heading" aria-labelledby="default-value-changes-217"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3ad64e59..ecd5165e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -545,7 +545,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.16.0
</span><span class="gi">+    tag: v2.18.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1116"> <a href="#1116" class="anchor-heading" aria-labelledby="1116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.6 </h2> <p><strong>Release date:</strong> 2020-05-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Configure enableServiceLinks for server (#22300)</li> </ul> <h3 id="default-value-changes-218"> <a href="#default-value-changes-218" class="anchor-heading" aria-labelledby="default-value-changes-218"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6c49edff..3ad64e59 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -552,6 +552,9 @@</span> server:
   ##
   priorityClassName: ""
 
<span class="gi">+  # EnableServiceLinks indicates whether information about services should be injected into pod's environment variables, matching the syntax of Docker links.
+  enableServiceLinks: true
+
</span>   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
   ## so that the various internal URLs are still able to access as they are in the default case.
   ## (Optional)
<span class="err">
</span></code></pre></div></div> <h2 id="1115"> <a href="#1115" class="anchor-heading" aria-labelledby="1115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.5 </h2> <p><strong>Release date:</strong> 2020-04-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> fix remoteRead/Write defaults (#22088)</li> </ul> <h3 id="default-value-changes-219"> <a href="#default-value-changes-219" class="anchor-heading" aria-labelledby="default-value-changes-219"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c16a2f45..6c49edff 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -605,10 +605,10 @@</span> server:
     evaluation_interval: 1m
   ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#remote_write
   ##
<span class="gd">-  remoteWrite: {}
</span><span class="gi">+  remoteWrite: []
</span>   ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#remote_read
   ##
<span class="gd">-  remoteRead: {}
</span><span class="gi">+  remoteRead: []
</span> 
   ## Additional Prometheus server container arguments
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1114"> <a href="#1114" class="anchor-heading" aria-labelledby="1114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.4 </h2> <p><strong>Release date:</strong> 2020-04-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> De-duplicate affinity for Prometheus StatefulSet Object (#22129)</li> </ul> <h3 id="default-value-changes-220"> <a href="#default-value-changes-220" class="anchor-heading" aria-labelledby="default-value-changes-220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1113"> <a href="#1113" class="anchor-heading" aria-labelledby="1113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.3 </h2> <p><strong>Release date:</strong> 2020-04-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix prometheus service selector with statefulset (#22098)</li> </ul> <h3 id="default-value-changes-221"> <a href="#default-value-changes-221" class="anchor-heading" aria-labelledby="default-value-changes-221"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1112"> <a href="#1112" class="anchor-heading" aria-labelledby="1112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.2 </h2> <p><strong>Release date:</strong> 2020-04-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix rollingUpdate: null indent for helm3 (#21989)</li> </ul> <h3 id="default-value-changes-222"> <a href="#default-value-changes-222" class="anchor-heading" aria-labelledby="default-value-changes-222"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1111"> <a href="#1111" class="anchor-heading" aria-labelledby="1111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.1 </h2> <p><strong>Release date:</strong> 2020-04-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Fix rollingUpdate: null indentation Recreate (#21976)</li> </ul> <h3 id="default-value-changes-223"> <a href="#default-value-changes-223" class="anchor-heading" aria-labelledby="default-value-changes-223"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1110"> <a href="#1110" class="anchor-heading" aria-labelledby="1110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.1.0 </h2> <p><strong>Release date:</strong> 2020-04-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Cleanup ksm. (#21877)</li> </ul> <h3 id="default-value-changes-224"> <a href="#default-value-changes-224" class="anchor-heading" aria-labelledby="default-value-changes-224"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3d10f0b4..c16a2f45 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -390,10 +390,14 @@</span> configmapReload:
 
 kubeStateMetrics:
   ## If false, kube-state-metrics sub-chart will not be installed
<span class="gd">-  ## Please see https://github.com/helm/charts/tree/master/stable/kube-state-metrics for configurable values
</span>   ##
   enabled: true
 
<span class="gi">+## kube-state-metrics sub-chart configurable values
+## Please see https://github.com/helm/charts/tree/master/stable/kube-state-metrics
+##
+# kube-state-metrics:
+
</span> nodeExporter:
   ## If false, node-exporter will not be installed
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1106"> <a href="#1106" class="anchor-heading" aria-labelledby="1106"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.6 </h2> <p><strong>Release date:</strong> 2020-04-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add hostAliases (#21805)</li> </ul> <h3 id="default-value-changes-225"> <a href="#default-value-changes-225" class="anchor-heading" aria-labelledby="default-value-changes-225"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9288ee83..3d10f0b4 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -694,6 +694,12 @@</span> server:
   # strategy:
   #   type: Recreate
 
<span class="gi">+  ## hostAliases allows adding entries to /etc/hosts inside the containers
+  hostAliases: []
+  #   - ip: "127.0.0.1"
+  #     hostnames:
+  #       - "example.com"
+
</span>   ## Node tolerations for server scheduling to nodes with taints
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1105"> <a href="#1105" class="anchor-heading" aria-labelledby="1105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.5 </h2> <p><strong>Release date:</strong> 2020-04-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Added extraInitContainers to match server (#21774)</li> </ul> <h3 id="default-value-changes-226"> <a href="#default-value-changes-226" class="anchor-heading" aria-labelledby="default-value-changes-226"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5b3998c8..9288ee83 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -51,6 +51,10 @@</span> alertmanager:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional InitContainers to initialize the pod
+  ##
+  extraInitContainers: []
+
</span>   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
   ## so that the various internal URLs are still able to access as they are in the default case.
   ## (Optional)
<span class="p">@@ -441,6 +445,10 @@</span> nodeExporter:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional InitContainers to initialize the pod
+  ##
+  extraInitContainers: []
+
</span>   ## Additional node-exporter hostPath mounts
   ##
   extraHostPathMounts: []
<span class="p">@@ -925,6 +933,10 @@</span> pushgateway:
   ## for example: persistence.file: /data/pushgateway.data
   extraArgs: {}
 
<span class="gi">+  ## Additional InitContainers to initialize the pod
+  ##
+  extraInitContainers: []
+
</span>   ingress:
     ## If true, pushgateway Ingress will be created
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="1104"> <a href="#1104" class="anchor-heading" aria-labelledby="1104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.4 </h2> <p><strong>Release date:</strong> 2020-03-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Moving <code class="language-plaintext highlighter-rouge">cluster.advertise-address</code> param to if block for peer mesh (#21617)</li> </ul> <h3 id="default-value-changes-227"> <a href="#default-value-changes-227" class="anchor-heading" aria-labelledby="default-value-changes-227"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1103"> <a href="#1103" class="anchor-heading" aria-labelledby="1103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.3 </h2> <p><strong>Release date:</strong> 2020-03-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Make service account annotations configurable (#21537)</li> </ul> <h3 id="default-value-changes-228"> <a href="#default-value-changes-228" class="anchor-heading" aria-labelledby="default-value-changes-228"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a95df040..5b3998c8 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -13,15 +13,19 @@</span> serviceAccounts:
   alertmanager:
     create: true
     name:
<span class="gi">+    annotations: {}
</span>   nodeExporter:
     create: true
     name:
<span class="gi">+    annotations: {}
</span>   pushgateway:
     create: true
     name:
<span class="gi">+    annotations: {}
</span>   server:
     create: true
     name:
<span class="gi">+    annotations: {}
</span> 
 alertmanager:
   ## If false, alertmanager will not be installed
<span class="err">
</span></code></pre></div></div> <h2 id="1102"> <a href="#1102" class="anchor-heading" aria-labelledby="1102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.2 </h2> <p><strong>Release date:</strong> 2020-03-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Set rollingUpdate to null when strategy is Recreate (#21289)</li> </ul> <h3 id="default-value-changes-229"> <a href="#default-value-changes-229" class="anchor-heading" aria-labelledby="default-value-changes-229"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1101"> <a href="#1101" class="anchor-heading" aria-labelledby="1101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.1 </h2> <p><strong>Release date:</strong> 2020-03-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Support tmpl files which are not YAML (#21208)</li> </ul> <h3 id="default-value-changes-230"> <a href="#default-value-changes-230" class="anchor-heading" aria-labelledby="default-value-changes-230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1100"> <a href="#1100" class="anchor-heading" aria-labelledby="1100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11.0.0 </h2> <p><strong>Release date:</strong> 2020-03-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Use ksm chart for ksm (#21148)</li> </ul> <h3 id="default-value-changes-231"> <a href="#default-value-changes-231" class="anchor-heading" aria-labelledby="default-value-changes-231"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c6d8d9c8..a95df040 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -13,9 +13,6 @@</span> serviceAccounts:
   alertmanager:
     create: true
     name:
<span class="gd">-  kubeStateMetrics:
-    create: true
-    name:
</span>   nodeExporter:
     create: true
     name:
<span class="p">@@ -383,113 +380,12 @@</span> configmapReload:
     ##
     resources: {}
 
<span class="gd">-
</span> kubeStateMetrics:
<span class="gd">-  ## If false, kube-state-metrics will not be installed
</span><span class="gi">+  ## If false, kube-state-metrics sub-chart will not be installed
+  ## Please see https://github.com/helm/charts/tree/master/stable/kube-state-metrics for configurable values
</span>   ##
   enabled: true
 
<span class="gd">-  ## kube-state-metrics container name
-  ##
-  name: kube-state-metrics
-
-  ## kube-state-metrics container image
-  ##
-  image:
-    repository: quay.io/coreos/kube-state-metrics
-    tag: v1.9.5
-    pullPolicy: IfNotPresent
-
-  ## kube-state-metrics priorityClassName
-  ##
-  priorityClassName: ""
-
-  ## kube-state-metrics container arguments
-  ##
-  args: {}
-
-  ## Node tolerations for kube-state-metrics scheduling to nodes with taints
-  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-  ##
-  tolerations: []
-    # - key: "key"
-    #   operator: "Equal|Exists"
-    #   value: "value"
-    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
-
-  ## Node labels for kube-state-metrics pod assignment
-  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
-  ##
-  nodeSelector: {}
-
-  ## Annotations to be added to kube-state-metrics pods
-  ##
-  podAnnotations: {}
-
-  ## Specify if a Pod Security Policy for node-exporter must be created
-  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
-  ##
-  podSecurityPolicy:
-    annotations: {}
-      ## Specify pod annotations
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
-      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
-      ##
-      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
-      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
-      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
-
-  pod:
-    labels: {}
-
-  replicaCount: 1
-
-  ## PodDisruptionBudget settings
-  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
-  ##
-  podDisruptionBudget:
-    enabled: false
-    maxUnavailable: 1
-
-  ## kube-state-metrics resource requests and limits
-  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
-  ##
-  resources: {}
-    # limits:
-    #   cpu: 10m
-    #   memory: 16Mi
-    # requests:
-    #   cpu: 10m
-    #   memory: 16Mi
-
-  ## Security context to be added to kube-state-metrics pods
-  ##
-  securityContext:
-    runAsUser: 65534
-    runAsNonRoot: true
-
-  service:
-    annotations:
-      prometheus.io/scrape: "true"
-    labels: {}
-
-    # Exposed as a headless service:
-    # https://kubernetes.io/docs/concepts/services-networking/service/#headless-services
-    clusterIP: None
-
-    ## List of IP addresses at which the kube-state-metrics service is available
-    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
-    ##
-    externalIPs: []
-
-    loadBalancerIP: ""
-    loadBalancerSourceRanges: []
-    servicePort: 80
-    # Port for Kubestatemetric self telemetry
-    serviceTelemetryPort: 81
-    type: ClusterIP
-
</span> nodeExporter:
   ## If false, node-exporter will not be installed
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1060"> <a href="#1060" class="anchor-heading" aria-labelledby="1060"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.6.0 </h2> <p><strong>Release date:</strong> 2020-02-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Added configmapReload.enabled parameter (#20578) (#20912)</li> </ul> <h3 id="default-value-changes-232"> <a href="#default-value-changes-232" class="anchor-heading" aria-labelledby="default-value-changes-232"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0f5ba46c..c6d8d9c8 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -306,39 +306,83 @@</span> alertmanager:
 ## Ref: https://github.com/jimmidyson/configmap-reload
 ##
 configmapReload:
<span class="gd">-  ## configmap-reload container name
-  ##
-  name: configmap-reload
</span><span class="gi">+  prometheus:
+    ## If false, the configmap-reload container will not be deployed
+    ##
+    enabled: true
</span> 
<span class="gd">-  ## configmap-reload container image
-  ##
-  image:
-    repository: jimmidyson/configmap-reload
-    tag: v0.3.0
-    pullPolicy: IfNotPresent
</span><span class="gi">+    ## configmap-reload container name
+    ##
+    name: configmap-reload
</span> 
<span class="gd">-  ## Additional configmap-reload container arguments
-  ##
-  extraArgs: {}
-  ## Additional configmap-reload volume directories
-  ##
-  extraVolumeDirs: []
</span><span class="gi">+    ## configmap-reload container image
+    ##
+    image:
+      repository: jimmidyson/configmap-reload
+      tag: v0.3.0
+      pullPolicy: IfNotPresent
</span> 
<span class="gi">+    ## Additional configmap-reload container arguments
+    ##
+    extraArgs: {}
+    ## Additional configmap-reload volume directories
+    ##
+    extraVolumeDirs: []
</span> 
<span class="gd">-  ## Additional configmap-reload mounts
-  ##
-  extraConfigmapMounts: []
-    # - name: prometheus-alerts
-    #   mountPath: /etc/alerts.d
-    #   subPath: ""
-    #   configMap: prometheus-alerts
-    #   readOnly: true
</span> 
<span class="gi">+    ## Additional configmap-reload mounts
+    ##
+    extraConfigmapMounts: []
+      # - name: prometheus-alerts
+      #   mountPath: /etc/alerts.d
+      #   subPath: ""
+      #   configMap: prometheus-alerts
+      #   readOnly: true
+
+
+    ## configmap-reload resource requests and limits
+    ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
+    ##
+    resources: {}
+  alertmanager:
+    ## If false, the configmap-reload container will not be deployed
+    ##
+    enabled: true
+
+    ## configmap-reload container name
+    ##
+    name: configmap-reload
+
+    ## configmap-reload container image
+    ##
+    image:
+      repository: jimmidyson/configmap-reload
+      tag: v0.3.0
+      pullPolicy: IfNotPresent
+
+    ## Additional configmap-reload container arguments
+    ##
+    extraArgs: {}
+    ## Additional configmap-reload volume directories
+    ##
+    extraVolumeDirs: []
+
+
+    ## Additional configmap-reload mounts
+    ##
+    extraConfigmapMounts: []
+      # - name: prometheus-alerts
+      #   mountPath: /etc/alerts.d
+      #   subPath: ""
+      #   configMap: prometheus-alerts
+      #   readOnly: true
+
+
+    ## configmap-reload resource requests and limits
+    ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
+    ##
+    resources: {}
</span> 
<span class="gd">-  ## configmap-reload resource requests and limits
-  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
-  ##
-  resources: {}
</span> 
 kubeStateMetrics:
   ## If false, kube-state-metrics will not be installed
<span class="err">
</span></code></pre></div></div> <h2 id="1053"> <a href="#1053" class="anchor-heading" aria-labelledby="1053"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.5.3 </h2> <p><strong>Release date:</strong> 2020-02-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Use the new api for ingress (#21049)</li> </ul> <h3 id="default-value-changes-233"> <a href="#default-value-changes-233" class="anchor-heading" aria-labelledby="default-value-changes-233"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1052"> <a href="#1052" class="anchor-heading" aria-labelledby="1052"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.5.2 </h2> <p><strong>Release date:</strong> 2020-02-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> gRPC port on prometheus service (#21002)</li> </ul> <h3 id="default-value-changes-234"> <a href="#default-value-changes-234" class="anchor-heading" aria-labelledby="default-value-changes-234"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 116cb6b5..0f5ba46c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -930,6 +930,12 @@</span> server:
     sessionAffinity: None
     type: ClusterIP
 
<span class="gi">+    ## Enable gRPC port on service to allow auto discovery with thanos-querier
+    gRPC:
+      enabled: false
+      servicePort: 10901
+      # nodePort: 10901
+
</span>     ## If using a statefulSet (statefulSet.enabled=true), configure the
     ## service to connect to a specific replica to have a consistent view
     ## of the data.
<span class="err">
</span></code></pre></div></div> <h2 id="1051"> <a href="#1051" class="anchor-heading" aria-labelledby="1051"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.5.1 </h2> <p><strong>Release date:</strong> 2020-02-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update kube-state-metrics (#21017)</li> </ul> <h3 id="default-value-changes-235"> <a href="#default-value-changes-235" class="anchor-heading" aria-labelledby="default-value-changes-235"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 436fce69..116cb6b5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -353,7 +353,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: quay.io/coreos/kube-state-metrics
<span class="gd">-    tag: v1.9.1
</span><span class="gi">+    tag: v1.9.5
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1050"> <a href="#1050" class="anchor-heading" aria-labelledby="1050"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.5.0 </h2> <p><strong>Release date:</strong> 2020-02-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.16.0&amp;color=success" alt="AppVersion: 2.16.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update prometheus to 2.16.0 (#20821)</li> </ul> <h3 id="default-value-changes-236"> <a href="#default-value-changes-236" class="anchor-heading" aria-labelledby="default-value-changes-236"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a00a00f5..436fce69 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -589,7 +589,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.15.2
</span><span class="gi">+    tag: v2.16.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="1041"> <a href="#1041" class="anchor-heading" aria-labelledby="1041"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.4.1 </h2> <p><strong>Release date:</strong> 2020-02-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix server.alertmanagers (#20779)</li> </ul> <h3 id="default-value-changes-237"> <a href="#default-value-changes-237" class="anchor-heading" aria-labelledby="default-value-changes-237"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1040"> <a href="#1040" class="anchor-heading" aria-labelledby="1040"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.4.0 </h2> <p><strong>Release date:</strong> 2020-01-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> added slow pod scrape config (#20443)</li> </ul> <h3 id="default-value-changes-238"> <a href="#default-value-changes-238" class="anchor-heading" aria-labelledby="default-value-changes-238"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index d92f2312..a00a00f5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1496,6 +1496,45 @@</span> serverFiles:
             action: replace
             target_label: kubernetes_pod_name
 
<span class="gi">+      # Example Scrape config for pods which should be scraped slower. An useful example
+      # would be stackriver-exporter which querys an API on every scrape of the pod
+      #
+      # The relabeling allows the actual pod scrape endpoint to be configured via the
+      # following annotations:
+      #
+      # * `prometheus.io/scrape-slow`: Only scrape pods that have a value of `true`
+      # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
+      # * `prometheus.io/port`: Scrape the pod on the indicated port instead of the default of `9102`.
+      - job_name: 'kubernetes-pods-slow'
+
+        scrape_interval: 5m
+        scrape_timeout: 30s
+
+        kubernetes_sd_configs:
+          - role: pod
+
+        relabel_configs:
+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape_slow]
+            action: keep
+            regex: true
+          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]
+            action: replace
+            target_label: __metrics_path__
+            regex: (.+)
+          - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
+            action: replace
+            regex: ([^:]+)(?::\d+)?;(\d+)
+            replacement: $1:$2
+            target_label: __address__
+          - action: labelmap
+            regex: __meta_kubernetes_pod_label_(.+)
+          - source_labels: [__meta_kubernetes_namespace]
+            action: replace
+            target_label: kubernetes_namespace
+          - source_labels: [__meta_kubernetes_pod_name]
+            action: replace
+            target_label: kubernetes_pod_name
+
</span> # adds additional scrape configs to prometheus.yml
 # must be a string so you have to add a | after extraScrapeConfigs:
 # example adds prometheus-blackbox-exporter scrape config
<span class="err">
</span></code></pre></div></div> <h2 id="1031"> <a href="#1031" class="anchor-heading" aria-labelledby="1031"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.1 </h2> <p><strong>Release date:</strong> 2020-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> fix: alertmanager to use /-/ready as readiness probe (#20190)</li> </ul> <h3 id="default-value-changes-239"> <a href="#default-value-changes-239" class="anchor-heading" aria-labelledby="default-value-changes-239"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1030"> <a href="#1030" class="anchor-heading" aria-labelledby="1030"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.3.0 </h2> <p><strong>Release date:</strong> 2020-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> prometheus.io/scrape-slow for scraping slow target (#19930)</li> </ul> <h3 id="default-value-changes-240"> <a href="#default-value-changes-240" class="anchor-heading" aria-labelledby="default-value-changes-240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3ed0fd5b..d92f2312 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1369,6 +1369,55 @@</span> serverFiles:
             action: replace
             target_label: kubernetes_node
 
<span class="gi">+      # Scrape config for slow service endpoints; same as above, but with a larger
+      # timeout and a larger interval
+      #
+      # The relabeling allows the actual service scrape endpoint to be configured
+      # via the following annotations:
+      #
+      # * `prometheus.io/scrape-slow`: Only scrape services that have a value of `true`
+      # * `prometheus.io/scheme`: If the metrics endpoint is secured then you will need
+      # to set this to `https` &amp; most likely set the `tls_config` of the scrape config.
+      # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
+      # * `prometheus.io/port`: If the metrics are exposed on a different port to the
+      # service then set this appropriately.
+      - job_name: 'kubernetes-service-endpoints-slow'
+
+        scrape_interval: 5m
+        scrape_timeout: 30s
+
+        kubernetes_sd_configs:
+          - role: endpoints
+
+        relabel_configs:
+          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape_slow]
+            action: keep
+            regex: true
+          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scheme]
+            action: replace
+            target_label: __scheme__
+            regex: (https?)
+          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_path]
+            action: replace
+            target_label: __metrics_path__
+            regex: (.+)
+          - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port]
+            action: replace
+            target_label: __address__
+            regex: ([^:]+)(?::\d+)?;(\d+)
+            replacement: $1:$2
+          - action: labelmap
+            regex: __meta_kubernetes_service_label_(.+)
+          - source_labels: [__meta_kubernetes_namespace]
+            action: replace
+            target_label: kubernetes_namespace
+          - source_labels: [__meta_kubernetes_service_name]
+            action: replace
+            target_label: kubernetes_name
+          - source_labels: [__meta_kubernetes_pod_node_name]
+            action: replace
+            target_label: kubernetes_node
+
</span>       - job_name: 'prometheus-pushgateway'
         honor_labels: true
 
<span class="err">
</span></code></pre></div></div> <h2 id="1020"> <a href="#1020" class="anchor-heading" aria-labelledby="1020"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.2.0 </h2> <p><strong>Release date:</strong> 2020-01-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add Telemetry port to Kube-state-metrics (#20072)</li> </ul> <h3 id="default-value-changes-241"> <a href="#default-value-changes-241" class="anchor-heading" aria-labelledby="default-value-changes-241"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 89ba2073..3ed0fd5b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -353,7 +353,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: quay.io/coreos/kube-state-metrics
<span class="gd">-    tag: v1.9.0
</span><span class="gi">+    tag: v1.9.1
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics priorityClassName
<span class="p">@@ -442,6 +442,8 @@</span> kubeStateMetrics:
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
     servicePort: 80
<span class="gi">+    # Port for Kubestatemetric self telemetry
+    serviceTelemetryPort: 81
</span>     type: ClusterIP
 
 nodeExporter:
<span class="err">
</span></code></pre></div></div> <h2 id="1010"> <a href="#1010" class="anchor-heading" aria-labelledby="1010"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.1.0 </h2> <p><strong>Release date:</strong> 2020-01-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Added remote_write and remote_read for prometheus (#20056)</li> </ul> <h3 id="default-value-changes-242"> <a href="#default-value-changes-242" class="anchor-heading" aria-labelledby="default-value-changes-242"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3cc12274..89ba2073 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -645,6 +645,12 @@</span> server:
     ## How frequently to evaluate rules
     ##
     evaluation_interval: 1m
<span class="gi">+  ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#remote_write
+  ##
+  remoteWrite: {}
+  ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#remote_read
+  ##
+  remoteRead: {}
</span> 
   ## Additional Prometheus server container arguments
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1002"> <a href="#1002" class="anchor-heading" aria-labelledby="1002"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.0.2 </h2> <p><strong>Release date:</strong> 2020-01-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add option to set labels for Prometheus AlertManager pods (#20026)</li> </ul> <h3 id="default-value-changes-243"> <a href="#default-value-changes-243" class="anchor-heading" aria-labelledby="default-value-changes-243"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index dfe4a132..3cc12274 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -220,6 +220,10 @@</span> alertmanager:
     ##
     ## prometheus.io/probe: alertmanager-teamA
 
<span class="gi">+  ## Labels to be added to Prometheus AlertManager pods
+  ##
+  podLabels: {}
+
</span>   ## Specify if a Pod Security Policy for node-exporter must be created
   ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="1001"> <a href="#1001" class="anchor-heading" aria-labelledby="1001"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.0.1 </h2> <p><strong>Release date:</strong> 2020-01-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add Missing ClusterRole Permissions for Kube-state-metrics (#20004)</li> </ul> <h3 id="default-value-changes-244"> <a href="#default-value-changes-244" class="anchor-heading" aria-labelledby="default-value-changes-244"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="1000"> <a href="#1000" class="anchor-heading" aria-labelledby="1000"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10.0.0 </h2> <p><strong>Release date:</strong> 2020-01-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.15.2&amp;color=success" alt="AppVersion: 2.15.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> update prometheus to 2.15.2 and also all other used images to newest  (#19927)</li> </ul> <h3 id="default-value-changes-245"> <a href="#default-value-changes-245" class="anchor-heading" aria-labelledby="default-value-changes-245"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 356b6974..dfe4a132 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -39,7 +39,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.18.0
</span><span class="gi">+    tag: v0.20.0
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="p">@@ -56,8 +56,7 @@</span> alertmanager:
   prefixURL: ""
 
   ## External URL which can access alertmanager
<span class="gd">-  ## Maybe same with Ingress host name
-  baseURL: "/"
</span><span class="gi">+  baseURL: "http://localhost:9093"
</span> 
   ## Additional alertmanager container environment variable
   ## For instance to add a http_proxy
<span class="p">@@ -311,7 +310,7 @@</span> configmapReload:
   ##
   image:
     repository: jimmidyson/configmap-reload
<span class="gd">-    tag: v0.2.2
</span><span class="gi">+    tag: v0.3.0
</span>     pullPolicy: IfNotPresent
 
   ## Additional configmap-reload container arguments
<span class="p">@@ -350,7 +349,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: quay.io/coreos/kube-state-metrics
<span class="gd">-    tag: v1.6.0
</span><span class="gi">+    tag: v1.9.0
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics priorityClassName
<span class="p">@@ -462,7 +461,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.18.0
</span><span class="gi">+    tag: v0.18.1
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="p">@@ -584,7 +583,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.13.1
</span><span class="gi">+    tag: v2.15.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -952,7 +951,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v0.8.0
</span><span class="gi">+    tag: v1.0.1
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="975"> <a href="#975" class="anchor-heading" aria-labelledby="975"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.7.5 </h2> <p><strong>Release date:</strong> 2020-01-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>stable/prometheus Updated README.md with instructions for configuring pod scraping (#19379)</li> </ul> <h3 id="default-value-changes-246"> <a href="#default-value-changes-246" class="anchor-heading" aria-labelledby="default-value-changes-246"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="974"> <a href="#974" class="anchor-heading" aria-labelledby="974"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.7.4 </h2> <p><strong>Release date:</strong> 2020-01-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> server.env default value should be an array (#19141)</li> </ul> <h3 id="default-value-changes-247"> <a href="#default-value-changes-247" class="anchor-heading" aria-labelledby="default-value-changes-247"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 2616e6af..356b6974 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -615,7 +615,7 @@</span> server:
   ##     secretKeyRef:
   ##       name: mysecret
   ##       key: username
<span class="gd">-  env: {}
</span><span class="gi">+  env: []
</span> 
   extraFlags:
     - web.enable-lifecycle
<span class="err">
</span></code></pre></div></div> <h2 id="973"> <a href="#973" class="anchor-heading" aria-labelledby="973"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.7.3 </h2> <p><strong>Release date:</strong> 2020-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch master of https://github.com/helm/charts (#17071)</li> </ul> <h3 id="default-value-changes-248"> <a href="#default-value-changes-248" class="anchor-heading" aria-labelledby="default-value-changes-248"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 871a1fa4..2616e6af 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -617,12 +617,17 @@</span> server:
   ##       key: username
   env: {}
 
<span class="gd">-  ## This flag controls access to the administrative HTTP API which includes functionality such as deleting time
-  ## series. This is disabled by default.
-  enableAdminApi: false
-
-  ## This flag controls BD locking
-  skipTSDBLock: false
</span><span class="gi">+  extraFlags:
+    - web.enable-lifecycle
+    ## web.enable-admin-api flag controls access to the administrative HTTP API which includes functionality such as
+    ## deleting time series. This is disabled by default.
+    # - web.enable-admin-api
+    ##
+    ## storage.tsdb.no-lockfile flag controls BD locking
+    # - storage.tsdb.no-lockfile
+    ##
+    ## storage.tsdb.wal-compression flag enables compression of the write-ahead log (WAL)
+    # - storage.tsdb.wal-compression
</span> 
   ## Path to a configuration file on prometheus server container FS
   configPath: /etc/config/prometheus.yml
<span class="err">
</span></code></pre></div></div> <h2 id="972"> <a href="#972" class="anchor-heading" aria-labelledby="972"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.7.2 </h2> <p><strong>Release date:</strong> 2019-12-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Adding Vertical Pod Autoscaler support (#17742)</li> </ul> <h3 id="default-value-changes-249"> <a href="#default-value-changes-249" class="anchor-heading" aria-labelledby="default-value-changes-249"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 36fdfea6..871a1fa4 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -881,6 +881,15 @@</span> server:
     #   cpu: 500m
     #   memory: 512Mi
 
<span class="gi">+  ## Vertical Pod Autoscaler config
+  ## Ref: https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler
+  verticalAutoscaler:
+    ## If true a VPA object will be created for the controller (either StatefulSet or Deployemnt, based on above configs)
+    enabled: false
+    # updateMode: "Auto"
+    # containerPolicies:
+    # - containerName: 'prometheus-server'
+
</span>   ## Security context to be added to server pods
   ##
   securityContext:
<span class="err">
</span></code></pre></div></div> <h2 id="971"> <a href="#971" class="anchor-heading" aria-labelledby="971"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.7.1 </h2> <p><strong>Release date:</strong> 2019-12-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Ability to scope alertmanager to a specific instance using probe annotation (#18039)</li> </ul> <h3 id="default-value-changes-250"> <a href="#default-value-changes-250" class="anchor-heading" aria-labelledby="default-value-changes-250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c17eabe6..36fdfea6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -215,6 +215,11 @@</span> alertmanager:
   ## Annotations to be added to alertmanager pods
   ##
   podAnnotations: {}
<span class="gi">+    ## Tell prometheus to use a specific set of alertmanager pods
+    ## instead of all alertmanager pods found in the same namespace
+    ## Useful if you deploy multiple releases within the same namespace
+    ##
+    ## prometheus.io/probe: alertmanager-teamA
</span> 
   ## Specify if a Pod Security Policy for node-exporter must be created
   ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
<span class="err">
</span></code></pre></div></div> <h2 id="970"> <a href="#970" class="anchor-heading" aria-labelledby="970"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.7.0 </h2> <p><strong>Release date:</strong> 2019-12-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add support for volumeBindingMode (#18242)</li> </ul> <h3 id="default-value-changes-251"> <a href="#default-value-changes-251" class="anchor-heading" aria-labelledby="default-value-changes-251"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 47ade67d..c17eabe6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -200,6 +200,13 @@</span> alertmanager:
     ##
     # storageClass: "-"
 
<span class="gi">+    ## alertmanager data Persistent Volume Binding Mode
+    ## If defined, volumeBindingMode: &lt;volumeBindingMode&gt;
+    ## If undefined (the default) or set to null, no volumeBindingMode spec is
+    ##   set, choosing the default mode.
+    ##
+    # volumeBindingMode: ""
+
</span>     ## Subdirectory of alertmanager data Persistent Volume to mount
     ## Useful if the volume's root directory is not empty
     ##
<span class="p">@@ -783,6 +790,13 @@</span> server:
     ##
     # storageClass: "-"
 
<span class="gi">+    ## Prometheus server data Persistent Volume Binding Mode
+    ## If defined, volumeBindingMode: &lt;volumeBindingMode&gt;
+    ## If undefined (the default) or set to null, no volumeBindingMode spec is
+    ##   set, choosing the default mode.
+    ##
+    # volumeBindingMode: ""
+
</span>     ## Subdirectory of Prometheus server data Persistent Volume to mount
     ## Useful if the volume's root directory is not empty
     ##
<span class="p">@@ -1072,7 +1086,7 @@</span> pushgateway:
     ##
     size: 2Gi
 
<span class="gd">-    ## alertmanager data Persistent Volume Storage Class
</span><span class="gi">+    ## pushgateway data Persistent Volume Storage Class
</span>     ## If defined, storageClassName: &lt;storageClass&gt;
     ## If set to "-", storageClassName: "", which disables dynamic provisioning
     ## If undefined (the default) or set to null, no storageClassName spec is
<span class="p">@@ -1081,7 +1095,14 @@</span> pushgateway:
     ##
     # storageClass: "-"
 
<span class="gd">-    ## Subdirectory of alertmanager data Persistent Volume to mount
</span><span class="gi">+    ## pushgateway data Persistent Volume Binding Mode
+    ## If defined, volumeBindingMode: &lt;volumeBindingMode&gt;
+    ## If undefined (the default) or set to null, no volumeBindingMode spec is
+    ##   set, choosing the default mode.
+    ##
+    # volumeBindingMode: ""
+
+    ## Subdirectory of pushgateway data Persistent Volume to mount
</span>     ## Useful if the volume's root directory is not empty
     ##
     subPath: ""
<span class="err">
</span></code></pre></div></div> <h2 id="961"> <a href="#961" class="anchor-heading" aria-labelledby="961"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.6.1 </h2> <p><strong>Release date:</strong> 2019-12-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update readiness and liveness probe path for prometheus pushgateway (#19554)</li> </ul> <h3 id="default-value-changes-252"> <a href="#default-value-changes-252" class="anchor-heading" aria-labelledby="default-value-changes-252"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="960"> <a href="#960" class="anchor-heading" aria-labelledby="960"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.6.0 </h2> <p><strong>Release date:</strong> 2019-12-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add PodDisruptionBudget support (#19670)</li> </ul> <h3 id="default-value-changes-253"> <a href="#default-value-changes-253" class="anchor-heading" aria-labelledby="default-value-changes-253"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 51bcb7b6..47ade67d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -149,6 +149,13 @@</span> alertmanager:
   ##
   affinity: {}
 
<span class="gi">+  ## PodDisruptionBudget settings
+  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
+  ##
+  podDisruptionBudget:
+    enabled: false
+    maxUnavailable: 1
+
</span>   ## Use an alternate scheduler, e.g. "stork".
   ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
   ##
<span class="p">@@ -379,6 +386,13 @@</span> kubeStateMetrics:
 
   replicaCount: 1
 
<span class="gi">+  ## PodDisruptionBudget settings
+  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
+  ##
+  podDisruptionBudget:
+    enabled: false
+    maxUnavailable: 1
+
</span>   ## kube-state-metrics resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="p">@@ -504,6 +518,13 @@</span> nodeExporter:
   pod:
     labels: {}
 
<span class="gi">+  ## PodDisruptionBudget settings
+  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
+  ##
+  podDisruptionBudget:
+    enabled: false
+    maxUnavailable: 1
+
</span>   ## node-exporter resource limits &amp; requests
   ## Ref: https://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="p">@@ -711,6 +732,13 @@</span> server:
   ##
   affinity: {}
 
<span class="gi">+  ## PodDisruptionBudget settings
+  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
+  ##
+  podDisruptionBudget:
+    enabled: false
+    maxUnavailable: 1
+
</span>   ## Use an alternate scheduler, e.g. "stork".
   ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
   ##
<span class="p">@@ -970,6 +998,13 @@</span> pushgateway:
 
   replicaCount: 1
 
<span class="gi">+  ## PodDisruptionBudget settings
+  ## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
+  ##
+  podDisruptionBudget:
+    enabled: false
+    maxUnavailable: 1
+
</span>   ## pushgateway resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="956"> <a href="#956" class="anchor-heading" aria-labelledby="956"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.6 </h2> <p><strong>Release date:</strong> 2019-12-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add optional service replica selector (#19398)</li> </ul> <h3 id="default-value-changes-254"> <a href="#default-value-changes-254" class="anchor-heading" aria-labelledby="default-value-changes-254"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 7fba509e..51bcb7b6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -858,6 +858,13 @@</span> server:
     sessionAffinity: None
     type: ClusterIP
 
<span class="gi">+    ## If using a statefulSet (statefulSet.enabled=true), configure the
+    ## service to connect to a specific replica to have a consistent view
+    ## of the data.
+    statefulsetReplica:
+      enabled: false
+      replica: 0
+
</span>   ## Prometheus server pod termination grace period
   ##
   terminationGracePeriodSeconds: 300
<span class="err">
</span></code></pre></div></div> <h2 id="955"> <a href="#955" class="anchor-heading" aria-labelledby="955"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.5 </h2> <p><strong>Release date:</strong> 2019-12-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>additional control added (#19496)</li> </ul> <h3 id="default-value-changes-255"> <a href="#default-value-changes-255" class="anchor-heading" aria-labelledby="default-value-changes-255"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="954"> <a href="#954" class="anchor-heading" aria-labelledby="954"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.4 </h2> <p><strong>Release date:</strong> 2019-12-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add failure and success threshold to probes (#19058)</li> </ul> <h3 id="default-value-changes-256"> <a href="#default-value-changes-256" class="anchor-heading" aria-labelledby="default-value-changes-256"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e1388af3..7fba509e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -816,8 +816,12 @@</span> server:
   ##
   readinessProbeInitialDelay: 30
   readinessProbeTimeout: 30
<span class="gi">+  readinessProbeFailureThreshold: 3
+  readinessProbeSuccessThreshold: 1
</span>   livenessProbeInitialDelay: 30
   livenessProbeTimeout: 30
<span class="gi">+  livenessProbeFailureThreshold: 3
+  livenessProbeSuccessThreshold: 1
</span> 
   ## Prometheus server resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="err">
</span></code></pre></div></div> <h2 id="953"> <a href="#953" class="anchor-heading" aria-labelledby="953"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.3 </h2> <p><strong>Release date:</strong> 2019-12-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add option to configure AlertManagers for Prometheus server (#19557)</li> </ul> <h3 id="default-value-changes-257"> <a href="#default-value-changes-257" class="anchor-heading" aria-labelledby="default-value-changes-257"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a310d151..e1388af3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -772,6 +772,10 @@</span> server:
   ##
   podLabels: {}
 
<span class="gi">+  ## Prometheus AlertManager configuration
+  ##
+  alertmanagers: []
+
</span>   ## Specify if a Pod Security Policy for node-exporter must be created
   ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="952"> <a href="#952" class="anchor-heading" aria-labelledby="952"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.2 </h2> <p><strong>Release date:</strong> 2019-12-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Improve server file names to reflect official docs (#19472)</li> </ul> <h3 id="default-value-changes-258"> <a href="#default-value-changes-258" class="anchor-heading" aria-labelledby="default-value-changes-258"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 31b99464..a310d151 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1062,7 +1062,7 @@</span> serverFiles:
 
   ## Alerts configuration
   ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/
<span class="gd">-  alerts: {}
</span><span class="gi">+  alerting_rules.yml: {}
</span>   # groups:
   #   - name: Instances
   #     rules:
<span class="p">@@ -1074,11 +1074,20 @@</span> serverFiles:
   #         annotations:
   #           description: '{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 5 minutes.'
   #           summary: 'Instance {{ $labels.instance }} down'
<span class="gi">+  ## DEPRECATED DEFAULT VALUE, unless explicitly naming your files, please use alerting_rules.yml
+  alerts: {}
</span> 
<span class="gi">+  ## Records configuration
+  ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/
+  recording_rules.yml: {}
+  ## DEPRECATED DEFAULT VALUE, unless explicitly naming your files, please use recording_rules.yml
</span>   rules: {}
 
   prometheus.yml:
     rule_files:
<span class="gi">+      - /etc/config/recording_rules.yml
+      - /etc/config/alerting_rules.yml
+    ## Below two files are DEPRECATED will be removed from this default values file
</span>       - /etc/config/rules
       - /etc/config/alerts
 
<span class="err">
</span></code></pre></div></div> <h2 id="951"> <a href="#951" class="anchor-heading" aria-labelledby="951"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.1 </h2> <p><strong>Release date:</strong> 2019-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>stable/prometheus: Add service session affinity (#18637)</li> </ul> <h3 id="default-value-changes-259"> <a href="#default-value-changes-259" class="anchor-heading" aria-labelledby="default-value-changes-259"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6be5b5ea..31b99464 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -277,6 +277,7 @@</span> alertmanager:
     loadBalancerSourceRanges: []
     servicePort: 80
     # nodePort: 30000
<span class="gi">+    sessionAffinity: None
</span>     type: ClusterIP
 
 ## Monitors ConfigMap changes and POSTs to a URL
<span class="p">@@ -846,6 +847,7 @@</span> server:
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
     servicePort: 80
<span class="gi">+    sessionAffinity: None
</span>     type: ClusterIP
 
   ## Prometheus server pod termination grace period
<span class="err">
</span></code></pre></div></div> <h2 id="950"> <a href="#950" class="anchor-heading" aria-labelledby="950"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5.0 </h2> <p><strong>Release date:</strong> 2019-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>added deployment strategy for pushgateway (#17107)</li> </ul> <h3 id="default-value-changes-260"> <a href="#default-value-changes-260" class="anchor-heading" aria-labelledby="default-value-changes-260"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index d74187f0..6be5b5ea 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -986,6 +986,10 @@</span> pushgateway:
     servicePort: 9091
     type: ClusterIP
 
<span class="gi">+  ## pushgateway Deployment Strategy type
+  # strategy:
+  #   type: Recreate
+
</span>   persistentVolume:
     ## If true, pushgateway will create/use a Persistent Volume Claim
     ## If false, use emptyDir
<span class="err">
</span></code></pre></div></div> <h2 id="941"> <a href="#941" class="anchor-heading" aria-labelledby="941"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.1 </h2> <p><strong>Release date:</strong> 2019-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix #16690 - stable/prometheus - fails with empty clusterrole ruleset (#16692)</li> </ul> <h3 id="default-value-changes-261"> <a href="#default-value-changes-261" class="anchor-heading" aria-labelledby="default-value-changes-261"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="940"> <a href="#940" class="anchor-heading" aria-labelledby="940"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.4.0 </h2> <p><strong>Release date:</strong> 2019-12-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[stable/prometehus] Support ingress.extraPaths (#17979)</li> </ul> <h3 id="default-value-changes-262"> <a href="#default-value-changes-262" class="anchor-heading" aria-labelledby="default-value-changes-262"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a380b792..d74187f0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -112,6 +112,13 @@</span> alertmanager:
     #   - alertmanager.domain.com
     #   - domain.com/alertmanager
 
<span class="gi">+    ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
+    extraPaths: []
+    # - path: /*
+    #   backend:
+    #     serviceName: ssl-redirect
+    #     servicePort: use-annotation
+
</span>     ## alertmanager Ingress TLS configuration
     ## Secrets must be manually created in the namespace
     ##
<span class="p">@@ -666,6 +673,13 @@</span> server:
     #   - prometheus.domain.com
     #   - domain.com/prometheus
 
<span class="gi">+    ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
+    extraPaths: []
+    # - path: /*
+    #   backend:
+    #     serviceName: ssl-redirect
+    #     servicePort: use-annotation
+
</span>     ## Prometheus server Ingress TLS configuration
     ## Secrets must be manually created in the namespace
     ##
<span class="p">@@ -890,6 +904,13 @@</span> pushgateway:
     #   - pushgateway.domain.com
     #   - domain.com/pushgateway
 
<span class="gi">+    ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
+    extraPaths: []
+    # - path: /*
+    #   backend:
+    #     serviceName: ssl-redirect
+    #     servicePort: use-annotation
+
</span>     ## pushgateway Ingress TLS configuration
     ## Secrets must be manually created in the namespace
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="933"> <a href="#933" class="anchor-heading" aria-labelledby="933"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.3.3 </h2> <p><strong>Release date:</strong> 2019-12-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> semver compatible chart versioning breaks chart label. (#18411)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add missing <code class="language-plaintext highlighter-rouge">env</code> for Server Statefulset (#19019)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> allow non-yaml objects for configmap values (#18814)</li> </ul> <h3 id="default-value-changes-263"> <a href="#default-value-changes-263" class="anchor-heading" aria-labelledby="default-value-changes-263"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="932"> <a href="#932" class="anchor-heading" aria-labelledby="932"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.3.2 </h2> <p><strong>Release date:</strong> 2019-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add myself to OWNERS (#18737)</li> </ul> <h3 id="default-value-changes-264"> <a href="#default-value-changes-264" class="anchor-heading" aria-labelledby="default-value-changes-264"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="931"> <a href="#931" class="anchor-heading" aria-labelledby="931"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.3.1 </h2> <p><strong>Release date:</strong> 2019-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> allow multiple alert files (#18112)</li> </ul> <h3 id="default-value-changes-265"> <a href="#default-value-changes-265" class="anchor-heading" aria-labelledby="default-value-changes-265"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="930"> <a href="#930" class="anchor-heading" aria-labelledby="930"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.3.0 </h2> <p><strong>Release date:</strong> 2019-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> migrate API versions from deprecated, removed versions (#17268)</li> </ul> <h3 id="default-value-changes-266"> <a href="#default-value-changes-266" class="anchor-heading" aria-labelledby="default-value-changes-266"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="920"> <a href="#920" class="anchor-heading" aria-labelledby="920"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.2.0 </h2> <p><strong>Release date:</strong> 2019-10-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.13.1&amp;color=success" alt="AppVersion: 2.13.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add initContainers support for prometheus server (#17218)</li> </ul> <h3 id="default-value-changes-267"> <a href="#default-value-changes-267" class="anchor-heading" aria-labelledby="default-value-changes-267"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index bbaaed24..a380b792 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -543,7 +543,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.11.1
</span><span class="gi">+    tag: v2.13.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="p">@@ -601,6 +601,10 @@</span> server:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional InitContainers to initialize the pod
+  ##
+  extraInitContainers: []
+
</span>   ## Additional Prometheus server Volume mounts
   ##
   extraVolumeMounts: []
<span class="err">
</span></code></pre></div></div> <h2 id="913"> <a href="#913" class="anchor-heading" aria-labelledby="913"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.1.3 </h2> <p><strong>Release date:</strong> 2019-10-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add customized readiness/liveness probe config (#17969)</li> </ul> <h3 id="default-value-changes-268"> <a href="#default-value-changes-268" class="anchor-heading" aria-labelledby="default-value-changes-268"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b9af5a9f..bbaaed24 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -788,6 +788,14 @@</span> server:
       labels: {}
       servicePort: 80
 
<span class="gi">+  ## Prometheus server readiness and liveness probe initial delay and timeout
+  ## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/
+  ##
+  readinessProbeInitialDelay: 30
+  readinessProbeTimeout: 30
+  livenessProbeInitialDelay: 30
+  livenessProbeTimeout: 30
+
</span>   ## Prometheus server resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="912"> <a href="#912" class="anchor-heading" aria-labelledby="912"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.1.2 </h2> <p><strong>Release date:</strong> 2019-10-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add the option to add alert_relabel_configs in prometheus.yml (#15383)</li> </ul> <h3 id="default-value-changes-269"> <a href="#default-value-changes-269" class="anchor-heading" aria-labelledby="default-value-changes-269"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 98caf84d..b9af5a9f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1317,6 +1317,14 @@</span> extraScrapeConfigs:
   #     - target_label: __address__
   #       replacement: prometheus-blackbox-exporter:9115
 
<span class="gi">+# Adds option to add alert_relabel_configs to avoid duplicate alerts in alertmanager
+# useful in H/A prometheus with different external labels but the same alerts
+alertRelabelConfigs:
+  # alert_relabel_configs:
+  # - source_labels: [dc]
+  #   regex: (.+)\d+
+  #   target_label: dc
+
</span> networkPolicy:
   ## Enable creation of NetworkPolicy resources.
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="911"> <a href="#911" class="anchor-heading" aria-labelledby="911"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.1.1 </h2> <p><strong>Release date:</strong> 2019-09-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Added /nodes/metrics permission to prometheus server (#16394)</li> </ul> <h3 id="default-value-changes-270"> <a href="#default-value-changes-270" class="anchor-heading" aria-labelledby="default-value-changes-270"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="910"> <a href="#910" class="anchor-heading" aria-labelledby="910"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.1.0 </h2> <p><strong>Release date:</strong> 2019-08-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update psps to support all pods (#15055)</li> </ul> <h3 id="default-value-changes-271"> <a href="#default-value-changes-271" class="anchor-heading" aria-labelledby="default-value-changes-271"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 71725d56..98caf84d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,6 +1,9 @@</span>
 rbac:
   create: true
 
<span class="gi">+podSecurityPolicy:
+  enabled: false
+
</span> imagePullSecrets:
 # - name: "image-pull-secret"
 
<span class="p">@@ -192,6 +195,20 @@</span> alertmanager:
   ##
   podAnnotations: {}
 
<span class="gi">+  ## Specify if a Pod Security Policy for node-exporter must be created
+  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
+  ##
+  podSecurityPolicy:
+    annotations: {}
+      ## Specify pod annotations
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
+      ##
+      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
+      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
+      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
+
</span>   ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
   ##
   replicaCount: 1
<span class="p">@@ -335,6 +352,20 @@</span> kubeStateMetrics:
   ##
   podAnnotations: {}
 
<span class="gi">+  ## Specify if a Pod Security Policy for node-exporter must be created
+  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
+  ##
+  podSecurityPolicy:
+    annotations: {}
+      ## Specify pod annotations
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
+      ##
+      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
+      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
+      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
+
</span>   pod:
     labels: {}
 
<span class="p">@@ -404,7 +435,6 @@</span> nodeExporter:
   ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
   ##
   podSecurityPolicy:
<span class="gd">-    enabled: False
</span>     annotations: {}
       ## Specify pod annotations
       ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
<span class="p">@@ -723,6 +753,20 @@</span> server:
   ##
   podLabels: {}
 
<span class="gi">+  ## Specify if a Pod Security Policy for node-exporter must be created
+  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
+  ##
+  podSecurityPolicy:
+    annotations: {}
+      ## Specify pod annotations
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
+      ##
+      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
+      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
+      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
+
</span>   ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
   ##
   replicaCount: 1
<span class="p">@@ -860,6 +904,20 @@</span> pushgateway:
   ##
   podAnnotations: {}
 
<span class="gi">+  ## Specify if a Pod Security Policy for node-exporter must be created
+  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
+  ##
+  podSecurityPolicy:
+    annotations: {}
+      ## Specify pod annotations
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
+      ##
+      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
+      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
+      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
+
</span>   replicaCount: 1
 
   ## pushgateway resource requests and limits
<span class="err">
</span></code></pre></div></div> <h2 id="900"> <a href="#900" class="anchor-heading" aria-labelledby="900"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.0.0 </h2> <p><strong>Release date:</strong> 2019-08-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> </ul> <h3 id="default-value-changes-272"> <a href="#default-value-changes-272" class="anchor-heading" aria-labelledby="default-value-changes-272"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f3ed3ae1..71725d56 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -505,6 +505,7 @@</span> nodeExporter:
 server:
   ## Prometheus server container name
   ##
<span class="gi">+  enabled: true
</span>   name: server
   sidecarContainers:
 
<span class="err">
</span></code></pre></div></div> <h2 id="8151"> <a href="#8151" class="anchor-heading" aria-labelledby="8151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.15.1 </h2> <p><strong>Release date:</strong> 2019-08-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add options to change volume mount propagation (same as #11194 for prometheus-node-exporter) (#13922)</li> </ul> <h3 id="default-value-changes-273"> <a href="#default-value-changes-273" class="anchor-heading" aria-labelledby="default-value-changes-273"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e21a25e4..f3ed3ae1 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -435,6 +435,7 @@</span> nodeExporter:
     #   mountPath: /srv/txt_collector
     #   hostPath: /var/lib/node-exporter
     #   readOnly: true
<span class="gi">+    #   mountPropagation: HostToContainer
</span> 
   extraConfigmapMounts: []
     # - name: certs-configmap
<span class="err">
</span></code></pre></div></div> <h2 id="8150"> <a href="#8150" class="anchor-heading" aria-labelledby="8150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.15.0 </h2> <p><strong>Release date:</strong> 2019-07-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>stable/prometheus: run as nobody (#12175)</li> </ul> <h3 id="default-value-changes-274"> <a href="#default-value-changes-274" class="anchor-heading" aria-labelledby="default-value-changes-274"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4aed3b3b..e21a25e4 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -229,7 +229,11 @@</span> alertmanager:
 
   ## Security context to be added to alertmanager pods
   ##
<span class="gd">-  securityContext: {}
</span><span class="gi">+  securityContext:
+    runAsUser: 65534
+    runAsNonRoot: true
+    runAsGroup: 65534
+    fsGroup: 65534
</span> 
   service:
     annotations: {}
<span class="p">@@ -289,28 +293,6 @@</span> configmapReload:
   ##
   resources: {}
 
<span class="gd">-initChownData:
-  ## If false, data ownership will not be reset at startup
-  ## This allows the prometheus-server to be run with an arbitrary user
-  ##
-  enabled: true
-
-  ## initChownData container name
-  ##
-  name: init-chown-data
-
-  ## initChownData container image
-  ##
-  image:
-    repository: busybox
-    tag: latest
-    pullPolicy: IfNotPresent
-
-  ## initChownData resource requests and limits
-  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
-  ##
-  resources: {}
-
</span> kubeStateMetrics:
   ## If false, kube-state-metrics will not be installed
   ##
<span class="p">@@ -371,7 +353,9 @@</span> kubeStateMetrics:
 
   ## Security context to be added to kube-state-metrics pods
   ##
<span class="gd">-  securityContext: {}
</span><span class="gi">+  securityContext:
+    runAsUser: 65534
+    runAsNonRoot: true
</span> 
   service:
     annotations:
<span class="p">@@ -771,7 +755,11 @@</span> server:
 
   ## Security context to be added to server pods
   ##
<span class="gd">-  securityContext: {}
</span><span class="gi">+  securityContext:
+    runAsUser: 65534
+    runAsNonRoot: true
+    runAsGroup: 65534
+    fsGroup: 65534
</span> 
   service:
     annotations: {}
<span class="p">@@ -885,7 +873,9 @@</span> pushgateway:
 
   ## Security context to be added to push-gateway pods
   ##
<span class="gd">-  securityContext: {}
</span><span class="gi">+  securityContext:
+    runAsUser: 65534
+    runAsNonRoot: true
</span> 
   service:
     annotations:
<span class="err">
</span></code></pre></div></div> <h2 id="8143"> <a href="#8143" class="anchor-heading" aria-labelledby="8143"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.14.3 </h2> <p><strong>Release date:</strong> 2019-07-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Upgrade alertmanager (#15408)</li> </ul> <h3 id="default-value-changes-275"> <a href="#default-value-changes-275" class="anchor-heading" aria-labelledby="default-value-changes-275"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 14ad6b43..4aed3b3b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -36,7 +36,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.17.0
</span><span class="gi">+    tag: v0.18.0
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8142"> <a href="#8142" class="anchor-heading" aria-labelledby="8142"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.14.2 </h2> <p><strong>Release date:</strong> 2019-07-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Upgrade to 2.11.1 (#15402)</li> </ul> <h3 id="default-value-changes-276"> <a href="#default-value-changes-276" class="anchor-heading" aria-labelledby="default-value-changes-276"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b11cb1d3..14ad6b43 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -527,7 +527,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.10.0
</span><span class="gi">+    tag: v2.11.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8141"> <a href="#8141" class="anchor-heading" aria-labelledby="8141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.14.1 </h2> <p><strong>Release date:</strong> 2019-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add custom pod labels for prom server (#14819)</li> </ul> <h3 id="default-value-changes-277"> <a href="#default-value-changes-277" class="anchor-heading" aria-labelledby="default-value-changes-277"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f4d7e11e..b11cb1d3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -733,6 +733,10 @@</span> server:
   podAnnotations: {}
     # iam.amazonaws.com/role: prometheus
 
<span class="gi">+  ## Labels to be added to Prometheus server pods
+  ##
+  podLabels: {}
+
</span>   ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
   ##
   replicaCount: 1
<span class="p">@@ -744,6 +748,7 @@</span> server:
     enabled: false
 
     annotations: {}
<span class="gi">+    labels: {}
</span>     podManagementPolicy: OrderedReady
 
     ## Alertmanager headless service to use for the statefulset
<span class="err">
</span></code></pre></div></div> <h2 id="8140"> <a href="#8140" class="anchor-heading" aria-labelledby="8140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.14.0 </h2> <p><strong>Release date:</strong> 2019-06-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Updates to support an alternate scheduler (#14364)</li> </ul> <h3 id="default-value-changes-278"> <a href="#default-value-changes-278" class="anchor-heading" aria-labelledby="default-value-changes-278"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 14d75622..f4d7e11e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -796,6 +796,11 @@</span> pushgateway:
   ##
   enabled: true
 
<span class="gi">+  ## Use an alternate scheduler, e.g. "stork".
+  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
+  ##
+  # schedulerName:
+
</span>   ## pushgateway container name
   ##
   name: pushgateway
<span class="err">
</span></code></pre></div></div> <h2 id="8132"> <a href="#8132" class="anchor-heading" aria-labelledby="8132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.13.2 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add alertmanager.extraSecretMounts (#12888)</li> </ul> <h3 id="default-value-changes-279"> <a href="#default-value-changes-279" class="anchor-heading" aria-labelledby="default-value-changes-279"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3fd241c8..14d75622 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -61,6 +61,15 @@</span> alertmanager:
   ##
   extraEnv: {}
 
<span class="gi">+  ## Additional alertmanager Secret mounts
+  # Defines additional mounts with secrets. Secrets must be manually created in the namespace.
+  extraSecretMounts: []
+    # - name: secret-files
+    #   mountPath: /etc/secrets
+    #   subPath: ""
+    #   secretName: alertmanager-secret-files
+    #   readOnly: true
+
</span>   ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.alertmanager.configMapOverrideName}}
   ## Defining configMapOverrideName will cause templates/alertmanager-configmap.yaml
   ## to NOT generate a ConfigMap resource
<span class="err">
</span></code></pre></div></div> <h2 id="8131"> <a href="#8131" class="anchor-heading" aria-labelledby="8131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.13.1 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.1&amp;color=success" alt="AppVersion: 2.11.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fixed typo in node-exporter-podsecuritypolicy.yaml (#14154)</li> </ul> <h3 id="default-value-changes-280"> <a href="#default-value-changes-280" class="anchor-heading" aria-labelledby="default-value-changes-280"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="8130"> <a href="#8130" class="anchor-heading" aria-labelledby="8130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.13.0 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.11.0&amp;color=success" alt="AppVersion: 2.11.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Upgraded pushgateway to v0.8.0. (#14304)</li> </ul> <h3 id="default-value-changes-281"> <a href="#default-value-changes-281" class="anchor-heading" aria-labelledby="default-value-changes-281"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6f068f84..3fd241c8 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -795,7 +795,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v0.6.0
</span><span class="gi">+    tag: v0.8.0
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8120"> <a href="#8120" class="anchor-heading" aria-labelledby="8120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.12.0 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.10.0&amp;color=success" alt="AppVersion: 2.10.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update to Prometheus v2.10.0 (#14294)</li> </ul> <h3 id="default-value-changes-282"> <a href="#default-value-changes-282" class="anchor-heading" aria-labelledby="default-value-changes-282"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 41002dde..6f068f84 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.9.2
</span><span class="gi">+    tag: v2.10.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8116"> <a href="#8116" class="anchor-heading" aria-labelledby="8116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.6 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Bump alertmanager to 0.17.0 (#14034)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> default retention time is 15 days if not specified (#13965)</li> </ul> <h3 id="default-value-changes-283"> <a href="#default-value-changes-283" class="anchor-heading" aria-labelledby="default-value-changes-283"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 094980ca..41002dde 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -36,7 +36,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.15.3
</span><span class="gi">+    tag: v0.17.0
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="p">@@ -778,9 +778,9 @@</span> server:
   ##
   terminationGracePeriodSeconds: 300
 
<span class="gd">-  ## Prometheus data retention period (i.e 360h)
</span><span class="gi">+  ## Prometheus data retention period (default if not specified is 15 days)
</span>   ##
<span class="gd">-  retention: ""
</span><span class="gi">+  retention: "15d"
</span> 
 pushgateway:
   ## If false, pushgateway will not be installed
<span class="err">
</span></code></pre></div></div> <h2 id="8115"> <a href="#8115" class="anchor-heading" aria-labelledby="8115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.5 </h2> <p><strong>Release date:</strong> 2019-06-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Ignore OWNERS file in helm package. (#13655)</li> </ul> <h3 id="default-value-changes-284"> <a href="#default-value-changes-284" class="anchor-heading" aria-labelledby="default-value-changes-284"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="8114"> <a href="#8114" class="anchor-heading" aria-labelledby="8114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.4 </h2> <p><strong>Release date:</strong> 2019-05-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Bump node-exporter to 0.18.0 (#14036)</li> </ul> <h3 id="default-value-changes-285"> <a href="#default-value-changes-285" class="anchor-heading" aria-labelledby="default-value-changes-285"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a36d94d2..094980ca 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -404,7 +404,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.17.0
</span><span class="gi">+    tag: v0.18.0
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="err">
</span></code></pre></div></div> <h2 id="8113"> <a href="#8113" class="anchor-heading" aria-labelledby="8113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.3 </h2> <p><strong>Release date:</strong> 2019-05-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> fix bad indentation for resources on init-container init-chown-data (#13762)</li> </ul> <h3 id="default-value-changes-286"> <a href="#default-value-changes-286" class="anchor-heading" aria-labelledby="default-value-changes-286"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="8112"> <a href="#8112" class="anchor-heading" aria-labelledby="8112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.2 </h2> <p><strong>Release date:</strong> 2019-05-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>add apiVersion (#13817)</li> </ul> <h3 id="default-value-changes-287"> <a href="#default-value-changes-287" class="anchor-heading" aria-labelledby="default-value-changes-287"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="8111"> <a href="#8111" class="anchor-heading" aria-labelledby="8111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.1 </h2> <p><strong>Release date:</strong> 2019-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Allow setting an emptyDir sizeLimit for Prometheus (#12281)</li> </ul> <h3 id="default-value-changes-288"> <a href="#default-value-changes-288" class="anchor-heading" aria-labelledby="default-value-changes-288"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e62503c3..a36d94d2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -716,6 +716,9 @@</span> server:
     ##
     subPath: ""
 
<span class="gi">+  emptyDir:
+    sizeLimit: ""
+
</span>   ## Annotations to be added to Prometheus server pods
   ##
   podAnnotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="8110"> <a href="#8110" class="anchor-heading" aria-labelledby="8110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.11.0 </h2> <p><strong>Release date:</strong> 2019-05-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> use kube-state-metrics v1.6.0 (#13623)</li> </ul> <h3 id="default-value-changes-289"> <a href="#default-value-changes-289" class="anchor-heading" aria-labelledby="default-value-changes-289"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1bac3b8e..e62503c3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -315,7 +315,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: quay.io/coreos/kube-state-metrics
<span class="gd">-    tag: v1.5.0
</span><span class="gi">+    tag: v1.6.0
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8103"> <a href="#8103" class="anchor-heading" aria-labelledby="8103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.10.3 </h2> <p><strong>Release date:</strong> 2019-04-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade to latest release (#13260)</li> </ul> <h3 id="default-value-changes-290"> <a href="#default-value-changes-290" class="anchor-heading" aria-labelledby="default-value-changes-290"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a733ac7c..1bac3b8e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.9.1
</span><span class="gi">+    tag: v2.9.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8102"> <a href="#8102" class="anchor-heading" aria-labelledby="8102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.10.2 </h2> <p><strong>Release date:</strong> 2019-04-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.1&amp;color=success" alt="AppVersion: 2.9.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Upgrade to 2.9.1 (#13098)</li> </ul> <h3 id="default-value-changes-291"> <a href="#default-value-changes-291" class="anchor-heading" aria-labelledby="default-value-changes-291"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ddd39aad..a733ac7c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.9.0
</span><span class="gi">+    tag: v2.9.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="8101"> <a href="#8101" class="anchor-heading" aria-labelledby="8101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.10.1 </h2> <p><strong>Release date:</strong> 2019-04-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.0&amp;color=success" alt="AppVersion: 2.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Remove duplicate affinity field (#12975)</li> </ul> <h3 id="default-value-changes-292"> <a href="#default-value-changes-292" class="anchor-heading" aria-labelledby="default-value-changes-292"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="8100"> <a href="#8100" class="anchor-heading" aria-labelledby="8100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.10.0 </h2> <p><strong>Release date:</strong> 2019-04-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.0&amp;color=success" alt="AppVersion: 2.9.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus (#13067)</li> </ul> <h3 id="default-value-changes-293"> <a href="#default-value-changes-293" class="anchor-heading" aria-labelledby="default-value-changes-293"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1194c6bf..ddd39aad 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.8.0
</span><span class="gi">+    tag: v2.9.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="892"> <a href="#892" class="anchor-heading" aria-labelledby="892"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.9.2 </h2> <p><strong>Release date:</strong> 2019-04-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.0&amp;color=success" alt="AppVersion: 2.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update retention time property (#11518)</li> </ul> <h3 id="default-value-changes-294"> <a href="#default-value-changes-294" class="anchor-heading" aria-labelledby="default-value-changes-294"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="891"> <a href="#891" class="anchor-heading" aria-labelledby="891"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.9.1 </h2> <p><strong>Release date:</strong> 2019-04-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.0&amp;color=success" alt="AppVersion: 2.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Duplicate entries for affinity rules (#12468)</li> </ul> <h3 id="default-value-changes-295"> <a href="#default-value-changes-295" class="anchor-heading" aria-labelledby="default-value-changes-295"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="890"> <a href="#890" class="anchor-heading" aria-labelledby="890"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.9.0 </h2> <p><strong>Release date:</strong> 2019-03-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.0&amp;color=success" alt="AppVersion: 2.8.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus (#12113)</li> </ul> <h3 id="default-value-changes-296"> <a href="#default-value-changes-296" class="anchor-heading" aria-labelledby="default-value-changes-296"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index d94d1c2c..1194c6bf 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.7.2
</span><span class="gi">+    tag: v2.8.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="881"> <a href="#881" class="anchor-heading" aria-labelledby="881"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.8.1 </h2> <p><strong>Release date:</strong> 2019-03-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.2&amp;color=success" alt="AppVersion: 2.7.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus (#11897)</li> </ul> <h3 id="default-value-changes-297"> <a href="#default-value-changes-297" class="anchor-heading" aria-labelledby="default-value-changes-297"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 2d57ddce..d94d1c2c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.7.1
</span><span class="gi">+    tag: v2.7.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="880"> <a href="#880" class="anchor-heading" aria-labelledby="880"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.8.0 </h2> <p><strong>Release date:</strong> 2019-02-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.1&amp;color=success" alt="AppVersion: 2.7.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add ability to control prometheus TSDB locking (#11270)</li> </ul> <h3 id="default-value-changes-298"> <a href="#default-value-changes-298" class="anchor-heading" aria-labelledby="default-value-changes-298"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3d845e7f..2d57ddce 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -555,6 +555,9 @@</span> server:
   ## series. This is disabled by default.
   enableAdminApi: false
 
<span class="gi">+  ## This flag controls BD locking
+  skipTSDBLock: false
+
</span>   ## Path to a configuration file on prometheus server container FS
   configPath: /etc/config/prometheus.yml
 
<span class="err">
</span></code></pre></div></div> <h2 id="871"> <a href="#871" class="anchor-heading" aria-labelledby="871"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.7.1 </h2> <p><strong>Release date:</strong> 2019-02-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.1&amp;color=success" alt="AppVersion: 2.7.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Change AlertManager reload URL from localhost to 127.0.0.1 (#11359)</li> </ul> <h3 id="default-value-changes-299"> <a href="#default-value-changes-299" class="anchor-heading" aria-labelledby="default-value-changes-299"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="870"> <a href="#870" class="anchor-heading" aria-labelledby="870"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.7.0 </h2> <p><strong>Release date:</strong> 2019-02-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.1&amp;color=success" alt="AppVersion: 2.7.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Added PVC to Pushgateway (#11234)</li> </ul> <h3 id="default-value-changes-300"> <a href="#default-value-changes-300" class="anchor-heading" aria-labelledby="default-value-changes-300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c57c2020..3d845e7f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -798,6 +798,7 @@</span> pushgateway:
 
   ## Additional pushgateway container arguments
   ##
<span class="gi">+  ## for example: persistence.file: /data/pushgateway.data
</span>   extraArgs: {}
 
   ingress:
<span class="p">@@ -877,6 +878,51 @@</span> pushgateway:
     servicePort: 9091
     type: ClusterIP
 
<span class="gi">+  persistentVolume:
+    ## If true, pushgateway will create/use a Persistent Volume Claim
+    ## If false, use emptyDir
+    ##
+    enabled: false
+
+    ## pushgateway data Persistent Volume access modes
+    ## Must match those of existing PV or dynamic provisioner
+    ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
+    ##
+    accessModes:
+      - ReadWriteOnce
+
+    ## pushgateway data Persistent Volume Claim annotations
+    ##
+    annotations: {}
+
+    ## pushgateway data Persistent Volume existing claim name
+    ## Requires pushgateway.persistentVolume.enabled: true
+    ## If defined, PVC must be created manually before volume will be bound
+    existingClaim: ""
+
+    ## pushgateway data Persistent Volume mount root path
+    ##
+    mountPath: /data
+
+    ## pushgateway data Persistent Volume size
+    ##
+    size: 2Gi
+
+    ## alertmanager data Persistent Volume Storage Class
+    ## If defined, storageClassName: &lt;storageClass&gt;
+    ## If set to "-", storageClassName: "", which disables dynamic provisioning
+    ## If undefined (the default) or set to null, no storageClassName spec is
+    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
+    ##   GKE, AWS &amp; OpenStack)
+    ##
+    # storageClass: "-"
+
+    ## Subdirectory of alertmanager data Persistent Volume to mount
+    ## Useful if the volume's root directory is not empty
+    ##
+    subPath: ""
+
+
</span> ## alertmanager ConfigMap entries
 ##
 alertmanagerFiles:
<span class="err">
</span></code></pre></div></div> <h2 id="861"> <a href="#861" class="anchor-heading" aria-labelledby="861"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.6.1 </h2> <p><strong>Release date:</strong> 2019-01-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.1&amp;color=success" alt="AppVersion: 2.7.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> upgrade to latest release (#11030)</li> </ul> <h3 id="default-value-changes-301"> <a href="#default-value-changes-301" class="anchor-heading" aria-labelledby="default-value-changes-301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 15389f50..c57c2020 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.7.0
</span><span class="gi">+    tag: v2.7.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="860"> <a href="#860" class="anchor-heading" aria-labelledby="860"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.6.0 </h2> <p><strong>Release date:</strong> 2019-01-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Upgrade to latest release (#11020)</li> </ul> <h3 id="default-value-changes-302"> <a href="#default-value-changes-302" class="anchor-heading" aria-labelledby="default-value-changes-302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 32f35f4f..15389f50 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -518,7 +518,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.6.1
</span><span class="gi">+    tag: v2.7.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="850"> <a href="#850" class="anchor-heading" aria-labelledby="850"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.5.0 </h2> <p><strong>Release date:</strong> 2019-01-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>enable watching configmaps for prometheus server (#10973)</li> </ul> <h3 id="default-value-changes-303"> <a href="#default-value-changes-303" class="anchor-heading" aria-labelledby="default-value-changes-303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="849"> <a href="#849" class="anchor-heading" aria-labelledby="849"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.9 </h2> <p><strong>Release date:</strong> 2019-01-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Added configPath parameter (#10976)</li> </ul> <h3 id="default-value-changes-304"> <a href="#default-value-changes-304" class="anchor-heading" aria-labelledby="default-value-changes-304"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5a531531..32f35f4f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -555,6 +555,9 @@</span> server:
   ## series. This is disabled by default.
   enableAdminApi: false
 
<span class="gi">+  ## Path to a configuration file on prometheus server container FS
+  configPath: /etc/config/prometheus.yml
+
</span>   global:
     ## How frequently to scrape targets by default
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="848"> <a href="#848" class="anchor-heading" aria-labelledby="848"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.8 </h2> <p><strong>Release date:</strong> 2019-01-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add ability to provide environment variables to the prometheus server (#10968)</li> </ul> <h3 id="default-value-changes-305"> <a href="#default-value-changes-305" class="anchor-heading" aria-labelledby="default-value-changes-305"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8ec81630..5a531531 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -534,6 +534,23 @@</span> server:
   ## Maybe same with Ingress host name
   baseURL: ""
 
<span class="gi">+  ## Additional server container environment variables
+  ##
+  ## You specify this manually like you would a raw deployment manifest.
+  ## This means you can bind in environment variables from secrets.
+  ##
+  ## e.g. static environment variable:
+  ##  - name: DEMO_GREETING
+  ##    value: "Hello from the environment"
+  ##
+  ## e.g. secret environment variable:
+  ## - name: USERNAME
+  ##   valueFrom:
+  ##     secretKeyRef:
+  ##       name: mysecret
+  ##       key: username
+  env: {}
+
</span>   ## This flag controls access to the administrative HTTP API which includes functionality such as deleting time
   ## series. This is disabled by default.
   enableAdminApi: false
<span class="err">
</span></code></pre></div></div> <h2 id="847"> <a href="#847" class="anchor-heading" aria-labelledby="847"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.7 </h2> <p><strong>Release date:</strong> 2019-01-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li> </ul> <h3 id="default-value-changes-306"> <a href="#default-value-changes-306" class="anchor-heading" aria-labelledby="default-value-changes-306"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8726bc00..8ec81630 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -553,6 +553,14 @@</span> server:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional Prometheus server Volume mounts
+  ##
+  extraVolumeMounts: []
+
+  ## Additional Prometheus server Volumes
+  ##
+  extraVolumes: []
+
</span>   ## Additional Prometheus server hostPath mounts
   ##
   extraHostPathMounts: []
<span class="err">
</span></code></pre></div></div> <h2 id="846"> <a href="#846" class="anchor-heading" aria-labelledby="846"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.6 </h2> <p><strong>Release date:</strong> 2019-01-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>sidecar containers functionality to Prometheus helm chart. (#10871)</li> </ul> <h3 id="default-value-changes-307"> <a href="#default-value-changes-307" class="anchor-heading" aria-labelledby="default-value-changes-307"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 58d6ac6b..8726bc00 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -512,6 +512,7 @@</span> server:
   ## Prometheus server container name
   ##
   name: server
<span class="gi">+  sidecarContainers:
</span> 
   ## Prometheus server container image
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="845"> <a href="#845" class="anchor-heading" aria-labelledby="845"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.5 </h2> <p><strong>Release date:</strong> 2019-01-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus to 2.6.1 (#10677)</li> </ul> <h3 id="default-value-changes-308"> <a href="#default-value-changes-308" class="anchor-heading" aria-labelledby="default-value-changes-308"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 21f458e5..58d6ac6b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -517,7 +517,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.6.0
</span><span class="gi">+    tag: v2.6.1
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="844"> <a href="#844" class="anchor-heading" aria-labelledby="844"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.4 </h2> <p><strong>Release date:</strong> 2019-01-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> updated kube-state-metrics image to v1.5.0 (#10601)</li> </ul> <h3 id="default-value-changes-309"> <a href="#default-value-changes-309" class="anchor-heading" aria-labelledby="default-value-changes-309"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 388fe41d..21f458e5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -315,7 +315,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: quay.io/coreos/kube-state-metrics
<span class="gd">-    tag: v1.4.0
</span><span class="gi">+    tag: v1.5.0
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="843"> <a href="#843" class="anchor-heading" aria-labelledby="843"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.3 </h2> <p><strong>Release date:</strong> 2019-01-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Alertmanager config from Secret (#9317)</li> </ul> <h3 id="default-value-changes-310"> <a href="#default-value-changes-310" class="anchor-heading" aria-labelledby="default-value-changes-310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9642c6bc..388fe41d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -67,6 +67,17 @@</span> alertmanager:
   ##
   configMapOverrideName: ""
 
<span class="gi">+  ## The name of a secret in the same kubernetes namespace which contains the Alertmanager config
+  ## Defining configFromSecret will cause templates/alertmanager-configmap.yaml
+  ## to NOT generate a ConfigMap resource
+  ##
+  configFromSecret: ""
+
+  ## The configuration file name to be loaded to alertmanager
+  ## Must match the key within configuration loaded from ConfigMap/Secret
+  ##
+  configFileName: alertmanager.yml
+
</span>   ingress:
     ## If true, alertmanager Ingress will be created
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="842"> <a href="#842" class="anchor-heading" aria-labelledby="842"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.2 </h2> <p><strong>Release date:</strong> 2019-01-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Docs: Added the missing <code class="language-plaintext highlighter-rouge">nodeExporter.service.hostPort</code> configuration parameter with its default port 9100 (#9635)</li> </ul> <h3 id="default-value-changes-311"> <a href="#default-value-changes-311" class="anchor-heading" aria-labelledby="default-value-changes-311"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="841"> <a href="#841" class="anchor-heading" aria-labelledby="841"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.1 </h2> <p><strong>Release date:</strong> 2019-01-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>added poddisruptionbudgets view to kubeStateMetrics clusterrole (#10210)</li> </ul> <h3 id="default-value-changes-312"> <a href="#default-value-changes-312" class="anchor-heading" aria-labelledby="default-value-changes-312"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="840"> <a href="#840" class="anchor-heading" aria-labelledby="840"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.0 </h2> <p><strong>Release date:</strong> 2019-01-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Makes sense to have rollingUpgrade as default (#10347)</li> </ul> <h3 id="default-value-changes-313"> <a href="#default-value-changes-313" class="anchor-heading" aria-labelledby="default-value-changes-313"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5d92024c..9642c6bc 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -418,7 +418,7 @@</span> nodeExporter:
   ## Custom Update Strategy
   ##
   updateStrategy:
<span class="gd">-    type: OnDelete
</span><span class="gi">+    type: RollingUpdate
</span> 
   ## Additional node-exporter container arguments
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="831"> <a href="#831" class="anchor-heading" aria-labelledby="831"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.1 </h2> <p><strong>Release date:</strong> 2019-01-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Trim global section to avoid empty line to be indented (#10204)</li> </ul> <h3 id="default-value-changes-314"> <a href="#default-value-changes-314" class="anchor-heading" aria-labelledby="default-value-changes-314"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="830"> <a href="#830" class="anchor-heading" aria-labelledby="830"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.0 </h2> <p><strong>Release date:</strong> 2018-12-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus (#10163)</li> </ul> <h3 id="default-value-changes-315"> <a href="#default-value-changes-315" class="anchor-heading" aria-labelledby="default-value-changes-315"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6714c684..5d92024c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -506,7 +506,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.5.0
</span><span class="gi">+    tag: v2.6.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="820"> <a href="#820" class="anchor-heading" aria-labelledby="820"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.0 </h2> <p><strong>Release date:</strong> 2018-12-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Mesh setup for AlertManager StatefulSet (#9874)</li> </ul> <h3 id="default-value-changes-316"> <a href="#default-value-changes-316" class="anchor-heading" aria-labelledby="default-value-changes-316"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="812"> <a href="#812" class="anchor-heading" aria-labelledby="812"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1.2 </h2> <p><strong>Release date:</strong> 2018-12-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> harmonization of regex reference without braces (#10055)</li> </ul> <h3 id="default-value-changes-317"> <a href="#default-value-changes-317" class="anchor-heading" aria-labelledby="default-value-changes-317"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 1963dcf7..6714c684 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -970,7 +970,7 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_node_name]
             regex: (.+)
             target_label: __metrics_path__
<span class="gd">-            replacement: /api/v1/nodes/${1}/proxy/metrics
</span><span class="gi">+            replacement: /api/v1/nodes/$1/proxy/metrics
</span> 
 
       - job_name: 'kubernetes-nodes-cadvisor'
<span class="p">@@ -1002,7 +1002,7 @@</span> serverFiles:
         # This configuration will work only on kubelet 1.7.3+
         # As the scrape endpoints for cAdvisor have changed
         # if you are using older version you need to change the replacement to
<span class="gd">-        # replacement: /api/v1/nodes/${1}:4194/proxy/metrics
</span><span class="gi">+        # replacement: /api/v1/nodes/$1:4194/proxy/metrics
</span>         # more info here https://github.com/coreos/prometheus-operator/issues/633
         relabel_configs:
           - action: labelmap
<span class="p">@@ -1012,7 +1012,7 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_node_name]
             regex: (.+)
             target_label: __metrics_path__
<span class="gd">-            replacement: /api/v1/nodes/${1}/proxy/metrics/cadvisor
</span><span class="gi">+            replacement: /api/v1/nodes/$1/proxy/metrics/cadvisor
</span> 
       # Scrape config for service endpoints.
       #
<span class="err">
</span></code></pre></div></div> <h2 id="811"> <a href="#811" class="anchor-heading" aria-labelledby="811"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1.1 </h2> <p><strong>Release date:</strong> 2018-12-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Unify labels v2 (#9803)</li> </ul> <h3 id="default-value-changes-318"> <a href="#default-value-changes-318" class="anchor-heading" aria-labelledby="default-value-changes-318"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="810"> <a href="#810" class="anchor-heading" aria-labelledby="810"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1.0 </h2> <p><strong>Release date:</strong> 2018-12-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade pushgateway and node-exporter (#9681)</li> </ul> <h3 id="default-value-changes-319"> <a href="#default-value-changes-319" class="anchor-heading" aria-labelledby="default-value-changes-319"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8f29e5fb..1963dcf7 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -393,7 +393,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.16.0
</span><span class="gi">+    tag: v0.17.0
</span>     pullPolicy: IfNotPresent
 
   ## Specify if a Pod Security Policy for node-exporter must be created
<span class="p">@@ -749,7 +749,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v0.5.2
</span><span class="gi">+    tag: v0.6.0
</span>     pullPolicy: IfNotPresent
 
   ## pushgateway priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="800"> <a href="#800" class="anchor-heading" aria-labelledby="800"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.0.0 </h2> <p><strong>Release date:</strong> 2018-12-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li> </ul> <h3 id="default-value-changes-320"> <a href="#default-value-changes-320" class="anchor-heading" aria-labelledby="default-value-changes-320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e0a9e4c2..8f29e5fb 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -172,8 +172,30 @@</span> alertmanager:
   ##
   podAnnotations: {}
 
<span class="gi">+  ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
+  ##
</span>   replicaCount: 1
 
<span class="gi">+  statefulSet:
+    ## If true, use a statefulset instead of a deployment for pod management.
+    ## This allows to scale replicas to more than 1 pod
+    ##
+    enabled: false
+
+    podManagementPolicy: OrderedReady
+
+    ## Alertmanager headless service to use for the statefulset
+    ##
+    headless:
+      annotations: {}
+      labels: {}
+
+      ## Enabling peer mesh service end points for enabling the HA alert manager
+      ## Ref: https://github.com/prometheus/alertmanager/blob/master/README.md
+      # enableMeshPeer : true
+
+      servicePort: 80
+
</span>   ## alertmanager resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="p">@@ -656,8 +678,26 @@</span> server:
   podAnnotations: {}
     # iam.amazonaws.com/role: prometheus
 
<span class="gi">+  ## Use a StatefulSet if replicaCount needs to be greater than 1 (see below)
+  ##
</span>   replicaCount: 1
 
<span class="gi">+  statefulSet:
+    ## If true, use a statefulset instead of a deployment for pod management.
+    ## This allows to scale replicas to more than 1 pod
+    ##
+    enabled: false
+
+    annotations: {}
+    podManagementPolicy: OrderedReady
+
+    ## Alertmanager headless service to use for the statefulset
+    ##
+    headless:
+      annotations: {}
+      labels: {}
+      servicePort: 80
+
</span>   ## Prometheus server resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="746"> <a href="#746" class="anchor-heading" aria-labelledby="746"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.6 </h2> <p><strong>Release date:</strong> 2018-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>add/use unified labels for prometheus components (#9555)</li> </ul> <h3 id="default-value-changes-321"> <a href="#default-value-changes-321" class="anchor-heading" aria-labelledby="default-value-changes-321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="745"> <a href="#745" class="anchor-heading" aria-labelledby="745"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.5 </h2> <p><strong>Release date:</strong> 2018-11-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Remove unnecessary reclaim policy (#9471)</li> </ul> <h3 id="default-value-changes-322"> <a href="#default-value-changes-322" class="anchor-heading" aria-labelledby="default-value-changes-322"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 07d11de7..e0a9e4c2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -651,12 +651,6 @@</span> server:
     ##
     subPath: ""
 
<span class="gd">-    ## reclaimPolicy for the persistent volume.
-    ## See https://kubernetes.io/docs/tasks/administer-cluster/change-pv-reclaim-policy/
-    ## Can be Retain, Recycle, or Delete
-    ##
-    reclaimPolicy: Retain
-
</span>   ## Annotations to be added to Prometheus server pods
   ##
   podAnnotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="744"> <a href="#744" class="anchor-heading" aria-labelledby="744"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.4 </h2> <p><strong>Release date:</strong> 2018-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Defaulting the PVCs reclaim policy to Retain (#9284)</li> </ul> <h3 id="default-value-changes-323"> <a href="#default-value-changes-323" class="anchor-heading" aria-labelledby="default-value-changes-323"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e0a9e4c2..07d11de7 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -651,6 +651,12 @@</span> server:
     ##
     subPath: ""
 
<span class="gi">+    ## reclaimPolicy for the persistent volume.
+    ## See https://kubernetes.io/docs/tasks/administer-cluster/change-pv-reclaim-policy/
+    ## Can be Retain, Recycle, or Delete
+    ##
+    reclaimPolicy: Retain
+
</span>   ## Annotations to be added to Prometheus server pods
   ##
   podAnnotations: {}
<span class="err">
</span></code></pre></div></div> <h2 id="743"> <a href="#743" class="anchor-heading" aria-labelledby="743"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.3 </h2> <p><strong>Release date:</strong> 2018-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add kubernetes_node label (#9321)</li> </ul> <h3 id="default-value-changes-324"> <a href="#default-value-changes-324" class="anchor-heading" aria-labelledby="default-value-changes-324"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a51a3d00..e0a9e4c2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1015,6 +1015,9 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_service_name]
             action: replace
             target_label: kubernetes_name
<span class="gi">+          - source_labels: [__meta_kubernetes_pod_node_name]
+            action: replace
+            target_label: kubernetes_node
</span> 
       - job_name: 'prometheus-pushgateway'
         honor_labels: true
<span class="err">
</span></code></pre></div></div> <h2 id="742"> <a href="#742" class="anchor-heading" aria-labelledby="742"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.2 </h2> <p><strong>Release date:</strong> 2018-11-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fixes #9033, some resources are created when a component is disabled (#9274)</li> </ul> <h3 id="default-value-changes-325"> <a href="#default-value-changes-325" class="anchor-heading" aria-labelledby="default-value-changes-325"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="741"> <a href="#741" class="anchor-heading" aria-labelledby="741"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.1 </h2> <p><strong>Release date:</strong> 2018-11-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade alertmanager (#9147)</li> </ul> <h3 id="default-value-changes-326"> <a href="#default-value-changes-326" class="anchor-heading" aria-labelledby="default-value-changes-326"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 6546f26c..a51a3d00 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -36,7 +36,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.15.2
</span><span class="gi">+    tag: v0.15.3
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="740"> <a href="#740" class="anchor-heading" aria-labelledby="740"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.4.0 </h2> <p><strong>Release date:</strong> 2018-11-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus (#9037)</li> </ul> <h3 id="default-value-changes-327"> <a href="#default-value-changes-327" class="anchor-heading" aria-labelledby="default-value-changes-327"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e643245f..6546f26c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -484,7 +484,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.4.3
</span><span class="gi">+    tag: v2.5.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="736"> <a href="#736" class="anchor-heading" aria-labelledby="736"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.6 </h2> <p><strong>Release date:</strong> 2018-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Enable deployment from secured image registry (#9018)</li> </ul> <h3 id="default-value-changes-328"> <a href="#default-value-changes-328" class="anchor-heading" aria-labelledby="default-value-changes-328"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index dd7d123f..e643245f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,6 +1,9 @@</span>
 rbac:
   create: true
 
<span class="gi">+imagePullSecrets:
+# - name: "image-pull-secret"
+
</span> ## Define serviceAccount names for components. Defaults to component's fully qualified name.
 ##
 serviceAccounts:
<span class="err">
</span></code></pre></div></div> <h2 id="735"> <a href="#735" class="anchor-heading" aria-labelledby="735"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.5 </h2> <p><strong>Release date:</strong> 2018-11-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add example alert config (#966) (#8191)</li> </ul> <h3 id="default-value-changes-329"> <a href="#default-value-changes-329" class="anchor-heading" aria-labelledby="default-value-changes-329"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c4f60b16..dd7d123f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -816,7 +816,22 @@</span> alertmanagerFiles:
 ## Prometheus server ConfigMap entries
 ##
 serverFiles:
<span class="gi">+
+  ## Alerts configuration
+  ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/
</span>   alerts: {}
<span class="gi">+  # groups:
+  #   - name: Instances
+  #     rules:
+  #       - alert: InstanceDown
+  #         expr: up == 0
+  #         for: 5m
+  #         labels:
+  #           severity: page
+  #         annotations:
+  #           description: '{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 5 minutes.'
+  #           summary: 'Instance {{ $labels.instance }} down'
+
</span>   rules: {}
 
   prometheus.yml:
<span class="err">
</span></code></pre></div></div> <h2 id="734"> <a href="#734" class="anchor-heading" aria-labelledby="734"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.4 </h2> <p><strong>Release date:</strong> 2018-10-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Make pod annotations configurable for PodSecurityPolicy (#8746)</li> </ul> <h3 id="default-value-changes-330"> <a href="#default-value-changes-330" class="anchor-heading" aria-labelledby="default-value-changes-330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8c85a9c7..c4f60b16 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -376,6 +376,15 @@</span> nodeExporter:
   ##
   podSecurityPolicy:
     enabled: False
<span class="gi">+    annotations: {}
+      ## Specify pod annotations
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#apparmor
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#seccomp
+      ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl
+      ##
+      # seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
+      # seccomp.security.alpha.kubernetes.io/defaultProfileName: 'docker/default'
+      # apparmor.security.beta.kubernetes.io/defaultProfileName: 'runtime/default'
</span> 
   ## node-exporter priorityClassName
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="733"> <a href="#733" class="anchor-heading" aria-labelledby="733"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.3 </h2> <p><strong>Release date:</strong> 2018-10-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add cluster.advertise-address to alertmanager cmd args (#8562)</li> </ul> <h3 id="default-value-changes-331"> <a href="#default-value-changes-331" class="anchor-heading" aria-labelledby="default-value-changes-331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="732"> <a href="#732" class="anchor-heading" aria-labelledby="732"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.2 </h2> <p><strong>Release date:</strong> 2018-10-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add extra volume directories to configmapreload (#8601)</li> </ul> <h3 id="default-value-changes-332"> <a href="#default-value-changes-332" class="anchor-heading" aria-labelledby="default-value-changes-332"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 8224c984..8c85a9c7 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -224,6 +224,10 @@</span> configmapReload:
   ## Additional configmap-reload container arguments
   ##
   extraArgs: {}
<span class="gi">+  ## Additional configmap-reload volume directories
+  ##
+  extraVolumeDirs: []
+
</span> 
   ## Additional configmap-reload mounts
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="731"> <a href="#731" class="anchor-heading" aria-labelledby="731"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.1 </h2> <p><strong>Release date:</strong> 2018-10-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add option to configure subpath on server volume mounts (#8113)</li> </ul> <h3 id="default-value-changes-333"> <a href="#default-value-changes-333" class="anchor-heading" aria-labelledby="default-value-changes-333"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3581ce04..8224c984 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -230,6 +230,7 @@</span> configmapReload:
   extraConfigmapMounts: []
     # - name: prometheus-alerts
     #   mountPath: /etc/alerts.d
<span class="gi">+    #   subPath: ""
</span>     #   configMap: prometheus-alerts
     #   readOnly: true
 
<span class="p">@@ -507,12 +508,14 @@</span> server:
   extraHostPathMounts: []
     # - name: certs-dir
     #   mountPath: /etc/kubernetes/certs
<span class="gi">+    #   subPath: ""
</span>     #   hostPath: /etc/kubernetes/certs
     #   readOnly: true
 
   extraConfigmapMounts: []
     # - name: certs-configmap
     #   mountPath: /prometheus
<span class="gi">+    #   subPath: ""
</span>     #   configMap: certs-configmap
     #   readOnly: true
 
<span class="p">@@ -521,6 +524,7 @@</span> server:
   extraSecretMounts: []
     # - name: secret-files
     #   mountPath: /etc/secrets
<span class="gi">+    #   subPath: ""
</span>     #   secretName: prom-secret-files
     #   readOnly: true
 
<span class="err">
</span></code></pre></div></div> <h2 id="730"> <a href="#730" class="anchor-heading" aria-labelledby="730"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.3.0 </h2> <p><strong>Release date:</strong> 2018-10-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add node-exporter podsecuritypolicy support (#8264)</li> </ul> <h3 id="default-value-changes-334"> <a href="#default-value-changes-334" class="anchor-heading" aria-labelledby="default-value-changes-334"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index d0f4c246..3581ce04 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -366,6 +366,12 @@</span> nodeExporter:
     tag: v0.16.0
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## Specify if a Pod Security Policy for node-exporter must be created
+  ## Ref: https://kubernetes.io/docs/concepts/policy/pod-security-policy/
+  ##
+  podSecurityPolicy:
+    enabled: False
+
</span>   ## node-exporter priorityClassName
   ##
   priorityClassName: ""
<span class="err">
</span></code></pre></div></div> <h2 id="720"> <a href="#720" class="anchor-heading" aria-labelledby="720"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.2.0 </h2> <p><strong>Release date:</strong> 2018-10-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>added extra scrape config option (#7984)</li> </ul> <h3 id="default-value-changes-335"> <a href="#default-value-changes-335" class="anchor-heading" aria-labelledby="default-value-changes-335"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 72d5bd63..d0f4c246 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1053,6 +1053,25 @@</span> serverFiles:
             action: replace
             target_label: kubernetes_pod_name
 
<span class="gi">+# adds additional scrape configs to prometheus.yml
+# must be a string so you have to add a | after extraScrapeConfigs:
+# example adds prometheus-blackbox-exporter scrape config
+extraScrapeConfigs:
+  # - job_name: 'prometheus-blackbox-exporter'
+  #   metrics_path: /probe
+  #   params:
+  #     module: [http_2xx]
+  #   static_configs:
+  #     - targets:
+  #       - https://example.com
+  #   relabel_configs:
+  #     - source_labels: [__address__]
+  #       target_label: __param_target
+  #     - source_labels: [__param_target]
+  #       target_label: instance
+  #     - target_label: __address__
+  #       replacement: prometheus-blackbox-exporter:9115
+
</span> networkPolicy:
   ## Enable creation of NetworkPolicy resources.
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="714"> <a href="#714" class="anchor-heading" aria-labelledby="714"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.1.4 </h2> <p><strong>Release date:</strong> 2018-10-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.3&amp;color=success" alt="AppVersion: 2.4.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade to prometheus 2.4.3 (#8158)</li> </ul> <h3 id="default-value-changes-336"> <a href="#default-value-changes-336" class="anchor-heading" aria-labelledby="default-value-changes-336"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e4126754..72d5bd63 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -461,7 +461,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.4.2
</span><span class="gi">+    tag: v2.4.3
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="713"> <a href="#713" class="anchor-heading" aria-labelledby="713"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.1.3 </h2> <p><strong>Release date:</strong> 2018-09-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.2&amp;color=success" alt="AppVersion: 2.4.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>add option to configure hostNetwork/hostPID for node-exporter pods (#7643)</li> </ul> <h3 id="default-value-changes-337"> <a href="#default-value-changes-337" class="anchor-heading" aria-labelledby="default-value-changes-337"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 98850c82..e4126754 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -347,6 +347,14 @@</span> nodeExporter:
   ##
   enabled: true
 
<span class="gi">+  ## If true, node-exporter pods share the host network namespace
+  ##
+  hostNetwork: true
+
+  ## If true, node-exporter pods share the host PID namespace
+  ##
+  hostPID: true
+
</span>   ## node-exporter container name
   ##
   name: node-exporter
<span class="err">
</span></code></pre></div></div> <h2 id="712"> <a href="#712" class="anchor-heading" aria-labelledby="712"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.1.2 </h2> <p><strong>Release date:</strong> 2018-09-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.2&amp;color=success" alt="AppVersion: 2.4.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade to prometheus 2.4.2 (#7882)</li> </ul> <h3 id="default-value-changes-338"> <a href="#default-value-changes-338" class="anchor-heading" aria-labelledby="default-value-changes-338"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 473fde8f..98850c82 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -453,7 +453,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.4.0
</span><span class="gi">+    tag: v2.4.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="711"> <a href="#711" class="anchor-heading" aria-labelledby="711"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.1.1 </h2> <p><strong>Release date:</strong> 2018-09-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.0&amp;color=success" alt="AppVersion: 2.4.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Prometheus: Fix AlertManager discovery if chart name is not the default (#7779)</li> </ul> <h3 id="default-value-changes-339"> <a href="#default-value-changes-339" class="anchor-heading" aria-labelledby="default-value-changes-339"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="710"> <a href="#710" class="anchor-heading" aria-labelledby="710"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.1.0 </h2> <p><strong>Release date:</strong> 2018-09-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.0&amp;color=success" alt="AppVersion: 2.4.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade prometheus to 2.4.0 (#7663)</li> </ul> <h3 id="default-value-changes-340"> <a href="#default-value-changes-340" class="anchor-heading" aria-labelledby="default-value-changes-340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 62827dce..473fde8f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -453,7 +453,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.3.2
</span><span class="gi">+    tag: v2.4.0
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="703"> <a href="#703" class="anchor-heading" aria-labelledby="703"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.0.3 </h2> <p><strong>Release date:</strong> 2018-09-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.2&amp;color=success" alt="AppVersion: 2.3.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade kube-state-metrics (#7528)</li> </ul> <h3 id="default-value-changes-341"> <a href="#default-value-changes-341" class="anchor-heading" aria-labelledby="default-value-changes-341"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9b59d12f..62827dce 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -274,7 +274,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: quay.io/coreos/kube-state-metrics
<span class="gd">-    tag: v1.3.1
</span><span class="gi">+    tag: v1.4.0
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="702"> <a href="#702" class="anchor-heading" aria-labelledby="702"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.0.2 </h2> <p><strong>Release date:</strong> 2018-08-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.2&amp;color=success" alt="AppVersion: 2.3.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> upgrade alertmanager (#7193)</li> </ul> <h3 id="default-value-changes-342"> <a href="#default-value-changes-342" class="anchor-heading" aria-labelledby="default-value-changes-342"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 86ff3b74..9b59d12f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -33,7 +33,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.15.1
</span><span class="gi">+    tag: v0.15.2
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="701"> <a href="#701" class="anchor-heading" aria-labelledby="701"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.0.1 </h2> <p><strong>Release date:</strong> 2018-08-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.2&amp;color=success" alt="AppVersion: 2.3.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add affinity to server &amp; alertmanager (#7215)</li> </ul> <h3 id="default-value-changes-343"> <a href="#default-value-changes-343" class="anchor-heading" aria-labelledby="default-value-changes-343"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4d3ec713..86ff3b74 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -112,6 +112,10 @@</span> alertmanager:
   ##
   nodeSelector: {}
 
<span class="gi">+  ## Pod affinity
+  ##
+  affinity: {}
+
</span>   ## Use an alternate scheduler, e.g. "stork".
   ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
   ##
<span class="p">@@ -560,6 +564,10 @@</span> server:
   ##
   nodeSelector: {}
 
<span class="gi">+  ## Pod affinity
+  ##
+  affinity: {}
+
</span>   ## Use an alternate scheduler, e.g. "stork".
   ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="700"> <a href="#700" class="anchor-heading" aria-labelledby="700"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7.0.0 </h2> <p><strong>Release date:</strong> 2018-07-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.2&amp;color=success" alt="AppVersion: 2.3.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Switch from localhost to 127.0.0.1 (#6788)</li> </ul> <h3 id="default-value-changes-344"> <a href="#default-value-changes-344" class="anchor-heading" aria-labelledby="default-value-changes-344"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6100"> <a href="#6100" class="anchor-heading" aria-labelledby="6100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.10.0 </h2> <p><strong>Release date:</strong> 2018-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.2&amp;color=success" alt="AppVersion: 2.3.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade to latest prometheus release 2.3.2 and alertmanager 0.15.1 (#6623)</li> </ul> <h3 id="default-value-changes-345"> <a href="#default-value-changes-345" class="anchor-heading" aria-labelledby="default-value-changes-345"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index bf377b99..4d3ec713 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -33,7 +33,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.15.0
</span><span class="gi">+    tag: v0.15.1
</span>     pullPolicy: IfNotPresent
 
   ## alertmanager priorityClassName
<span class="p">@@ -449,7 +449,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.3.1
</span><span class="gi">+    tag: v2.3.2
</span>     pullPolicy: IfNotPresent
 
   ## prometheus server priorityClassName
<span class="err">
</span></code></pre></div></div> <h2 id="690"> <a href="#690" class="anchor-heading" aria-labelledby="690"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.0 </h2> <p><strong>Release date:</strong> 2018-07-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.1&amp;color=success" alt="AppVersion: 2.3.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> support priorityClasses (#6578)</li> </ul> <h3 id="default-value-changes-346"> <a href="#default-value-changes-346" class="anchor-heading" aria-labelledby="default-value-changes-346"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ca186a45..bf377b99 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -36,6 +36,10 @@</span> alertmanager:
     tag: v0.15.0
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## alertmanager priorityClassName
+  ##
+  priorityClassName: ""
+
</span>   ## Additional alertmanager container arguments
   ##
   extraArgs: {}
<span class="p">@@ -269,6 +273,10 @@</span> kubeStateMetrics:
     tag: v1.3.1
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## kube-state-metrics priorityClassName
+  ##
+  priorityClassName: ""
+
</span>   ## kube-state-metrics container arguments
   ##
   args: {}
<span class="p">@@ -346,6 +354,10 @@</span> nodeExporter:
     tag: v0.16.0
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## node-exporter priorityClassName
+  ##
+  priorityClassName: ""
+
</span>   ## Custom Update Strategy
   ##
   updateStrategy:
<span class="p">@@ -440,6 +452,10 @@</span> server:
     tag: v2.3.1
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## prometheus server priorityClassName
+  ##
+  priorityClassName: ""
+
</span>   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
   ## so that the various internal URLs are still able to access as they are in the default case.
   ## (Optional)
<span class="p">@@ -654,6 +670,10 @@</span> pushgateway:
     tag: v0.5.2
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## pushgateway priorityClassName
+  ##
+  priorityClassName: ""
+
</span>   ## Additional pushgateway container arguments
   ##
   extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="681"> <a href="#681" class="anchor-heading" aria-labelledby="681"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.1 </h2> <p><strong>Release date:</strong> 2018-07-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.1&amp;color=success" alt="AppVersion: 2.3.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Deployment annotations (#6496)</li> </ul> <h3 id="default-value-changes-347"> <a href="#default-value-changes-347" class="anchor-heading" aria-labelledby="default-value-changes-347"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="680"> <a href="#680" class="anchor-heading" aria-labelledby="680"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.0 </h2> <p><strong>Release date:</strong> 2018-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.1&amp;color=success" alt="AppVersion: 2.3.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>added annotations for node-exporter-daemonset (#6387)</li> </ul> <h3 id="default-value-changes-348"> <a href="#default-value-changes-348" class="anchor-heading" aria-labelledby="default-value-changes-348"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="675"> <a href="#675" class="anchor-heading" aria-labelledby="675"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.5 </h2> <p><strong>Release date:</strong> 2018-06-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.1&amp;color=success" alt="AppVersion: 2.3.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>upgrade alertmanager, prometheus, configmap-reload and node-exporter (#6276)</li> </ul> <h3 id="default-value-changes-349"> <a href="#default-value-changes-349" class="anchor-heading" aria-labelledby="default-value-changes-349"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 952a222f..ca186a45 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -33,7 +33,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.14.0
</span><span class="gi">+    tag: v0.15.0
</span>     pullPolicy: IfNotPresent
 
   ## Additional alertmanager container arguments
<span class="p">@@ -210,7 +210,7 @@</span> configmapReload:
   ##
   image:
     repository: jimmidyson/configmap-reload
<span class="gd">-    tag: v0.1
</span><span class="gi">+    tag: v0.2.2
</span>     pullPolicy: IfNotPresent
 
   ## Additional configmap-reload container arguments
<span class="p">@@ -343,7 +343,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.15.2
</span><span class="gi">+    tag: v0.16.0
</span>     pullPolicy: IfNotPresent
 
   ## Custom Update Strategy
<span class="p">@@ -437,7 +437,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.2.1
</span><span class="gi">+    tag: v2.3.1
</span>     pullPolicy: IfNotPresent
 
   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
<span class="p">@@ -651,7 +651,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v0.5.1
</span><span class="gi">+    tag: v0.5.2
</span>     pullPolicy: IfNotPresent
 
   ## Additional pushgateway container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="674"> <a href="#674" class="anchor-heading" aria-labelledby="674"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.4 </h2> <p><strong>Release date:</strong> 2018-06-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add required tillerVersion to Chart.yaml (#3854)</li> </ul> <h3 id="default-value-changes-350"> <a href="#default-value-changes-350" class="anchor-heading" aria-labelledby="default-value-changes-350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="673"> <a href="#673" class="anchor-heading" aria-labelledby="673"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.3 </h2> <p><strong>Release date:</strong> 2018-06-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Re-implement on top of latest master changes (#6036)</li> </ul> <h3 id="default-value-changes-351"> <a href="#default-value-changes-351" class="anchor-heading" aria-labelledby="default-value-changes-351"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 787868ae..952a222f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -453,6 +453,17 @@</span> server:
   ## series. This is disabled by default.
   enableAdminApi: false
 
<span class="gi">+  global:
+    ## How frequently to scrape targets by default
+    ##
+    scrape_interval: 1m
+    ## How long until a scrape request times out
+    ##
+    scrape_timeout: 10s
+    ## How frequently to evaluate rules
+    ##
+    evaluation_interval: 1m
+
</span>   ## Additional Prometheus server container arguments
   ##
   extraArgs: {}
<span class="p">@@ -750,17 +761,6 @@</span> serverFiles:
   rules: {}
 
   prometheus.yml:
<span class="gd">-    global:
-      ## How frequently to scrape targets by default
-      ##
-      scrape_interval: 1m
-      ## How long until a scrape request times out
-      ##
-      scrape_timeout: 10s
-      ## How frequently to evaluate rules
-      ##
-      evaluation_interval: 1m
-
</span>     rule_files:
       - /etc/config/rules
       - /etc/config/alerts
<span class="err">
</span></code></pre></div></div> <h2 id="672"> <a href="#672" class="anchor-heading" aria-labelledby="672"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.2 </h2> <p><strong>Release date:</strong> 2018-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update Pushgateway image tag (#5969)</li> </ul> <h3 id="default-value-changes-352"> <a href="#default-value-changes-352" class="anchor-heading" aria-labelledby="default-value-changes-352"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ef843bd9..787868ae 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -640,7 +640,7 @@</span> pushgateway:
   ##
   image:
     repository: prom/pushgateway
<span class="gd">-    tag: v0.4.0
</span><span class="gi">+    tag: v0.5.1
</span>     pullPolicy: IfNotPresent
 
   ## Additional pushgateway container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="671"> <a href="#671" class="anchor-heading" aria-labelledby="671"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.1 </h2> <p><strong>Release date:</strong> 2018-06-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> #5856 Set global to a dictionary (#5857)</li> </ul> <h3 id="default-value-changes-353"> <a href="#default-value-changes-353" class="anchor-heading" aria-labelledby="default-value-changes-353"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0ee4a000..ef843bd9 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -728,7 +728,7 @@</span> pushgateway:
 ##
 alertmanagerFiles:
   alertmanager.yml:
<span class="gd">-    global:
</span><span class="gi">+    global: {}
</span>       # slack_api_url: ''
 
     receivers:
<span class="err">
</span></code></pre></div></div> <h2 id="670"> <a href="#670" class="anchor-heading" aria-labelledby="670"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.0 </h2> <p><strong>Release date:</strong> 2018-05-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add optional extra node-exporter pod labels (#5268)</li> </ul> <h3 id="default-value-changes-354"> <a href="#default-value-changes-354" class="anchor-heading" aria-labelledby="default-value-changes-354"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 64a8a09f..0ee4a000 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -387,6 +387,11 @@</span> nodeExporter:
   ##
   podAnnotations: {}
 
<span class="gi">+  ## Labels to be added to node-exporter pods
+  ##
+  pod:
+    labels: {}
+
</span>   ## node-exporter resource limits &amp; requests
   ## Ref: https://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="662"> <a href="#662" class="anchor-heading" aria-labelledby="662"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.2 </h2> <p><strong>Release date:</strong> 2018-05-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix #5425 (#5591)</li> </ul> <h3 id="default-value-changes-355"> <a href="#default-value-changes-355" class="anchor-heading" aria-labelledby="default-value-changes-355"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="661"> <a href="#661" class="anchor-heading" aria-labelledby="661"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.1 </h2> <p><strong>Release date:</strong> 2018-05-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Ability to enable admin API (#5570)</li> </ul> <h3 id="default-value-changes-356"> <a href="#default-value-changes-356" class="anchor-heading" aria-labelledby="default-value-changes-356"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 94b96fe3..64a8a09f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -444,6 +444,10 @@</span> server:
   ## Maybe same with Ingress host name
   baseURL: ""
 
<span class="gi">+  ## This flag controls access to the administrative HTTP API which includes functionality such as deleting time
+  ## series. This is disabled by default.
+  enableAdminApi: false
+
</span>   ## Additional Prometheus server container arguments
   ##
   extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="660"> <a href="#660" class="anchor-heading" aria-labelledby="660"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.0 </h2> <p><strong>Release date:</strong> 2018-05-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">prometheus</a> kube-state-metrics v1.3.1 (#4829)</li> </ul> <h3 id="default-value-changes-357"> <a href="#default-value-changes-357" class="anchor-heading" aria-labelledby="default-value-changes-357"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 067b88d9..94b96fe3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -265,8 +265,8 @@</span> kubeStateMetrics:
   ## kube-state-metrics container image
   ##
   image:
<span class="gd">-    repository: k8s.gcr.io/kube-state-metrics
-    tag: v1.2.0
</span><span class="gi">+    repository: quay.io/coreos/kube-state-metrics
+    tag: v1.3.1
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="652"> <a href="#652" class="anchor-heading" aria-labelledby="652"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.2 </h2> <p><strong>Release date:</strong> 2018-05-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>stable/prometheus: restore headless svcs, reverting breaking change to the default values (#5529)</li> </ul> <h3 id="default-value-changes-358"> <a href="#default-value-changes-358" class="anchor-heading" aria-labelledby="default-value-changes-358"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3a3ac4d6..067b88d9 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -316,7 +316,9 @@</span> kubeStateMetrics:
       prometheus.io/scrape: "true"
     labels: {}
 
<span class="gd">-    clusterIP: ""
</span><span class="gi">+    # Exposed as a headless service:
+    # https://kubernetes.io/docs/concepts/services-networking/service/#headless-services
+    clusterIP: None
</span> 
     ## List of IP addresses at which the kube-state-metrics service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
<span class="p">@@ -406,7 +408,9 @@</span> nodeExporter:
       prometheus.io/scrape: "true"
     labels: {}
 
<span class="gd">-    clusterIP: ""
</span><span class="gi">+    # Exposed as a headless service:
+    # https://kubernetes.io/docs/concepts/services-networking/service/#headless-services
+    clusterIP: None
</span> 
     ## List of IP addresses at which the node-exporter service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
<span class="err">
</span></code></pre></div></div> <h2 id="651"> <a href="#651" class="anchor-heading" aria-labelledby="651"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.1 </h2> <p><strong>Release date:</strong> 2018-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>issues 5425 (#5430)</li> </ul> <h3 id="default-value-changes-359"> <a href="#default-value-changes-359" class="anchor-heading" aria-labelledby="default-value-changes-359"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="650"> <a href="#650" class="anchor-heading" aria-labelledby="650"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.0 </h2> <p><strong>Release date:</strong> 2018-05-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> optional extra Ingress labels (#5186)</li> </ul> <h3 id="default-value-changes-360"> <a href="#default-value-changes-360" class="anchor-heading" aria-labelledby="default-value-changes-360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 156dc52a..3a3ac4d6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -71,6 +71,10 @@</span> alertmanager:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gi">+    ## alertmanager Ingress additional labels
+    ##
+    extraLabels: {}
+
</span>     ## alertmanager Ingress hostnames with optional path
     ## Must be provided if Ingress is enabled
     ##
<span class="p">@@ -479,6 +483,10 @@</span> server:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gi">+    ## Prometheus server Ingress additional labels
+    ##
+    extraLabels: {}
+
</span>     ## Prometheus server Ingress hostnames with optional path
     ## Must be provided if Ingress is enabled
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="641"> <a href="#641" class="anchor-heading" aria-labelledby="641"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.4.1 </h2> <p><strong>Release date:</strong> 2018-05-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Forcing a new line to be created in the configmap yaml generation (#5318)</li> </ul> <h3 id="default-value-changes-361"> <a href="#default-value-changes-361" class="anchor-heading" aria-labelledby="default-value-changes-361"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="640"> <a href="#640" class="anchor-heading" aria-labelledby="640"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.4.0 </h2> <p><strong>Release date:</strong> 2018-05-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Allows alternate scheduler for Prometheus server + alertmanager (#5212)</li> </ul> <h3 id="default-value-changes-362"> <a href="#default-value-changes-362" class="anchor-heading" aria-labelledby="default-value-changes-362"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index fcb86270..156dc52a 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -104,6 +104,11 @@</span> alertmanager:
   ##
   nodeSelector: {}
 
<span class="gi">+  ## Use an alternate scheduler, e.g. "stork".
+  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
+  ##
+  # schedulerName:
+
</span>   persistentVolume:
     ## If true, alertmanager will create/use a Persistent Volume Claim
     ## If false, use emptyDir
<span class="p">@@ -507,6 +512,11 @@</span> server:
   ##
   nodeSelector: {}
 
<span class="gi">+  ## Use an alternate scheduler, e.g. "stork".
+  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
+  ##
+  # schedulerName:
+
</span>   persistentVolume:
     ## If true, Prometheus server will create/use a Persistent Volume Claim
     ## If false, use emptyDir
<span class="err">
</span></code></pre></div></div> <h2 id="633"> <a href="#633" class="anchor-heading" aria-labelledby="633"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3.3 </h2> <p><strong>Release date:</strong> 2018-05-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>fix #3308 (#5217)</li> </ul> <h3 id="default-value-changes-363"> <a href="#default-value-changes-363" class="anchor-heading" aria-labelledby="default-value-changes-363"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c80387a5..fcb86270 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -719,6 +719,17 @@</span> serverFiles:
   rules: {}
 
   prometheus.yml:
<span class="gi">+    global:
+      ## How frequently to scrape targets by default
+      ##
+      scrape_interval: 1m
+      ## How long until a scrape request times out
+      ##
+      scrape_timeout: 10s
+      ## How frequently to evaluate rules
+      ##
+      evaluation_interval: 1m
+
</span>     rule_files:
       - /etc/config/rules
       - /etc/config/alerts
<span class="err">
</span></code></pre></div></div> <h2 id="632"> <a href="#632" class="anchor-heading" aria-labelledby="632"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3.2 </h2> <p><strong>Release date:</strong> 2018-05-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> typo fix: optinal-&gt;optional (#5422)</li> </ul> <h3 id="default-value-changes-364"> <a href="#default-value-changes-364" class="anchor-heading" aria-labelledby="default-value-changes-364"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 799a056b..c80387a5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -474,7 +474,7 @@</span> server:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## Prometheus server Ingress hostnames with optinal path
</span><span class="gi">+    ## Prometheus server Ingress hostnames with optional path
</span>     ## Must be provided if Ingress is enabled
     ##
     hosts: []
<span class="p">@@ -627,7 +627,7 @@</span> pushgateway:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## pushgateway Ingress hostnames with optinal path
</span><span class="gi">+    ## pushgateway Ingress hostnames with optional path
</span>     ## Must be provided if Ingress is enabled
     ##
     hosts: []
<span class="err">
</span></code></pre></div></div> <h2 id="631"> <a href="#631" class="anchor-heading" aria-labelledby="631"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3.1 </h2> <p><strong>Release date:</strong> 2018-05-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>add myself as owner of prometheus chart (#5195)</li> </ul> <h3 id="default-value-changes-365"> <a href="#default-value-changes-365" class="anchor-heading" aria-labelledby="default-value-changes-365"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="630"> <a href="#630" class="anchor-heading" aria-labelledby="630"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3.0 </h2> <p><strong>Release date:</strong> 2018-05-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li> </ul> <h3 id="default-value-changes-366"> <a href="#default-value-changes-366" class="anchor-heading" aria-labelledby="default-value-changes-366"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 2842f459..799a056b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -165,6 +165,10 @@</span> alertmanager:
     #   cpu: 10m
     #   memory: 32Mi
 
<span class="gi">+  ## Security context to be added to alertmanager pods
+  ##
+  securityContext: {}
+
</span>   service:
     annotations: {}
     labels: {}
<span class="p">@@ -294,6 +298,10 @@</span> kubeStateMetrics:
     #   cpu: 10m
     #   memory: 16Mi
 
<span class="gi">+  ## Security context to be added to kube-state-metrics pods
+  ##
+  securityContext: {}
+
</span>   service:
     annotations:
       prometheus.io/scrape: "true"
<span class="p">@@ -561,6 +569,10 @@</span> server:
     #   cpu: 500m
     #   memory: 512Mi
 
<span class="gi">+  ## Security context to be added to server pods
+  ##
+  securityContext: {}
+
</span>   service:
     annotations: {}
     labels: {}
<span class="p">@@ -661,6 +673,10 @@</span> pushgateway:
     #   cpu: 10m
     #   memory: 32Mi
 
<span class="gi">+  ## Security context to be added to push-gateway pods
+  ##
+  securityContext: {}
+
</span>   service:
     annotations:
       prometheus.io/probe: pushgateway
<span class="err">
</span></code></pre></div></div> <h2 id="621"> <a href="#621" class="anchor-heading" aria-labelledby="621"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2.1 </h2> <p><strong>Release date:</strong> 2018-04-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>fix prometheus cluster ip and support pod labels (#4915)</li> </ul> <h3 id="default-value-changes-367"> <a href="#default-value-changes-367" class="anchor-heading" aria-labelledby="default-value-changes-367"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e1803c0b..2842f459 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -278,6 +278,9 @@</span> kubeStateMetrics:
   ##
   podAnnotations: {}
 
<span class="gi">+  pod:
+    labels: {}
+
</span>   replicaCount: 1
 
   ## kube-state-metrics resource requests and limits
<span class="p">@@ -296,7 +299,7 @@</span> kubeStateMetrics:
       prometheus.io/scrape: "true"
     labels: {}
 
<span class="gd">-    clusterIP: None
</span><span class="gi">+    clusterIP: ""
</span> 
     ## List of IP addresses at which the kube-state-metrics service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
<span class="p">@@ -386,7 +389,7 @@</span> nodeExporter:
       prometheus.io/scrape: "true"
     labels: {}
 
<span class="gd">-    clusterIP: None
</span><span class="gi">+    clusterIP: ""
</span> 
     ## List of IP addresses at which the node-exporter service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
<span class="err">
</span></code></pre></div></div> <h2 id="620"> <a href="#620" class="anchor-heading" aria-labelledby="620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2.0 </h2> <p><strong>Release date:</strong> 2018-04-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li> </ul> <h3 id="default-value-changes-368"> <a href="#default-value-changes-368" class="anchor-heading" aria-labelledby="default-value-changes-368"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c7f0b049..e1803c0b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,14 +1,30 @@</span>
 rbac:
   create: true
 
<span class="gi">+## Define serviceAccount names for components. Defaults to component's fully qualified name.
+##
+serviceAccounts:
+  alertmanager:
+    create: true
+    name:
+  kubeStateMetrics:
+    create: true
+    name:
+  nodeExporter:
+    create: true
+    name:
+  pushgateway:
+    create: true
+    name:
+  server:
+    create: true
+    name:
+
</span> alertmanager:
   ## If false, alertmanager will not be installed
   ##
   enabled: true
 
<span class="gd">-  # Defines the serviceAccountName to use when `rbac.create=false`
-  serviceAccountName: default
-
</span>   ## alertmanager container name
   ##
   name: alertmanager
<span class="p">@@ -229,9 +245,6 @@</span> kubeStateMetrics:
   ##
   enabled: true
 
<span class="gd">-  # Defines the serviceAccountName to use when `rbac.create=false`
-  serviceAccountName: default
-
</span>   ## kube-state-metrics container name
   ##
   name: kube-state-metrics
<span class="p">@@ -300,9 +313,6 @@</span> nodeExporter:
   ##
   enabled: true
 
<span class="gd">-  # Defines the serviceAccountName to use when `rbac.create=false`
-  serviceAccountName: default
-
</span>   ## node-exporter container name
   ##
   name: node-exporter
<span class="p">@@ -394,9 +404,6 @@</span> server:
   ##
   name: server
 
<span class="gd">-  # Defines the serviceAccountName to use when `rbac.create=false`
-  serviceAccountName: default
-
</span>   ## Prometheus server container image
   ##
   image:
<span class="err">
</span></code></pre></div></div> <h2 id="612"> <a href="#612" class="anchor-heading" aria-labelledby="612"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.1.2 </h2> <p><strong>Release date:</strong> 2018-04-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>fix typo in prometheus/values.yaml (#4796)</li> </ul> <h3 id="default-value-changes-369"> <a href="#default-value-changes-369" class="anchor-heading" aria-labelledby="default-value-changes-369"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c3774477..c7f0b049 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -55,7 +55,7 @@</span> alertmanager:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## alertmanager Ingress hostnames with optinal path
</span><span class="gi">+    ## alertmanager Ingress hostnames with optional path
</span>     ## Must be provided if Ingress is enabled
     ##
     hosts: []
<span class="err">
</span></code></pre></div></div> <h2 id="611"> <a href="#611" class="anchor-heading" aria-labelledby="611"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.1.1 </h2> <p><strong>Release date:</strong> 2018-04-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Fix for version comparison from strings to semver (#4605)</li> </ul> <h3 id="default-value-changes-370"> <a href="#default-value-changes-370" class="anchor-heading" aria-labelledby="default-value-changes-370"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="610"> <a href="#610" class="anchor-heading" aria-labelledby="610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.1.0 </h2> <p><strong>Release date:</strong> 2018-04-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add extraArgs and extraConfigmapMounts for config-reload (#4511)</li> </ul> <h3 id="default-value-changes-371"> <a href="#default-value-changes-371" class="anchor-heading" aria-labelledby="default-value-changes-371"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 19484a28..c3774477 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -184,6 +184,19 @@</span> configmapReload:
     tag: v0.1
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## Additional configmap-reload container arguments
+  ##
+  extraArgs: {}
+
+  ## Additional configmap-reload mounts
+  ##
+  extraConfigmapMounts: []
+    # - name: prometheus-alerts
+    #   mountPath: /etc/alerts.d
+    #   configMap: prometheus-alerts
+    #   readOnly: true
+
+
</span>   ## configmap-reload resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="600"> <a href="#600" class="anchor-heading" aria-labelledby="600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.0.0 </h2> <p><strong>Release date:</strong> 2018-03-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2&amp;color=success" alt="AppVersion: 2.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Configurable name overrides / appVersion (#4397)</li> </ul> <h3 id="default-value-changes-372"> <a href="#default-value-changes-372" class="anchor-heading" aria-labelledby="default-value-changes-372"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="553"> <a href="#553" class="anchor-heading" aria-labelledby="553"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.5.3 </h2> <p><strong>Release date:</strong> 2018-03-26</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>stable/prometheus: Update prom/alertmanager to 0.14.0 (#4294)</li> </ul> <h3 id="default-value-changes-373"> <a href="#default-value-changes-373" class="anchor-heading" aria-labelledby="default-value-changes-373"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e307df5b..19484a28 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.13.0
</span><span class="gi">+    tag: v0.14.0
</span>     pullPolicy: IfNotPresent
 
   ## Additional alertmanager container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="552"> <a href="#552" class="anchor-heading" aria-labelledby="552"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.5.2 </h2> <p><strong>Release date:</strong> 2018-03-26</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>change tables-&gt;table (#4382)</li> </ul> <h3 id="default-value-changes-374"> <a href="#default-value-changes-374" class="anchor-heading" aria-labelledby="default-value-changes-374"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="551"> <a href="#551" class="anchor-heading" aria-labelledby="551"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.5.1 </h2> <p><strong>Release date:</strong> 2018-03-21</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix some typos (#4368)</li> </ul> <h3 id="default-value-changes-375"> <a href="#default-value-changes-375" class="anchor-heading" aria-labelledby="default-value-changes-375"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="550"> <a href="#550" class="anchor-heading" aria-labelledby="550"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.5.0 </h2> <p><strong>Release date:</strong> 2018-03-19</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>stable/prometheus: Update default version to 2.2.1 (#4288)</li> </ul> <h3 id="default-value-changes-376"> <a href="#default-value-changes-376" class="anchor-heading" aria-labelledby="default-value-changes-376"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b4319727..e307df5b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -388,7 +388,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v2.1.0
</span><span class="gi">+    tag: v2.2.1
</span>     pullPolicy: IfNotPresent
 
   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
<span class="err">
</span></code></pre></div></div> <h2 id="544"> <a href="#544" class="anchor-heading" aria-labelledby="544"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.4.4 </h2> <p><strong>Release date:</strong> 2018-03-19</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> extraSecretMounts support (#4059)</li> </ul> <h3 id="default-value-changes-377"> <a href="#default-value-changes-377" class="anchor-heading" aria-labelledby="default-value-changes-377"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 9abc7d74..b4319727 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -418,6 +418,14 @@</span> server:
     #   configMap: certs-configmap
     #   readOnly: true
 
<span class="gi">+  ## Additional Prometheus server Secret mounts
+  # Defines additional mounts with secrets. Secrets must be manually created in the namespace.
+  extraSecretMounts: []
+    # - name: secret-files
+    #   mountPath: /etc/secrets
+    #   secretName: prom-secret-files
+    #   readOnly: true
+
</span>   ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.server.configMapOverrideName}}
   ## Defining configMapOverrideName will cause templates/server-configmap.yaml
   ## to NOT generate a ConfigMap resource
<span class="err">
</span></code></pre></div></div> <h2 id="543"> <a href="#543" class="anchor-heading" aria-labelledby="543"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.4.3 </h2> <p><strong>Release date:</strong> 2018-03-13</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add owners (#3910)</li> </ul> <h3 id="default-value-changes-378"> <a href="#default-value-changes-378" class="anchor-heading" aria-labelledby="default-value-changes-378"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="542"> <a href="#542" class="anchor-heading" aria-labelledby="542"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.4.2 </h2> <p><strong>Release date:</strong> 2018-03-09</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Allow to disable data ownership reset (#4035)</li> </ul> <h3 id="default-value-changes-379"> <a href="#default-value-changes-379" class="anchor-heading" aria-labelledby="default-value-changes-379"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3b9036c0..9abc7d74 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -190,6 +190,11 @@</span> configmapReload:
   resources: {}
 
 initChownData:
<span class="gi">+  ## If false, data ownership will not be reset at startup
+  ## This allows the prometheus-server to be run with an arbitrary user
+  ##
+  enabled: true
+
</span>   ## initChownData container name
   ##
   name: init-chown-data
<span class="err">
</span></code></pre></div></div> <h2 id="541"> <a href="#541" class="anchor-heading" aria-labelledby="541"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.4.1 </h2> <p><strong>Release date:</strong> 2018-03-06</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> update prometheus.io/port regex (#3961)</li> </ul> <h3 id="default-value-changes-380"> <a href="#default-value-changes-380" class="anchor-heading" aria-labelledby="default-value-changes-380"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f7e15b57..3b9036c0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -834,7 +834,7 @@</span> serverFiles:
           - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port]
             action: replace
             target_label: __address__
<span class="gd">-            regex: (.+)(?::\d+);(\d+)
</span><span class="gi">+            regex: ([^:]+)(?::\d+)?;(\d+)
</span>             replacement: $1:$2
           - action: labelmap
             regex: __meta_kubernetes_service_label_(.+)
<span class="p">@@ -911,8 +911,8 @@</span> serverFiles:
             regex: (.+)
           - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
             action: replace
<span class="gd">-            regex: (.+):(?:\d+);(\d+)
-            replacement: ${1}:${2}
</span><span class="gi">+            regex: ([^:]+)(?::\d+)?;(\d+)
+            replacement: $1:$2
</span>             target_label: __address__
           - action: labelmap
             regex: __meta_kubernetes_pod_label_(.+)
<span class="err">
</span></code></pre></div></div> <h2 id="540"> <a href="#540" class="anchor-heading" aria-labelledby="540"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.4.0 </h2> <p><strong>Release date:</strong> 2018-02-28</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Use yaml not literal for alertmanagerFiles (#3777)</li> </ul> <h3 id="default-value-changes-381"> <a href="#default-value-changes-381" class="anchor-heading" aria-labelledby="default-value-changes-381"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 47a404b0..f7e15b57 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -644,7 +644,7 @@</span> pushgateway:
 ## alertmanager ConfigMap entries
 ##
 alertmanagerFiles:
<span class="gd">-  alertmanager.yml: |-
</span><span class="gi">+  alertmanager.yml:
</span>     global:
       # slack_api_url: ''
 
<span class="err">
</span></code></pre></div></div> <h2 id="533"> <a href="#533" class="anchor-heading" aria-labelledby="533"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.3.3 </h2> <p><strong>Release date:</strong> 2018-02-24</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Change rbac.create default to true and update README (#3813)</li> </ul> <h3 id="default-value-changes-382"> <a href="#default-value-changes-382" class="anchor-heading" aria-labelledby="default-value-changes-382"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index af678515..47a404b0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,5 +1,5 @@</span>
 rbac:
<span class="gd">-  create: false
</span><span class="gi">+  create: true
</span> 
 alertmanager:
   ## If false, alertmanager will not be installed
<span class="err">
</span></code></pre></div></div> <h2 id="532"> <a href="#532" class="anchor-heading" aria-labelledby="532"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.3.2 </h2> <p><strong>Release date:</strong> 2018-02-23</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>if alertmanager.prefixURL is set, feed that to the server alertmanagers config (#3773)</li> </ul> <h3 id="default-value-changes-383"> <a href="#default-value-changes-383" class="anchor-heading" aria-labelledby="default-value-changes-383"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="531"> <a href="#531" class="anchor-heading" aria-labelledby="531"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.3.1 </h2> <p><strong>Release date:</strong> 2018-02-20</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Allow set securityContext for node exporter pods (#3734)</li> </ul> <h3 id="default-value-changes-384"> <a href="#default-value-changes-384" class="anchor-heading" aria-labelledby="default-value-changes-384"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 80948d5c..af678515 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -348,6 +348,11 @@</span> nodeExporter:
     #   cpu: 100m
     #   memory: 30Mi
 
<span class="gi">+  ## Security context to be added to node-exporter pods
+  ##
+  securityContext: {}
+    # runAsUser: 0
+
</span>   service:
     annotations:
       prometheus.io/scrape: "true"
<span class="p">@@ -570,7 +575,7 @@</span> pushgateway:
 
     ## pushgateway Ingress annotations
     ##
<span class="gd">-    annotations:
</span><span class="gi">+    annotations: {}
</span>     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="err">
</span></code></pre></div></div> <h2 id="530"> <a href="#530" class="anchor-heading" aria-labelledby="530"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.3.0 </h2> <p><strong>Release date:</strong> 2018-02-20</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>feature(prometheus): allow path element in ingress values (#3546)</li> </ul> <h3 id="default-value-changes-385"> <a href="#default-value-changes-385" class="anchor-heading" aria-labelledby="default-value-changes-385"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ee81b105..80948d5c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -55,11 +55,12 @@</span> alertmanager:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## alertmanager Ingress hostnames
</span><span class="gi">+    ## alertmanager Ingress hostnames with optinal path
</span>     ## Must be provided if Ingress is enabled
     ##
     hosts: []
     #   - alertmanager.domain.com
<span class="gi">+    #   - domain.com/alertmanager
</span> 
     ## alertmanager Ingress TLS configuration
     ## Secrets must be manually created in the namespace
<span class="p">@@ -424,11 +425,12 @@</span> server:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## Prometheus server Ingress hostnames
</span><span class="gi">+    ## Prometheus server Ingress hostnames with optinal path
</span>     ## Must be provided if Ingress is enabled
     ##
     hosts: []
     #   - prometheus.domain.com
<span class="gi">+    #   - domain.com/prometheus
</span> 
     ## Prometheus server Ingress TLS configuration
     ## Secrets must be manually created in the namespace
<span class="p">@@ -572,11 +574,12 @@</span> pushgateway:
     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## pushgateway Ingress hostnames
</span><span class="gi">+    ## pushgateway Ingress hostnames with optinal path
</span>     ## Must be provided if Ingress is enabled
     ##
     hosts: []
     #   - pushgateway.domain.com
<span class="gi">+    #   - domain.com/pushgateway
</span> 
     ## pushgateway Ingress TLS configuration
     ## Secrets must be manually created in the namespace
<span class="err">
</span></code></pre></div></div> <h2 id="521"> <a href="#521" class="anchor-heading" aria-labelledby="521"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.2.1 </h2> <p><strong>Release date:</strong> 2018-02-20</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">Prometheus</a> Updated cAdvisor endpoint (#3684)</li> </ul> <h3 id="default-value-changes-386"> <a href="#default-value-changes-386" class="anchor-heading" aria-labelledby="default-value-changes-386"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 85899440..ee81b105 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -780,6 +780,11 @@</span> serverFiles:
         kubernetes_sd_configs:
           - role: node
 
<span class="gi">+        # This configuration will work only on kubelet 1.7.3+
+        # As the scrape endpoints for cAdvisor have changed
+        # if you are using older version you need to change the replacement to
+        # replacement: /api/v1/nodes/${1}:4194/proxy/metrics
+        # more info here https://github.com/coreos/prometheus-operator/issues/633
</span>         relabel_configs:
           - action: labelmap
             regex: __meta_kubernetes_node_label_(.+)
<span class="p">@@ -788,7 +793,7 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_node_name]
             regex: (.+)
             target_label: __metrics_path__
<span class="gd">-            replacement: /api/v1/nodes/${1}:4194/proxy/metrics
</span><span class="gi">+            replacement: /api/v1/nodes/${1}/proxy/metrics/cadvisor
</span> 
       # Scrape config for service endpoints.
       #
<span class="err">
</span></code></pre></div></div> <h2 id="517"> <a href="#517" class="anchor-heading" aria-labelledby="517"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.7 </h2> <p><strong>Release date:</strong> 2018-02-20</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Mount arbitrary configmaps as files. (#3774)</li> </ul> <h3 id="default-value-changes-387"> <a href="#default-value-changes-387" class="anchor-heading" aria-labelledby="default-value-changes-387"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 2f6d43ba..85899440 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -312,6 +312,12 @@</span> nodeExporter:
     #   hostPath: /var/lib/node-exporter
     #   readOnly: true
 
<span class="gi">+  extraConfigmapMounts: []
+    # - name: certs-configmap
+    #   mountPath: /prometheus
+    #   configMap: certs-configmap
+    #   readOnly: true
+
</span>   ## Node tolerations for node-exporter scheduling to nodes with taints
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
<span class="p">@@ -395,6 +401,12 @@</span> server:
     #   hostPath: /etc/kubernetes/certs
     #   readOnly: true
 
<span class="gi">+  extraConfigmapMounts: []
+    # - name: certs-configmap
+    #   mountPath: /prometheus
+    #   configMap: certs-configmap
+    #   readOnly: true
+
</span>   ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.server.configMapOverrideName}}
   ## Defining configMapOverrideName will cause templates/server-configmap.yaml
   ## to NOT generate a ConfigMap resource
<span class="err">
</span></code></pre></div></div> <h2 id="516"> <a href="#516" class="anchor-heading" aria-labelledby="516"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.6 </h2> <p><strong>Release date:</strong> 2018-02-18</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Changes for prometheus ingress RBAC. (#3722)</li> </ul> <h3 id="default-value-changes-388"> <a href="#default-value-changes-388" class="anchor-heading" aria-labelledby="default-value-changes-388"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="515"> <a href="#515" class="anchor-heading" aria-labelledby="515"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.5 </h2> <p><strong>Release date:</strong> 2018-02-13</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>exposing the init container image in the config to allow the user from overriding it (#3698)</li> </ul> <h3 id="default-value-changes-389"> <a href="#default-value-changes-389" class="anchor-heading" aria-labelledby="default-value-changes-389"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0fddee8d..2f6d43ba 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -188,6 +188,23 @@</span> configmapReload:
   ##
   resources: {}
 
<span class="gi">+initChownData:
+  ## initChownData container name
+  ##
+  name: init-chown-data
+
+  ## initChownData container image
+  ##
+  image:
+    repository: busybox
+    tag: latest
+    pullPolicy: IfNotPresent
+
+  ## initChownData resource requests and limits
+  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
+  ##
+  resources: {}
+
</span> kubeStateMetrics:
   ## If false, kube-state-metrics will not be installed
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="514"> <a href="#514" class="anchor-heading" aria-labelledby="514"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.4 </h2> <p><strong>Release date:</strong> 2018-02-12</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>adding toleration support for missing components (#3522)</li> </ul> <h3 id="default-value-changes-390"> <a href="#default-value-changes-390" class="anchor-heading" aria-labelledby="default-value-changes-390"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 7cfd7a59..0fddee8d 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -73,6 +73,15 @@</span> alertmanager:
   # strategy:
   #   type: Recreate
 
<span class="gi">+  ## Node tolerations for alertmanager scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+    # - key: "key"
+    #   operator: "Equal|Exists"
+    #   value: "value"
+    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
</span>   ## Node labels for alertmanager pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="p">@@ -202,6 +211,15 @@</span> kubeStateMetrics:
   ##
   args: {}
 
<span class="gi">+  ## Node tolerations for kube-state-metrics scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+    # - key: "key"
+    #   operator: "Equal|Exists"
+    #   value: "value"
+    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
</span>   ## Node labels for kube-state-metrics pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="p">@@ -406,6 +424,7 @@</span> server:
 
   ## Node labels for Prometheus server pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
<span class="gi">+  ##
</span>   nodeSelector: {}
 
   persistentVolume:
<span class="p">@@ -538,6 +557,15 @@</span> pushgateway:
     #     hosts:
     #       - pushgateway.domain.com
 
<span class="gi">+  ## Node tolerations for pushgateway scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+    # - key: "key"
+    #   operator: "Equal|Exists"
+    #   value: "value"
+    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+
</span>   ## Node labels for pushgateway pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="513"> <a href="#513" class="anchor-heading" aria-labelledby="513"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.3 </h2> <p><strong>Release date:</strong> 2018-02-12</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add mesh peer to prometheus alert service (#3681)</li> </ul> <h3 id="default-value-changes-391"> <a href="#default-value-changes-391" class="anchor-heading" aria-labelledby="default-value-changes-391"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 2c935db2..7cfd7a59 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -144,6 +144,10 @@</span> alertmanager:
     labels: {}
     clusterIP: ""
 
<span class="gi">+    ## Enabling peer mesh service end points for enabling the HA alert manager
+    ## Ref: https://github.com/prometheus/alertmanager/blob/master/README.md
+    # enableMeshPeer : true
+
</span>     ## List of IP addresses at which the alertmanager service is available
     ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="512"> <a href="#512" class="anchor-heading" aria-labelledby="512"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.2 </h2> <p><strong>Release date:</strong> 2018-02-09</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix node exporter args (#3585)</li> </ul> <h3 id="default-value-changes-392"> <a href="#default-value-changes-392" class="anchor-heading" aria-labelledby="default-value-changes-392"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="511"> <a href="#511" class="anchor-heading" aria-labelledby="511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.1 </h2> <p><strong>Release date:</strong> 2018-02-09</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> fix liveness and readiness probe when the prefix has changed (#3500)</li> </ul> <h3 id="default-value-changes-393"> <a href="#default-value-changes-393" class="anchor-heading" aria-labelledby="default-value-changes-393"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="510"> <a href="#510" class="anchor-heading" aria-labelledby="510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.0 </h2> <p><strong>Release date:</strong> 2018-02-06</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> update kube-state-metrics to v1.2.0 and fix rbac (#3572)</li> </ul> <h3 id="default-value-changes-394"> <a href="#default-value-changes-394" class="anchor-heading" aria-labelledby="default-value-changes-394"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b0c65837..2c935db2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -191,7 +191,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: k8s.gcr.io/kube-state-metrics
<span class="gd">-    tag: v1.1.0
</span><span class="gi">+    tag: v1.2.0
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="502"> <a href="#502" class="anchor-heading" aria-labelledby="502"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.0.2 </h2> <p><strong>Release date:</strong> 2018-01-30</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Word fixes (#3473)</li> </ul> <h3 id="default-value-changes-395"> <a href="#default-value-changes-395" class="anchor-heading" aria-labelledby="default-value-changes-395"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="501"> <a href="#501" class="anchor-heading" aria-labelledby="501"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.0.1 </h2> <p><strong>Release date:</strong> 2018-01-24</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> add livenessProbe and readinessProbe (#3042)</li> </ul> <h3 id="default-value-changes-396"> <a href="#default-value-changes-396" class="anchor-heading" aria-labelledby="default-value-changes-396"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="500"> <a href="#500" class="anchor-heading" aria-labelledby="500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.0.0 </h2> <p><strong>Release date:</strong> 2018-01-23</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add suport for prometheus 2.1 (#2767)</li> </ul> <h3 id="default-value-changes-397"> <a href="#default-value-changes-397" class="anchor-heading" aria-labelledby="default-value-changes-397"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ec023fa9..b0c65837 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.9.1
</span><span class="gi">+    tag: v0.13.0
</span>     pullPolicy: IfNotPresent
 
   ## Additional alertmanager container arguments
<span class="p">@@ -31,7 +31,7 @@</span> alertmanager:
 
   ## External URL which can access alertmanager
   ## Maybe same with Ingress host name
<span class="gd">-  baseURL: ""
</span><span class="gi">+  baseURL: "/"
</span> 
   ## Additional alertmanager container environment variable
   ## For instance to add a http_proxy
<span class="p">@@ -191,7 +191,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: k8s.gcr.io/kube-state-metrics
<span class="gd">-    tag: v1.1.0-rc.0
</span><span class="gi">+    tag: v1.1.0
</span>     pullPolicy: IfNotPresent
 
   ## kube-state-metrics container arguments
<span class="p">@@ -253,7 +253,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.15.0
</span><span class="gi">+    tag: v0.15.2
</span>     pullPolicy: IfNotPresent
 
   ## Custom Update Strategy
<span class="p">@@ -332,13 +332,9 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v1.8.1
</span><span class="gi">+    tag: v2.1.0
</span>     pullPolicy: IfNotPresent
 
<span class="gd">-  ## (optional) alertmanager URL
-  ## only used if alertmanager.enabled = false
-  alertmanagerURL: ""
-
</span>   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
   ## so that the various internal URLs are still able to access as they are in the default case.
   ## (Optional)
<span class="p">@@ -598,10 +594,10 @@</span> alertmanagerFiles:
 ## Prometheus server ConfigMap entries
 ##
 serverFiles:
<span class="gd">-  alerts: ""
-  rules: ""
</span><span class="gi">+  alerts: {}
+  rules: {}
</span> 
<span class="gd">-  prometheus.yml: |-
</span><span class="gi">+  prometheus.yml:
</span>     rule_files:
       - /etc/config/rules
       - /etc/config/alerts
<span class="err">
</span></code></pre></div></div> <h2 id="4618"> <a href="#4618" class="anchor-heading" aria-labelledby="4618"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.18 </h2> <p><strong>Release date:</strong> 2018-01-19</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix pushgateway port number in NOTES.txt (#3329)</li> </ul> <h3 id="default-value-changes-398"> <a href="#default-value-changes-398" class="anchor-heading" aria-labelledby="default-value-changes-398"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4617"> <a href="#4617" class="anchor-heading" aria-labelledby="4617"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.17 </h2> <p><strong>Release date:</strong> 2018-01-10</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add support for kube-state-metrics container arguments (#2368)</li> </ul> <h3 id="default-value-changes-399"> <a href="#default-value-changes-399" class="anchor-heading" aria-labelledby="default-value-changes-399"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 54734bae..ec023fa9 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -194,6 +194,10 @@</span> kubeStateMetrics:
     tag: v1.1.0-rc.0
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## kube-state-metrics container arguments
+  ##
+  args: {}
+
</span>   ## Node labels for kube-state-metrics pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="4616"> <a href="#4616" class="anchor-heading" aria-labelledby="4616"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.16 </h2> <p><strong>Release date:</strong> 2018-01-04</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add scrap target for kubernetes cAdvisor (#2700)</li> </ul> <h3 id="default-value-changes-400"> <a href="#default-value-changes-400" class="anchor-heading" aria-labelledby="default-value-changes-400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 7487b15c..54734bae 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -692,6 +692,43 @@</span> serverFiles:
             target_label: __metrics_path__
             replacement: /api/v1/nodes/${1}/proxy/metrics
 
<span class="gi">+
+      - job_name: 'kubernetes-nodes-cadvisor'
+
+        # Default to scraping over https. If required, just disable this or change to
+        # `http`.
+        scheme: https
+
+        # This TLS &amp; bearer token file config is used to connect to the actual scrape
+        # endpoints for cluster components. This is separate to discovery auth
+        # configuration because discovery &amp; scraping are two separate concerns in
+        # Prometheus. The discovery auth config is automatic if Prometheus runs inside
+        # the cluster. Otherwise, more config options have to be provided within the
+        # &lt;kubernetes_sd_config&gt;.
+        tls_config:
+          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
+          # If your node certificates are self-signed or use a different CA to the
+          # master CA, then disable certificate verification below. Note that
+          # certificate verification is an integral part of a secure infrastructure
+          # so this should only be disabled in a controlled environment. You can
+          # disable certificate verification by uncommenting the line below.
+          #
+          insecure_skip_verify: true
+        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
+
+        kubernetes_sd_configs:
+          - role: node
+
+        relabel_configs:
+          - action: labelmap
+            regex: __meta_kubernetes_node_label_(.+)
+          - target_label: __address__
+            replacement: kubernetes.default.svc:443
+          - source_labels: [__meta_kubernetes_node_name]
+            regex: (.+)
+            target_label: __metrics_path__
+            replacement: /api/v1/nodes/${1}:4194/proxy/metrics
+
</span>       # Scrape config for service endpoints.
       #
       # The relabeling allows the actual service scrape endpoint to be configured
<span class="err">
</span></code></pre></div></div> <h2 id="4615"> <a href="#4615" class="anchor-heading" aria-labelledby="4615"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.15 </h2> <p><strong>Release date:</strong> 2017-12-28</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Convert registry to k8s.gcr.io (#3169)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Seperate between prefix and external url (#3036)</li> </ul> <h3 id="default-value-changes-401"> <a href="#default-value-changes-401" class="anchor-heading" aria-labelledby="default-value-changes-401"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 15dc873e..7487b15c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -27,6 +27,10 @@</span> alertmanager:
   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
   ## so that the various internal URLs are still able to access as they are in the default case.
   ## (Optional)
<span class="gi">+  prefixURL: ""
+
+  ## External URL which can access alertmanager
+  ## Maybe same with Ingress host name
</span>   baseURL: ""
 
   ## Additional alertmanager container environment variable
<span class="p">@@ -186,7 +190,7 @@</span> kubeStateMetrics:
   ## kube-state-metrics container image
   ##
   image:
<span class="gd">-    repository: gcr.io/google_containers/kube-state-metrics
</span><span class="gi">+    repository: k8s.gcr.io/kube-state-metrics
</span>     tag: v1.1.0-rc.0
     pullPolicy: IfNotPresent
 
<span class="p">@@ -334,6 +338,10 @@</span> server:
   ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
   ## so that the various internal URLs are still able to access as they are in the default case.
   ## (Optional)
<span class="gi">+  prefixURL: ""
+
+  ## External URL which can access alertmanager
+  ## Maybe same with Ingress host name
</span>   baseURL: ""
 
   ## Additional Prometheus server container arguments
<span class="err">
</span></code></pre></div></div> <h2 id="4614"> <a href="#4614" class="anchor-heading" aria-labelledby="4614"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.14 </h2> <p><strong>Release date:</strong> 2017-12-15</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Fix bugs for prometheus chart (#2915)</li> </ul> <h3 id="default-value-changes-402"> <a href="#default-value-changes-402" class="anchor-heading" aria-labelledby="default-value-changes-402"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4613"> <a href="#4613" class="anchor-heading" aria-labelledby="4613"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.13 </h2> <p><strong>Release date:</strong> 2017-11-29</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Update server/alertmanager for baseURL (#2728)</li> </ul> <h3 id="default-value-changes-403"> <a href="#default-value-changes-403" class="anchor-heading" aria-labelledby="default-value-changes-403"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4612"> <a href="#4612" class="anchor-heading" aria-labelledby="4612"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.12 </h2> <p><strong>Release date:</strong> 2017-11-09</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li> </ul> <h3 id="default-value-changes-404"> <a href="#default-value-changes-404" class="anchor-heading" aria-labelledby="default-value-changes-404"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="4611"> <a href="#4611" class="anchor-heading" aria-labelledby="4611"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.11 </h2> <p><strong>Release date:</strong> 2017-11-06</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add RollingUpdate for Prometheus node-exporter ds (#1861)</li> <li> <ul> <li>Adding affinity to alertmanager, kube-state-metrics, pushgateway and server deployments. (#2599)</li> </ul> </li> </ul> <h3 id="default-value-changes-405"> <a href="#default-value-changes-405" class="anchor-heading" aria-labelledby="default-value-changes-405"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index fc46bfe6..15dc873e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -248,6 +248,11 @@</span> nodeExporter:
     tag: v0.15.0
     pullPolicy: IfNotPresent
 
<span class="gi">+  ## Custom Update Strategy
+  ##
+  updateStrategy:
+    type: OnDelete
+
</span>   ## Additional node-exporter container arguments
   ##
   extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="4610"> <a href="#4610" class="anchor-heading" aria-labelledby="4610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.10 </h2> <p><strong>Release date:</strong> 2017-10-31</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update to v1.8.1 (#2604)</li> </ul> <h3 id="default-value-changes-406"> <a href="#default-value-changes-406" class="anchor-heading" aria-labelledby="default-value-changes-406"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c427a72f..fc46bfe6 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -319,7 +319,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v1.8.0
</span><span class="gi">+    tag: v1.8.1
</span>     pullPolicy: IfNotPresent
 
   ## (optional) alertmanager URL
<span class="err">
</span></code></pre></div></div> <h2 id="469"> <a href="#469" class="anchor-heading" aria-labelledby="469"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.9 </h2> <p><strong>Release date:</strong> 2017-10-18</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update kube state metrics (#2477)</li> </ul> <h3 id="default-value-changes-407"> <a href="#default-value-changes-407" class="anchor-heading" aria-labelledby="default-value-changes-407"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 3ecd82d3..c427a72f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -187,7 +187,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: gcr.io/google_containers/kube-state-metrics
<span class="gd">-    tag: v1.0.1
</span><span class="gi">+    tag: v1.1.0-rc.0
</span>     pullPolicy: IfNotPresent
 
   ## Node labels for kube-state-metrics pod assignment
<span class="err">
</span></code></pre></div></div> <h2 id="468"> <a href="#468" class="anchor-heading" aria-labelledby="468"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.8 </h2> <p><strong>Release date:</strong> 2017-10-18</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Update prometheus to 1.8.0 (#2509)</li> </ul> <h3 id="default-value-changes-408"> <a href="#default-value-changes-408" class="anchor-heading" aria-labelledby="default-value-changes-408"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 92505680..3ecd82d3 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> alertmanager:
   ##
   image:
     repository: prom/alertmanager
<span class="gd">-    tag: v0.5.1
</span><span class="gi">+    tag: v0.9.1
</span>     pullPolicy: IfNotPresent
 
   ## Additional alertmanager container arguments
<span class="p">@@ -187,7 +187,7 @@</span> kubeStateMetrics:
   ##
   image:
     repository: gcr.io/google_containers/kube-state-metrics
<span class="gd">-    tag: v0.4.1
</span><span class="gi">+    tag: v1.0.1
</span>     pullPolicy: IfNotPresent
 
   ## Node labels for kube-state-metrics pod assignment
<span class="p">@@ -245,7 +245,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.14.0
</span><span class="gi">+    tag: v0.15.0
</span>     pullPolicy: IfNotPresent
 
   ## Additional node-exporter container arguments
<span class="p">@@ -319,7 +319,7 @@</span> server:
   ##
   image:
     repository: prom/prometheus
<span class="gd">-    tag: v1.5.2
</span><span class="gi">+    tag: v1.8.0
</span>     pullPolicy: IfNotPresent
 
   ## (optional) alertmanager URL
<span class="err">
</span></code></pre></div></div> <h2 id="467"> <a href="#467" class="anchor-heading" aria-labelledby="467"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.7 </h2> <p><strong>Release date:</strong> 2017-10-18</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> fix invalid argument for storage retention (#2515)</li> </ul> <h3 id="default-value-changes-409"> <a href="#default-value-changes-409" class="anchor-heading" aria-labelledby="default-value-changes-409"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 00caaeff..92505680 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -264,10 +264,10 @@</span> nodeExporter:
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
   tolerations: []
<span class="gd">-  #- key: "key"
-  #  operator: "Equal|Exists"
-  #  value: "value"
-  #  effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
</span><span class="gi">+    # - key: "key"
+    #   operator: "Equal|Exists"
+    #   value: "value"
+    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
</span> 
   ## Node labels for node-exporter pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
<span class="p">@@ -382,10 +382,10 @@</span> server:
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
   tolerations: []
<span class="gd">-  #- key: "key"
-  #  operator: "Equal|Exists"
-  #  value: "value"
-  #  effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
</span><span class="gi">+    # - key: "key"
+    #   operator: "Equal|Exists"
+    #   value: "value"
+    #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
</span> 
   ## Node labels for Prometheus server pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
<span class="err">
</span></code></pre></div></div> <h2 id="466"> <a href="#466" class="anchor-heading" aria-labelledby="466"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.6 </h2> <p><strong>Release date:</strong> 2017-10-03</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fix strategy indentation (#2390)</li> </ul> <h3 id="default-value-changes-410"> <a href="#default-value-changes-410" class="anchor-heading" aria-labelledby="default-value-changes-410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index aa7d4697..00caaeff 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -65,7 +65,7 @@</span> alertmanager:
     #     hosts:
     #       - alertmanager.domain.com
 
<span class="gd">-  ## Server Deployment Strategy type
</span><span class="gi">+  ## Alertmanager Deployment Strategy type
</span>   # strategy:
   #   type: Recreate
 
<span class="err">
</span></code></pre></div></div> <h2 id="465"> <a href="#465" class="anchor-heading" aria-labelledby="465"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.5 </h2> <p><strong>Release date:</strong> 2017-10-03</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add option for defining strategy (#2218)</li> </ul> <h3 id="default-value-changes-411"> <a href="#default-value-changes-411" class="anchor-heading" aria-labelledby="default-value-changes-411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index a18a478f..aa7d4697 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -374,6 +374,10 @@</span> server:
     #     hosts:
     #       - prometheus.domain.com
 
<span class="gi">+  ## Server Deployment Strategy type
+  # strategy:
+  #   type: Recreate
+
</span>   ## Node tolerations for server scheduling to nodes with taints
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="464"> <a href="#464" class="anchor-heading" aria-labelledby="464"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.4 </h2> <p><strong>Release date:</strong> 2017-10-02</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add option for defining strategy for AlertManager (#2309)</li> </ul> <h3 id="default-value-changes-412"> <a href="#default-value-changes-412" class="anchor-heading" aria-labelledby="default-value-changes-412"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 757ec71e..a18a478f 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -65,6 +65,10 @@</span> alertmanager:
     #     hosts:
     #       - alertmanager.domain.com
 
<span class="gi">+  ## Server Deployment Strategy type
+  # strategy:
+  #   type: Recreate
+
</span>   ## Node labels for alertmanager pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="463"> <a href="#463" class="anchor-heading" aria-labelledby="463"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.3 </h2> <p><strong>Release date:</strong> 2017-10-01</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>add additional permissions for kube-state-metrics (#2086)</li> </ul> <h3 id="default-value-changes-413"> <a href="#default-value-changes-413" class="anchor-heading" aria-labelledby="default-value-changes-413"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="462"> <a href="#462" class="anchor-heading" aria-labelledby="462"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.2 </h2> <p><strong>Release date:</strong> 2017-10-01</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>add prometheus data retention config (#2108)</li> </ul> <h3 id="default-value-changes-414"> <a href="#default-value-changes-414" class="anchor-heading" aria-labelledby="default-value-changes-414"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c0b3a8e9..757ec71e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -464,6 +464,10 @@</span> server:
   ##
   terminationGracePeriodSeconds: 300
 
<span class="gi">+  ## Prometheus data retention period (i.e 360h)
+  ##
+  retention: ""
+
</span> pushgateway:
   ## If false, pushgateway will not be installed
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="461"> <a href="#461" class="anchor-heading" aria-labelledby="461"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.1 </h2> <p><strong>Release date:</strong> 2017-09-30</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> fix prometheus webhook URL for config reload (#2324)</li> </ul> <h3 id="default-value-changes-415"> <a href="#default-value-changes-415" class="anchor-heading" aria-labelledby="default-value-changes-415"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="460"> <a href="#460" class="anchor-heading" aria-labelledby="460"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.6.0 </h2> <p><strong>Release date:</strong> 2017-09-30</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add nodePort to AlertManager (#2299)</li> <li>Updated proemetheus charts readme. (#1924)</li> <li>
<a href="Add%20possibility%20to%20disable%20securityContext%20for%20Prometheus%20and%20Alertmanager%20workloads%20(#2595)">Prometheus</a> Make the base URL configurable (#1769)</li> <li>name kubeStateMetrics port as metrics (#1885)</li> </ul> <h3 id="default-value-changes-416"> <a href="#default-value-changes-416" class="anchor-heading" aria-labelledby="default-value-changes-416"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index e59d53af..c0b3a8e9 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -24,6 +24,11 @@</span> alertmanager:
   ##
   extraArgs: {}
 
<span class="gi">+  ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
+  ## so that the various internal URLs are still able to access as they are in the default case.
+  ## (Optional)
+  baseURL: ""
+
</span>   ## Additional alertmanager container environment variable
   ## For instance to add a http_proxy
   ##
<span class="p">@@ -139,6 +144,7 @@</span> alertmanager:
     loadBalancerIP: ""
     loadBalancerSourceRanges: []
     servicePort: 80
<span class="gi">+    # nodePort: 30000
</span>     type: ClusterIP
 
 ## Monitors ConfigMap changes and POSTs to a URL
<span class="p">@@ -316,6 +322,11 @@</span> server:
   ## only used if alertmanager.enabled = false
   alertmanagerURL: ""
 
<span class="gi">+  ## The URL prefix at which the container can be accessed. Useful in the case the '-web.external-url' includes a slug
+  ## so that the various internal URLs are still able to access as they are in the default case.
+  ## (Optional)
+  baseURL: ""
+
</span>   ## Additional Prometheus server container arguments
   ##
   extraArgs: {}
<span class="err">
</span></code></pre></div></div> <h2 id="450"> <a href="#450" class="anchor-heading" aria-labelledby="450"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.5.0 </h2> <p><strong>Release date:</strong> 2017-08-18</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> RBAC, namespaces, and node-exporter default update (#1443)</li> </ul> <h3 id="default-value-changes-417"> <a href="#default-value-changes-417" class="anchor-heading" aria-labelledby="default-value-changes-417"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 5687bf2b..e59d53af 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,8 +1,14 @@</span>
<span class="gi">+rbac:
+  create: false
+
</span> alertmanager:
   ## If false, alertmanager will not be installed
   ##
   enabled: true
 
<span class="gi">+  # Defines the serviceAccountName to use when `rbac.create=false`
+  serviceAccountName: default
+
</span>   ## alertmanager container name
   ##
   name: alertmanager
<span class="p">@@ -160,6 +166,9 @@</span> kubeStateMetrics:
   ##
   enabled: true
 
<span class="gi">+  # Defines the serviceAccountName to use when `rbac.create=false`
+  serviceAccountName: default
+
</span>   ## kube-state-metrics container name
   ##
   name: kube-state-metrics
<span class="p">@@ -215,6 +224,9 @@</span> nodeExporter:
   ##
   enabled: true
 
<span class="gi">+  # Defines the serviceAccountName to use when `rbac.create=false`
+  serviceAccountName: default
+
</span>   ## node-exporter container name
   ##
   name: node-exporter
<span class="p">@@ -223,7 +235,7 @@</span> nodeExporter:
   ##
   image:
     repository: prom/node-exporter
<span class="gd">-    tag: v0.13.0
</span><span class="gi">+    tag: v0.14.0
</span>     pullPolicy: IfNotPresent
 
   ## Additional node-exporter container arguments
<span class="p">@@ -290,6 +302,9 @@</span> server:
   ##
   name: server
 
<span class="gi">+  # Defines the serviceAccountName to use when `rbac.create=false`
+  serviceAccountName: default
+
</span>   ## Prometheus server container image
   ##
   image:
<span class="p">@@ -352,7 +367,7 @@</span> server:
   #  operator: "Equal|Exists"
   #  value: "value"
   #  effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
<span class="gd">-  
</span><span class="gi">+
</span>   ## Node labels for Prometheus server pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   nodeSelector: {}
<span class="err">
</span></code></pre></div></div> <h2 id="440"> <a href="#440" class="anchor-heading" aria-labelledby="440"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.4.0 </h2> <p><strong>Release date:</strong> 2017-08-14</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Allow explicit NodePort value for prometheus (#1427)</li> </ul> <h3 id="default-value-changes-418"> <a href="#default-value-changes-418" class="anchor-heading" aria-labelledby="default-value-changes-418"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="430"> <a href="#430" class="anchor-heading" aria-labelledby="430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.3.0 </h2> <p><strong>Release date:</strong> 2017-08-14</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Prometheus Helm Chart ConfigMap override for alertmanager and server #1310 (#1311)</li> </ul> <h3 id="default-value-changes-419"> <a href="#default-value-changes-419" class="anchor-heading" aria-labelledby="default-value-changes-419"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index b5694597..5687bf2b 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -23,6 +23,12 @@</span> alertmanager:
   ##
   extraEnv: {}
 
<span class="gi">+  ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.alertmanager.configMapOverrideName}}
+  ## Defining configMapOverrideName will cause templates/alertmanager-configmap.yaml
+  ## to NOT generate a ConfigMap resource
+  ##
+  configMapOverrideName: ""
+
</span>   ingress:
     ## If true, alertmanager Ingress will be created
     ##
<span class="p">@@ -307,6 +313,12 @@</span> server:
     #   hostPath: /etc/kubernetes/certs
     #   readOnly: true
 
<span class="gi">+  ## ConfigMap override where fullname is {{.Release.Name}}-{{.Values.server.configMapOverrideName}}
+  ## Defining configMapOverrideName will cause templates/server-configmap.yaml
+  ## to NOT generate a ConfigMap resource
+  ##
+  configMapOverrideName: ""
+
</span>   ingress:
     ## If true, Prometheus server Ingress will be created
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="411"> <a href="#411" class="anchor-heading" aria-labelledby="411"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.1 </h2> <p><strong>Release date:</strong> 2017-08-13</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>feat(server-deployment) add taint toleration to server (#1635)</li> </ul> <h3 id="default-value-changes-420"> <a href="#default-value-changes-420" class="anchor-heading" aria-labelledby="default-value-changes-420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index bca91e31..b5694597 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -236,6 +236,10 @@</span> nodeExporter:
   ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
   ##
   tolerations: []
<span class="gi">+  #- key: "key"
+  #  operator: "Equal|Exists"
+  #  value: "value"
+  #  effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
</span> 
   ## Node labels for node-exporter pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
<span class="p">@@ -328,6 +332,15 @@</span> server:
     #     hosts:
     #       - prometheus.domain.com
 
<span class="gi">+  ## Node tolerations for server scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+  #- key: "key"
+  #  operator: "Equal|Exists"
+  #  value: "value"
+  #  effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"
+  
</span>   ## Node labels for Prometheus server pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   nodeSelector: {}
<span class="err">
</span></code></pre></div></div> <h2 id="410"> <a href="#410" class="anchor-heading" aria-labelledby="410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.0 </h2> <p><strong>Release date:</strong> 2017-08-02</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Push Gateway support (#1275)</li> </ul> <h3 id="default-value-changes-421"> <a href="#default-value-changes-421" class="anchor-heading" aria-labelledby="default-value-changes-421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index f62922e7..bca91e31 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -413,6 +413,89 @@</span> server:
   ##
   terminationGracePeriodSeconds: 300
 
<span class="gi">+pushgateway:
+  ## If false, pushgateway will not be installed
+  ##
+  enabled: true
+
+  ## pushgateway container name
+  ##
+  name: pushgateway
+
+  ## pushgateway container image
+  ##
+  image:
+    repository: prom/pushgateway
+    tag: v0.4.0
+    pullPolicy: IfNotPresent
+
+  ## Additional pushgateway container arguments
+  ##
+  extraArgs: {}
+
+  ingress:
+    ## If true, pushgateway Ingress will be created
+    ##
+    enabled: false
+
+    ## pushgateway Ingress annotations
+    ##
+    annotations:
+    #   kubernetes.io/ingress.class: nginx
+    #   kubernetes.io/tls-acme: 'true'
+
+    ## pushgateway Ingress hostnames
+    ## Must be provided if Ingress is enabled
+    ##
+    hosts: []
+    #   - pushgateway.domain.com
+
+    ## pushgateway Ingress TLS configuration
+    ## Secrets must be manually created in the namespace
+    ##
+    tls: []
+    #   - secretName: prometheus-alerts-tls
+    #     hosts:
+    #       - pushgateway.domain.com
+
+  ## Node labels for pushgateway pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+  ##
+  nodeSelector: {}
+
+  ## Annotations to be added to pushgateway pods
+  ##
+  podAnnotations: {}
+
+  replicaCount: 1
+
+  ## pushgateway resource requests and limits
+  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
+  ##
+  resources: {}
+    # limits:
+    #   cpu: 10m
+    #   memory: 32Mi
+    # requests:
+    #   cpu: 10m
+    #   memory: 32Mi
+
+  service:
+    annotations:
+      prometheus.io/probe: pushgateway
+    labels: {}
+    clusterIP: ""
+
+    ## List of IP addresses at which the pushgateway service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+    externalIPs: []
+
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 9091
+    type: ClusterIP
+
</span> ## alertmanager ConfigMap entries
 ##
 alertmanagerFiles:
<span class="p">@@ -575,6 +658,17 @@</span> serverFiles:
             action: replace
             target_label: kubernetes_name
 
<span class="gi">+      - job_name: 'prometheus-pushgateway'
+        honor_labels: true
+
+        kubernetes_sd_configs:
+          - role: service
+
+        relabel_configs:
+          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_probe]
+            action: keep
+            regex: pushgateway
+
</span>       # Example scrape config for probing services via the Blackbox Exporter.
       #
       # The relabeling allows the actual service scrape endpoint to be configured
<span class="err">
</span></code></pre></div></div> <h2 id="400"> <a href="#400" class="anchor-heading" aria-labelledby="400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.0 </h2> <p><strong>Release date:</strong> 2017-08-01</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>prometheus: switch to Kubernetes 1.6 storage class specification (#1332)</li> </ul> <h3 id="default-value-changes-422"> <a href="#default-value-changes-422" class="anchor-heading" aria-labelledby="default-value-changes-422"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c443a5e2..f62922e7 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -84,10 +84,13 @@</span> alertmanager:
     size: 2Gi
 
     ## alertmanager data Persistent Volume Storage Class
<span class="gd">-    ## If defined, volume.beta.kubernetes.io/storage-class: &lt;storageClass&gt;
-    ## Default: volume.alpha.kubernetes.io/storage-class: default
</span><span class="gi">+    ## If defined, storageClassName: &lt;storageClass&gt;
+    ## If set to "-", storageClassName: "", which disables dynamic provisioning
+    ## If undefined (the default) or set to null, no storageClassName spec is
+    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
+    ##   GKE, AWS &amp; OpenStack)
</span>     ##
<span class="gd">-    storageClass: ""
</span><span class="gi">+    # storageClass: "-"
</span> 
     ## Subdirectory of alertmanager data Persistent Volume to mount
     ## Useful if the volume's root directory is not empty
<span class="p">@@ -360,10 +363,13 @@</span> server:
     size: 8Gi
 
     ## Prometheus server data Persistent Volume Storage Class
<span class="gd">-    ## If defined, volume.beta.kubernetes.io/storage-class: &lt;storageClass&gt;
-    ## Default: volume.alpha.kubernetes.io/storage-class: default
</span><span class="gi">+    ## If defined, storageClassName: &lt;storageClass&gt;
+    ## If set to "-", storageClassName: "", which disables dynamic provisioning
+    ## If undefined (the default) or set to null, no storageClassName spec is
+    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
+    ##   GKE, AWS &amp; OpenStack)
</span>     ##
<span class="gd">-    storageClass: ""
</span><span class="gi">+    # storageClass: "-"
</span> 
     ## Subdirectory of Prometheus server data Persistent Volume to mount
     ## Useful if the volume's root directory is not empty
<span class="err">
</span></code></pre></div></div> <h2 id="320"> <a href="#320" class="anchor-heading" aria-labelledby="320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2.0 </h2> <p><strong>Release date:</strong> 2017-08-01</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add NetworkPolicy for Prometheus (#1327)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Support for 1.6 tolerations (#1297)</li> <li>Use consistent whitespace in template placeholders (#1437)</li> </ul> <h3 id="default-value-changes-423"> <a href="#default-value-changes-423" class="anchor-heading" aria-labelledby="default-value-changes-423"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 0dc510c0..c443a5e2 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -229,6 +229,11 @@</span> nodeExporter:
     #   hostPath: /var/lib/node-exporter
     #   readOnly: true
 
<span class="gi">+  ## Node tolerations for node-exporter scheduling to nodes with taints
+  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
+  ##
+  tolerations: []
+
</span>   ## Node labels for node-exporter pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="p">@@ -630,3 +635,8 @@</span> serverFiles:
           - source_labels: [__meta_kubernetes_pod_name]
             action: replace
             target_label: kubernetes_pod_name
<span class="gi">+
+networkPolicy:
+  ## Enable creation of NetworkPolicy resources.
+  ##
+  enabled: false
</span><span class="err">
</span></code></pre></div></div> <h2 id="310"> <a href="#310" class="anchor-heading" aria-labelledby="310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.0 </h2> <p><strong>Release date:</strong> 2017-07-06</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Prometheus: modify config to support k8s 1.6 by default (#1080)</li> </ul> <h3 id="default-value-changes-424"> <a href="#default-value-changes-424" class="anchor-heading" aria-labelledby="default-value-changes-424"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 18592d2c..0dc510c0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -515,6 +515,12 @@</span> serverFiles:
         relabel_configs:
           - action: labelmap
             regex: __meta_kubernetes_node_label_(.+)
<span class="gi">+          - target_label: __address__
+            replacement: kubernetes.default.svc:443
+          - source_labels: [__meta_kubernetes_node_name]
+            regex: (.+)
+            target_label: __metrics_path__
+            replacement: /api/v1/nodes/${1}/proxy/metrics
</span> 
       # Scrape config for service endpoints.
       #
<span class="err">
</span></code></pre></div></div> <h2 id="303"> <a href="#303" class="anchor-heading" aria-labelledby="303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.3 </h2> <p><strong>Release date:</strong> 2017-07-05</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> extra environment variable for alert manager (#1237)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add extraHostPathMounts config (#862)</li> <li>Fix annotations reference (#883)</li> </ul> <h3 id="default-value-changes-425"> <a href="#default-value-changes-425" class="anchor-heading" aria-labelledby="default-value-changes-425"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index c47b5104..18592d2c 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -18,6 +18,11 @@</span> alertmanager:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional alertmanager container environment variable
+  ## For instance to add a http_proxy
+  ##
+  extraEnv: {}
+
</span>   ingress:
     ## If true, alertmanager Ingress will be created
     ##
<span class="p">@@ -216,6 +221,14 @@</span> nodeExporter:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional node-exporter hostPath mounts
+  ##
+  extraHostPathMounts: []
+    # - name: textfile-dir
+    #   mountPath: /srv/txt_collector
+    #   hostPath: /var/lib/node-exporter
+    #   readOnly: true
+
</span>   ## Node labels for node-exporter pod assignment
   ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
   ##
<span class="p">@@ -274,6 +287,14 @@</span> server:
   ##
   extraArgs: {}
 
<span class="gi">+  ## Additional Prometheus server hostPath mounts
+  ##
+  extraHostPathMounts: []
+    # - name: certs-dir
+    #   mountPath: /etc/kubernetes/certs
+    #   hostPath: /etc/kubernetes/certs
+    #   readOnly: true
+
</span>   ingress:
     ## If true, Prometheus server Ingress will be created
     ##
<span class="err">
</span></code></pre></div></div> <h2 id="302"> <a href="#302" class="anchor-heading" aria-labelledby="302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.2 </h2> <p><strong>Release date:</strong> 2017-04-17</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Prefix defined templates (#543)</li> <li>Add extra service labels (#886) (#887)</li> </ul> <h3 id="default-value-changes-426"> <a href="#default-value-changes-426" class="anchor-heading" aria-labelledby="default-value-changes-426"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4a7bf4da..c47b5104 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -108,6 +108,7 @@</span> alertmanager:
 
   service:
     annotations: {}
<span class="gi">+    labels: {}
</span>     clusterIP: ""
 
     ## List of IP addresses at which the alertmanager service is available
<span class="p">@@ -181,6 +182,7 @@</span> kubeStateMetrics:
   service:
     annotations:
       prometheus.io/scrape: "true"
<span class="gi">+    labels: {}
</span> 
     clusterIP: None
 
<span class="p">@@ -237,6 +239,7 @@</span> nodeExporter:
   service:
     annotations:
       prometheus.io/scrape: "true"
<span class="gi">+    labels: {}
</span> 
     clusterIP: None
 
<span class="p">@@ -361,6 +364,7 @@</span> server:
 
   service:
     annotations: {}
<span class="gi">+    labels: {}
</span>     clusterIP: ""
 
     ## List of IP addresses at which the Prometheus server service is available
<span class="err">
</span></code></pre></div></div> <h2 id="301"> <a href="#301" class="anchor-heading" aria-labelledby="301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.1 </h2> <p><strong>Release date:</strong> 2017-03-23</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Fixed server ingress annotations (#853)</li> </ul> <h3 id="default-value-changes-427"> <a href="#default-value-changes-427" class="anchor-heading" aria-labelledby="default-value-changes-427"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="300"> <a href="#300" class="anchor-heading" aria-labelledby="300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.0 </h2> <p><strong>Release date:</strong> 2017-03-22</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> v3.0.0 (#627)</li> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Add alertmanager extra args (#533)</li> </ul> <h3 id="default-value-changes-428"> <a href="#default-value-changes-428" class="anchor-heading" aria-labelledby="default-value-changes-428"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4e09add0..4a7bf4da 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -1,272 +1,386 @@</span>
 alertmanager:
<span class="gd">-  ## Alertmanager service port
</span><span class="gi">+  ## If false, alertmanager will not be installed
</span>   ##
<span class="gd">-  httpPort: 80
</span><span class="gi">+  enabled: true
</span> 
<span class="gd">-  ## Alertmanager service port name
-  ## Default: 'http'
</span><span class="gi">+  ## alertmanager container name
</span>   ##
<span class="gd">-  # httpPortName: http
</span><span class="gi">+  name: alertmanager
+
+  ## alertmanager container image
+  ##
+  image:
+    repository: prom/alertmanager
+    tag: v0.5.1
+    pullPolicy: IfNotPresent
</span> 
<span class="gd">-  ## Alertmanager Docker image
</span><span class="gi">+  ## Additional alertmanager container arguments
</span>   ##
<span class="gd">-  image: prom/alertmanager:v0.5.1
</span><span class="gi">+  extraArgs: {}
</span> 
   ingress:
<span class="gd">-    ## If true, Alertmanager Ingress will be created
</span><span class="gi">+    ## If true, alertmanager Ingress will be created
</span>     ##
     enabled: false
 
<span class="gd">-    ## Alertmanager Ingress annotations
</span><span class="gi">+    ## alertmanager Ingress annotations
</span>     ##
<span class="gd">-    # annotations:
</span><span class="gi">+    annotations: {}
</span>     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## Alertmanager Ingress hostnames
</span><span class="gi">+    ## alertmanager Ingress hostnames
</span>     ## Must be provided if Ingress is enabled
     ##
<span class="gd">-    # hosts:
</span><span class="gi">+    hosts: []
</span>     #   - alertmanager.domain.com
 
<span class="gd">-    ## Alertmanager Ingress TLS configuration
</span><span class="gi">+    ## alertmanager Ingress TLS configuration
</span>     ## Secrets must be manually created in the namespace
     ##
<span class="gd">-    # tls:
</span><span class="gi">+    tls: []
</span>     #   - secretName: prometheus-alerts-tls
     #     hosts:
     #       - alertmanager.domain.com
 
<span class="gd">-  ## Alertmanager container name
</span><span class="gi">+  ## Node labels for alertmanager pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span>   ##
<span class="gd">-  name: alertmanager
</span><span class="gi">+  nodeSelector: {}
</span> 
   persistentVolume:
<span class="gd">-    ## If true, AlertManager will create/use a Persistent Volume Claim
</span><span class="gi">+    ## If true, alertmanager will create/use a Persistent Volume Claim
</span>     ## If false, use emptyDir
     ##
     enabled: true
 
<span class="gd">-    ## AlertManager data Persistent Volume access modes
</span><span class="gi">+    ## alertmanager data Persistent Volume access modes
</span>     ## Must match those of existing PV or dynamic provisioner
     ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
     ##
     accessModes:
       - ReadWriteOnce
 
<span class="gd">-    ## AlertManager data Persistent Volume annotations
</span><span class="gi">+    ## alertmanager data Persistent Volume Claim annotations
</span>     ##
<span class="gd">-    # annotations:
</span><span class="gi">+    annotations: {}
</span> 
<span class="gd">-    ## AlertManager data Persistent Volume existing claim name
</span><span class="gi">+    ## alertmanager data Persistent Volume existing claim name
</span>     ## Requires alertmanager.persistentVolume.enabled: true
     ## If defined, PVC must be created manually before volume will be bound
<span class="gd">-    # existingClaim:
</span><span class="gi">+    existingClaim: ""
+
+    ## alertmanager data Persistent Volume mount root path
+    ##
+    mountPath: /data
</span> 
<span class="gd">-    ## AlertManager data Persistent Volume size
</span><span class="gi">+    ## alertmanager data Persistent Volume size
</span>     ##
     size: 2Gi
 
<span class="gd">-    ## AlertManager data Persistent Volume Storage Class
</span><span class="gi">+    ## alertmanager data Persistent Volume Storage Class
</span>     ## If defined, volume.beta.kubernetes.io/storage-class: &lt;storageClass&gt;
     ## Default: volume.alpha.kubernetes.io/storage-class: default
     ##
<span class="gd">-    # storageClass:
</span><span class="gi">+    storageClass: ""
</span> 
<span class="gd">-    ## Subdirectory of the volume to mount at
</span><span class="gi">+    ## Subdirectory of alertmanager data Persistent Volume to mount
</span>     ## Useful if the volume's root directory is not empty
     ##
     subPath: ""
 
<span class="gd">-  ## Alertmanager resource requests and limits
</span><span class="gi">+  ## Annotations to be added to alertmanager pods
+  ##
+  podAnnotations: {}
+
+  replicaCount: 1
+
+  ## alertmanager resource requests and limits
</span>   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="gd">-  resources:
</span><span class="gi">+  resources: {}
</span>     # limits:
     #   cpu: 10m
     #   memory: 32Mi
<span class="gd">-    requests:
-      cpu: 10m
-      memory: 32Mi
</span><span class="gi">+    # requests:
+    #   cpu: 10m
+    #   memory: 32Mi
</span> 
<span class="gd">-  ## Alertmanager service type
-  ##
-  serviceType: ClusterIP
</span><span class="gi">+  service:
+    annotations: {}
+    clusterIP: ""
</span> 
<span class="gd">-  ## Alertmanager data storage path
-  ## Default: '/data'
-  ##
-  # storagePath: /data
</span><span class="gi">+    ## List of IP addresses at which the alertmanager service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+    externalIPs: []
+
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 80
+    type: ClusterIP
</span> 
 ## Monitors ConfigMap changes and POSTs to a URL
 ## Ref: https://github.com/jimmidyson/configmap-reload
 ##
 configmapReload:
<span class="gd">-  ## Configmap-reload Docker image
</span><span class="gi">+  ## configmap-reload container name
</span>   ##
<span class="gd">-  image: jimmidyson/configmap-reload:v0.1
</span><span class="gi">+  name: configmap-reload
</span> 
<span class="gd">-  ## Configmap-reload container name
</span><span class="gi">+  ## configmap-reload container image
</span>   ##
<span class="gd">-  name: configmap-reload
</span><span class="gi">+  image:
+    repository: jimmidyson/configmap-reload
+    tag: v0.1
+    pullPolicy: IfNotPresent
</span> 
<span class="gd">-## Global imagePullPolicy
-## Default: 'Always' if image tag is 'latest', else 'IfNotPresent'
-## Ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
-##
-# imagePullPolicy:
</span><span class="gi">+  ## configmap-reload resource requests and limits
+  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
+  ##
+  resources: {}
</span> 
 kubeStateMetrics:
<span class="gd">-  ## Kube-state-metrics service port
</span><span class="gi">+  ## If false, kube-state-metrics will not be installed
+  ##
+  enabled: true
+
+  ## kube-state-metrics container name
</span>   ##
<span class="gd">-  httpPort: 80
</span><span class="gi">+  name: kube-state-metrics
</span> 
<span class="gd">-  ## Kube-state-metrics service port name
-  ## Default: 'http'
</span><span class="gi">+  ## kube-state-metrics container image
</span>   ##
<span class="gd">-  # httpPortName: http
</span><span class="gi">+  image:
+    repository: gcr.io/google_containers/kube-state-metrics
+    tag: v0.4.1
+    pullPolicy: IfNotPresent
</span> 
<span class="gd">-  ## Kube-state-metrics Docker image
</span><span class="gi">+  ## Node labels for kube-state-metrics pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span>   ##
<span class="gd">-  image: gcr.io/google_containers/kube-state-metrics:v0.3.0
</span><span class="gi">+  nodeSelector: {}
</span> 
<span class="gd">-  ## Kube-state-metrics container name
</span><span class="gi">+  ## Annotations to be added to kube-state-metrics pods
</span>   ##
<span class="gd">-  name: kube-state-metrics
</span><span class="gi">+  podAnnotations: {}
</span> 
<span class="gd">-  ## Kube-state-metrics resource requests and limits
</span><span class="gi">+  replicaCount: 1
+
+  ## kube-state-metrics resource requests and limits
</span>   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="gd">-  resources:
</span><span class="gi">+  resources: {}
</span>     # limits:
     #   cpu: 10m
     #   memory: 16Mi
<span class="gd">-    requests:
-      cpu: 10m
-      memory: 16Mi
</span><span class="gi">+    # requests:
+    #   cpu: 10m
+    #   memory: 16Mi
+
+  service:
+    annotations:
+      prometheus.io/scrape: "true"
+
+    clusterIP: None
+
+    ## List of IP addresses at which the kube-state-metrics service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+    externalIPs: []
+
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 80
+    type: ClusterIP
</span> 
<span class="gd">-  ## Kube-state-metrics service type
</span><span class="gi">+nodeExporter:
+  ## If false, node-exporter will not be installed
</span>   ##
<span class="gd">-  serviceType: ClusterIP
</span><span class="gi">+  enabled: true
</span> 
<span class="gd">-server:
-  ## Server Pod annotations:
</span><span class="gi">+  ## node-exporter container name
+  ##
+  name: node-exporter
+
+  ## node-exporter container image
+  ##
+  image:
+    repository: prom/node-exporter
+    tag: v0.13.0
+    pullPolicy: IfNotPresent
+
+  ## Additional node-exporter container arguments
</span>   ##
<span class="gd">-  # annotations:
-  #   iam.amazonaws.com/role: prometheus
</span><span class="gi">+  extraArgs: {}
</span> 
<span class="gd">-  ## Additional Server container arguments
</span><span class="gi">+  ## Node labels for node-exporter pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
</span>   ##
<span class="gd">-  # extraArgs:
</span><span class="gi">+  nodeSelector: {}
+
+  ## Annotations to be added to node-exporter pods
+  ##
+  podAnnotations: {}
+
+  ## node-exporter resource limits &amp; requests
+  ## Ref: https://kubernetes.io/docs/user-guide/compute-resources/
+  ##
+  resources: {}
+    # limits:
+    #   cpu: 200m
+    #   memory: 50Mi
+    # requests:
+    #   cpu: 100m
+    #   memory: 30Mi
</span> 
<span class="gd">-  ## Server service port
</span><span class="gi">+  service:
+    annotations:
+      prometheus.io/scrape: "true"
+
+    clusterIP: None
+
+    ## List of IP addresses at which the node-exporter service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+    externalIPs: []
+
+    hostPort: 9100
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 9100
+    type: ClusterIP
+
+server:
+  ## Prometheus server container name
</span>   ##
<span class="gd">-  httpPort: 80
</span><span class="gi">+  name: server
</span> 
<span class="gd">-  ## Server service port name
-  ## Default: 'http'
</span><span class="gi">+  ## Prometheus server container image
</span>   ##
<span class="gd">-  # httpPortName: http
</span><span class="gi">+  image:
+    repository: prom/prometheus
+    tag: v1.5.2
+    pullPolicy: IfNotPresent
+
+  ## (optional) alertmanager URL
+  ## only used if alertmanager.enabled = false
+  alertmanagerURL: ""
</span> 
<span class="gd">-  ## Server Docker image
</span><span class="gi">+  ## Additional Prometheus server container arguments
</span>   ##
<span class="gd">-  image: prom/prometheus:v1.5.2
</span><span class="gi">+  extraArgs: {}
</span> 
   ingress:
<span class="gd">-    ## If true, Server Ingress will be created
</span><span class="gi">+    ## If true, Prometheus server Ingress will be created
</span>     ##
     enabled: false
 
<span class="gd">-    ## Server Ingress annotations
</span><span class="gi">+    ## Prometheus server Ingress annotations
</span>     ##
<span class="gd">-    # annotations:
</span><span class="gi">+    annotations: {}
</span>     #   kubernetes.io/ingress.class: nginx
     #   kubernetes.io/tls-acme: 'true'
 
<span class="gd">-    ## Server Ingress hostnames
</span><span class="gi">+    ## Prometheus server Ingress hostnames
</span>     ## Must be provided if Ingress is enabled
     ##
<span class="gd">-    # hosts:
</span><span class="gi">+    hosts: []
</span>     #   - prometheus.domain.com
 
<span class="gd">-    ## Server Ingress TLS configuration
</span><span class="gi">+    ## Prometheus server Ingress TLS configuration
</span>     ## Secrets must be manually created in the namespace
     ##
<span class="gd">-    # tls:
</span><span class="gi">+    tls: []
</span>     #   - secretName: prometheus-server-tls
     #     hosts:
     #       - prometheus.domain.com
 
<span class="gd">-  ## Server container name
-  ##
-  name: server
</span><span class="gi">+  ## Node labels for Prometheus server pod assignment
+  ## Ref: https://kubernetes.io/docs/user-guide/node-selection/
+  nodeSelector: {}
</span> 
   persistentVolume:
<span class="gd">-    ## If true, Server will create/use a Persistent Volume Claim
</span><span class="gi">+    ## If true, Prometheus server will create/use a Persistent Volume Claim
</span>     ## If false, use emptyDir
     ##
     enabled: true
 
<span class="gd">-    ## Server data Persistent Volume access modes
</span><span class="gi">+    ## Prometheus server data Persistent Volume access modes
</span>     ## Must match those of existing PV or dynamic provisioner
     ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
     ##
     accessModes:
       - ReadWriteOnce
 
<span class="gd">-    ## Server data Persistent Volume annotations
</span><span class="gi">+    ## Prometheus server data Persistent Volume annotations
</span>     ##
<span class="gd">-    # annotations:
</span><span class="gi">+    annotations: {}
</span> 
<span class="gd">-    ## Server data Persistent Volume existing claim name
</span><span class="gi">+    ## Prometheus server data Persistent Volume existing claim name
</span>     ## Requires server.persistentVolume.enabled: true
     ## If defined, PVC must be created manually before volume will be bound
<span class="gd">-    # existingClaim:
</span><span class="gi">+    existingClaim: ""
</span> 
<span class="gd">-    ## Server data Persistent Volume size
</span><span class="gi">+    ## Prometheus server data Persistent Volume mount root path
+    ##
+    mountPath: /data
+
+    ## Prometheus server data Persistent Volume size
</span>     ##
     size: 8Gi
 
<span class="gd">-    ## AlertManager data Persistent Volume Storage Class
</span><span class="gi">+    ## Prometheus server data Persistent Volume Storage Class
</span>     ## If defined, volume.beta.kubernetes.io/storage-class: &lt;storageClass&gt;
     ## Default: volume.alpha.kubernetes.io/storage-class: default
     ##
<span class="gd">-    # storageClass:
</span><span class="gi">+    storageClass: ""
</span> 
<span class="gd">-    ## Subdirectory of the volume to mount at
</span><span class="gi">+    ## Subdirectory of Prometheus server data Persistent Volume to mount
</span>     ## Useful if the volume's root directory is not empty
     ##
     subPath: ""
 
<span class="gd">-  ## Server resource requests and limits
</span><span class="gi">+  ## Annotations to be added to Prometheus server pods
+  ##
+  podAnnotations: {}
+    # iam.amazonaws.com/role: prometheus
+
+  replicaCount: 1
+
+  ## Prometheus server resource requests and limits
</span>   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="gd">-  resources:
</span><span class="gi">+  resources: {}
</span>     # limits:
     #   cpu: 500m
     #   memory: 512Mi
<span class="gd">-    requests:
-      cpu: 500m
-      memory: 512Mi
</span><span class="gi">+    # requests:
+    #   cpu: 500m
+    #   memory: 512Mi
</span> 
<span class="gd">-  ## Server service type
-  ##
-  serviceType: ClusterIP
</span><span class="gi">+  service:
+    annotations: {}
+    clusterIP: ""
</span> 
<span class="gd">-  ## Server local data storage path
-  ## Default: '/data'
-  ##
-  # storageLocalPath: /data
</span><span class="gi">+    ## List of IP addresses at which the Prometheus server service is available
+    ## Ref: https://kubernetes.io/docs/user-guide/services/#external-ips
+    ##
+    externalIPs: []
+
+    loadBalancerIP: ""
+    loadBalancerSourceRanges: []
+    servicePort: 80
+    type: ClusterIP
</span> 
<span class="gd">-  ## Server Pod termination grace period
-  ## Default: 300s (5m)
</span><span class="gi">+  ## Prometheus server pod termination grace period
</span>   ##
<span class="gd">-  # terminationGracePeriodSeconds: 300
</span><span class="gi">+  terminationGracePeriodSeconds: 300
</span> 
<span class="gd">-## Alertmanager ConfigMap entries
</span><span class="gi">+## alertmanager ConfigMap entries
</span> ##
 alertmanagerFiles:
<span class="gd">-  alertmanager.yml: |
</span><span class="gi">+  alertmanager.yml: |-
</span>     global:
       # slack_api_url: ''
 
<span class="p">@@ -282,17 +396,13 @@</span> alertmanagerFiles:
       receiver: default-receiver
       repeat_interval: 3h
 
<span class="gd">-## Server ConfigMap entries
</span><span class="gi">+## Prometheus server ConfigMap entries
</span> ##
 serverFiles:
   alerts: ""
   rules: ""
 
<span class="gd">-  prometheus.yml: |
-    global:
-      scrape_interval:     15s
-      evaluation_interval: 15s
-
</span><span class="gi">+  prometheus.yml: |-
</span>     rule_files:
       - /etc/config/rules
       - /etc/config/alerts
<span class="p">@@ -303,7 +413,7 @@</span> serverFiles:
           - targets:
             - localhost:9090
 
<span class="gd">-      # Scrape configurations for running Prometheus on a Kubernetes cluster.
</span><span class="gi">+      # A scrape configuration for running Prometheus on a Kubernetes cluster.
</span>       # This uses separate scrape configs for cluster components (i.e. API server, node)
       # and services to allow each to use different authentication configs.
       #
<span class="p">@@ -311,7 +421,16 @@</span> serverFiles:
       # `labelmap` relabeling action.
 
       # Scrape config for API servers.
<span class="gd">-      - job_name: kubernetes-apiservers
</span><span class="gi">+      #
+      # Kubernetes exposes API servers as endpoints to the default/kubernetes
+      # service so this uses `endpoints` role and uses relabelling to only keep
+      # the endpoints associated with the default/kubernetes service using the
+      # default named port `https`. This works for single API server deployments as
+      # well as HA API server deployments.
+      - job_name: 'kubernetes-apiservers'
+
+        kubernetes_sd_configs:
+          - role: endpoints
</span> 
         # Default to scraping over https. If required, just disable this or change to
         # `http`.
<span class="p">@@ -319,8 +438,10 @@</span> serverFiles:
 
         # This TLS &amp; bearer token file config is used to connect to the actual scrape
         # endpoints for cluster components. This is separate to discovery auth
<span class="gd">-        # configuration (`in_cluster` below) because discovery &amp; scraping are two
-        # separate concerns in Prometheus.
</span><span class="gi">+        # configuration because discovery &amp; scraping are two separate concerns in
+        # Prometheus. The discovery auth config is automatic if Prometheus runs inside
+        # the cluster. Otherwise, more config options have to be provided within the
+        # &lt;kubernetes_sd_config&gt;.
</span>         tls_config:
           ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
           # If your node certificates are self-signed or use a different CA to the
<span class="p">@@ -329,7 +450,7 @@</span> serverFiles:
           # so this should only be disabled in a controlled environment. You can
           # disable certificate verification by uncommenting the line below.
           #
<span class="gd">-          # insecure_skip_verify: true
</span><span class="gi">+          insecure_skip_verify: true
</span>         bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
 
         # Keep only the default/kubernetes service endpoints for the https port. This
<span class="p">@@ -340,7 +461,7 @@</span> serverFiles:
             action: keep
             regex: default;kubernetes;https
 
<span class="gd">-      - job_name: kubernetes-nodes
</span><span class="gi">+      - job_name: 'kubernetes-nodes'
</span> 
         # Default to scraping over https. If required, just disable this or change to
         # `http`.
<span class="p">@@ -348,8 +469,10 @@</span> serverFiles:
 
         # This TLS &amp; bearer token file config is used to connect to the actual scrape
         # endpoints for cluster components. This is separate to discovery auth
<span class="gd">-        # configuration (`in_cluster` below) because discovery &amp; scraping are two
-        # separate concerns in Prometheus.
</span><span class="gi">+        # configuration because discovery &amp; scraping are two separate concerns in
+        # Prometheus. The discovery auth config is automatic if Prometheus runs inside
+        # the cluster. Otherwise, more config options have to be provided within the
+        # &lt;kubernetes_sd_config&gt;.
</span>         tls_config:
           ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
           # If your node certificates are self-signed or use a different CA to the
<span class="p">@@ -358,7 +481,7 @@</span> serverFiles:
           # so this should only be disabled in a controlled environment. You can
           # disable certificate verification by uncommenting the line below.
           #
<span class="gd">-          # insecure_skip_verify: true
</span><span class="gi">+          insecure_skip_verify: true
</span>         bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
 
         kubernetes_sd_configs:
<span class="p">@@ -403,7 +526,7 @@</span> serverFiles:
             replacement: $1:$2
           - action: labelmap
             regex: __meta_kubernetes_service_label_(.+)
<span class="gd">-          - source_labels: [__meta_kubernetes_service_namespace]
</span><span class="gi">+          - source_labels: [__meta_kubernetes_namespace]
</span>             action: replace
             target_label: kubernetes_namespace
           - source_labels: [__meta_kubernetes_service_name]
<span class="p">@@ -416,31 +539,31 @@</span> serverFiles:
       # via the following annotations:
       #
       # * `prometheus.io/probe`: Only probe services that have a value of `true`
<span class="gd">-      # - job_name: 'kubernetes-services'
-      #
-      #   metrics_path: /probe
-      #   params:
-      #     module: [http_2xx]
-      #
-      #   kubernetes_sd_configs:
-      #     - role: service
-      #
-      #   relabel_configs:
-      #     - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_probe]
-      #       action: keep
-      #       regex: true
-      #     - source_labels: [__address__]
-      #       target_label: __param_target
-      #     - target_label: __address__
-      #       replacement: blackbox
-      #     - source_labels: [__param_target]
-      #       target_label: instance
-      #     - action: labelmap
-      #       regex: __meta_kubernetes_service_label_(.+)
-      #     - source_labels: [__meta_kubernetes_service_namespace]
-      #       target_label: kubernetes_namespace
-      #     - source_labels: [__meta_kubernetes_service_name]
-      #       target_label: kubernetes_name
</span><span class="gi">+      - job_name: 'kubernetes-services'
+
+        metrics_path: /probe
+        params:
+          module: [http_2xx]
+
+        kubernetes_sd_configs:
+          - role: service
+
+        relabel_configs:
+          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_probe]
+            action: keep
+            regex: true
+          - source_labels: [__address__]
+            target_label: __param_target
+          - target_label: __address__
+            replacement: blackbox
+          - source_labels: [__param_target]
+            target_label: instance
+          - action: labelmap
+            regex: __meta_kubernetes_service_label_(.+)
+          - source_labels: [__meta_kubernetes_namespace]
+            target_label: kubernetes_namespace
+          - source_labels: [__meta_kubernetes_service_name]
+            target_label: kubernetes_name
</span> 
       # Example scrape config for pods
       #
<span class="p">@@ -470,7 +593,7 @@</span> serverFiles:
             target_label: __address__
           - action: labelmap
             regex: __meta_kubernetes_pod_label_(.+)
<span class="gd">-          - source_labels: [__meta_kubernetes_pod_namespace]
</span><span class="gi">+          - source_labels: [__meta_kubernetes_namespace]
</span>             action: replace
             target_label: kubernetes_namespace
           - source_labels: [__meta_kubernetes_pod_name]
<span class="err">
</span></code></pre></div></div> <h2 id="204"> <a href="#204" class="anchor-heading" aria-labelledby="204"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.4 </h2> <p><strong>Release date:</strong> 2017-02-13</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Bump server image version (#535)</li> </ul> <h3 id="default-value-changes-429"> <a href="#default-value-changes-429" class="anchor-heading" aria-labelledby="default-value-changes-429"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index ed906bf5..4e09add0 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -72,10 +72,10 @@</span> alertmanager:
     ## Default: volume.alpha.kubernetes.io/storage-class: default
     ##
     # storageClass:
<span class="gd">-    
</span><span class="gi">+
</span>     ## Subdirectory of the volume to mount at
     ## Useful if the volume's root directory is not empty
<span class="gd">-    ## 
</span><span class="gi">+    ##
</span>     subPath: ""
 
   ## Alertmanager resource requests and limits
<span class="p">@@ -170,7 +170,7 @@</span> server:
 
   ## Server Docker image
   ##
<span class="gd">-  image: prom/prometheus:v1.4.1
</span><span class="gi">+  image: prom/prometheus:v1.5.2
</span> 
   ingress:
     ## If true, Server Ingress will be created
<span class="p">@@ -232,10 +232,10 @@</span> server:
     ## Default: volume.alpha.kubernetes.io/storage-class: default
     ##
     # storageClass:
<span class="gd">-    
</span><span class="gi">+
</span>     ## Subdirectory of the volume to mount at
     ## Useful if the volume's root directory is not empty
<span class="gd">-    ## 
</span><span class="gi">+    ##
</span>     subPath: ""
 
   ## Server resource requests and limits
<span class="err">
</span></code></pre></div></div> <h2 id="203"> <a href="#203" class="anchor-heading" aria-labelledby="203"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.3 </h2> <p><strong>Release date:</strong> 2017-02-03</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Update to the recommended pvc patterns. (#463)</li> </ul> <h3 id="default-value-changes-430"> <a href="#default-value-changes-430" class="anchor-heading" aria-labelledby="default-value-changes-430"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="202"> <a href="#202" class="anchor-heading" aria-labelledby="202"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.2 </h2> <p><strong>Release date:</strong> 2017-02-01</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>
<a href="remove%20outdated%20networkpolicy%20note%20(#2686)">stable/prometheus</a> Use volumeMount subPath to fix prometheus-server from crashing (#424)</li> </ul> <h3 id="default-value-changes-431"> <a href="#default-value-changes-431" class="anchor-heading" aria-labelledby="default-value-changes-431"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 64822204..ed906bf5 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -72,6 +72,11 @@</span> alertmanager:
     ## Default: volume.alpha.kubernetes.io/storage-class: default
     ##
     # storageClass:
<span class="gi">+    
+    ## Subdirectory of the volume to mount at
+    ## Useful if the volume's root directory is not empty
+    ## 
+    subPath: ""
</span> 
   ## Alertmanager resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="p">@@ -227,6 +232,11 @@</span> server:
     ## Default: volume.alpha.kubernetes.io/storage-class: default
     ##
     # storageClass:
<span class="gi">+    
+    ## Subdirectory of the volume to mount at
+    ## Useful if the volume's root directory is not empty
+    ## 
+    subPath: ""
</span> 
   ## Server resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
<span class="err">
</span></code></pre></div></div> <h2 id="201"> <a href="#201" class="anchor-heading" aria-labelledby="201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.1 </h2> <p><strong>Release date:</strong> 2017-01-19</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Prometheus: provide options to use existing PVCs (#252)</li> </ul> <h3 id="default-value-changes-432"> <a href="#default-value-changes-432" class="anchor-heading" aria-labelledby="default-value-changes-432"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 865da65e..64822204 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -42,7 +42,7 @@</span> alertmanager:
   name: alertmanager
 
   persistentVolume:
<span class="gd">-    ## If true, AlertManager will create a Persistent Volume Claim
</span><span class="gi">+    ## If true, AlertManager will create/use a Persistent Volume Claim
</span>     ## If false, use emptyDir
     ##
     enabled: true
<span class="p">@@ -58,6 +58,11 @@</span> alertmanager:
     ##
     # annotations:
 
<span class="gi">+    ## AlertManager data Persistent Volume existing claim name
+    ## Requires alertmanager.persistentVolume.enabled: true
+    ## If defined, PVC must be created manually before volume will be bound
+    # existingClaim:
+
</span>     ## AlertManager data Persistent Volume size
     ##
     size: 2Gi
<span class="p">@@ -192,7 +197,7 @@</span> server:
   name: server
 
   persistentVolume:
<span class="gd">-    ## If true, Server will create a Persistent Volume Claim
</span><span class="gi">+    ## If true, Server will create/use a Persistent Volume Claim
</span>     ## If false, use emptyDir
     ##
     enabled: true
<span class="p">@@ -208,6 +213,11 @@</span> server:
     ##
     # annotations:
 
<span class="gi">+    ## Server data Persistent Volume existing claim name
+    ## Requires server.persistentVolume.enabled: true
+    ## If defined, PVC must be created manually before volume will be bound
+    # existingClaim:
+
</span>     ## Server data Persistent Volume size
     ##
     size: 8Gi
<span class="err">
</span></code></pre></div></div> <h2 id="200"> <a href="#200" class="anchor-heading" aria-labelledby="200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.0 </h2> <p><strong>Release date:</strong> 2017-01-13</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>fixed Prometheus Ingress path rules (#375)</li> </ul> <h3 id="default-value-changes-433"> <a href="#default-value-changes-433" class="anchor-heading" aria-labelledby="default-value-changes-433"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="142"> <a href="#142" class="anchor-heading" aria-labelledby="142"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.4.2 </h2> <p><strong>Release date:</strong> 2017-01-09</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Unquote Prometheus storage paths (#350)</li> <li>removed unneeded trim (#373)</li> <li>Merge pull request #209 from sameersbn/misc-fixes</li> </ul> <h3 id="default-value-changes-434"> <a href="#default-value-changes-434" class="anchor-heading" aria-labelledby="default-value-changes-434"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="141"> <a href="#141" class="anchor-heading" aria-labelledby="141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.4.1 </h2> <p><strong>Release date:</strong> 2016-12-12</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Merge pull request #251 from mgoodness/prometheus-1.4.0</li> <li>specify namespace in <code class="language-plaintext highlighter-rouge">kubectl get svc</code> commands in NOTES.txt</li> </ul> <h3 id="default-value-changes-435"> <a href="#default-value-changes-435" class="anchor-heading" aria-labelledby="default-value-changes-435"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 4861c3ea..865da65e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -10,7 +10,7 @@</span> alertmanager:
 
   ## Alertmanager Docker image
   ##
<span class="gd">-  image: prom/alertmanager:v0.5.0
</span><span class="gi">+  image: prom/alertmanager:v0.5.1
</span> 
   ingress:
     ## If true, Alertmanager Ingress will be created
<span class="p">@@ -160,7 +160,7 @@</span> server:
 
   ## Server Docker image
   ##
<span class="gd">-  image: prom/prometheus:v1.3.1
</span><span class="gi">+  image: prom/prometheus:v1.4.1
</span> 
   ingress:
     ## If true, Server Ingress will be created
<span class="err">
</span></code></pre></div></div> <h2 id="131"> <a href="#131" class="anchor-heading" aria-labelledby="131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.1 </h2> <p><strong>Release date:</strong> 2016-11-30</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Replace Spartakus with Prometheus (#264)</li> </ul> <h3 id="default-value-changes-436"> <a href="#default-value-changes-436" class="anchor-heading" aria-labelledby="default-value-changes-436"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="141-1"> <a href="#141-1" class="anchor-heading" aria-labelledby="141-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.4.1 </h2> <p><strong>Release date:</strong> 2016-11-29</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Prometheus 1.4.1</li> </ul> <h3 id="default-value-changes-437"> <a href="#default-value-changes-437" class="anchor-heading" aria-labelledby="default-value-changes-437"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 110b30de..865da65e 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -160,7 +160,7 @@</span> server:
 
   ## Server Docker image
   ##
<span class="gd">-  image: prom/prometheus:v1.4.0
</span><span class="gi">+  image: prom/prometheus:v1.4.1
</span> 
   ingress:
     ## If true, Server Ingress will be created
<span class="err">
</span></code></pre></div></div> <h2 id="140"> <a href="#140" class="anchor-heading" aria-labelledby="140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.4.0 </h2> <p><strong>Release date:</strong> 2016-11-25</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Bump Prometheus chart version</li> <li>Prometheus: add kube-state-metrics (#236)</li> <li>Default PVC SC is alpha:default</li> <li>Default to alpha dynamic PV annotation</li> <li>Update docs for charts moved to stable (#218)</li> </ul> <h3 id="default-value-changes-438"> <a href="#default-value-changes-438" class="anchor-heading" aria-labelledby="default-value-changes-438"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/prometheus/values.yaml b/charts/prometheus/values.yaml
index 85d9bd24..110b30de 100644
</span><span class="gd">--- a/charts/prometheus/values.yaml
</span><span class="gi">+++ b/charts/prometheus/values.yaml
</span><span class="p">@@ -10,7 +10,7 @@</span> alertmanager:
 
   ## Alertmanager Docker image
   ##
<span class="gd">-  image: prom/alertmanager:v0.5.0
</span><span class="gi">+  image: prom/alertmanager:v0.5.1
</span> 
   ingress:
     ## If true, Alertmanager Ingress will be created
<span class="p">@@ -56,13 +56,18 @@</span> alertmanager:
 
     ## AlertManager data Persistent Volume annotations
     ##
<span class="gd">-    annotations:
-      volume.beta.kubernetes.io/storage-class: standard
</span><span class="gi">+    # annotations:
</span> 
     ## AlertManager data Persistent Volume size
     ##
     size: 2Gi
 
<span class="gi">+    ## AlertManager data Persistent Volume Storage Class
+    ## If defined, volume.beta.kubernetes.io/storage-class: &lt;storageClass&gt;
+    ## Default: volume.alpha.kubernetes.io/storage-class: default
+    ##
+    # storageClass:
+
</span>   ## Alertmanager resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="p">@@ -101,6 +106,39 @@</span> configmapReload:
 ##
 # imagePullPolicy:
 
<span class="gi">+kubeStateMetrics:
+  ## Kube-state-metrics service port
+  ##
+  httpPort: 80
+
+  ## Kube-state-metrics service port name
+  ## Default: 'http'
+  ##
+  # httpPortName: http
+
+  ## Kube-state-metrics Docker image
+  ##
+  image: gcr.io/google_containers/kube-state-metrics:v0.3.0
+
+  ## Kube-state-metrics container name
+  ##
+  name: kube-state-metrics
+
+  ## Kube-state-metrics resource requests and limits
+  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
+  ##
+  resources:
+    # limits:
+    #   cpu: 10m
+    #   memory: 16Mi
+    requests:
+      cpu: 10m
+      memory: 16Mi
+
+  ## Kube-state-metrics service type
+  ##
+  serviceType: ClusterIP
+
</span> server:
   ## Server Pod annotations:
   ##
<span class="p">@@ -122,7 +160,7 @@</span> server:
 
   ## Server Docker image
   ##
<span class="gd">-  image: prom/prometheus:v1.3.1
</span><span class="gi">+  image: prom/prometheus:v1.4.0
</span> 
   ingress:
     ## If true, Server Ingress will be created
<span class="p">@@ -168,13 +206,18 @@</span> server:
 
     ## Server data Persistent Volume annotations
     ##
<span class="gd">-    annotations:
-      volume.beta.kubernetes.io/storage-class: standard
</span><span class="gi">+    # annotations:
</span> 
     ## Server data Persistent Volume size
     ##
     size: 8Gi
 
<span class="gi">+    ## AlertManager data Persistent Volume Storage Class
+    ## If defined, volume.beta.kubernetes.io/storage-class: &lt;storageClass&gt;
+    ## Default: volume.alpha.kubernetes.io/storage-class: default
+    ##
+    # storageClass:
+
</span>   ## Server resource requests and limits
   ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="131-1"> <a href="#131-1" class="anchor-heading" aria-labelledby="131-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.3.1 </h2> <p><strong>Release date:</strong> 2016-11-14</p> <p><img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Move Prometheus to stable</li> </ul> <h3 id="default-value-changes-439"> <a href="#default-value-changes-439" class="anchor-heading" aria-labelledby="default-value-changes-439"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">alertmanager:
</span>  ## Alertmanager service port
  ##
  httpPort: 80
<span class="err">
</span>  ## Alertmanager service port name
  ## Default: 'http'
  ##
  # httpPortName: http
<span class="err">
</span>  ## Alertmanager Docker image
  ##
  image: prom/alertmanager:v0.5.0
<span class="err">
</span>  ingress:
    ## If true, Alertmanager Ingress will be created
    ##
    enabled: false
<span class="err">
</span>    ## Alertmanager Ingress annotations
    ##
    # annotations:
    #   kubernetes.io/ingress.class: nginx
    #   kubernetes.io/tls-acme: 'true'
<span class="err">
</span>    ## Alertmanager Ingress hostnames
    ## Must be provided if Ingress is enabled
    ##
    # hosts:
    #   - alertmanager.domain.com
<span class="err">
</span>    ## Alertmanager Ingress TLS configuration
    ## Secrets must be manually created in the namespace
    ##
    # tls:
    #   - secretName: prometheus-alerts-tls
    #     hosts:
    #       - alertmanager.domain.com
<span class="err">
</span>  ## Alertmanager container name
  ##
  name: alertmanager
<span class="err">
</span>  persistentVolume:
    ## If true, AlertManager will create a Persistent Volume Claim
    ## If false, use emptyDir
    ##
    enabled: true
<span class="err">
</span>    ## AlertManager data Persistent Volume access modes
    ## Must match those of existing PV or dynamic provisioner
    ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
    ##
    accessModes:
      - ReadWriteOnce
<span class="err">
</span>    ## AlertManager data Persistent Volume annotations
    ##
    annotations:
      volume.beta.kubernetes.io/storage-class: standard
<span class="err">
</span>    ## AlertManager data Persistent Volume size
    ##
    size: 2Gi
<span class="err">
</span>  ## Alertmanager resource requests and limits
  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
  ##
  resources:
    # limits:
    #   cpu: 10m
    #   memory: 32Mi
    requests:
      cpu: 10m
      memory: 32Mi
<span class="err">
</span>  ## Alertmanager service type
  ##
  serviceType: ClusterIP
<span class="err">
</span>  ## Alertmanager data storage path
  ## Default: '/data'
  ##
  # storagePath: /data
<span class="err">
</span>## Monitors ConfigMap changes and POSTs to a URL
## Ref: https://github.com/jimmidyson/configmap-reload
##
<span class="p">configmapReload:
</span>  ## Configmap-reload Docker image
  ##
  image: jimmidyson/configmap-reload:v0.1
<span class="err">
</span>  ## Configmap-reload container name
  ##
  name: configmap-reload
<span class="err">
</span>## Global imagePullPolicy
## Default: 'Always' if image tag is 'latest', else 'IfNotPresent'
## Ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
##
# imagePullPolicy:
<span class="err">
</span><span class="p">server:
</span>  ## Server Pod annotations:
  ##
  # annotations:
  #   iam.amazonaws.com/role: prometheus
<span class="err">
</span>  ## Additional Server container arguments
  ##
  # extraArgs:
<span class="err">
</span>  ## Server service port
  ##
  httpPort: 80
<span class="err">
</span>  ## Server service port name
  ## Default: 'http'
  ##
  # httpPortName: http
<span class="err">
</span>  ## Server Docker image
  ##
  image: prom/prometheus:v1.3.1
<span class="err">
</span>  ingress:
    ## If true, Server Ingress will be created
    ##
    enabled: false
<span class="err">
</span>    ## Server Ingress annotations
    ##
    # annotations:
    #   kubernetes.io/ingress.class: nginx
    #   kubernetes.io/tls-acme: 'true'
<span class="err">
</span>    ## Server Ingress hostnames
    ## Must be provided if Ingress is enabled
    ##
    # hosts:
    #   - prometheus.domain.com
<span class="err">
</span>    ## Server Ingress TLS configuration
    ## Secrets must be manually created in the namespace
    ##
    # tls:
    #   - secretName: prometheus-server-tls
    #     hosts:
    #       - prometheus.domain.com
<span class="err">
</span>  ## Server container name
  ##
  name: server
<span class="err">
</span>  persistentVolume:
    ## If true, Server will create a Persistent Volume Claim
    ## If false, use emptyDir
    ##
    enabled: true
<span class="err">
</span>    ## Server data Persistent Volume access modes
    ## Must match those of existing PV or dynamic provisioner
    ## Ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
    ##
    accessModes:
      - ReadWriteOnce
<span class="err">
</span>    ## Server data Persistent Volume annotations
    ##
    annotations:
      volume.beta.kubernetes.io/storage-class: standard
<span class="err">
</span>    ## Server data Persistent Volume size
    ##
    size: 8Gi
<span class="err">
</span>  ## Server resource requests and limits
  ## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
  ##
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 512Mi
    requests:
      cpu: 500m
      memory: 512Mi
<span class="err">
</span>  ## Server service type
  ##
  serviceType: ClusterIP
<span class="err">
</span>  ## Server local data storage path
  ## Default: '/data'
  ##
  # storageLocalPath: /data
<span class="err">
</span>  ## Server Pod termination grace period
  ## Default: 300s (5m)
  ##
  # terminationGracePeriodSeconds: 300
<span class="err">
</span>## Alertmanager ConfigMap entries
##
<span class="p">alertmanagerFiles:
</span>  alertmanager.yml: |
    global:
      # slack_api_url: ''
<span class="err">
</span>    receivers:
      - name: default-receiver
        # slack_configs:
        #  - channel: '@you'
        #    send_resolved: true
<span class="err">
</span>    route:
      group_wait: 10s
      group_interval: 5m
      receiver: default-receiver
      repeat_interval: 3h
<span class="err">
</span>## Server ConfigMap entries
##
<span class="p">serverFiles:
</span>  alerts: ""
  rules: ""
<span class="err">
</span>  prometheus.yml: |
    global:
      scrape_interval:     15s
      evaluation_interval: 15s
<span class="err">
</span>    rule_files:
      - /etc/config/rules
      - /etc/config/alerts
<span class="err">
</span>    scrape_configs:
      - job_name: prometheus
        static_configs:
          - targets:
            - localhost:9090
<span class="err">
</span>      # Scrape configurations for running Prometheus on a Kubernetes cluster.
      # This uses separate scrape configs for cluster components (i.e. API server, node)
      # and services to allow each to use different authentication configs.
      #
      # Kubernetes labels will be added as Prometheus labels on metrics via the
      # `labelmap` relabeling action.
<span class="err">
</span>      # Scrape config for API servers.
      - job_name: kubernetes-apiservers
<span class="err">
</span>        # Default to scraping over https. If required, just disable this or change to
        # `http`.
        scheme: https
<span class="err">
</span>        # This TLS &amp; bearer token file config is used to connect to the actual scrape
        # endpoints for cluster components. This is separate to discovery auth
        # configuration (`in_cluster` below) because discovery &amp; scraping are two
        # separate concerns in Prometheus.
        tls_config:
          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
          # If your node certificates are self-signed or use a different CA to the
          # master CA, then disable certificate verification below. Note that
          # certificate verification is an integral part of a secure infrastructure
          # so this should only be disabled in a controlled environment. You can
          # disable certificate verification by uncommenting the line below.
          #
          # insecure_skip_verify: true
        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
<span class="err">
</span>        # Keep only the default/kubernetes service endpoints for the https port. This
        # will add targets for each API server which Kubernetes adds an endpoint to
        # the default/kubernetes service.
        relabel_configs:
          - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]
            action: keep
            regex: default;kubernetes;https
<span class="err">
</span>      - job_name: kubernetes-nodes
<span class="err">
</span>        # Default to scraping over https. If required, just disable this or change to
        # `http`.
        scheme: https
<span class="err">
</span>        # This TLS &amp; bearer token file config is used to connect to the actual scrape
        # endpoints for cluster components. This is separate to discovery auth
        # configuration (`in_cluster` below) because discovery &amp; scraping are two
        # separate concerns in Prometheus.
        tls_config:
          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
          # If your node certificates are self-signed or use a different CA to the
          # master CA, then disable certificate verification below. Note that
          # certificate verification is an integral part of a secure infrastructure
          # so this should only be disabled in a controlled environment. You can
          # disable certificate verification by uncommenting the line below.
          #
          # insecure_skip_verify: true
        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
<span class="err">
</span>        kubernetes_sd_configs:
          - role: node
<span class="err">
</span>        relabel_configs:
          - action: labelmap
            regex: __meta_kubernetes_node_label_(.+)
<span class="err">
</span>      # Scrape config for service endpoints.
      #
      # The relabeling allows the actual service scrape endpoint to be configured
      # via the following annotations:
      #
      # * `prometheus.io/scrape`: Only scrape services that have a value of `true`
      # * `prometheus.io/scheme`: If the metrics endpoint is secured then you will need
      # to set this to `https` &amp; most likely set the `tls_config` of the scrape config.
      # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
      # * `prometheus.io/port`: If the metrics are exposed on a different port to the
      # service then set this appropriately.
      - job_name: 'kubernetes-service-endpoints'
<span class="err">
</span>        kubernetes_sd_configs:
          - role: endpoints
<span class="err">
</span>        relabel_configs:
          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape]
            action: keep
            regex: true
          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scheme]
            action: replace
            target_label: __scheme__
            regex: (https?)
          - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_path]
            action: replace
            target_label: __metrics_path__
            regex: (.+)
          - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port]
            action: replace
            target_label: __address__
            regex: (.+)(?::\d+);(\d+)
            replacement: $1:$2
          - action: labelmap
            regex: __meta_kubernetes_service_label_(.+)
          - source_labels: [__meta_kubernetes_service_namespace]
            action: replace
            target_label: kubernetes_namespace
          - source_labels: [__meta_kubernetes_service_name]
            action: replace
            target_label: kubernetes_name
<span class="err">
</span>      # Example scrape config for probing services via the Blackbox Exporter.
      #
      # The relabeling allows the actual service scrape endpoint to be configured
      # via the following annotations:
      #
      # * `prometheus.io/probe`: Only probe services that have a value of `true`
      # - job_name: 'kubernetes-services'
      #
      #   metrics_path: /probe
      #   params:
      #     module: [http_2xx]
      #
      #   kubernetes_sd_configs:
      #     - role: service
      #
      #   relabel_configs:
      #     - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_probe]
      #       action: keep
      #       regex: true
      #     - source_labels: [__address__]
      #       target_label: __param_target
      #     - target_label: __address__
      #       replacement: blackbox
      #     - source_labels: [__param_target]
      #       target_label: instance
      #     - action: labelmap
      #       regex: __meta_kubernetes_service_label_(.+)
      #     - source_labels: [__meta_kubernetes_service_namespace]
      #       target_label: kubernetes_namespace
      #     - source_labels: [__meta_kubernetes_service_name]
      #       target_label: kubernetes_name
<span class="err">
</span>      # Example scrape config for pods
      #
      # The relabeling allows the actual pod scrape endpoint to be configured via the
      # following annotations:
      #
      # * `prometheus.io/scrape`: Only scrape pods that have a value of `true`
      # * `prometheus.io/path`: If the metrics path is not `/metrics` override this.
      # * `prometheus.io/port`: Scrape the pod on the indicated port instead of the default of `9102`.
      - job_name: 'kubernetes-pods'
<span class="err">
</span>        kubernetes_sd_configs:
          - role: pod
<span class="err">
</span>        relabel_configs:
          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]
            action: keep
            regex: true
          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]
            action: replace
            target_label: __metrics_path__
            regex: (.+)
          - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
            action: replace
            regex: (.+):(?:\d+);(\d+)
            replacement: ${1}:${2}
            target_label: __address__
          - action: labelmap
            regex: __meta_kubernetes_pod_label_(.+)
          - source_labels: [__meta_kubernetes_pod_namespace]
            action: replace
            target_label: kubernetes_namespace
          - source_labels: [__meta_kubernetes_pod_name]
            action: replace
            target_label: kubernetes_pod_name
<span class="err">
</span></code></pre></div></div>
<hr> <p>Autogenerated from Helm Chart and git history using <a href="https://github.com/mogensen/helm-changelog" target="_blank" rel="noopener noreferrer">helm-changelog</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
