<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/changelogs/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(11)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(11) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(11) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(11) > ul.nav-list { display: block; } </style> <script src="/changelogs/assets/js/vendor/lunr.min.js"></script> <script src="/changelogs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>promtail | Changelogs</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="promtail" /> <meta name="author" content="Baptiste ROUX" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://baprx.github.io/changelogs/grafana/helm-charts/promtail" /> <meta property="og:url" content="https://baprx.github.io/changelogs/grafana/helm-charts/promtail" /> <meta property="og:site_name" content="Changelogs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="promtail" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Baptiste ROUX"},"headline":"promtail","url":"https://baprx.github.io/changelogs/grafana/helm-charts/promtail"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewbox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewbox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewbox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewbox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/changelogs/" class="site-title lh-tight"> Changelogs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewbox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list">
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in argoproj/argo-helm category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/argoproj/argo-helm" class="nav-list-link">argoproj/argo-helm</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-events" class="nav-list-link">argo-events</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-rollouts" class="nav-list-link">argo-rollouts</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-apps" class="nav-list-link">argocd-apps</a></li>
<li class="nav-list-item"><a href="/changelogs/argoproj/argo-helm/argocd-image-updater" class="nav-list-link">argocd-image-updater</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in authelia/chartrepo category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/authelia/chartrepo" class="nav-list-link">authelia/chartrepo</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/authelia/chartrepo/authelia" class="nav-list-link">authelia</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in bitnami/charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/bitnami/charts" class="nav-list-link">bitnami/charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/CHART_NAME" class="nav-list-link">CHART_NAME</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/airflow" class="nav-list-link">airflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apache" class="nav-list-link">apache</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/apisix" class="nav-list-link">apisix</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/appsmith" class="nav-list-link">appsmith</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-cd" class="nav-list-link">argo-cd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/argo-workflows" class="nav-list-link">argo-workflows</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/aspnet-core" class="nav-list-link">aspnet-core</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cassandra" class="nav-list-link">cassandra</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/cert-manager" class="nav-list-link">cert-manager</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/clickhouse" class="nav-list-link">clickhouse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/common" class="nav-list-link">common</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/concourse" class="nav-list-link">concourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/consul" class="nav-list-link">consul</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/contour" class="nav-list-link">contour</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/deepspeed" class="nav-list-link">deepspeed</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/discourse" class="nav-list-link">discourse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/dokuwiki" class="nav-list-link">dokuwiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/drupal" class="nav-list-link">drupal</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ejbca" class="nav-list-link">ejbca</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/elasticsearch" class="nav-list-link">elasticsearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/etcd" class="nav-list-link">etcd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/external-dns" class="nav-list-link">external-dns</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flink" class="nav-list-link">flink</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/fluentd" class="nav-list-link">fluentd</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/flux" class="nav-list-link">flux</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/ghost" class="nav-list-link">ghost</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/gitea" class="nav-list-link">gitea</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-loki" class="nav-list-link">grafana-loki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-mimir" class="nav-list-link">grafana-mimir</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-operator" class="nav-list-link">grafana-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/grafana-tempo" class="nav-list-link">grafana-tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/haproxy" class="nav-list-link">haproxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/harbor" class="nav-list-link">harbor</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/influxdb" class="nav-list-link">influxdb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jaeger" class="nav-list-link">jaeger</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jasperreports" class="nav-list-link">jasperreports</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jenkins" class="nav-list-link">jenkins</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/joomla" class="nav-list-link">joomla</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/jupyterhub" class="nav-list-link">jupyterhub</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kafka" class="nav-list-link">kafka</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/keycloak" class="nav-list-link">keycloak</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kiam" class="nav-list-link">kiam</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kibana" class="nav-list-link">kibana</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kong" class="nav-list-link">kong</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-prometheus" class="nav-list-link">kube-prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubeapps" class="nav-list-link">kubeapps</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kuberay" class="nav-list-link">kuberay</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/kubernetes-event-exporter" class="nav-list-link">kubernetes-event-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/logstash" class="nav-list-link">logstash</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/magento" class="nav-list-link">magento</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb" class="nav-list-link">mariadb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mariadb-galera" class="nav-list-link">mariadb-galera</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mastodon" class="nav-list-link">mastodon</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/matomo" class="nav-list-link">matomo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mediawiki" class="nav-list-link">mediawiki</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/memcached" class="nav-list-link">memcached</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metallb" class="nav-list-link">metallb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/metrics-server" class="nav-list-link">metrics-server</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/milvus" class="nav-list-link">milvus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/minio" class="nav-list-link">minio</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mlflow" class="nav-list-link">mlflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb" class="nav-list-link">mongodb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mongodb-sharded" class="nav-list-link">mongodb-sharded</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/moodle" class="nav-list-link">moodle</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/multus-cni" class="nav-list-link">multus-cni</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/mysql" class="nav-list-link">mysql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nats" class="nav-list-link">nats</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx" class="nav-list-link">nginx</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/nginx-ingress-controller" class="nav-list-link">nginx-ingress-controller</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/node-exporter" class="nav-list-link">node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/oauth2-proxy" class="nav-list-link">oauth2-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/odoo" class="nav-list-link">odoo</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opencart" class="nav-list-link">opencart</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/opensearch" class="nav-list-link">opensearch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/osclass" class="nav-list-link">osclass</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/parse" class="nav-list-link">parse</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpbb" class="nav-list-link">phpbb</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/phpmyadmin" class="nav-list-link">phpmyadmin</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pinniped" class="nav-list-link">pinniped</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql" class="nav-list-link">postgresql</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/postgresql-ha" class="nav-list-link">postgresql-ha</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prestashop" class="nav-list-link">prestashop</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/pytorch" class="nav-list-link">pytorch</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq" class="nav-list-link">rabbitmq</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/rabbitmq-cluster-operator" class="nav-list-link">rabbitmq-cluster-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis" class="nav-list-link">redis</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redis-cluster" class="nav-list-link">redis-cluster</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/redmine" class="nav-list-link">redmine</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/schema-registry" class="nav-list-link">schema-registry</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sealed-secrets" class="nav-list-link">sealed-secrets</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/solr" class="nav-list-link">solr</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/sonarqube" class="nav-list-link">sonarqube</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spark" class="nav-list-link">spark</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/spring-cloud-dataflow" class="nav-list-link">spring-cloud-dataflow</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/supabase" class="nav-list-link">supabase</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tensorflow-resnet" class="nav-list-link">tensorflow-resnet</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/thanos" class="nav-list-link">thanos</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/tomcat" class="nav-list-link">tomcat</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/vault" class="nav-list-link">vault</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/whereabouts" class="nav-list-link">whereabouts</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wildfly" class="nav-list-link">wildfly</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/wordpress" class="nav-list-link">wordpress</a></li>
<li class="nav-list-item"><a href="/changelogs/bitnami/charts/zookeeper" class="nav-list-link">zookeeper</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in grafana/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/grafana/helm-charts" class="nav-list-link">grafana/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/agent-operator" class="nav-list-link">agent-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs" class="nav-list-link">enterprise-logs</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-logs-simple" class="nav-list-link">enterprise-logs-simple</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/enterprise-metrics" class="nav-list-link">enterprise-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/fluent-bit" class="nav-list-link">fluent-bit</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/grafana" class="nav-list-link">grafana</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/lgtm-distributed" class="nav-list-link">lgtm-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-canary" class="nav-list-link">loki-canary</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-distributed" class="nav-list-link">loki-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/loki-stack" class="nav-list-link">loki-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/promtail" class="nav-list-link">promtail</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/rollout-operator" class="nav-list-link">rollout-operator</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/snyk-exporter" class="nav-list-link">snyk-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/synthetic-monitoring-agent" class="nav-list-link">synthetic-monitoring-agent</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo" class="nav-list-link">tempo</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-distributed" class="nav-list-link">tempo-distributed</a></li>
<li class="nav-list-item"><a href="/changelogs/grafana/helm-charts/tempo-vulture" class="nav-list-link">tempo-vulture</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in kubernetes/ingress-nginx category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/kubernetes/ingress-nginx" class="nav-list-link">kubernetes/ingress-nginx</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/kubernetes/ingress-nginx/ingress-nginx" class="nav-list-link">ingress-nginx</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in minio/operator category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/minio/operator" class="nav-list-link">minio/operator</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/minio/operator/operator" class="nav-list-link">operator</a></li>
<li class="nav-list-item"><a href="/changelogs/minio/operator/tenant" class="nav-list-link">tenant</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in prometheus-community/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/prometheus-community/helm-charts" class="nav-list-link">prometheus-community/helm-charts</a><ul class="nav-list">
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager" class="nav-list-link">alertmanager</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/alertmanager-snmp-notifier" class="nav-list-link">alertmanager-snmp-notifier</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/crds" class="nav-list-link">crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/jiralert" class="nav-list-link">jiralert</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-prometheus-stack" class="nav-list-link">kube-prometheus-stack</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/kube-state-metrics" class="nav-list-link">kube-state-metrics</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prom-label-proxy" class="nav-list-link">prom-label-proxy</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus" class="nav-list-link">prometheus</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-adapter" class="nav-list-link">prometheus-adapter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-blackbox-exporter" class="nav-list-link">prometheus-blackbox-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-cloudwatch-exporter" class="nav-list-link">prometheus-cloudwatch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-conntrack-stats-exporter" class="nav-list-link">prometheus-conntrack-stats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-consul-exporter" class="nav-list-link">prometheus-consul-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-couchdb-exporter" class="nav-list-link">prometheus-couchdb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-druid-exporter" class="nav-list-link">prometheus-druid-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-elasticsearch-exporter" class="nav-list-link">prometheus-elasticsearch-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-fastly-exporter" class="nav-list-link">prometheus-fastly-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-ipmi-exporter" class="nav-list-link">prometheus-ipmi-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-json-exporter" class="nav-list-link">prometheus-json-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-kafka-exporter" class="nav-list-link">prometheus-kafka-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-memcached-exporter" class="nav-list-link">prometheus-memcached-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-modbus-exporter" class="nav-list-link">prometheus-modbus-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mongodb-exporter" class="nav-list-link">prometheus-mongodb-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-mysql-exporter" class="nav-list-link">prometheus-mysql-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nats-exporter" class="nav-list-link">prometheus-nats-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-nginx-exporter" class="nav-list-link">prometheus-nginx-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-node-exporter" class="nav-list-link">prometheus-node-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-opencost-exporter" class="nav-list-link">prometheus-opencost-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-admission-webhook" class="nav-list-link">prometheus-operator-admission-webhook</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-operator-crds" class="nav-list-link">prometheus-operator-crds</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pgbouncer-exporter" class="nav-list-link">prometheus-pgbouncer-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingdom-exporter" class="nav-list-link">prometheus-pingdom-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pingmesh-exporter" class="nav-list-link">prometheus-pingmesh-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-postgres-exporter" class="nav-list-link">prometheus-postgres-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-pushgateway" class="nav-list-link">prometheus-pushgateway</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-rabbitmq-exporter" class="nav-list-link">prometheus-rabbitmq-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-redis-exporter" class="nav-list-link">prometheus-redis-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-smartctl-exporter" class="nav-list-link">prometheus-smartctl-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-snmp-exporter" class="nav-list-link">prometheus-snmp-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-stackdriver-exporter" class="nav-list-link">prometheus-stackdriver-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-statsd-exporter" class="nav-list-link">prometheus-statsd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-systemd-exporter" class="nav-list-link">prometheus-systemd-exporter</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-to-sd" class="nav-list-link">prometheus-to-sd</a></li>
<li class="nav-list-item"><a href="/changelogs/prometheus-community/helm-charts/prometheus-windows-exporter" class="nav-list-link">prometheus-windows-exporter</a></li>
</ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in traefik/traefik-helm-chart category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/traefik/traefik-helm-chart" class="nav-list-link">traefik/traefik-helm-chart</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/traefik/traefik-helm-chart/traefik" class="nav-list-link">traefik</a></li></ul>
</li>
<li class="nav-list-item">
<button class="nav-list-expander btn-reset" aria-label="toggle items in vmware-tanzu/helm-charts category" aria-pressed="false"> <svg viewbox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/changelogs/vmware-tanzu/helm-charts" class="nav-list-link">vmware-tanzu/helm-charts</a><ul class="nav-list"><li class="nav-list-item"><a href="/changelogs/vmware-tanzu/helm-charts/velero" class="nav-list-link">velero</a></li></ul>
</li>
</ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Changelogs" aria-label="Search Changelogs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/changelogs/grafana/helm-charts">grafana/helm-charts</a></li> <li class="breadcrumb-nav-list-item"><span>promtail</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="promtail"> <a href="#promtail" class="anchor-heading" aria-labelledby="promtail"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> promtail </h1> <h2 id="6155"> <a href="#6155" class="anchor-heading" aria-labelledby="6155"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.15.5 </h2> <p><strong>Release date:</strong> 2024-01-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.3&amp;color=success" alt="AppVersion: 2.9.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix version</li> <li>
<a href="add%20ingress">promtail</a> bump promtail version to 2.9.3</li> </ul> <h3 id="default-value-changes"> <a href="#default-value-changes" class="anchor-heading" aria-labelledby="default-value-changes"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6154"> <a href="#6154" class="anchor-heading" aria-labelledby="6154"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.15.4 </h2> <p><strong>Release date:</strong> 2023-12-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>promtail: Optimize config checksum</li> </ul> <h3 id="default-value-changes-1"> <a href="#default-value-changes-1" class="anchor-heading" aria-labelledby="default-value-changes-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6153"> <a href="#6153" class="anchor-heading" aria-labelledby="6153"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.15.3 </h2> <p><strong>Release date:</strong> 2023-10-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.2&amp;color=success" alt="AppVersion: 2.9.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bump promtail version to 2.9.2</li> </ul> <h3 id="default-value-changes-2"> <a href="#default-value-changes-2" class="anchor-heading" aria-labelledby="default-value-changes-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6152"> <a href="#6152" class="anchor-heading" aria-labelledby="6152"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.15.2 </h2> <p><strong>Release date:</strong> 2023-09-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.9.1&amp;color=success" alt="AppVersion: 2.9.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bump promtail version to 2.9.1</li> </ul> <h3 id="default-value-changes-3"> <a href="#default-value-changes-3" class="anchor-heading" aria-labelledby="default-value-changes-3"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6151"> <a href="#6151" class="anchor-heading" aria-labelledby="6151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.15.1 </h2> <p><strong>Release date:</strong> 2023-09-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.4&amp;color=success" alt="AppVersion: 2.8.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bump promtail version to 2.8.4</li> </ul> <h3 id="default-value-changes-4"> <a href="#default-value-changes-4" class="anchor-heading" aria-labelledby="default-value-changes-4"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6150"> <a href="#6150" class="anchor-heading" aria-labelledby="6150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.15.0 </h2> <p><strong>Release date:</strong> 2023-08-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat(charts/promtail): allow setting hostNetwork on daemonset</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-5"> <a href="#default-value-changes-5" class="anchor-heading" aria-labelledby="default-value-changes-5"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 56d5cccd..b4835990 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -25,6 +25,7 @@</span> daemonset:
 
     # -- List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
     controlledResources: []
<span class="gi">+
</span>     # Specifies which resource values should be controlled: RequestsOnly or RequestsAndLimits.
     # controlledValues: RequestsAndLimits
 
<span class="p">@@ -105,6 +106,9 @@</span> hostAliases: []
 #    hostnames:
 #      - domain.tld
 
<span class="gi">+# -- Controls whether the pod has the `hostNetwork` flag set.
+hostNetwork: null
+
</span> # -- Annotations for the DaemonSet
 annotations: {}
 
<span class="p">@@ -273,7 +277,7 @@</span> serviceMonitor:
   # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
   # (defines `metric_relabel_configs`)
   metricRelabelings: []
<span class="gd">-  # --ServiceMonitor will add labels from the service to the Prometheus metric
</span><span class="gi">+  # -- ServiceMonitor will add labels from the service to the Prometheus metric
</span>   # https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec
   targetLabels: []
   # -- ServiceMonitor will use http by default, but you can pick https as well
<span class="err">
</span></code></pre></div></div> <h2 id="6142"> <a href="#6142" class="anchor-heading" aria-labelledby="6142"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.14.2 </h2> <p><strong>Release date:</strong> 2023-08-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Render pipelineStages with tpl function revert</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-6"> <a href="#default-value-changes-6" class="anchor-heading" aria-labelledby="default-value-changes-6"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 508fd7b0..56d5cccd 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -485,7 +485,7 @@</span> config:
       # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference
       - job_name: kubernetes-pods
         pipeline_stages:
<span class="gd">-          {{- tpl (toYaml .Values.config.snippets.pipelineStages) . | nindent 4 }}
</span><span class="gi">+          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
</span>         kubernetes_sd_configs:
           - role: pod
         relabel_configs:
<span class="err">
</span></code></pre></div></div> <h2 id="6141"> <a href="#6141" class="anchor-heading" aria-labelledby="6141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.14.1 </h2> <p><strong>Release date:</strong> 2023-08-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into promtail-pipeline-stages</li> </ul> <h3 id="default-value-changes-7"> <a href="#default-value-changes-7" class="anchor-heading" aria-labelledby="default-value-changes-7"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index df49f2a7..508fd7b0 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -108,6 +108,9 @@</span> hostAliases: []
 # -- Annotations for the DaemonSet
 annotations: {}
 
<span class="gi">+# -- Number of old history to retain to allow rollback (If not set, default Kubernetes value is set to 10)
+# revisionHistoryLimit: 1
+
</span> # -- The update strategy for the DaemonSet
 updateStrategy: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="6132"> <a href="#6132" class="anchor-heading" aria-labelledby="6132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.13.2 </h2> <p><strong>Release date:</strong> 2023-08-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Render pipelineStages with tpl function</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-8"> <a href="#default-value-changes-8" class="anchor-heading" aria-labelledby="default-value-changes-8"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index ed92c8c9..df49f2a7 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -482,7 +482,7 @@</span> config:
       # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference
       - job_name: kubernetes-pods
         pipeline_stages:
<span class="gd">-          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
</span><span class="gi">+          {{- tpl (toYaml .Values.config.snippets.pipelineStages) . | nindent 4 }}
</span>         kubernetes_sd_configs:
           - role: pod
         relabel_configs:
<span class="err">
</span></code></pre></div></div> <h2 id="6140"> <a href="#6140" class="anchor-heading" aria-labelledby="6140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.14.0 </h2> <p><strong>Release date:</strong> 2023-08-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: allow changing the default revisionHistoryLimit</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-9"> <a href="#default-value-changes-9" class="anchor-heading" aria-labelledby="default-value-changes-9"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index ed92c8c9..56d5cccd 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -108,6 +108,9 @@</span> hostAliases: []
 # -- Annotations for the DaemonSet
 annotations: {}
 
<span class="gi">+# -- Number of old history to retain to allow rollback (If not set, default Kubernetes value is set to 10)
+# revisionHistoryLimit: 1
+
</span> # -- The update strategy for the DaemonSet
 updateStrategy: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="6131"> <a href="#6131" class="anchor-heading" aria-labelledby="6131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.13.1 </h2> <p><strong>Release date:</strong> 2023-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into main</li> </ul> <h3 id="default-value-changes-10"> <a href="#default-value-changes-10" class="anchor-heading" aria-labelledby="default-value-changes-10"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 6c44f9ab..ed92c8c9 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,9 +4,45 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+global:
+  # -- Allow parent charts to override registry hostname
+  imageRegistry: ""
+  # -- Allow parent charts to override registry credentials
+  imagePullSecrets: []
+
</span> daemonset:
   # -- Deploys Promtail as a DaemonSet
   enabled: true
<span class="gi">+  autoscaling:
+    # -- Creates a VerticalPodAutoscaler for the daemonset
+    enabled: false
+
+    # Recommender responsible for generating recommendation for the object.
+    # List should be empty (then the default recommender will generate the recommendation)
+    # or contain exactly one recommender.
+    # recommenders:
+    # - name: custom-recommender-performance
+
+    # -- List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
+    controlledResources: []
+    # Specifies which resource values should be controlled: RequestsOnly or RequestsAndLimits.
+    # controlledValues: RequestsAndLimits
+
+    # -- Defines the max allowed resources for the pod
+    maxAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+    # -- Defines the min allowed resources for the pod
+    minAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+
+    # updatePolicy:
+      # Specifies minimal number of replicas which need to be alive for VPA Updater to attempt pod eviction
+      # minReplicas: 1
+      # Specifies whether recommended updates are applied when a Pod is started and whether recommended updates
+      # are applied during the life of a Pod. Possible values are "Off", "Initial", "Recreate", and "Auto".
+      # updateMode: Auto
</span> 
 deployment:
   # -- Deploys Promtail as a Deployment
<span class="p">@@ -19,6 +55,11 @@</span> deployment:
     maxReplicas: 10
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
<span class="gi">+    # behavior: {}
+
+    # -- Set deployment object update strategy
+    strategy:
+      type: RollingUpdate
</span> 
 secret:
   # -- Labels for the Secret
<span class="p">@@ -58,6 +99,12 @@</span> image:
 # -- Image pull secrets for Docker images
 imagePullSecrets: []
 
<span class="gi">+# -- hostAliases to add
+hostAliases: []
+#  - ip: 1.2.3.4
+#    hostnames:
+#      - domain.tld
+
</span> # -- Annotations for the DaemonSet
 annotations: {}
 
<span class="p">@@ -186,7 +233,10 @@</span> extraArgs: []
 # -- extraArgs:
 # --   - -client.external-labels=hostname=$(HOSTNAME)
 
<span class="gd">-# -- Extra environment variables
</span><span class="gi">+# -- Extra environment variables. Set up tracing enviroment variables here if .Values.config.enableTracing is true.
+# Tracing currently only support configure via environment variables. See:
+# https://grafana.com/docs/loki/latest/clients/promtail/configuration/#tracing_config
+# https://www.jaegertracing.io/docs/1.16/client-features/
</span> extraEnv: []
 
 # -- Extra environment variables from secrets or configmaps
<span class="p">@@ -274,6 +324,8 @@</span> extraContainers: {}
 extraPorts: {}
 #  syslog:
 #    name: tcp-syslog
<span class="gi">+#    annotations: {}
+#    labels: {}
</span> #    containerPort: 1514
 #    protocol: TCP
 #    service:
<span class="p">@@ -282,8 +334,6 @@</span> extraPorts: {}
 #      port: 1514
 #      externalIPs: []
 #      nodePort: null
<span class="gd">-#      annotations: {}
-#      labels: {}
</span> #      loadBalancerIP: null
 #      loadBalancerSourceRanges: []
 #      externalTrafficPolicy: null
<span class="p">@@ -341,6 +391,11 @@</span> config:
   # Must be reference in `config.file` to configure `server.log_level`
   # See default config in `values.yaml`
   logLevel: info
<span class="gi">+  # -- The log format of the Promtail server
+  # Must be reference in `config.file` to configure `server.log_format`
+  # Valid formats: `logfmt, json`
+  # See default config in `values.yaml`
+  logFormat: logfmt
</span>   # -- The port of the Promtail server
   # Must be reference in `config.file` to configure `server.http_listen_port`
   # See default config in `values.yaml`
<span class="p">@@ -350,6 +405,12 @@</span> config:
   # @default -- See `values.yaml`
   clients:
     - url: http://loki-gateway/loki/api/v1/push
<span class="gi">+  # -- Configures where Promtail will save it's positions file, to resume reading after restarts.
+  # Must be referenced in `config.file` to configure `positions`
+  positions:
+    filename: /run/promtail/positions.yaml
+  # -- The config to enable tracing
+  enableTracing: false
</span>   # -- A section of reusable snippets that can be reference in `config.file`.
   # Custom snippets may be added in order to reduce redundancy.
   # This is especially helpful when multiple `kubernetes_sd_configs` are use which usually have large parts in common.
<span class="p">@@ -440,7 +501,7 @@</span> config:
             target_label: app
           - source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_instance
<span class="gd">-              - __meta_kubernetes_pod_label_release
</span><span class="gi">+              - __meta_kubernetes_pod_label_instance
</span>             regex: ^;*([^;]+)(;.*)?$
             action: replace
             target_label: instance
<span class="p">@@ -466,6 +527,7 @@</span> config:
   file: |
     server:
       log_level: {{ .Values.config.logLevel }}
<span class="gi">+      log_format: {{ .Values.config.logFormat }}
</span>       http_listen_port: {{ .Values.config.serverPort }}
       {{- with .Values.httpPathPrefix }}
       http_path_prefix: {{ . }}
<span class="p">@@ -476,7 +538,7 @@</span> config:
       {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}
 
     positions:
<span class="gd">-      filename: /run/promtail/positions.yaml
</span><span class="gi">+      {{- tpl (toYaml .Values.config.positions) . | nindent 2 }}
</span> 
     scrape_configs:
       {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
<span class="p">@@ -485,6 +547,9 @@</span> config:
     limits_config:
       {{- tpl .Values.config.snippets.extraLimitsConfig . | nindent 2 }}
 
<span class="gi">+    tracing:
+      enabled: {{ .Values.config.enableTracing }}
+
</span> networkPolicy:
   # -- Specifies whether Network Policies should be created
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="694"> <a href="#694" class="anchor-heading" aria-labelledby="694"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.4 </h2> <p><strong>Release date:</strong> 2023-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> </ul> <h3 id="default-value-changes-11"> <a href="#default-value-changes-11" class="anchor-heading" aria-labelledby="default-value-changes-11"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="693"> <a href="#693" class="anchor-heading" aria-labelledby="693"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.3 </h2> <p><strong>Release date:</strong> 2023-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update README.md</li> <li>Merge branch ‘main’ into pvpa</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-12"> <a href="#default-value-changes-12" class="anchor-heading" aria-labelledby="default-value-changes-12"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e5583a6b..6c44f9ab 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -333,6 +333,10 @@</span> podSecurityPolicy:
 # which is a templated string that references the other values and snippets below this key.
 # @default -- See `values.yaml`
 config:
<span class="gi">+  # -- Enable Promtail config from Helm chart
+  # Set `configmap.enabled: true` and this to `false` to manage your own Promtail config
+  # See default config in `values.yaml`
+  enabled: true
</span>   # -- The log level of the Promtail server
   # Must be reference in `config.file` to configure `server.log_level`
   # See default config in `values.yaml`
<span class="err">
</span></code></pre></div></div> <h2 id="6130"> <a href="#6130" class="anchor-heading" aria-labelledby="6130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.13.0 </h2> <p><strong>Release date:</strong> 2023-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> <li>Update charts/promtail/values.yaml</li> <li>Update README.md</li> <li>feat: add vpa support</li> </ul> <h3 id="default-value-changes-13"> <a href="#default-value-changes-13" class="anchor-heading" aria-labelledby="default-value-changes-13"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 265c03dd..9f69099f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -13,6 +13,36 @@</span> global:
 daemonset:
   # -- Deploys Promtail as a DaemonSet
   enabled: true
<span class="gi">+  autoscaling:
+    # -- Creates a VerticalPodAutoscaler for the daemonset
+    enabled: false
+
+    # Recommender responsible for generating recommendation for the object.
+    # List should be empty (then the default recommender will generate the recommendation)
+    # or contain exactly one recommender.
+    # recommenders:
+    # - name: custom-recommender-performance
+
+    # -- List of resources that the vertical pod autoscaler can control. Defaults to cpu and memory
+    controlledResources: []
+    # Specifies which resource values should be controlled: RequestsOnly or RequestsAndLimits.
+    # controlledValues: RequestsAndLimits
+
+    # -- Defines the max allowed resources for the pod
+    maxAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+    # -- Defines the min allowed resources for the pod
+    minAllowed: {}
+    # cpu: 200m
+    # memory: 100Mi
+
+    # updatePolicy:
+      # Specifies minimal number of replicas which need to be alive for VPA Updater to attempt pod eviction
+      # minReplicas: 1
+      # Specifies whether recommended updates are applied when a Pod is started and whether recommended updates
+      # are applied during the life of a Pod. Possible values are "Off", "Initial", "Recreate", and "Auto".
+      # updateMode: Auto
</span> 
 deployment:
   # -- Deploys Promtail as a Deployment
<span class="err">
</span></code></pre></div></div> <h2 id="6120"> <a href="#6120" class="anchor-heading" aria-labelledby="6120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.12.0 </h2> <p><strong>Release date:</strong> 2023-07-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump version</li> <li>add hostAliases</li> <li>Update README.md</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-14"> <a href="#default-value-changes-14" class="anchor-heading" aria-labelledby="default-value-changes-14"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 265c03dd..c697fc04 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -69,6 +69,12 @@</span> image:
 # -- Image pull secrets for Docker images
 imagePullSecrets: []
 
<span class="gi">+# -- hostAliases to add
+hostAliases: [ ]
+#  - ip: 1.2.3.4
+#    hostnames:
+#      - domain.tld
+
</span> # -- Annotations for the DaemonSet
 annotations: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="6119"> <a href="#6119" class="anchor-heading" aria-labelledby="6119"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.9 </h2> <p><strong>Release date:</strong> 2023-07-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.3&amp;color=success" alt="AppVersion: 2.8.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> <li>Merge branch ‘main’ into promtail-private-registry</li> </ul> <h3 id="default-value-changes-15"> <a href="#default-value-changes-15" class="anchor-heading" aria-labelledby="default-value-changes-15"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index b892e62b..265c03dd 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,6 +4,12 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+global:
+  # -- Allow parent charts to override registry hostname
+  imageRegistry: ""
+  # -- Allow parent charts to override registry credentials
+  imagePullSecrets: []
+
</span> daemonset:
   # -- Deploys Promtail as a DaemonSet
   enabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="6118"> <a href="#6118" class="anchor-heading" aria-labelledby="6118"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.8 </h2> <p><strong>Release date:</strong> 2023-07-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into main</li> </ul> <h3 id="default-value-changes-16"> <a href="#default-value-changes-16" class="anchor-heading" aria-labelledby="default-value-changes-16"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index a4009cce..b892e62b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -19,6 +19,11 @@</span> deployment:
     maxReplicas: 10
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
<span class="gi">+    # behavior: {}
+
+    # -- Set deployment object update strategy
+    strategy:
+      type: RollingUpdate
</span> 
 secret:
   # -- Labels for the Secret
<span class="p">@@ -354,6 +359,10 @@</span> config:
   # @default -- See `values.yaml`
   clients:
     - url: http://loki-gateway/loki/api/v1/push
<span class="gi">+  # -- Configures where Promtail will save it's positions file, to resume reading after restarts.
+  # Must be referenced in `config.file` to configure `positions`
+  positions:
+    filename: /run/promtail/positions.yaml
</span>   # -- The config to enable tracing
   enableTracing: false
   # -- A section of reusable snippets that can be reference in `config.file`.
<span class="p">@@ -446,7 +455,7 @@</span> config:
             target_label: app
           - source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_instance
<span class="gd">-              - __meta_kubernetes_pod_label_release
</span><span class="gi">+              - __meta_kubernetes_pod_label_instance
</span>             regex: ^;*([^;]+)(;.*)?$
             action: replace
             target_label: instance
<span class="p">@@ -483,7 +492,7 @@</span> config:
       {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}
 
     positions:
<span class="gd">-      filename: /run/promtail/positions.yaml
</span><span class="gi">+      {{- tpl (toYaml .Values.config.positions) . | nindent 2 }}
</span> 
     scrape_configs:
       {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
<span class="err">
</span></code></pre></div></div> <h2 id="6115"> <a href="#6115" class="anchor-heading" aria-labelledby="6115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.5 </h2> <p><strong>Release date:</strong> 2023-07-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update README.md</li> </ul> <h3 id="default-value-changes-17"> <a href="#default-value-changes-17" class="anchor-heading" aria-labelledby="default-value-changes-17"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c07a58ba..a4009cce 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -340,6 +340,11 @@</span> config:
   # Must be reference in `config.file` to configure `server.log_level`
   # See default config in `values.yaml`
   logLevel: info
<span class="gi">+  # -- The log format of the Promtail server
+  # Must be reference in `config.file` to configure `server.log_format`
+  # Valid formats: `logfmt, json`
+  # See default config in `values.yaml`
+  logFormat: logfmt
</span>   # -- The port of the Promtail server
   # Must be reference in `config.file` to configure `server.http_listen_port`
   # See default config in `values.yaml`
<span class="p">@@ -467,6 +472,7 @@</span> config:
   file: |
     server:
       log_level: {{ .Values.config.logLevel }}
<span class="gi">+      log_format: {{ .Values.config.logFormat }}
</span>       http_listen_port: {{ .Values.config.serverPort }}
       {{- with .Values.httpPathPrefix }}
       http_path_prefix: {{ . }}
<span class="err">
</span></code></pre></div></div> <h2 id="6117"> <a href="#6117" class="anchor-heading" aria-labelledby="6117"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.7 </h2> <p><strong>Release date:</strong> 2023-07-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> fix instance label</li> <li>Update README.md</li> <li>Added support of hpa behavior policies.</li> </ul> <h3 id="default-value-changes-18"> <a href="#default-value-changes-18" class="anchor-heading" aria-labelledby="default-value-changes-18"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 69edfc70..b3be974f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -19,8 +19,7 @@</span> deployment:
     maxReplicas: 10
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
<span class="gd">-    hpaBehaviorOverride: false
-    # hpaBehaviorSpec: {}
</span><span class="gi">+    # behavior: {}
</span> 
     # -- Set deployment object update strategy
     strategy:
<span class="p">@@ -451,7 +450,7 @@</span> config:
             target_label: app
           - source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_instance
<span class="gd">-              - __meta_kubernetes_pod_label_release
</span><span class="gi">+              - __meta_kubernetes_pod_label_instance
</span>             regex: ^;*([^;]+)(;.*)?$
             action: replace
             target_label: instance
<span class="err">
</span></code></pre></div></div> <h2 id="6116"> <a href="#6116" class="anchor-heading" aria-labelledby="6116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.6 </h2> <p><strong>Release date:</strong> 2023-07-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Added support of hpa behavior policies.</li> <li>update chart version</li> </ul> <h3 id="default-value-changes-19"> <a href="#default-value-changes-19" class="anchor-heading" aria-labelledby="default-value-changes-19"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 61fa0b61..69edfc70 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -19,6 +19,8 @@</span> deployment:
     maxReplicas: 10
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
<span class="gi">+    hpaBehaviorOverride: false
+    # hpaBehaviorSpec: {}
</span> 
     # -- Set deployment object update strategy
     strategy:
<span class="err">
</span></code></pre></div></div> <h2 id="6115-1"> <a href="#6115-1" class="anchor-heading" aria-labelledby="6115-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.5 </h2> <p><strong>Release date:</strong> 2023-06-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into bugfix-config-checksum-without-secret</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-20"> <a href="#default-value-changes-20" class="anchor-heading" aria-labelledby="default-value-changes-20"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6114"> <a href="#6114" class="anchor-heading" aria-labelledby="6114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.4 </h2> <p><strong>Release date:</strong> 2023-06-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into promtail_deployment_strategy</li> </ul> <h3 id="default-value-changes-21"> <a href="#default-value-changes-21" class="anchor-heading" aria-labelledby="default-value-changes-21"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 8d720f12..61fa0b61 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,10 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+    # -- Set deployment object update strategy
+    strategy:
+      type: RollingUpdate
+
</span> secret:
   # -- Labels for the Secret
   labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="6113"> <a href="#6113" class="anchor-heading" aria-labelledby="6113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.3 </h2> <p><strong>Release date:</strong> 2023-06-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat(promtail): make config positions block more easily configurable</li> </ul> <h3 id="default-value-changes-22"> <a href="#default-value-changes-22" class="anchor-heading" aria-labelledby="default-value-changes-22"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c07a58ba..8d720f12 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -349,6 +349,10 @@</span> config:
   # @default -- See `values.yaml`
   clients:
     - url: http://loki-gateway/loki/api/v1/push
<span class="gi">+  # -- Configures where Promtail will save it's positions file, to resume reading after restarts.
+  # Must be referenced in `config.file` to configure `positions`
+  positions:
+    filename: /run/promtail/positions.yaml
</span>   # -- The config to enable tracing
   enableTracing: false
   # -- A section of reusable snippets that can be reference in `config.file`.
<span class="p">@@ -477,7 +481,7 @@</span> config:
       {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}
 
     positions:
<span class="gd">-      filename: /run/promtail/positions.yaml
</span><span class="gi">+      {{- tpl (toYaml .Values.config.positions) . | nindent 2 }}
</span> 
     scrape_configs:
       {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
<span class="err">
</span></code></pre></div></div> <h2 id="6112"> <a href="#6112" class="anchor-heading" aria-labelledby="6112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.2 </h2> <p><strong>Release date:</strong> 2023-05-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>allowing to configure promtail log format</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-23"> <a href="#default-value-changes-23" class="anchor-heading" aria-labelledby="default-value-changes-23"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c07a58ba..a4009cce 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -340,6 +340,11 @@</span> config:
   # Must be reference in `config.file` to configure `server.log_level`
   # See default config in `values.yaml`
   logLevel: info
<span class="gi">+  # -- The log format of the Promtail server
+  # Must be reference in `config.file` to configure `server.log_format`
+  # Valid formats: `logfmt, json`
+  # See default config in `values.yaml`
+  logFormat: logfmt
</span>   # -- The port of the Promtail server
   # Must be reference in `config.file` to configure `server.http_listen_port`
   # See default config in `values.yaml`
<span class="p">@@ -467,6 +472,7 @@</span> config:
   file: |
     server:
       log_level: {{ .Values.config.logLevel }}
<span class="gi">+      log_format: {{ .Values.config.logFormat }}
</span>       http_listen_port: {{ .Values.config.serverPort }}
       {{- with .Values.httpPathPrefix }}
       http_path_prefix: {{ . }}
<span class="err">
</span></code></pre></div></div> <h2 id="6113-1"> <a href="#6113-1" class="anchor-heading" aria-labelledby="6113-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.3 </h2> <p><strong>Release date:</strong> 2023-05-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bugfix: Checksum annotation</li> </ul> <h3 id="default-value-changes-24"> <a href="#default-value-changes-24" class="anchor-heading" aria-labelledby="default-value-changes-24"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6112-1"> <a href="#6112-1" class="anchor-heading" aria-labelledby="6112-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.2 </h2> <p><strong>Release date:</strong> 2023-05-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.8.2&amp;color=success" alt="AppVersion: 2.8.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bump promtail version to 2.8.2</li> </ul> <h3 id="default-value-changes-25"> <a href="#default-value-changes-25" class="anchor-heading" aria-labelledby="default-value-changes-25"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6111"> <a href="#6111" class="anchor-heading" aria-labelledby="6111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.1 </h2> <p><strong>Release date:</strong> 2023-05-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: extraPort metadata placement</li> </ul> <h3 id="default-value-changes-26"> <a href="#default-value-changes-26" class="anchor-heading" aria-labelledby="default-value-changes-26"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index a9752de9..c07a58ba 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -277,6 +277,8 @@</span> extraContainers: {}
 extraPorts: {}
 #  syslog:
 #    name: tcp-syslog
<span class="gi">+#    annotations: {}
+#    labels: {}
</span> #    containerPort: 1514
 #    protocol: TCP
 #    service:
<span class="p">@@ -285,8 +287,6 @@</span> extraPorts: {}
 #      port: 1514
 #      externalIPs: []
 #      nodePort: null
<span class="gd">-#      annotations: {}
-#      labels: {}
</span> #      loadBalancerIP: null
 #      loadBalancerSourceRanges: []
 #      externalTrafficPolicy: null
<span class="err">
</span></code></pre></div></div> <h2 id="6110"> <a href="#6110" class="anchor-heading" aria-labelledby="6110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.0 </h2> <p><strong>Release date:</strong> 2023-04-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into feat-promtail-2336</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-27"> <a href="#default-value-changes-27" class="anchor-heading" aria-labelledby="default-value-changes-27"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e5583a6b..a9752de9 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -186,7 +186,10 @@</span> extraArgs: []
 # -- extraArgs:
 # --   - -client.external-labels=hostname=$(HOSTNAME)
 
<span class="gd">-# -- Extra environment variables
</span><span class="gi">+# -- Extra environment variables. Set up tracing enviroment variables here if .Values.config.enableTracing is true.
+# Tracing currently only support configure via environment variables. See:
+# https://grafana.com/docs/loki/latest/clients/promtail/configuration/#tracing_config
+# https://www.jaegertracing.io/docs/1.16/client-features/
</span> extraEnv: []
 
 # -- Extra environment variables from secrets or configmaps
<span class="p">@@ -346,6 +349,8 @@</span> config:
   # @default -- See `values.yaml`
   clients:
     - url: http://loki-gateway/loki/api/v1/push
<span class="gi">+  # -- The config to enable tracing
+  enableTracing: false
</span>   # -- A section of reusable snippets that can be reference in `config.file`.
   # Custom snippets may be added in order to reduce redundancy.
   # This is especially helpful when multiple `kubernetes_sd_configs` are use which usually have large parts in common.
<span class="p">@@ -481,6 +486,9 @@</span> config:
     limits_config:
       {{- tpl .Values.config.snippets.extraLimitsConfig . | nindent 2 }}
 
<span class="gi">+    tracing:
+      enabled: {{ .Values.config.enableTracing }}
+
</span> networkPolicy:
   # -- Specifies whether Network Policies should be created
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="6101"> <a href="#6101" class="anchor-heading" aria-labelledby="6101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.10.1 </h2> <p><strong>Release date:</strong> 2023-04-23</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> <li>fix lint error</li> <li>fix per suggestion from @bilbof</li> <li>fix typo</li> <li>fix trailing whitespace</li> </ul> <h3 id="default-value-changes-28"> <a href="#default-value-changes-28" class="anchor-heading" aria-labelledby="default-value-changes-28"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="6110-1"> <a href="#6110-1" class="anchor-heading" aria-labelledby="6110-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.11.0 </h2> <p><strong>Release date:</strong> 2023-04-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> feat: add traceconfig support (#2336)</li> <li>
<a href="add%20ingress">promtail</a> remove definition of loki.serviceName</li> </ul> <h3 id="default-value-changes-29"> <a href="#default-value-changes-29" class="anchor-heading" aria-labelledby="default-value-changes-29"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e5583a6b..bd1cda96 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -455,6 +455,32 @@</span> config:
           {{- toYaml . | nindent 4 }}
           {{- end }}
 
<span class="gi">+    traceConfigs: |
+      # Current only support configure via enviroment variables
+      # See also https://www.jaegertracing.io/docs/1.16/client-features/
+      enabled: false
+      JAEGER_SERVICE_NAME: ""
+      JAEGER_TAGS: ""                         # hostname=foobar,my.app.version=1.2.3
+      JAEGER_DISABLED: false
+      JAEGER_AGENT_HOST: ""
+      JAEGER_AGENT_PORT: ""
+      JAEGER_ENDPOINT: ""
+      JAEGER_AUTH_TOKEN: ""
+      JAEGER_USER: ""
+      JAEGER_PASSWORD: ""
+      JAEGER_REPORTER_LOG_SPANS: ""
+      JAEGER_REPORTER_MAX_QUEUE_SIZE: 0
+      JAEGER_REPORTER_FLUSH_INTERVAL: 0
+      JAEGER_SAMPLER_TYPE: ""                 # const, probabilistic
+      JAEGER_SAMPLER_PARAM: ""                # probability=0.001
+      JAEGER_SAMPLER_MANAGER_HOST_PORT: ""
+      JAEGER_SAMPLER_REFRESH_INTERVAL: 0
+      JAEGER_SAMPLER_MAX_OPERATIONS: 0
+      JAEGER_PROPAGATION: "w3c"               # b3, jaeger, w3c
+      JAEGER_TRACEID_128BIT: false
+      JAEGER_RPC_METRICS: false 
+
+
</span>   # -- Config file contents for Promtail.
   # Must be configured as string.
   # It is templated so it can be assembled from reusable snippets in order to avoid redundancy.
<span class="p">@@ -481,6 +507,9 @@</span> config:
     limits_config:
       {{- tpl .Values.config.snippets.extraLimitsConfig . | nindent 2 }}
 
<span class="gi">+    tracing:
+      {{- tpl .Values.config.snippets.tracingConfigs . | nindent 2 }}
+
</span> networkPolicy:
   # -- Specifies whether Network Policies should be created
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="6100"> <a href="#6100" class="anchor-heading" aria-labelledby="6100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.10.0 </h2> <p><strong>Release date:</strong> 2023-03-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump chart version</li> <li>
<a href="add%20ingress">promtail</a> support HPA in k8s v1.25+</li> <li>Remove test change</li> </ul> <h3 id="default-value-changes-30"> <a href="#default-value-changes-30" class="anchor-heading" aria-labelledby="default-value-changes-30"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="693-1"> <a href="#693-1" class="anchor-heading" aria-labelledby="693-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.3 </h2> <p><strong>Release date:</strong> 2023-03-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add control to disable Promtail config in Helm chart</li> <li>Merge branch ‘main’ into promtail-private-registry</li> </ul> <h3 id="default-value-changes-31"> <a href="#default-value-changes-31" class="anchor-heading" aria-labelledby="default-value-changes-31"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5f71d6e4..e555f4c8 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -28,7 +28,7 @@</span> secret:
 
 configmap:
   # -- If enabled, promtail config will be created as a ConfigMap instead of a secret
<span class="gd">-  enabled: false
</span><span class="gi">+  enabled: true
</span> 
 initContainer: []
   # # -- Specifies whether the init container for setting inotify max user instances is to be enabled
<span class="p">@@ -287,6 +287,23 @@</span> extraPorts: {}
 #      loadBalancerIP: null
 #      loadBalancerSourceRanges: []
 #      externalTrafficPolicy: null
<span class="gi">+#    ingress:
+#      # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+#      # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+#      # ingressClassName: nginx
+#      # Values can be templated
+#      annotations: {}
+#        # kubernetes.io/ingress.class: nginx
+#        # kubernetes.io/tls-acme: "true"
+#      paths: "/"
+#      hosts:
+#        - chart-example.local
+#
+#      tls: []
+#      #  - secretName: chart-example-tls
+#      #    hosts:
+#      #      - chart-example.local
+
</span> 
 # -- PodSecurityPolicy configuration.
 # @default -- See `values.yaml`
<span class="p">@@ -316,6 +333,10 @@</span> podSecurityPolicy:
 # which is a templated string that references the other values and snippets below this key.
 # @default -- See `values.yaml`
 config:
<span class="gi">+  # -- Enable Promtail config from Helm chart
+  # Set `configmap.enabled: true` and this to `false` to manage your own Promtail config
+  # See default config in `values.yaml`
+  enabled: true
</span>   # -- The log level of the Promtail server
   # Must be reference in `config.file` to configure `server.log_level`
   # See default config in `values.yaml`
<span class="err">
</span></code></pre></div></div> <h2 id="6100-1"> <a href="#6100-1" class="anchor-heading" aria-labelledby="6100-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.10.0 </h2> <p><strong>Release date:</strong> 2023-03-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update appVersion</li> <li>ensure ingress names are lower case</li> <li>fix readme</li> <li>add new line</li> <li>remove enabled switch fix nested calls</li> <li>remove custom ci test values and use service ones</li> <li>move ingress values to extraPorts to automatically spawn an ingress if needed</li> <li>fix default values.yaml</li> </ul> <h3 id="default-value-changes-32"> <a href="#default-value-changes-32" class="anchor-heading" aria-labelledby="default-value-changes-32"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5f71d6e4..e6247b7a 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,6 +4,12 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+global:
+  # -- Allow parent charts to override registry hostname
+  imageRegistry: ""
+  # -- Allow parent charts to override registry credentials
+  imagePullSecrets: []
+
</span> daemonset:
   # -- Deploys Promtail as a DaemonSet
   enabled: true
<span class="err">
</span></code></pre></div></div> <h2 id="693-2"> <a href="#693-2" class="anchor-heading" aria-labelledby="693-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.3 </h2> <p><strong>Release date:</strong> 2023-03-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update promtail chart version</li> <li>fix possible copy and paste issue</li> <li>add ci ingress values</li> </ul> <h3 id="default-value-changes-33"> <a href="#default-value-changes-33" class="anchor-heading" aria-labelledby="default-value-changes-33"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="692"> <a href="#692" class="anchor-heading" aria-labelledby="692"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.2 </h2> <p><strong>Release date:</strong> 2023-03-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.4&amp;color=success" alt="AppVersion: 2.7.4"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bumped loki version to 2.7.4</li> </ul> <h3 id="default-value-changes-34"> <a href="#default-value-changes-34" class="anchor-heading" aria-labelledby="default-value-changes-34"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="691"> <a href="#691" class="anchor-heading" aria-labelledby="691"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.1 </h2> <p><strong>Release date:</strong> 2023-02-27</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.3&amp;color=success" alt="AppVersion: 2.7.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li> <li>Revert changes to README</li> </ul> <h3 id="default-value-changes-35"> <a href="#default-value-changes-35" class="anchor-heading" aria-labelledby="default-value-changes-35"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5f71d6e4..e0c51ac3 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,43 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+ingress:
+  enabled: false
+  # For Kubernetes &gt;= 1.18 you should specify the ingress-controller via the field ingressClassName
+  # See https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/#specifying-the-class-of-an-ingress
+  # ingressClassName: nginx
+  # Values can be templated
+  annotations: {}
+    # kubernetes.io/ingress.class: nginx
+    # kubernetes.io/tls-acme: "true"
+  labels: {}
+  path: /
+
+  # pathType is only for k8s &gt;= 1.1=
+  pathType: Prefix
+
+  hosts:
+    - chart-example.local
+  ## Extra paths to prepend to every host configuration. This is useful when working with annotation based services.
+  extraPaths: []
+  # - path: /*
+  #   backend:
+  #     serviceName: ssl-redirect
+  #     servicePort: use-annotation
+  ## Or for k8s &gt; 1.19
+  # - path: /*
+  #   pathType: Prefix
+  #   backend:
+  #     service:
+  #       name: ssl-redirect
+  #       port:
+  #         name: use-annotation
+
+
+  tls: []
+  #  - secretName: chart-example-tls
+  #    hosts:
+  #      - chart-example.local
</span> secret:
   # -- Labels for the Secret
   labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="6100-2"> <a href="#6100-2" class="anchor-heading" aria-labelledby="6100-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.10.0 </h2> <p><strong>Release date:</strong> 2023-02-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.3&amp;color=success" alt="AppVersion: 2.7.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow parent charts to override registry hostname and credentials</li> </ul> <h3 id="default-value-changes-36"> <a href="#default-value-changes-36" class="anchor-heading" aria-labelledby="default-value-changes-36"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 7b8cd24d..e6247b7a 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,6 +4,12 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+global:
+  # -- Allow parent charts to override registry hostname
+  imageRegistry: ""
+  # -- Allow parent charts to override registry credentials
+  imagePullSecrets: []
+
</span> daemonset:
   # -- Deploys Promtail as a DaemonSet
   enabled: true
<span class="p">@@ -486,6 +492,49 @@</span> networkPolicy:
 # -- Base path to server all API routes fro
 httpPathPrefix: ""
 
<span class="gi">+sidecar:
+  configReloader:
+    enabled: false
+    image:
+      # -- The Docker registry for sidecar config-reloader
+      registry: docker.io
+      # -- Docker image repository for sidecar config-reloader
+      repository: jimmidyson/configmap-reload
+      # -- Docker image tag for sidecar config-reloader
+      tag: v0.8.0
+      # -- Docker image pull policy for sidecar config-reloader
+      pullPolicy: IfNotPresent
+    # Extra args for the config-reloader container.
+    extraArgs: []
+    # -- Extra environment variables for sidecar config-reloader
+    extraEnv: []
+    # -- Extra environment variables from secrets or configmaps for sidecar config-reloader
+    extraEnvFrom: []
+    # -- The security context for containers for sidecar config-reloader
+    containerSecurityContext:
+      readOnlyRootFilesystem: true
+      capabilities:
+        drop:
+          - ALL
+      allowPrivilegeEscalation: false
+    # -- Readiness probe for sidecar config-reloader
+    readinessProbe: {}
+    # -- Liveness probe for sidecar config-reloader
+    livenessProbe: {}
+    # -- Resource requests and limits for sidecar config-reloader
+    resources: {}
+    #  limits:
+    #    cpu: 200m
+    #    memory: 128Mi
+    #  requests:
+    #    cpu: 100m
+    #    memory: 128Mi
+    config:
+      # -- The port of the config-reloader server
+      serverPort: 9533
+    serviceMonitor:
+      enabled: true
+
</span> # -- Extra K8s manifests to deploy
 extraObjects: []
   # - apiVersion: "kubernetes-client.io/v1"
<span class="err">
</span></code></pre></div></div> <h2 id="684"> <a href="#684" class="anchor-heading" aria-labelledby="684"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.4 </h2> <p><strong>Release date:</strong> 2023-02-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.3&amp;color=success" alt="AppVersion: 2.7.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into promtail_deployment_strategy</li> </ul> <h3 id="default-value-changes-37"> <a href="#default-value-changes-37" class="anchor-heading" aria-labelledby="default-value-changes-37"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 7b8cd24d..18801c79 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,10 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+    # -- Set deployment object update strategy
+    strategy:
+      type: RollingUpdate
+
</span> secret:
   # -- Labels for the Secret
   labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="690"> <a href="#690" class="anchor-heading" aria-labelledby="690"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.0 </h2> <p><strong>Release date:</strong> 2023-02-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.3&amp;color=success" alt="AppVersion: 2.7.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into config-reload</li> </ul> <h3 id="default-value-changes-38"> <a href="#default-value-changes-38" class="anchor-heading" aria-labelledby="default-value-changes-38"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 7b8cd24d..5f71d6e4 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -486,6 +486,49 @@</span> networkPolicy:
 # -- Base path to server all API routes fro
 httpPathPrefix: ""
 
<span class="gi">+sidecar:
+  configReloader:
+    enabled: false
+    image:
+      # -- The Docker registry for sidecar config-reloader
+      registry: docker.io
+      # -- Docker image repository for sidecar config-reloader
+      repository: jimmidyson/configmap-reload
+      # -- Docker image tag for sidecar config-reloader
+      tag: v0.8.0
+      # -- Docker image pull policy for sidecar config-reloader
+      pullPolicy: IfNotPresent
+    # Extra args for the config-reloader container.
+    extraArgs: []
+    # -- Extra environment variables for sidecar config-reloader
+    extraEnv: []
+    # -- Extra environment variables from secrets or configmaps for sidecar config-reloader
+    extraEnvFrom: []
+    # -- The security context for containers for sidecar config-reloader
+    containerSecurityContext:
+      readOnlyRootFilesystem: true
+      capabilities:
+        drop:
+          - ALL
+      allowPrivilegeEscalation: false
+    # -- Readiness probe for sidecar config-reloader
+    readinessProbe: {}
+    # -- Liveness probe for sidecar config-reloader
+    livenessProbe: {}
+    # -- Resource requests and limits for sidecar config-reloader
+    resources: {}
+    #  limits:
+    #    cpu: 200m
+    #    memory: 128Mi
+    #  requests:
+    #    cpu: 100m
+    #    memory: 128Mi
+    config:
+      # -- The port of the config-reloader server
+      serverPort: 9533
+    serviceMonitor:
+      enabled: true
+
</span> # -- Extra K8s manifests to deploy
 extraObjects: []
   # - apiVersion: "kubernetes-client.io/v1"
<span class="err">
</span></code></pre></div></div> <h2 id="683"> <a href="#683" class="anchor-heading" aria-labelledby="683"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.3 </h2> <p><strong>Release date:</strong> 2023-02-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.2&amp;color=success" alt="AppVersion: 2.7.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> add update strategy to deployment</li> </ul> <h3 id="default-value-changes-39"> <a href="#default-value-changes-39" class="anchor-heading" aria-labelledby="default-value-changes-39"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 7b8cd24d..18801c79 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,10 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+    # -- Set deployment object update strategy
+    strategy:
+      type: RollingUpdate
+
</span> secret:
   # -- Labels for the Secret
   labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="690-1"> <a href="#690-1" class="anchor-heading" aria-labelledby="690-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.9.0 </h2> <p><strong>Release date:</strong> 2023-02-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.2&amp;color=success" alt="AppVersion: 2.7.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Implement config-reloader</li> </ul> <h3 id="default-value-changes-40"> <a href="#default-value-changes-40" class="anchor-heading" aria-labelledby="default-value-changes-40"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 7b8cd24d..5f71d6e4 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -486,6 +486,49 @@</span> networkPolicy:
 # -- Base path to server all API routes fro
 httpPathPrefix: ""
 
<span class="gi">+sidecar:
+  configReloader:
+    enabled: false
+    image:
+      # -- The Docker registry for sidecar config-reloader
+      registry: docker.io
+      # -- Docker image repository for sidecar config-reloader
+      repository: jimmidyson/configmap-reload
+      # -- Docker image tag for sidecar config-reloader
+      tag: v0.8.0
+      # -- Docker image pull policy for sidecar config-reloader
+      pullPolicy: IfNotPresent
+    # Extra args for the config-reloader container.
+    extraArgs: []
+    # -- Extra environment variables for sidecar config-reloader
+    extraEnv: []
+    # -- Extra environment variables from secrets or configmaps for sidecar config-reloader
+    extraEnvFrom: []
+    # -- The security context for containers for sidecar config-reloader
+    containerSecurityContext:
+      readOnlyRootFilesystem: true
+      capabilities:
+        drop:
+          - ALL
+      allowPrivilegeEscalation: false
+    # -- Readiness probe for sidecar config-reloader
+    readinessProbe: {}
+    # -- Liveness probe for sidecar config-reloader
+    livenessProbe: {}
+    # -- Resource requests and limits for sidecar config-reloader
+    resources: {}
+    #  limits:
+    #    cpu: 200m
+    #    memory: 128Mi
+    #  requests:
+    #    cpu: 100m
+    #    memory: 128Mi
+    config:
+      # -- The port of the config-reloader server
+      serverPort: 9533
+    serviceMonitor:
+      enabled: true
+
</span> # -- Extra K8s manifests to deploy
 extraObjects: []
   # - apiVersion: "kubernetes-client.io/v1"
<span class="err">
</span></code></pre></div></div> <h2 id="683-1"> <a href="#683-1" class="anchor-heading" aria-labelledby="683-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.3 </h2> <p><strong>Release date:</strong> 2023-02-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.3&amp;color=success" alt="AppVersion: 2.7.3"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bump default promtail image tag to 2.7.3</li> <li>
<a href="add%20ingress">promtail</a> fix wrong versions in documentation in README</li> </ul> <h3 id="default-value-changes-41"> <a href="#default-value-changes-41" class="anchor-heading" aria-labelledby="default-value-changes-41"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="682"> <a href="#682" class="anchor-heading" aria-labelledby="682"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.2 </h2> <p><strong>Release date:</strong> 2023-01-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.2&amp;color=success" alt="AppVersion: 2.7.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> bump default promtail image tag to 2.7.2</li> </ul> <h3 id="default-value-changes-42"> <a href="#default-value-changes-42" class="anchor-heading" aria-labelledby="default-value-changes-42"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="681"> <a href="#681" class="anchor-heading" aria-labelledby="681"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.1 </h2> <p><strong>Release date:</strong> 2023-01-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.1&amp;color=success" alt="AppVersion: 2.7.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into main</li> </ul> <h3 id="default-value-changes-43"> <a href="#default-value-changes-43" class="anchor-heading" aria-labelledby="default-value-changes-43"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e62c4d92..7b8cd24d 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -118,6 +118,10 @@</span> rbac:
   # -- Specifies whether a PodSecurityPolicy is to be created
   pspEnabled: false
 
<span class="gi">+# -- The name of the Namespace to deploy
+# If not set, `.Release.Namespace` is used
+namespace: null
+
</span> serviceAccount:
   # -- Specifies whether a ServiceAccount should be created
   create: true
<span class="err">
</span></code></pre></div></div> <h2 id="675"> <a href="#675" class="anchor-heading" aria-labelledby="675"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.5 </h2> <p><strong>Release date:</strong> 2023-01-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.1&amp;color=success" alt="AppVersion: 2.7.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update to promtail version 2.7.1</li> <li>use flat value</li> </ul> <h3 id="default-value-changes-44"> <a href="#default-value-changes-44" class="anchor-heading" aria-labelledby="default-value-changes-44"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="680"> <a href="#680" class="anchor-heading" aria-labelledby="680"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.8.0 </h2> <p><strong>Release date:</strong> 2022-12-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>feat: allow to configure promtail namespace</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-45"> <a href="#default-value-changes-45" class="anchor-heading" aria-labelledby="default-value-changes-45"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e62c4d92..04097f8c 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -118,6 +118,11 @@</span> rbac:
   # -- Specifies whether a PodSecurityPolicy is to be created
   pspEnabled: false
 
<span class="gi">+namespace:
+  # -- The name of the Namespace to deploy
+  # If not set, `.Release.Namespace` is used
+  name: null
+
</span> serviceAccount:
   # -- Specifies whether a ServiceAccount should be created
   create: true
<span class="err">
</span></code></pre></div></div> <h2 id="674"> <a href="#674" class="anchor-heading" aria-labelledby="674"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.4 </h2> <p><strong>Release date:</strong> 2022-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> <li>changed condition for extraContainers</li> </ul> <h3 id="default-value-changes-46"> <a href="#default-value-changes-46" class="anchor-heading" aria-labelledby="default-value-changes-46"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="673"> <a href="#673" class="anchor-heading" aria-labelledby="673"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.3 </h2> <p><strong>Release date:</strong> 2022-12-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into path_prefix</li> <li>fix(promtail/example-values): remove double brackets</li> <li>Update charts/promtail/templates/prometheus-rules.yaml</li> </ul> <h3 id="default-value-changes-47"> <a href="#default-value-changes-47" class="anchor-heading" aria-labelledby="default-value-changes-47"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 1d48457c..e62c4d92 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -236,23 +236,23 @@</span> serviceMonitor:
     #      severity: critical
     #    annotations:
     #      description: |
<span class="gd">-    #        The {{ "{{ $labels.job }}" }} {{ "{{ $labels.route }}" }} is experiencing
-    #        {{ "{{ printf \"%.2f\" $value }}" }} errors.
-    #        VALUE = {{ "{{ $value }}" }}
-    #        LABELS = {{ "{{ $labels }}" }}
-    #      summary: Promtail request errors (instance {{ "{{ $labels.instance }}" }})
</span><span class="gi">+    #        The {{ $labels.job }} {{ $labels.route }} is experiencing
+    #        {{ printf \"%.2f\" $value }} errors.
+    #        VALUE = {{ $value }}
+    #        LABELS = {{ $labels }}
+    #      summary: Promtail request errors (instance {{ $labels.instance }})
</span>     #  - alert: PromtailRequestLatency
     #    expr: histogram_quantile(0.99, sum(rate(promtail_request_duration_seconds_bucket[5m])) by (le)) &gt; 1
     #    for: 5m
     #    labels:
     #      severity: critical
     #    annotations:
<span class="gd">-    #      summary: Promtail request latency (instance {{ "{{ $labels.instance }}" }})
</span><span class="gi">+    #      summary: Promtail request latency (instance {{ $labels.instance }})
</span>     #      description: |
<span class="gd">-    #        The {{ "{{ $labels.job }}" }} {{ "{{ $labels.route }}" }} is experiencing
-    #        {{ "{{ printf \"%.2f\" $value }}" }}s 99th percentile latency.
-    #        VALUE = {{ "{{ $value }}" }}
-    #        LABELS = {{ "{{ $labels }}" }}
</span><span class="gi">+    #        The {{ $labels.job }} {{ $labels.route }} is experiencing
+    #        {{ printf \"%.2f\" $value }}s 99th percentile latency.
+    #        VALUE = {{ $value }}
+    #        LABELS = {{ $labels }}
</span> 
 # Extra containers created as part of a Promtail Deployment resource
 # - spec for Container:
<span class="err">
</span></code></pre></div></div> <h2 id="672"> <a href="#672" class="anchor-heading" aria-labelledby="672"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.2 </h2> <p><strong>Release date:</strong> 2022-12-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(Chart.yaml): bump version</li> <li>feat(promtail/prometheus-rules): add the functionality to deploy PromethesRules with promtail</li> <li>
<a href="add%20ingress">promtail</a> Refactor</li> </ul> <h3 id="default-value-changes-48"> <a href="#default-value-changes-48" class="anchor-heading" aria-labelledby="default-value-changes-48"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 02f1edfa..1d48457c 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -223,6 +223,36 @@</span> serviceMonitor:
   scheme: http
   # -- ServiceMonitor will use these tlsConfig settings to make the health check requests
   tlsConfig: null
<span class="gi">+  # -- Prometheus rules will be deployed for alerting purposes
+  prometheusRule:
+    enabled: false
+    additionalLabels: {}
+    # namespace:
+    rules: []
+    #  - alert: PromtailRequestErrors
+    #    expr: 100 * sum(rate(promtail_request_duration_seconds_count{status_code=~"5..|failed"}[1m])) by (namespace, job, route, instance) / sum(rate(promtail_request_duration_seconds_count[1m])) by (namespace, job, route, instance) &gt; 10
+    #    for: 5m
+    #    labels:
+    #      severity: critical
+    #    annotations:
+    #      description: |
+    #        The {{ "{{ $labels.job }}" }} {{ "{{ $labels.route }}" }} is experiencing
+    #        {{ "{{ printf \"%.2f\" $value }}" }} errors.
+    #        VALUE = {{ "{{ $value }}" }}
+    #        LABELS = {{ "{{ $labels }}" }}
+    #      summary: Promtail request errors (instance {{ "{{ $labels.instance }}" }})
+    #  - alert: PromtailRequestLatency
+    #    expr: histogram_quantile(0.99, sum(rate(promtail_request_duration_seconds_bucket[5m])) by (le)) &gt; 1
+    #    for: 5m
+    #    labels:
+    #      severity: critical
+    #    annotations:
+    #      summary: Promtail request latency (instance {{ "{{ $labels.instance }}" }})
+    #      description: |
+    #        The {{ "{{ $labels.job }}" }} {{ "{{ $labels.route }}" }} is experiencing
+    #        {{ "{{ printf \"%.2f\" $value }}" }}s 99th percentile latency.
+    #        VALUE = {{ "{{ $value }}" }}
+    #        LABELS = {{ "{{ $labels }}" }}
</span> 
 # Extra containers created as part of a Promtail Deployment resource
 # - spec for Container:
<span class="err">
</span></code></pre></div></div> <h2 id="671"> <a href="#671" class="anchor-heading" aria-labelledby="671"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.1 </h2> <p><strong>Release date:</strong> 2022-12-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into path_prefix</li> </ul> <h3 id="default-value-changes-49"> <a href="#default-value-changes-49" class="anchor-heading" aria-labelledby="default-value-changes-49"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="670"> <a href="#670" class="anchor-heading" aria-labelledby="670"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.0 </h2> <p><strong>Release date:</strong> 2022-12-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into main</li> </ul> <h3 id="default-value-changes-50"> <a href="#default-value-changes-50" class="anchor-heading" aria-labelledby="default-value-changes-50"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="664"> <a href="#664" class="anchor-heading" aria-labelledby="664"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.4 </h2> <p><strong>Release date:</strong> 2022-11-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Fix ServiceMonitor path when path prefix is set</li> <li>
<a href="add%20ingress">promtail</a> Remove extra space in doc</li> <li>
<a href="add%20ingress">promtail</a> Fix trailing space error</li> </ul> <h3 id="default-value-changes-51"> <a href="#default-value-changes-51" class="anchor-heading" aria-labelledby="default-value-changes-51"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 47dd21c5..02f1edfa 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -23,7 +23,7 @@</span> deployment:
 secret:
   # -- Labels for the Secret
   labels: {}
<span class="gd">-  # -- Annotations for the Secret 
</span><span class="gi">+  # -- Annotations for the Secret
</span>   annotations: {}
 
 configmap:
<span class="err">
</span></code></pre></div></div> <h2 id="663"> <a href="#663" class="anchor-heading" aria-labelledby="663"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.3 </h2> <p><strong>Release date:</strong> 2022-11-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Allow setting labels and annotations in secret</li> </ul> <h3 id="default-value-changes-52"> <a href="#default-value-changes-52" class="anchor-heading" aria-labelledby="default-value-changes-52"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index f5d549e9..47dd21c5 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,12 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+secret:
+  # -- Labels for the Secret
+  labels: {}
+  # -- Annotations for the Secret 
+  annotations: {}
+
</span> configmap:
   # -- If enabled, promtail config will be created as a ConfigMap instead of a secret
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="670-1"> <a href="#670-1" class="anchor-heading" aria-labelledby="670-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.7.0 </h2> <p><strong>Release date:</strong> 2022-11-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.7.0&amp;color=success" alt="AppVersion: 2.7.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update to promtail version 2.7.0</li> <li>Merge branch ‘main’ into feat/add-enable-service-links</li> </ul> <h3 id="default-value-changes-53"> <a href="#default-value-changes-53" class="anchor-heading" aria-labelledby="default-value-changes-53"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 93a5893b..f5d549e9 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,10 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+configmap:
+  # -- If enabled, promtail config will be created as a ConfigMap instead of a secret
+  enabled: false
+
</span> initContainer: []
   # # -- Specifies whether the init container for setting inotify max user instances is to be enabled
   # - name: init
<span class="p">@@ -73,7 +77,7 @@</span> livenessProbe: {}
 readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="gd">-    path: /ready
</span><span class="gi">+    path: "{{ printf `%s/ready` .Values.httpPathPrefix }}"
</span>     port: http-metrics
   initialDelaySeconds: 10
   periodSeconds: 10
<span class="p">@@ -206,6 +210,13 @@</span> serviceMonitor:
   # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
   # (defines `metric_relabel_configs`)
   metricRelabelings: []
<span class="gi">+  # --ServiceMonitor will add labels from the service to the Prometheus metric
+  # https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec
+  targetLabels: []
+  # -- ServiceMonitor will use http by default, but you can pick https as well
+  scheme: http
+  # -- ServiceMonitor will use these tlsConfig settings to make the health check requests
+  tlsConfig: null
</span> 
 # Extra containers created as part of a Promtail Deployment resource
 # - spec for Container:
<span class="p">@@ -395,6 +406,9 @@</span> config:
     server:
       log_level: {{ .Values.config.logLevel }}
       http_listen_port: {{ .Values.config.serverPort }}
<span class="gi">+      {{- with .Values.httpPathPrefix }}
+      http_path_prefix: {{ . }}
+      {{- end }}
</span>       {{- tpl .Values.config.snippets.extraServerConfigs . | nindent 2 }}
 
     clients:
<span class="p">@@ -429,6 +443,9 @@</span> networkPolicy:
     # -- Specifies specific network CIDRs you want to limit access to
     cidrs: []
 
<span class="gi">+# -- Base path to server all API routes fro
+httpPathPrefix: ""
+
</span> # -- Extra K8s manifests to deploy
 extraObjects: []
   # - apiVersion: "kubernetes-client.io/v1"
<span class="err">
</span></code></pre></div></div> <h2 id="662"> <a href="#662" class="anchor-heading" aria-labelledby="662"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.2 </h2> <p><strong>Release date:</strong> 2022-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> </ul> <h3 id="default-value-changes-54"> <a href="#default-value-changes-54" class="anchor-heading" aria-labelledby="default-value-changes-54"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="660"> <a href="#660" class="anchor-heading" aria-labelledby="660"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.0 </h2> <p><strong>Release date:</strong> 2022-11-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update README.md</li> </ul> <h3 id="default-value-changes-55"> <a href="#default-value-changes-55" class="anchor-heading" aria-labelledby="default-value-changes-55"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2ae9afbe..93a5893b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -178,6 +178,9 @@</span> extraEnv: []
 # -- Extra environment variables from secrets or configmaps
 extraEnvFrom: []
 
<span class="gi">+# -- Configure enableServiceLinks in pod
+enableServiceLinks: true
+
</span> # ServiceMonitor configuration
 serviceMonitor:
   # -- If enabled, ServiceMonitor resources for Prometheus Operator are created
<span class="err">
</span></code></pre></div></div> <h2 id="661"> <a href="#661" class="anchor-heading" aria-labelledby="661"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.1 </h2> <p><strong>Release date:</strong> 2022-11-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump chart version and update README.md</li> <li>Merge branch ‘main’ into path_prefix</li> <li>Remove custom comment so that build passes…</li> <li>Add note about configmap generation to docs</li> <li>Merge branch ‘main’ into feat/add-enable-service-links</li> </ul> <h3 id="default-value-changes-56"> <a href="#default-value-changes-56" class="anchor-heading" aria-labelledby="default-value-changes-56"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2ae9afbe..86f2bdb4 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,6 +20,10 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gi">+configmap:
+  # -- If enabled, promtail config will be created as a ConfigMap instead of a secret
+  enabled: false
+
</span> initContainer: []
   # # -- Specifies whether the init container for setting inotify max user instances is to be enabled
   # - name: init
<span class="p">@@ -73,7 +77,7 @@</span> livenessProbe: {}
 readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="gd">-    path: /ready
</span><span class="gi">+    path: "{{ printf `%s/ready` .Values.httpPathPrefix }}"
</span>     port: http-metrics
   initialDelaySeconds: 10
   periodSeconds: 10
<span class="p">@@ -203,6 +207,13 @@</span> serviceMonitor:
   # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
   # (defines `metric_relabel_configs`)
   metricRelabelings: []
<span class="gi">+  # --ServiceMonitor will add labels from the service to the Prometheus metric
+  # https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/api.md#servicemonitorspec
+  targetLabels: []
+  # -- ServiceMonitor will use http by default, but you can pick https as well
+  scheme: http
+  # -- ServiceMonitor will use these tlsConfig settings to make the health check requests
+  tlsConfig: null
</span> 
 # Extra containers created as part of a Promtail Deployment resource
 # - spec for Container:
<span class="p">@@ -392,6 +403,9 @@</span> config:
     server:
       log_level: {{ .Values.config.logLevel }}
       http_listen_port: {{ .Values.config.serverPort }}
<span class="gi">+      {{- with .Values.httpPathPrefix }}
+      http_path_prefix: {{ . }}
+      {{- end }}
</span>       {{- tpl .Values.config.snippets.extraServerConfigs . | nindent 2 }}
 
     clients:
<span class="p">@@ -426,6 +440,9 @@</span> networkPolicy:
     # -- Specifies specific network CIDRs you want to limit access to
     cidrs: []
 
<span class="gi">+# -- Base path to server all API routes fro
+httpPathPrefix: ""
+
</span> # -- Extra K8s manifests to deploy
 extraObjects: []
   # - apiVersion: "kubernetes-client.io/v1"
<span class="err">
</span></code></pre></div></div> <h2 id="660-1"> <a href="#660-1" class="anchor-heading" aria-labelledby="660-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.0 </h2> <p><strong>Release date:</strong> 2022-10-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Promtail helm chart version to 6.6.0</li> <li>Fix README.md</li> </ul> <h3 id="default-value-changes-57"> <a href="#default-value-changes-57" class="anchor-heading" aria-labelledby="default-value-changes-57"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="651"> <a href="#651" class="anchor-heading" aria-labelledby="651"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.1 </h2> <p><strong>Release date:</strong> 2022-10-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump Promtail helm chart version</li> </ul> <h3 id="default-value-changes-58"> <a href="#default-value-changes-58" class="anchor-heading" aria-labelledby="default-value-changes-58"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="650"> <a href="#650" class="anchor-heading" aria-labelledby="650"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.0 </h2> <p><strong>Release date:</strong> 2022-10-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add enableServiceLinks to promtail pod</li> <li>Update docs again</li> <li>Update docs and set default value for configmap generation to false</li> <li>Update docs</li> <li>Update ServiceMonitor template and introduce config as ConfigMap option</li> </ul> <h3 id="default-value-changes-59"> <a href="#default-value-changes-59" class="anchor-heading" aria-labelledby="default-value-changes-59"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2ae9afbe..93a5893b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -178,6 +178,9 @@</span> extraEnv: []
 # -- Extra environment variables from secrets or configmaps
 extraEnvFrom: []
 
<span class="gi">+# -- Configure enableServiceLinks in pod
+enableServiceLinks: true
+
</span> # ServiceMonitor configuration
 serviceMonitor:
   # -- If enabled, ServiceMonitor resources for Prometheus Operator are created
<span class="err">
</span></code></pre></div></div> <h2 id="660-2"> <a href="#660-2" class="anchor-heading" aria-labelledby="660-2"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.6.0 </h2> <p><strong>Release date:</strong> 2022-10-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add support for setting a different HTTP path prefix</li> </ul> <h3 id="default-value-changes-60"> <a href="#default-value-changes-60" class="anchor-heading" aria-labelledby="default-value-changes-60"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2ae9afbe..08e213e9 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -73,7 +73,7 @@</span> livenessProbe: {}
 readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="gd">-    path: /ready
</span><span class="gi">+    path: "{{ printf `%s/ready` .Values.httpPathPrefix }}"
</span>     port: http-metrics
   initialDelaySeconds: 10
   periodSeconds: 10
<span class="p">@@ -392,6 +392,9 @@</span> config:
     server:
       log_level: {{ .Values.config.logLevel }}
       http_listen_port: {{ .Values.config.serverPort }}
<span class="gi">+      {{- with .Values.httpPathPrefix }}
+      http_path_prefix: {{ . }}
+      {{- end }}
</span>       {{- tpl .Values.config.snippets.extraServerConfigs . | nindent 2 }}
 
     clients:
<span class="p">@@ -426,6 +429,9 @@</span> networkPolicy:
     # -- Specifies specific network CIDRs you want to limit access to
     cidrs: []
 
<span class="gi">+# -- Base path to server all API routes fro
+httpPathPrefix: ""
+
</span> # -- Extra K8s manifests to deploy
 extraObjects: []
   # - apiVersion: "kubernetes-client.io/v1"
<span class="err">
</span></code></pre></div></div> <h2 id="651-1"> <a href="#651-1" class="anchor-heading" aria-labelledby="651-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.1 </h2> <p><strong>Release date:</strong> 2022-10-16</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Fix PSP deprecation after k8s 1.25+</li> <li>make helm-docs happy</li> </ul> <h3 id="default-value-changes-61"> <a href="#default-value-changes-61" class="anchor-heading" aria-labelledby="default-value-changes-61"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="650-1"> <a href="#650-1" class="anchor-heading" aria-labelledby="650-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.5.0 </h2> <p><strong>Release date:</strong> 2022-10-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Promtail: add ‘limits_config’ stanza</li> <li>Update</li> <li>add default to values.yaml</li> </ul> <h3 id="default-value-changes-62"> <a href="#default-value-changes-62" class="anchor-heading" aria-labelledby="default-value-changes-62"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index f519f5ea..2ae9afbe 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -204,6 +204,17 @@</span> serviceMonitor:
   # (defines `metric_relabel_configs`)
   metricRelabelings: []
 
<span class="gi">+# Extra containers created as part of a Promtail Deployment resource
+# - spec for Container:
+#   https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#container-v1-core
+#
+# Note that the key is used as the `name` field, i.e. below will create a
+# container named `promtail-proxy`.
+extraContainers: {}
+  # promtail-proxy:
+  #   image: nginx
+  #   ...
+
</span> # -- Configure additional ports and services. For each configured port, a corresponding service is created.
 # See values.yaml for details
 extraPorts: {}
<span class="p">@@ -316,6 +327,10 @@</span> config:
     # This helps debug the Promtail config.
     addScrapeJobLabel: false
 
<span class="gi">+    # -- You can put here any keys that will be directly added to the config file's 'limits_config' block.
+    # @default -- empty
+    extraLimitsConfig: ""
+
</span>     # -- You can put here any keys that will be directly added to the config file's 'server' block.
     # @default -- empty
     extraServerConfigs: ""
<span class="p">@@ -389,6 +404,9 @@</span> config:
       {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
       {{- tpl .Values.config.snippets.extraScrapeConfigs . | nindent 2 }}
 
<span class="gi">+    limits_config:
+      {{- tpl .Values.config.snippets.extraLimitsConfig . | nindent 2 }}
+
</span> networkPolicy:
   # -- Specifies whether Network Policies should be created
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="640"> <a href="#640" class="anchor-heading" aria-labelledby="640"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.4.0 </h2> <p><strong>Release date:</strong> 2022-09-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> feat: support extraContainers for Promtail Deployments</li> <li>fix: run helm-docs</li> </ul> <h3 id="default-value-changes-63"> <a href="#default-value-changes-63" class="anchor-heading" aria-labelledby="default-value-changes-63"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="631"> <a href="#631" class="anchor-heading" aria-labelledby="631"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3.1 </h2> <p><strong>Release date:</strong> 2022-09-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix(promtail): use correct syntax for clients</li> <li>Update README.md.gotmpl</li> <li>Update README.md.gotmpl</li> <li>Merge branch ‘main’ into feat/promtail-initContainer</li> </ul> <h3 id="default-value-changes-64"> <a href="#default-value-changes-64" class="anchor-heading" aria-labelledby="default-value-changes-64"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="630"> <a href="#630" class="anchor-heading" aria-labelledby="630"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3.0 </h2> <p><strong>Release date:</strong> 2022-08-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> allow for potentially more/different initContainers</li> </ul> <h3 id="default-value-changes-65"> <a href="#default-value-changes-65" class="anchor-heading" aria-labelledby="default-value-changes-65"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index ad2468df..f519f5ea 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -20,20 +20,20 @@</span> deployment:
     targetCPUUtilizationPercentage: 80
     targetMemoryUtilizationPercentage:
 
<span class="gd">-initContainer:
-  # -- Specifies whether the init container for setting inotify max user instances is to be enabled
-  enabled: false
-  image:
-    # -- The Docker registry for the init container
-    registry: docker.io
-    # -- Docker image repository for the init container
-    repository: busybox
-    # -- Docker tag for the init container
-    tag: 1.33
-    # -- Docker image pull policy for the init container image
-    pullPolicy: IfNotPresent
-  # -- The inotify max user instances to configure
-  fsInotifyMaxUserInstances: 128
</span><span class="gi">+initContainer: []
+  # # -- Specifies whether the init container for setting inotify max user instances is to be enabled
+  # - name: init
+  #   # -- Docker registry, image and tag for the init container image
+  #   image: docker.io/busybox:1.33
+  #   # -- Docker image pull policy for the init container image
+  #   imagePullPolicy: IfNotPresent
+  #   # -- The inotify max user instances to configure
+  #   command:
+  #     - sh
+  #     - -c
+  #     - sysctl -w fs.inotify.max_user_instances=128
+  #   securityContext:
+  #     privileged: true
</span> 
 image:
   # -- The Docker registry
<span class="err">
</span></code></pre></div></div> <h2 id="623"> <a href="#623" class="anchor-heading" aria-labelledby="623"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2.3 </h2> <p><strong>Release date:</strong> 2022-08-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump Chart.yaml and README.md</li> <li>Made extraPorts protocol variable in service template</li> </ul> <h3 id="default-value-changes-66"> <a href="#default-value-changes-66" class="anchor-heading" aria-labelledby="default-value-changes-66"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="622"> <a href="#622" class="anchor-heading" aria-labelledby="622"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2.2 </h2> <p><strong>Release date:</strong> 2022-07-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.1&amp;color=success" alt="AppVersion: 2.6.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> updated promtail release version to 2.6.1 and bumped version of the chart</li> <li>fix volume run duplicate</li> <li>Merge branch ‘main’ into promtail-deployment</li> </ul> <h3 id="default-value-changes-67"> <a href="#default-value-changes-67" class="anchor-heading" aria-labelledby="default-value-changes-67"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 11f7c4c6..ad2468df 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -138,6 +138,9 @@</span> tolerations:
 # Use `extraVolumes`/`extraVolumeMounts` for additional custom volumes.
 # @default -- See `values.yaml`
 defaultVolumes:
<span class="gi">+  - name: run
+    hostPath:
+      path: /run/promtail
</span>   - name: containers
     hostPath:
       path: /var/lib/docker/containers
<span class="p">@@ -148,6 +151,8 @@</span> defaultVolumes:
 # -- Default volume mounts. Corresponds to `volumes`.
 # @default -- See `values.yaml`
 defaultVolumeMounts:
<span class="gi">+  - name: run
+    mountPath: /run/promtail
</span>   - name: containers
     mountPath: /var/lib/docker/containers
     readOnly: true
<span class="p">@@ -311,6 +316,10 @@</span> config:
     # This helps debug the Promtail config.
     addScrapeJobLabel: false
 
<span class="gi">+    # -- You can put here any keys that will be directly added to the config file's 'server' block.
+    # @default -- empty
+    extraServerConfigs: ""
+
</span>     # -- You can put here any additional scrape configs you want to add to the config file.
     # @default -- empty
     extraScrapeConfigs: ""
<span class="p">@@ -368,9 +377,10 @@</span> config:
     server:
       log_level: {{ .Values.config.logLevel }}
       http_listen_port: {{ .Values.config.serverPort }}
<span class="gi">+      {{- tpl .Values.config.snippets.extraServerConfigs . | nindent 2 }}
</span> 
     clients:
<span class="gd">-      {{- toYaml .Values.config.clients | nindent 2 }}
</span><span class="gi">+      {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
<span class="err">
</span></code></pre></div></div> <h2 id="621"> <a href="#621" class="anchor-heading" aria-labelledby="621"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2.1 </h2> <p><strong>Release date:</strong> 2022-07-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump chart version</li> </ul> <h3 id="default-value-changes-68"> <a href="#default-value-changes-68" class="anchor-heading" aria-labelledby="default-value-changes-68"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index f8524fe0..11f7c4c6 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,6 +4,22 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+daemonset:
+  # -- Deploys Promtail as a DaemonSet
+  enabled: true
+
+deployment:
+  # -- Deploys Promtail as a Deployment
+  enabled: false
+  replicaCount: 1
+  autoscaling:
+    # -- Creates a HorizontalPodAutoscaler for the deployment
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 10
+    targetCPUUtilizationPercentage: 80
+    targetMemoryUtilizationPercentage:
+
</span> initContainer:
   # -- Specifies whether the init container for setting inotify max user instances is to be enabled
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="620"> <a href="#620" class="anchor-heading" aria-labelledby="620"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2.0 </h2> <p><strong>Release date:</strong> 2022-07-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.6.0&amp;color=success" alt="AppVersion: 2.6.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Release promtail helm-charts version 2.6.0</li> </ul> <h3 id="default-value-changes-69"> <a href="#default-value-changes-69" class="anchor-heading" aria-labelledby="default-value-changes-69"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="610"> <a href="#610" class="anchor-heading" aria-labelledby="610"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.1.0 </h2> <p><strong>Release date:</strong> 2022-07-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Bump the version to 6.1.0</li> <li>promtail: Add config.snippets.extraServerConfigs</li> <li>
<a href="add%20ingress">promtail</a> update syslog and journal docs (gotmpl)</li> <li>Merge branch ‘main’ into main</li> </ul> <h3 id="default-value-changes-70"> <a href="#default-value-changes-70" class="anchor-heading" aria-labelledby="default-value-changes-70"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 02672dfb..c20d87b2 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -300,6 +300,10 @@</span> config:
     # This helps debug the Promtail config.
     addScrapeJobLabel: false
 
<span class="gi">+    # -- You can put here any keys that will be directly added to the config file's 'server' block.
+    # @default -- empty
+    extraServerConfigs: ""
+
</span>     # -- You can put here any additional scrape configs you want to add to the config file.
     # @default -- empty
     extraScrapeConfigs: ""
<span class="p">@@ -357,9 +361,10 @@</span> config:
     server:
       log_level: {{ .Values.config.logLevel }}
       http_listen_port: {{ .Values.config.serverPort }}
<span class="gi">+      {{- tpl .Values.config.snippets.extraServerConfigs . | nindent 2 }}
</span> 
     clients:
<span class="gd">-      {{- toYaml .Values.config.clients | nindent 2 }}
</span><span class="gi">+      {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
<span class="err">
</span></code></pre></div></div> <h2 id="602"> <a href="#602" class="anchor-heading" aria-labelledby="602"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.0.2 </h2> <p><strong>Release date:</strong> 2022-07-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update Chart.yaml</li> <li>Update README.md</li> </ul> <h3 id="default-value-changes-71"> <a href="#default-value-changes-71" class="anchor-heading" aria-labelledby="default-value-changes-71"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="600"> <a href="#600" class="anchor-heading" aria-labelledby="600"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.0.0 </h2> <p><strong>Release date:</strong> 2022-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> improve documentation for syslog and journal scraping</li> </ul> <h3 id="default-value-changes-72"> <a href="#default-value-changes-72" class="anchor-heading" aria-labelledby="default-value-changes-72"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="601"> <a href="#601" class="anchor-heading" aria-labelledby="601"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.0.1 </h2> <p><strong>Release date:</strong> 2022-07-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> use tpl function for client urls</li> </ul> <h3 id="default-value-changes-73"> <a href="#default-value-changes-73" class="anchor-heading" aria-labelledby="default-value-changes-73"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 02672dfb..188a8e2b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -359,7 +359,7 @@</span> config:
       http_listen_port: {{ .Values.config.serverPort }}
 
     clients:
<span class="gd">-      {{- toYaml .Values.config.clients | nindent 2 }}
</span><span class="gi">+      {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
<span class="err">
</span></code></pre></div></div> <h2 id="600-1"> <a href="#600-1" class="anchor-heading" aria-labelledby="600-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.0.0 </h2> <p><strong>Release date:</strong> 2022-06-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Change <code class="language-plaintext highlighter-rouge">/run/promtail</code> mount to configurable with <code class="language-plaintext highlighter-rouge">values.yaml</code>
</li> </ul> <h3 id="default-value-changes-74"> <a href="#default-value-changes-74" class="anchor-heading" aria-labelledby="default-value-changes-74"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index f8524fe0..02672dfb 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -122,6 +122,9 @@</span> tolerations:
 # Use `extraVolumes`/`extraVolumeMounts` for additional custom volumes.
 # @default -- See `values.yaml`
 defaultVolumes:
<span class="gi">+  - name: run
+    hostPath:
+      path: /run/promtail
</span>   - name: containers
     hostPath:
       path: /var/lib/docker/containers
<span class="p">@@ -132,6 +135,8 @@</span> defaultVolumes:
 # -- Default volume mounts. Corresponds to `volumes`.
 # @default -- See `values.yaml`
 defaultVolumeMounts:
<span class="gi">+  - name: run
+    mountPath: /run/promtail
</span>   - name: containers
     mountPath: /var/lib/docker/containers
     readOnly: true
<span class="err">
</span></code></pre></div></div> <h2 id="511"> <a href="#511" class="anchor-heading" aria-labelledby="511"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.1 </h2> <p><strong>Release date:</strong> 2022-06-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into promtail-deployment</li> </ul> <h3 id="default-value-changes-75"> <a href="#default-value-changes-75" class="anchor-heading" aria-labelledby="default-value-changes-75"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index f8524fe0..11f7c4c6 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,6 +4,22 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+daemonset:
+  # -- Deploys Promtail as a DaemonSet
+  enabled: true
+
+deployment:
+  # -- Deploys Promtail as a Deployment
+  enabled: false
+  replicaCount: 1
+  autoscaling:
+    # -- Creates a HorizontalPodAutoscaler for the deployment
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 10
+    targetCPUUtilizationPercentage: 80
+    targetMemoryUtilizationPercentage:
+
</span> initContainer:
   # -- Specifies whether the init container for setting inotify max user instances is to be enabled
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="510"> <a href="#510" class="anchor-heading" aria-labelledby="510"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1.0 </h2> <p><strong>Release date:</strong> 2022-05-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> add <code class="language-plaintext highlighter-rouge">instance</code> labels</li> </ul> <h3 id="default-value-changes-76"> <a href="#default-value-changes-76" class="anchor-heading" aria-labelledby="default-value-changes-76"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5e39aa7f..f8524fe0 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -323,6 +323,12 @@</span> config:
             regex: ^;*([^;]+)(;.*)?$
             action: replace
             target_label: app
<span class="gi">+          - source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_instance
+              - __meta_kubernetes_pod_label_release
+            regex: ^;*([^;]+)(;.*)?$
+            action: replace
+            target_label: instance
</span>           - source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_component
               - __meta_kubernetes_pod_label_component
<span class="err">
</span></code></pre></div></div> <h2 id="500"> <a href="#500" class="anchor-heading" aria-labelledby="500"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.0.0 </h2> <p><strong>Release date:</strong> 2022-05-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> support multiple clients via <code class="language-plaintext highlighter-rouge">clients</code>
</li> </ul> <h3 id="default-value-changes-77"> <a href="#default-value-changes-77" class="anchor-heading" aria-labelledby="default-value-changes-77"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index a03f7958..5e39aa7f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -238,10 +238,11 @@</span> config:
   # Must be reference in `config.file` to configure `server.http_listen_port`
   # See default config in `values.yaml`
   serverPort: 3101
<span class="gd">-  # -- The Loki address to post logs to.
-  # Must be reference in `config.file` to configure `client.url`.
-  # See default config in `values.yaml`
-  lokiAddress: http://loki-gateway/loki/api/v1/push
</span><span class="gi">+  # -- The config of clients of the Promtail server
+  # Must be reference in `config.file` to configure `clients`
+  # @default -- See `values.yaml`
+  clients:
+    - url: http://loki-gateway/loki/api/v1/push
</span>   # -- A section of reusable snippets that can be reference in `config.file`.
   # Custom snippets may be added in order to reduce redundancy.
   # This is especially helpful when multiple `kubernetes_sd_configs` are use which usually have large parts in common.
<span class="p">@@ -294,10 +295,6 @@</span> config:
     # This helps debug the Promtail config.
     addScrapeJobLabel: false
 
<span class="gd">-    # -- You can put here any keys that will be directly added to the config file's 'client' block.
-    # @default -- empty
-    extraClientConfigs: []
-
</span>     # -- You can put here any additional scrape configs you want to add to the config file.
     # @default -- empty
     extraScrapeConfigs: ""
<span class="p">@@ -351,10 +348,7 @@</span> config:
       http_listen_port: {{ .Values.config.serverPort }}
 
     clients:
<span class="gd">-      - url: {{ tpl .Values.config.lokiAddress . }}
-      {{- with .Values.config.snippets.extraClientConfigs }}
-      {{- toYaml . | nindent 2 }}
-      {{- end }}
</span><span class="gi">+      {{- toYaml .Values.config.clients | nindent 2 }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
<span class="err">
</span></code></pre></div></div> <h2 id="421"> <a href="#421" class="anchor-heading" aria-labelledby="421"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.1 </h2> <p><strong>Release date:</strong> 2022-05-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> support metricRelabeling (#949)</li> </ul> <h3 id="default-value-changes-78"> <a href="#default-value-changes-78" class="anchor-heading" aria-labelledby="default-value-changes-78"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 473c9e1f..a03f7958 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -175,7 +175,13 @@</span> serviceMonitor:
   scrapeTimeout: null
   # -- ServiceMonitor relabel configs to apply to samples before scraping
   # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
<span class="gi">+  # (defines `relabel_configs`)
</span>   relabelings: []
<span class="gi">+  # -- ServiceMonitor relabel configs to apply to samples as the last
+  # step before ingestion
+  # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+  # (defines `metric_relabel_configs`)
+  metricRelabelings: []
</span> 
 # -- Configure additional ports and services. For each configured port, a corresponding service is created.
 # See values.yaml for details
<span class="err">
</span></code></pre></div></div> <h2 id="420"> <a href="#420" class="anchor-heading" aria-labelledby="420"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2.0 </h2> <p><strong>Release date:</strong> 2022-04-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump version to force gh-pages republish</li> </ul> <h3 id="default-value-changes-79"> <a href="#default-value-changes-79" class="anchor-heading" aria-labelledby="default-value-changes-79"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="410"> <a href="#410" class="anchor-heading" aria-labelledby="410"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1.0 </h2> <p><strong>Release date:</strong> 2022-04-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.5.0&amp;color=success" alt="AppVersion: 2.5.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>upgrade to promtail version 2.5.0</li> <li>update readme</li> </ul> <h3 id="default-value-changes-80"> <a href="#default-value-changes-80" class="anchor-heading" aria-labelledby="default-value-changes-80"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="400"> <a href="#400" class="anchor-heading" aria-labelledby="400"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.0.0 </h2> <p><strong>Release date:</strong> 2022-03-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.2&amp;color=success" alt="AppVersion: 2.4.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump chart version</li> <li>make extra client configs an array of configs</li> </ul> <h3 id="default-value-changes-81"> <a href="#default-value-changes-81" class="anchor-heading" aria-labelledby="default-value-changes-81"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c4c6a04c..473c9e1f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -290,7 +290,7 @@</span> config:
 
     # -- You can put here any keys that will be directly added to the config file's 'client' block.
     # @default -- empty
<span class="gd">-    extraClientConfigs: ""
</span><span class="gi">+    extraClientConfigs: []
</span> 
     # -- You can put here any additional scrape configs you want to add to the config file.
     # @default -- empty
<span class="p">@@ -344,9 +344,11 @@</span> config:
       log_level: {{ .Values.config.logLevel }}
       http_listen_port: {{ .Values.config.serverPort }}
 
<span class="gd">-    client:
-      url: {{ tpl .Values.config.lokiAddress . }}
-      {{- tpl .Values.config.snippets.extraClientConfigs . | nindent 2 }}
</span><span class="gi">+    clients:
+      - url: {{ tpl .Values.config.lokiAddress . }}
+      {{- with .Values.config.snippets.extraClientConfigs }}
+      {{- toYaml . | nindent 2 }}
+      {{- end }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
<span class="err">
</span></code></pre></div></div> <h2 id="3110"> <a href="#3110" class="anchor-heading" aria-labelledby="3110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.11.0 </h2> <p><strong>Release date:</strong> 2022-01-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.2&amp;color=success" alt="AppVersion: 2.4.2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Add extra (dynamic) Manifests to chart</li> <li>update to Loki 2.4.2</li> </ul> <h3 id="default-value-changes-82"> <a href="#default-value-changes-82" class="anchor-heading" aria-labelledby="default-value-changes-82"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e12200c6..c4c6a04c 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -173,6 +173,9 @@</span> serviceMonitor:
   interval: null
   # -- ServiceMonitor scrape timeout in Go duration format (e.g. 15s)
   scrapeTimeout: null
<span class="gi">+  # -- ServiceMonitor relabel configs to apply to samples before scraping
+  # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+  relabelings: []
</span> 
 # -- Configure additional ports and services. For each configured port, a corresponding service is created.
 # See values.yaml for details
<span class="p">@@ -370,3 +373,15 @@</span> networkPolicy:
     port: 8443
     # -- Specifies specific network CIDRs you want to limit access to
     cidrs: []
<span class="gi">+
+# -- Extra K8s manifests to deploy
+extraObjects: []
+  # - apiVersion: "kubernetes-client.io/v1"
+  #   kind: ExternalSecret
+  #   metadata:
+  #     name: promtail-secrets
+  #   spec:
+  #     backendType: gcpSecretsManager
+  #     data:
+  #       - key: promtail-oauth2-creds
+  #         name: client_secret
</span><span class="err">
</span></code></pre></div></div> <h2 id="3100"> <a href="#3100" class="anchor-heading" aria-labelledby="3100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.10.0 </h2> <p><strong>Release date:</strong> 2021-12-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.1&amp;color=success" alt="AppVersion: 2.4.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>promtail: bump chart version</li> <li>promtail: add hpa</li> </ul> <h3 id="default-value-changes-83"> <a href="#default-value-changes-83" class="anchor-heading" aria-labelledby="default-value-changes-83"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index da261ddc..1cf2551b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -12,6 +12,13 @@</span> deployment:
   # -- Deploys Promtail as a Deployment
   enabled: false
   replicaCount: 1
<span class="gi">+  autoscaling:
+    # -- Creates a HorizontalPodAutoscaler for the deployment
+    enabled: false
+    minReplicas: 1
+    maxReplicas: 10
+    targetCPUUtilizationPercentage: 80
+    targetMemoryUtilizationPercentage:
</span> 
 initContainer:
   # -- Specifies whether the init container for setting inotify max user instances is to be enabled
<span class="err">
</span></code></pre></div></div> <h2 id="391"> <a href="#391" class="anchor-heading" aria-labelledby="391"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.9.1 </h2> <p><strong>Release date:</strong> 2021-12-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.1&amp;color=success" alt="AppVersion: 2.4.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>promtail: add deployment</li> <li>Ran helm-docs</li> <li>Fix parameter name</li> </ul> <h3 id="default-value-changes-84"> <a href="#default-value-changes-84" class="anchor-heading" aria-labelledby="default-value-changes-84"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e12200c6..da261ddc 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,6 +4,15 @@</span> nameOverride: null
 # -- Overrides the chart's computed fullname
 fullnameOverride: null
 
<span class="gi">+daemonset:
+  # -- Deploys Promtail as a DaemonSet
+  enabled: true
+
+deployment:
+  # -- Deploys Promtail as a Deployment
+  enabled: false
+  replicaCount: 1
+
</span> initContainer:
   # -- Specifies whether the init container for setting inotify max user instances is to be enabled
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="392"> <a href="#392" class="anchor-heading" aria-labelledby="392"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.9.2 </h2> <p><strong>Release date:</strong> 2021-11-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.1&amp;color=success" alt="AppVersion: 2.4.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add relabelings to servicemonitor</li> </ul> <h3 id="default-value-changes-85"> <a href="#default-value-changes-85" class="anchor-heading" aria-labelledby="default-value-changes-85"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e12200c6..d46e0c6a 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -173,6 +173,9 @@</span> serviceMonitor:
   interval: null
   # -- ServiceMonitor scrape timeout in Go duration format (e.g. 15s)
   scrapeTimeout: null
<span class="gi">+  # -- ServiceMonitor relabel configs to apply to samples before scraping
+  # https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#relabelconfig
+  relabelings: []
</span> 
 # -- Configure additional ports and services. For each configured port, a corresponding service is created.
 # See values.yaml for details
<span class="err">
</span></code></pre></div></div> <h2 id="391-1"> <a href="#391-1" class="anchor-heading" aria-labelledby="391-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.9.1 </h2> <p><strong>Release date:</strong> 2021-11-08</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.1&amp;color=success" alt="AppVersion: 2.4.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>promtail 2.4.1</li> </ul> <h3 id="default-value-changes-86"> <a href="#default-value-changes-86" class="anchor-heading" aria-labelledby="default-value-changes-86"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="390"> <a href="#390" class="anchor-heading" aria-labelledby="390"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.9.0 </h2> <p><strong>Release date:</strong> 2021-11-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.4.0&amp;color=success" alt="AppVersion: 2.4.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> chart v3.9.0</li> <li>ran helm-docs</li> </ul> <h3 id="default-value-changes-87"> <a href="#default-value-changes-87" class="anchor-heading" aria-labelledby="default-value-changes-87"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="382"> <a href="#382" class="anchor-heading" aria-labelledby="382"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.8.2 </h2> <p><strong>Release date:</strong> 2021-10-19</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.0&amp;color=success" alt="AppVersion: 2.3.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>increased patch version of the chart</li> <li>fixed typo</li> <li>fix: update helm-docs</li> </ul> <h3 id="default-value-changes-88"> <a href="#default-value-changes-88" class="anchor-heading" aria-labelledby="default-value-changes-88"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index f3b1d85f..e12200c6 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -32,7 +32,7 @@</span> image:
 # -- Image pull secrets for Docker images
 imagePullSecrets: []
 
<span class="gd">-# -- Annotations for the SaemonSet
</span><span class="gi">+# -- Annotations for the DaemonSet
</span> annotations: {}
 
 # -- The update strategy for the DaemonSet
<span class="err">
</span></code></pre></div></div> <h2 id="381"> <a href="#381" class="anchor-heading" aria-labelledby="381"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.8.1 </h2> <p><strong>Release date:</strong> 2021-08-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.0&amp;color=success" alt="AppVersion: 2.3.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into patch-1</li> </ul> <h3 id="default-value-changes-89"> <a href="#default-value-changes-89" class="anchor-heading" aria-labelledby="default-value-changes-89"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="380"> <a href="#380" class="anchor-heading" aria-labelledby="380"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.8.0 </h2> <p><strong>Release date:</strong> 2021-08-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.0&amp;color=success" alt="AppVersion: 2.3.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> support extraRelabelConfigs</li> <li>
<a href="add%20ingress">promtail</a> simplify promtail scrapeConfigs</li> <li>update helm docs</li> </ul> <h3 id="default-value-changes-90"> <a href="#default-value-changes-90" class="anchor-heading" aria-labelledby="default-value-changes-90"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 63c0bb04..f3b1d85f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -293,156 +293,44 @@</span> config:
     # @default -- empty
     extraScrapeConfigs: ""
 
<span class="gi">+    # -- You can put here any additional relabel_configs to "kubernetes-pods" job
+    extraRelabelConfigs: []
+
</span>     scrapeConfigs: |
       # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference
<span class="gd">-
-      # Pods with a label 'app.kubernetes.io/name'
-      - job_name: kubernetes-pods-app-kubernetes-io-name
-        pipeline_stages:
-          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
-        kubernetes_sd_configs:
-          - role: pod
-        relabel_configs:
-          - action: replace
-            source_labels:
-              - __meta_kubernetes_pod_label_app_kubernetes_io_name
-            target_label: app
-          - action: drop
-            regex: ''
-            source_labels:
-              - app
-          - action: replace
-            source_labels:
-              - __meta_kubernetes_pod_label_app_kubernetes_io_component
-            target_label: component
-          {{- if .Values.config.snippets.addScrapeJobLabel }}
-          - action: replace
-            replacement: kubernetes-pods-app-kubernetes-io-name
-            target_label: scrape_job
-          {{- end }}
-          {{- toYaml .Values.config.snippets.common | nindent 4 }}
-
-      # Pods with a label 'app'
-      - job_name: kubernetes-pods-app
-        pipeline_stages:
-          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
-        kubernetes_sd_configs:
-          - role: pod
-        relabel_configs:
-          # Drop pods with label 'app.kubernetes.io/name'. They are already considered above
-          - action: drop
-            regex: .+
-            source_labels:
-              - __meta_kubernetes_pod_label_app_kubernetes_io_name
-          - action: replace
-            source_labels:
-              - __meta_kubernetes_pod_label_app
-            target_label: app
-          - action: drop
-            regex: ''
-            source_labels:
-              - app
-          - action: replace
-            source_labels:
-              - __meta_kubernetes_pod_label_component
-            target_label: component
-          {{- if .Values.config.snippets.addScrapeJobLabel }}
-          - action: replace
-            replacement: kubernetes-pods-app
-            target_label: scrape_job
-          {{- end }}
-          {{- toYaml .Values.config.snippets.common | nindent 4 }}
-
-      # Pods with direct controllers, such as StatefulSet
-      - job_name: kubernetes-pods-direct-controllers
</span><span class="gi">+      - job_name: kubernetes-pods
</span>         pipeline_stages:
           {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
         kubernetes_sd_configs:
           - role: pod
         relabel_configs:
<span class="gd">-          # Drop pods with label 'app.kubernetes.io/name' or 'app'. They are already considered above
-          - action: drop
-            regex: .+
-            separator: ''
-            source_labels:
-              - __meta_kubernetes_pod_label_app_kubernetes_io_name
-              - __meta_kubernetes_pod_label_app
-          - action: drop
-            regex: '[0-9a-z-.]+-[0-9a-f]{8,10}'
-            source_labels:
</span><span class="gi">+          - source_labels:
</span>               - __meta_kubernetes_pod_controller_name
<span class="gd">-          - action: replace
-            source_labels:
-              - __meta_kubernetes_pod_controller_name
-            target_label: app
-          {{- if .Values.config.snippets.addScrapeJobLabel }}
-          - action: replace
-            replacement: kubernetes-pods-direct-controllers
-            target_label: scrape_job
-          {{- end }}
-          {{- toYaml .Values.config.snippets.common | nindent 4 }}
-
-      # Pods with indirect controllers, such as Deployment
-      - job_name: kubernetes-pods-indirect-controller
-        pipeline_stages:
-          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
-        kubernetes_sd_configs:
-          - role: pod
-        relabel_configs:
-          # Drop pods with label 'app.kubernetes.io/name' or 'app'. They are already considered above
-          - action: drop
-            regex: .+
-            separator: ''
-            source_labels:
</span><span class="gi">+            regex: ([0-9a-z-.]+?)(-[0-9a-f]{8,10})?
+            action: replace
+            target_label: __tmp_controller_name
+          - source_labels:
</span>               - __meta_kubernetes_pod_label_app_kubernetes_io_name
               - __meta_kubernetes_pod_label_app
<span class="gd">-          - action: keep
-            regex: '[0-9a-z-.]+-[0-9a-f]{8,10}'
-            source_labels:
-              - __meta_kubernetes_pod_controller_name
-          - action: replace
-            regex: '([0-9a-z-.]+)-[0-9a-f]{8,10}'
-            source_labels:
-              - __meta_kubernetes_pod_controller_name
-            target_label: app
-          {{- if .Values.config.snippets.addScrapeJobLabel }}
-          - action: replace
-            replacement: kubernetes-pods-indirect-controller
-            target_label: scrape_job
-          {{- end }}
-          {{- toYaml .Values.config.snippets.common | nindent 4 }}
-      # All remaining pods not yet covered
-      - job_name: kubernetes-other
-        pipeline_stages:
-          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
-        kubernetes_sd_configs:
-          - role: pod
-        relabel_configs:
-          # Drop what has already been covered
-          - action: drop
-            regex: .+
-            separator: ''
-            source_labels:
-              - __meta_kubernetes_pod_label_app_kubernetes_io_name
-              - __meta_kubernetes_pod_label_app
-          - action: drop
-            regex: .+
-            source_labels:
-              - __meta_kubernetes_pod_controller_name
-          - action: replace
-            source_labels:
</span><span class="gi">+              - __tmp_controller_name
</span>               - __meta_kubernetes_pod_name
<span class="gi">+            regex: ^;*([^;]+)(;.*)?$
+            action: replace
</span>             target_label: app
<span class="gd">-          - action: replace
-            source_labels:
</span><span class="gi">+          - source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_component
</span>               - __meta_kubernetes_pod_label_component
<span class="gi">+            regex: ^;*([^;]+)(;.*)?$
+            action: replace
</span>             target_label: component
           {{- if .Values.config.snippets.addScrapeJobLabel }}
<span class="gd">-          - action: replace
-            replacement: kubernetes-other
</span><span class="gi">+          - replacement: kubernetes-pods
</span>             target_label: scrape_job
           {{- end }}
           {{- toYaml .Values.config.snippets.common | nindent 4 }}
<span class="gi">+          {{- with .Values.config.snippets.extraRelabelConfigs }}
+          {{- toYaml . | nindent 4 }}
+          {{- end }}
</span> 
   # -- Config file contents for Promtail.
   # Must be configured as string.
<span class="err">
</span></code></pre></div></div> <h2 id="370"> <a href="#370" class="anchor-heading" aria-labelledby="370"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.7.0 </h2> <p><strong>Release date:</strong> 2021-08-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.3.0&amp;color=success" alt="AppVersion: 2.3.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>loki 2.3.0</li> <li>Update documentation. Point .Release.Namespace variable to the root context.</li> <li>
<a href="add%20ingress">promtail</a> Introduce .Release.Namespace in objects meta</li> </ul> <h3 id="default-value-changes-91"> <a href="#default-value-changes-91" class="anchor-heading" aria-labelledby="default-value-changes-91"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="361"> <a href="#361" class="anchor-heading" aria-labelledby="361"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.6.1 </h2> <p><strong>Release date:</strong> 2021-07-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: bump patch version in chart</li> <li>fix: promtail externalIPs indenting</li> </ul> <h3 id="default-value-changes-92"> <a href="#default-value-changes-92" class="anchor-heading" aria-labelledby="default-value-changes-92"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="360"> <a href="#360" class="anchor-heading" aria-labelledby="360"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.6.0 </h2> <p><strong>Release date:</strong> 2021-04-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Tolerate node-role.kubernetes.io/control-plane:NoSchedule taints</li> </ul> <h3 id="default-value-changes-93"> <a href="#default-value-changes-93" class="anchor-heading" aria-labelledby="default-value-changes-93"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 8b0243d1..63c0bb04 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -109,11 +109,14 @@</span> nodeSelector: {}
 # -- Affinity configuration for pods
 affinity: {}
 
<span class="gd">-# -- Tolerations for pods. By default, pods will be scheduled on master nodes.
</span><span class="gi">+# -- Tolerations for pods. By default, pods will be scheduled on master/control-plane nodes.
</span> tolerations:
   - key: node-role.kubernetes.io/master
     operator: Exists
     effect: NoSchedule
<span class="gi">+  - key: node-role.kubernetes.io/control-plane
+    operator: Exists
+    effect: NoSchedule
</span> 
 # -- Default volumes that are mounted into pods. In most cases, these should not be changed.
 # Use `extraVolumes`/`extraVolumeMounts` for additional custom volumes.
<span class="err">
</span></code></pre></div></div> <h2 id="351"> <a href="#351" class="anchor-heading" aria-labelledby="351"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.5.1 </h2> <p><strong>Release date:</strong> 2021-04-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.1&amp;color=success" alt="AppVersion: 2.2.1"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> updating for loki release 2.2.1.</li> <li>updating for loki release 2.2.0</li> </ul> <h3 id="default-value-changes-94"> <a href="#default-value-changes-94" class="anchor-heading" aria-labelledby="default-value-changes-94"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="350"> <a href="#350" class="anchor-heading" aria-labelledby="350"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.5.0 </h2> <p><strong>Release date:</strong> 2021-03-11</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.2.0&amp;color=success" alt="AppVersion: 2.2.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updating for loki release 2.2.0</li> <li>Regenerate docs with helm-docs</li> </ul> <h3 id="default-value-changes-95"> <a href="#default-value-changes-95" class="anchor-heading" aria-labelledby="default-value-changes-95"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="341"> <a href="#341" class="anchor-heading" aria-labelledby="341"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.4.1 </h2> <p><strong>Release date:</strong> 2021-03-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump promtail chart version</li> <li>Promtail chart: fix extraPorts NetworkPolicy</li> <li>Update README.md</li> <li>Merge branch ‘main’ into configurable_log_level</li> </ul> <h3 id="default-value-changes-96"> <a href="#default-value-changes-96" class="anchor-heading" aria-labelledby="default-value-changes-96"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index ac771756..8b0243d1 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -270,8 +270,10 @@</span> config:
         target_label: __path__
       - action: replace
         replacement: /var/log/pods/*$1/*.log
<span class="gi">+        regex: true/(.*)
</span>         separator: /
         source_labels:
<span class="gi">+          - __meta_kubernetes_pod_annotationpresent_kubernetes_io_config_hash
</span>           - __meta_kubernetes_pod_annotation_kubernetes_io_config_hash
           - __meta_kubernetes_pod_container_name
         target_label: __path__
<span class="err">
</span></code></pre></div></div> <h2 id="340"> <a href="#340" class="anchor-heading" aria-labelledby="340"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.4.0 </h2> <p><strong>Release date:</strong> 2021-03-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump minor version for new feature</li> <li>
<a href="add%20ingress">promtail</a> Fix <strong>path</strong> override with config.hash</li> </ul> <h3 id="default-value-changes-97"> <a href="#default-value-changes-97" class="anchor-heading" aria-labelledby="default-value-changes-97"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="331"> <a href="#331" class="anchor-heading" aria-labelledby="331"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.3.1 </h2> <p><strong>Release date:</strong> 2021-03-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge branch ‘main’ into configurable_log_level</li> </ul> <h3 id="default-value-changes-98"> <a href="#default-value-changes-98" class="anchor-heading" aria-labelledby="default-value-changes-98"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c7b2e520..ac771756 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -218,6 +218,10 @@</span> podSecurityPolicy:
 # which is a templated string that references the other values and snippets below this key.
 # @default -- See `values.yaml`
 config:
<span class="gi">+  # -- The log level of the Promtail server
+  # Must be reference in `config.file` to configure `server.log_level`
+  # See default config in `values.yaml`
+  logLevel: info
</span>   # -- The port of the Promtail server
   # Must be reference in `config.file` to configure `server.http_listen_port`
   # See default config in `values.yaml`
<span class="p">@@ -441,7 +445,7 @@</span> config:
   # @default -- See `values.yaml`
   file: |
     server:
<span class="gd">-      log_level: info
</span><span class="gi">+      log_level: {{ .Values.config.logLevel }}
</span>       http_listen_port: {{ .Values.config.serverPort }}
 
     client:
<span class="err">
</span></code></pre></div></div> <h2 id="330"> <a href="#330" class="anchor-heading" aria-labelledby="330"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.3.0 </h2> <p><strong>Release date:</strong> 2021-03-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Bump version</li> </ul> <h3 id="default-value-changes-99"> <a href="#default-value-changes-99" class="anchor-heading" aria-labelledby="default-value-changes-99"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="320"> <a href="#320" class="anchor-heading" aria-labelledby="320"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2.0 </h2> <p><strong>Release date:</strong> 2021-03-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Merge remote-tracking branch ‘upstream/main’ into HEAD</li> <li>Fix lint</li> </ul> <h3 id="default-value-changes-100"> <a href="#default-value-changes-100" class="anchor-heading" aria-labelledby="default-value-changes-100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 30a76ee9..c7b2e520 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -454,3 +454,22 @@</span> config:
     scrape_configs:
       {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
       {{- tpl .Values.config.snippets.extraScrapeConfigs . | nindent 2 }}
<span class="gi">+
+networkPolicy:
+  # -- Specifies whether Network Policies should be created
+  enabled: false
+  metrics:
+    # -- Specifies the Pods which are allowed to access the metrics port.
+    # As this is cross-namespace communication, you also neeed the namespaceSelector.
+    podSelector: {}
+    # -- Specifies the namespaces which are allowed to access the metrics port
+    namespaceSelector: {}
+    # -- Specifies specific network CIDRs which are allowed to access the metrics port.
+    # In case you use namespaceSelector, you also have to specify your kubelet networks here.
+    # The metrics ports are also used for probes.
+    cidrs: []
+  k8sApi:
+    # -- Specify the k8s API endpoint port
+    port: 8443
+    # -- Specifies specific network CIDRs you want to limit access to
+    cidrs: []
</span><span class="err">
</span></code></pre></div></div> <h2 id="321"> <a href="#321" class="anchor-heading" aria-labelledby="321"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2.1 </h2> <p><strong>Release date:</strong> 2021-03-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Set log_level without needing to overwrite server file</li> <li>
<a href="add%20ingress">promtail</a> Run config.lokiAddress through the tpl function</li> </ul> <h3 id="default-value-changes-101"> <a href="#default-value-changes-101" class="anchor-heading" aria-labelledby="default-value-changes-101"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5875d6ae..55fae4a1 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -218,6 +218,10 @@</span> podSecurityPolicy:
 # which is a templated string that references the other values and snippets below this key.
 # @default -- See `values.yaml`
 config:
<span class="gi">+  # -- The log level of the Promtail server
+  # Must be reference in `config.file` to configure `server.log_level`
+  # See default config in `values.yaml`
+  logLevel: info
</span>   # -- The port of the Promtail server
   # Must be reference in `config.file` to configure `server.http_listen_port`
   # See default config in `values.yaml`
<span class="p">@@ -441,11 +445,11 @@</span> config:
   # @default -- See `values.yaml`
   file: |
     server:
<span class="gd">-      log_level: info
</span><span class="gi">+      log_level: {{ .Values.config.logLevel }}
</span>       http_listen_port: {{ .Values.config.serverPort }}
 
     client:
<span class="gd">-      url: {{ .Values.config.lokiAddress }}
</span><span class="gi">+      url: {{ tpl .Values.config.lokiAddress . }}
</span>       {{- tpl .Values.config.snippets.extraClientConfigs . | nindent 2 }}
 
     positions:
<span class="err">
</span></code></pre></div></div> <h2 id="320-1"> <a href="#320-1" class="anchor-heading" aria-labelledby="320-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2.0 </h2> <p><strong>Release date:</strong> 2021-03-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update to new major chart version</li> <li>update ci config files to use ‘extraScrapeConfigs’</li> <li>fix: new extra values are a string now</li> <li>update docs: simplify systemd-journald and syslog examples and add an example for etraClientConfigs</li> <li>move extraClientConfigs and extraScrapeConfigs in the values file</li> <li>merge with upstream main</li> </ul> <h3 id="default-value-changes-102"> <a href="#default-value-changes-102" class="anchor-heading" aria-labelledby="default-value-changes-102"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index a667a338..92366ed1 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -214,14 +214,6 @@</span> podSecurityPolicy:
   requiredDropCapabilities:
     - ALL
 
<span class="gd">-# -- You can put here any keys that will be directly added to the config file's 'client' block.
-# @default -- empty
-extraClientConfigs: {}
-
-# -- You can put here any additional scrape configs you want to add to the config file.
-# @default -- empty
-extraScrapeConfigs: {}
-
</span> # -- Section for crafting Promtails config file. The only directly relevant value is `config.file`
 # which is a templated string that references the other values and snippets below this key.
 # @default -- See `values.yaml`
<span class="p">@@ -272,11 +264,26 @@</span> config:
           - __meta_kubernetes_pod_uid
           - __meta_kubernetes_pod_container_name
         target_label: __path__
<span class="gi">+      - action: replace
+        replacement: /var/log/pods/*$1/*.log
+        separator: /
+        source_labels:
+          - __meta_kubernetes_pod_annotation_kubernetes_io_config_hash
+          - __meta_kubernetes_pod_container_name
+        target_label: __path__
</span> 
     # If set to true, adds an additional label for the scrape job.
     # This helps debug the Promtail config.
     addScrapeJobLabel: false
 
<span class="gi">+    # -- You can put here any keys that will be directly added to the config file's 'client' block.
+    # @default -- empty
+    extraClientConfigs: ""
+
+    # -- You can put here any additional scrape configs you want to add to the config file.
+    # @default -- empty
+    extraScrapeConfigs: ""
+
</span>     scrapeConfigs: |
       # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference
 
<span class="p">@@ -447,3 +454,22 @@</span> config:
     scrape_configs:
       {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
       {{- tpl .Values.config.snippets.extraScrapeConfigs . | nindent 2 }}
<span class="gi">+
+networkPolicy:
+  # -- Specifies whether Network Policies should be created
+  enabled: false
+  metrics:
+    # -- Specifies the Pods which are allowed to access the metrics port.
+    # As this is cross-namespace communication, you also neeed the namespaceSelector.
+    podSelector: {}
+    # -- Specifies the namespaces which are allowed to access the metrics port
+    namespaceSelector: {}
+    # -- Specifies specific network CIDRs which are allowed to access the metrics port.
+    # In case you use namespaceSelector, you also have to specify your kubelet networks here.
+    # The metrics ports are also used for probes.
+    cidrs: []
+  k8sApi:
+    # -- Specify the k8s API endpoint port
+    port: 8443
+    # -- Specifies specific network CIDRs you want to limit access to
+    cidrs: []
</span><span class="err">
</span></code></pre></div></div> <h2 id="310"> <a href="#310" class="anchor-heading" aria-labelledby="310"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1.0 </h2> <p><strong>Release date:</strong> 2021-02-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump minor version and update dosc</li> <li>Update charts/promtail/values.yaml</li> <li>change casing to camelCase</li> <li>
<a href="add%20ingress">promtail</a> support pod logs that use config.hash</li> </ul> <h3 id="default-value-changes-103"> <a href="#default-value-changes-103" class="anchor-heading" aria-labelledby="default-value-changes-103"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 10cad78b..a667a338 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -216,11 +216,11 @@</span> podSecurityPolicy:
 
 # -- You can put here any keys that will be directly added to the config file's 'client' block.
 # @default -- empty
<span class="gd">-extra_client_configs: {}
</span><span class="gi">+extraClientConfigs: {}
</span> 
 # -- You can put here any additional scrape configs you want to add to the config file.
 # @default -- empty
<span class="gd">-extra_scrape_configs: {}
</span><span class="gi">+extraScrapeConfigs: {}
</span> 
 # -- Section for crafting Promtails config file. The only directly relevant value is `config.file`
 # which is a templated string that references the other values and snippets below this key.
<span class="p">@@ -439,11 +439,11 @@</span> config:
 
     client:
       url: {{ .Values.config.lokiAddress }}
<span class="gd">-      {{- toYaml .Values.extra_client_configs | nindent 2 }}
</span><span class="gi">+      {{- tpl .Values.config.snippets.extraClientConfigs . | nindent 2 }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
 
     scrape_configs:
<span class="gd">-      {{- tpl .Values.config.snippets.scrapeConfigs $ | nindent 2 }}
-      {{- toYaml .Values.extra_scrape_configs | nindent 2 }}
</span><span class="gi">+      {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}
+      {{- tpl .Values.config.snippets.extraScrapeConfigs . | nindent 2 }}
</span><span class="err">
</span></code></pre></div></div> <h2 id="305"> <a href="#305" class="anchor-heading" aria-labelledby="305"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.5 </h2> <p><strong>Release date:</strong> 2021-01-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bump version and docs</li> <li>update readme.md</li> <li>add customization options for extra scraping and client config block</li> </ul> <h3 id="default-value-changes-104"> <a href="#default-value-changes-104" class="anchor-heading" aria-labelledby="default-value-changes-104"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 66fbf5af..10cad78b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -214,6 +214,14 @@</span> podSecurityPolicy:
   requiredDropCapabilities:
     - ALL
 
<span class="gi">+# -- You can put here any keys that will be directly added to the config file's 'client' block.
+# @default -- empty
+extra_client_configs: {}
+
+# -- You can put here any additional scrape configs you want to add to the config file.
+# @default -- empty
+extra_scrape_configs: {}
+
</span> # -- Section for crafting Promtails config file. The only directly relevant value is `config.file`
 # which is a templated string that references the other values and snippets below this key.
 # @default -- See `values.yaml`
<span class="p">@@ -431,9 +439,11 @@</span> config:
 
     client:
       url: {{ .Values.config.lokiAddress }}
<span class="gi">+      {{- toYaml .Values.extra_client_configs | nindent 2 }}
</span> 
     positions:
       filename: /run/promtail/positions.yaml
 
     scrape_configs:
       {{- tpl .Values.config.snippets.scrapeConfigs $ | nindent 2 }}
<span class="gi">+      {{- toYaml .Values.extra_scrape_configs | nindent 2 }}
</span><span class="err">
</span></code></pre></div></div> <h2 id="304"> <a href="#304" class="anchor-heading" aria-labelledby="304"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.4 </h2> <p><strong>Release date:</strong> 2021-01-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Disable initContainer by default</li> </ul> <h3 id="default-value-changes-105"> <a href="#default-value-changes-105" class="anchor-heading" aria-labelledby="default-value-changes-105"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index cc88dad5..66fbf5af 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -6,7 +6,7 @@</span> fullnameOverride: null
 
 initContainer:
   # -- Specifies whether the init container for setting inotify max user instances is to be enabled
<span class="gd">-  enabled: true
</span><span class="gi">+  enabled: false
</span>   image:
     # -- The Docker registry for the init container
     registry: docker.io
<span class="err">
</span></code></pre></div></div> <h2 id="303"> <a href="#303" class="anchor-heading" aria-labelledby="303"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.3 </h2> <p><strong>Release date:</strong> 2021-01-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix: PSP reference in role was wrong and PSP needs to allow privileged</li> </ul> <h3 id="default-value-changes-106"> <a href="#default-value-changes-106" class="anchor-heading" aria-labelledby="default-value-changes-106"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c71a0ca1..cc88dad5 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -193,8 +193,8 @@</span> extraPorts: {}
 # -- PodSecurityPolicy configuration.
 # @default -- See `values.yaml`
 podSecurityPolicy:
<span class="gd">-  privileged: false
-  allowPrivilegeEscalation: false
</span><span class="gi">+  privileged: true
+  allowPrivilegeEscalation: true
</span>   volumes:
     - 'secret'
     - 'hostPath'
<span class="err">
</span></code></pre></div></div> <h2 id="302"> <a href="#302" class="anchor-heading" aria-labelledby="302"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.2 </h2> <p><strong>Release date:</strong> 2021-01-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Fix scrape configs</li> </ul> <h3 id="default-value-changes-107"> <a href="#default-value-changes-107" class="anchor-heading" aria-labelledby="default-value-changes-107"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 6dda42bd..c71a0ca1 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -264,6 +264,11 @@</span> config:
           - __meta_kubernetes_pod_uid
           - __meta_kubernetes_pod_container_name
         target_label: __path__
<span class="gi">+
+    # If set to true, adds an additional label for the scrape job.
+    # This helps debug the Promtail config.
+    addScrapeJobLabel: false
+
</span>     scrapeConfigs: |
       # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference
 
<span class="p">@@ -278,10 +283,19 @@</span> config:
             source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_name
             target_label: app
<span class="gi">+          - action: drop
+            regex: ''
+            source_labels:
+              - app
</span>           - action: replace
             source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_component
             target_label: component
<span class="gi">+          {{- if .Values.config.snippets.addScrapeJobLabel }}
+          - action: replace
+            replacement: kubernetes-pods-app-kubernetes-io-name
+            target_label: scrape_job
+          {{- end }}
</span>           {{- toYaml .Values.config.snippets.common | nindent 4 }}
 
       # Pods with a label 'app'
<span class="p">@@ -300,10 +314,19 @@</span> config:
             source_labels:
               - __meta_kubernetes_pod_label_app
             target_label: app
<span class="gi">+          - action: drop
+            regex: ''
+            source_labels:
+              - app
</span>           - action: replace
             source_labels:
               - __meta_kubernetes_pod_label_component
             target_label: component
<span class="gi">+          {{- if .Values.config.snippets.addScrapeJobLabel }}
+          - action: replace
+            replacement: kubernetes-pods-app
+            target_label: scrape_job
+          {{- end }}
</span>           {{- toYaml .Values.config.snippets.common | nindent 4 }}
 
       # Pods with direct controllers, such as StatefulSet
<span class="p">@@ -328,6 +351,11 @@</span> config:
             source_labels:
               - __meta_kubernetes_pod_controller_name
             target_label: app
<span class="gi">+          {{- if .Values.config.snippets.addScrapeJobLabel }}
+          - action: replace
+            replacement: kubernetes-pods-direct-controllers
+            target_label: scrape_job
+          {{- end }}
</span>           {{- toYaml .Values.config.snippets.common | nindent 4 }}
 
       # Pods with indirect controllers, such as Deployment
<span class="p">@@ -353,8 +381,12 @@</span> config:
             source_labels:
               - __meta_kubernetes_pod_controller_name
             target_label: app
<span class="gi">+          {{- if .Values.config.snippets.addScrapeJobLabel }}
+          - action: replace
+            replacement: kubernetes-pods-indirect-controller
+            target_label: scrape_job
+          {{- end }}
</span>           {{- toYaml .Values.config.snippets.common | nindent 4 }}
<span class="gd">-
</span>       # All remaining pods not yet covered
       - job_name: kubernetes-other
         pipeline_stages:
<span class="p">@@ -369,11 +401,23 @@</span> config:
             source_labels:
               - __meta_kubernetes_pod_label_app_kubernetes_io_name
               - __meta_kubernetes_pod_label_app
<span class="gi">+          - action: drop
+            regex: .+
+            source_labels:
</span>               - __meta_kubernetes_pod_controller_name
<span class="gi">+          - action: replace
+            source_labels:
+              - __meta_kubernetes_pod_name
+            target_label: app
</span>           - action: replace
             source_labels:
               - __meta_kubernetes_pod_label_component
             target_label: component
<span class="gi">+          {{- if .Values.config.snippets.addScrapeJobLabel }}
+          - action: replace
+            replacement: kubernetes-other
+            target_label: scrape_job
+          {{- end }}
</span>           {{- toYaml .Values.config.snippets.common | nindent 4 }}
 
   # -- Config file contents for Promtail.
<span class="err">
</span></code></pre></div></div> <h2 id="301"> <a href="#301" class="anchor-heading" aria-labelledby="301"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.1 </h2> <p><strong>Release date:</strong> 2021-01-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Set log level to info</li> </ul> <h3 id="default-value-changes-108"> <a href="#default-value-changes-108" class="anchor-heading" aria-labelledby="default-value-changes-108"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index da0cff54..6dda42bd 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -372,7 +372,7 @@</span> config:
               - __meta_kubernetes_pod_controller_name
           - action: replace
             source_labels:
<span class="gd">-            - __meta_kubernetes_pod_label_component
</span><span class="gi">+              - __meta_kubernetes_pod_label_component
</span>             target_label: component
           {{- toYaml .Values.config.snippets.common | nindent 4 }}
 
<span class="p">@@ -382,7 +382,7 @@</span> config:
   # @default -- See `values.yaml`
   file: |
     server:
<span class="gd">-      log_level: debug
</span><span class="gi">+      log_level: info
</span>       http_listen_port: {{ .Values.config.serverPort }}
 
     client:
<span class="err">
</span></code></pre></div></div> <h2 id="300"> <a href="#300" class="anchor-heading" aria-labelledby="300"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.0.0 </h2> <p><strong>Release date:</strong> 2021-01-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=2.1.0&amp;color=success" alt="AppVersion: 2.1.0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Refactor chart</li> <li>Make this more like the loki-distributed netpol</li> </ul> <h3 id="default-value-changes-109"> <a href="#default-value-changes-109" class="anchor-heading" aria-labelledby="default-value-changes-109"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index a0fbeadc..da0cff54 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -1,88 +1,59 @@</span>
<span class="gd">-## Affinity for pod assignment
-## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
-affinity: {}
-
-annotations: {}
</span><span class="gi">+# -- Overrides the chart's name
+nameOverride: null
</span> 
<span class="gd">-# The update strategy to apply to the DaemonSet
-##
-deploymentStrategy: {}
-#  rollingUpdate:
-#    maxUnavailable: 1
-#  type: RollingUpdate
</span><span class="gi">+# -- Overrides the chart's computed fullname
+fullnameOverride: null
</span> 
 initContainer:
<span class="gd">-  enabled: false
</span><span class="gi">+  # -- Specifies whether the init container for setting inotify max user instances is to be enabled
+  enabled: true
+  image:
+    # -- The Docker registry for the init container
+    registry: docker.io
+    # -- Docker image repository for the init container
+    repository: busybox
+    # -- Docker tag for the init container
+    tag: 1.33
+    # -- Docker image pull policy for the init container image
+    pullPolicy: IfNotPresent
+  # -- The inotify max user instances to configure
</span>   fsInotifyMaxUserInstances: 128
 
 image:
<span class="gi">+  # -- The Docker registry
+  registry: docker.io
+  # -- Docker image repository
</span>   repository: grafana/promtail
<span class="gd">-  tag: 2.1.0
</span><span class="gi">+  # -- Overrides the image tag whose default is the chart's appVersion
+  tag: null
+  # -- Docker image pull policy
</span>   pullPolicy: IfNotPresent
<span class="gd">-  ## Optionally specify an array of imagePullSecrets.
-  ## Secrets must be manually created in the namespace.
-  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
-  ##
-  # pullSecrets:
-  #   - myRegistryKeySecretName
-
-livenessProbe: {}
-
-loki:
-  serviceName: ""  # Defaults to "${RELEASE}-loki" if not set
-  servicePort: 3100
-  serviceScheme: http
-  # user: user
-  # password: pass
</span> 
<span class="gd">-nameOverride: promtail
</span><span class="gi">+# -- Image pull secrets for Docker images
+imagePullSecrets: []
</span> 
<span class="gd">-## Node labels for pod assignment
-## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
-nodeSelector: {}
</span><span class="gi">+# -- Annotations for the SaemonSet
+annotations: {}
</span> 
<span class="gd">-pipelineStages:
-- docker: {}
</span><span class="gi">+# -- The update strategy for the DaemonSet
+updateStrategy: {}
</span> 
<span class="gd">-## Pod Labels
</span><span class="gi">+# -- Pod labels
</span> podLabels: {}
 
<span class="gd">-podAnnotations:
-  prometheus.io/scrape: "true"
-  prometheus.io/port: "http-metrics"
-
-## Assign a PriorityClassName to pods if set
-# priorityClassName:
</span><span class="gi">+# -- Pod annotations
+podAnnotations: {}
+#  prometheus.io/scrape: "true"
+#  prometheus.io/port: "http-metrics"
</span> 
<span class="gd">-rbac:
-  create: true
-  pspEnabled: true
</span><span class="gi">+# -- The name of the PriorityClass
+priorityClassName: null
</span> 
<span class="gd">-podSecurityPolicy:
-  privileged: false
-  allowPrivilegeEscalation: false
-  volumes:
-    - 'secret'
-    - 'configMap'
-    - 'hostPath'
-    - 'projected'
-    - 'downwardAPI'
-    - 'emptyDir'
-  hostNetwork: false
-  hostIPC: false
-  hostPID: false
-  runAsUser:
-    rule: 'RunAsAny'
-  seLinux:
-    rule: 'RunAsAny'
-  supplementalGroups:
-    rule: 'RunAsAny'
-  fsGroup:
-    rule: 'RunAsAny'
-  readOnlyRootFilesystem: true
-  requiredDropCapabilities:
-    - ALL
</span><span class="gi">+# -- Liveness probe
+livenessProbe: {}
</span> 
<span class="gi">+# -- Readiness probe
+# @default -- See `values.yaml`
</span> readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="p">@@ -93,6 +64,7 @@</span> readinessProbe:
   successThreshold: 1
   timeoutSeconds: 1
 
<span class="gi">+# -- Resource requests and limits
</span> resources: {}
 #  limits:
 #    cpu: 200m
<span class="p">@@ -101,119 +73,323 @@</span> resources: {}
 #    cpu: 100m
 #    memory: 128Mi
 
<span class="gd">-# Custom scrape_configs to override the default ones in the configmap
-scrapeConfigs: []
-
-# Custom scrape_configs together with the default ones in the configmap
-extraScrapeConfigs: []
</span><span class="gi">+# -- The security context for pods
+podSecurityContext:
+  runAsUser: 0
+  runAsGroup: 0
</span> 
<span class="gd">-securityContext:
</span><span class="gi">+# -- The security context for containers
+containerSecurityContext:
</span>   readOnlyRootFilesystem: true
<span class="gd">-  runAsGroup: 0
-  runAsUser: 0
</span><span class="gi">+  capabilities:
+    drop:
+      - ALL
+  allowPrivilegeEscalation: false
+
+rbac:
+  # -- Specifies whether RBAC resources are to be created
+  create: true
+  # -- Specifies whether a PodSecurityPolicy is to be created
+  pspEnabled: false
</span> 
 serviceAccount:
<span class="gi">+  # -- Specifies whether a ServiceAccount should be created
</span>   create: true
<span class="gd">-  name:
</span><span class="gi">+  # -- The name of the ServiceAccount to use.
+  # If not set and `create` is true, a name is generated using the fullname template
+  name: null
+  # -- Image pull secrets for the service account
+  imagePullSecrets: []
+  # -- Annotations for the service account
+  annotations: {}
</span> 
<span class="gd">-## Tolerations for pod assignment
-## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
</span><span class="gi">+# -- Node selector for pods
+nodeSelector: {}
+
+# -- Affinity configuration for pods
+affinity: {}
+
+# -- Tolerations for pods. By default, pods will be scheduled on master nodes.
</span> tolerations:
<span class="gd">-- key: node-role.kubernetes.io/master
-  operator: Exists
-  effect: NoSchedule
-
-# Extra volumes to scrape logs from
-volumes:
-- name: docker
-  hostPath:
-    path: /var/lib/docker/containers
-- name: pods
-  hostPath:
-    path: /var/log/pods
-
-# Custom volumes together with the default ones
</span><span class="gi">+  - key: node-role.kubernetes.io/master
+    operator: Exists
+    effect: NoSchedule
+
+# -- Default volumes that are mounted into pods. In most cases, these should not be changed.
+# Use `extraVolumes`/`extraVolumeMounts` for additional custom volumes.
+# @default -- See `values.yaml`
+defaultVolumes:
+  - name: containers
+    hostPath:
+      path: /var/lib/docker/containers
+  - name: pods
+    hostPath:
+      path: /var/log/pods
+
+# -- Default volume mounts. Corresponds to `volumes`.
+# @default -- See `values.yaml`
+defaultVolumeMounts:
+  - name: containers
+    mountPath: /var/lib/docker/containers
+    readOnly: true
+  - name: pods
+    mountPath: /var/log/pods
+    readOnly: true
+
+# Extra volumes to be added in addition to those specified under `defaultVolumes`.
</span> extraVolumes: []
 
<span class="gd">-volumeMounts:
-- name: docker
-  mountPath: /var/lib/docker/containers
-  readOnly: true
-- name: pods
-  mountPath: /var/log/pods
-  readOnly: true
-
-# Custom volumeMounts together with the default ones
</span><span class="gi">+# Extra volume mounts together. Corresponds to `extraVolumes`.
</span> extraVolumeMounts: []
 
<span class="gd">-# Add extra Commandline args while starting up promtail.
-# more info : https://github.com/grafana/loki/pull/1530
</span><span class="gi">+# Extra args for the Promtail container.
+extraArgs: []
+# -- Example:
+# -- extraArgs:
+# --   - -client.external-labels=hostname=$(HOSTNAME)
</span> 
<span class="gd">-extraCommandlineArgs: []
-# example:
-# extraCommandlineArgs:
-#   - -client.external-labels=hostname=$(HOSTNAME)
</span><span class="gi">+# -- Extra environment variables
+extraEnv: []
</span> 
<span class="gd">-config:
-  client:
-    # Maximum wait period before sending batch
-    batchwait: 1s
-    # Maximum batch size to accrue before sending, unit is byte
-    batchsize: 1048576
-
-    # Maximum time to wait for server to respond to a request
-    timeout: 10s
-
-    backoff_config:
-      # Initial backoff time between retries
-      min_period: 500ms
-      # Maximum backoff time between retries
-      max_period: 5m
-      # Maximum number of retries when sending batches, 0 means infinite retries
-      max_retries: 10
-
-    # The labels to add to any time series or alerts when communicating with loki
-    external_labels: {}
-
-  server:
-    http_listen_port: 3101
-
-  positions:
-    filename: /run/promtail/positions.yaml
-  target_config:
-    # Period to resync directories being watched and files being tailed
-    sync_period: 10s
</span><span class="gi">+# -- Extra environment variables from secrets or configmaps
+extraEnvFrom: []
</span> 
<span class="gi">+# ServiceMonitor configuration
</span> serviceMonitor:
<span class="gi">+  # -- If enabled, ServiceMonitor resources for Prometheus Operator are created
</span>   enabled: false
<span class="gd">-  interval: ""
-  additionalLabels: {}
-  annotations: {}
-  # scrapeTimeout: 10s
-
-# Extra env variables to pass to the promtail container
-env: []
-
-# enable and configure if using the syslog scrape config
-syslogService:
-  enabled: false
-  type: ClusterIP
-  port: 1514
-  # externalIPs: []
-  ## Specify the nodePort value for the LoadBalancer and NodePort service types.
-  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport
-  ##
-  # nodePort:
-  ## Provide any additional annotations which may be required. This can be used to
-  ## set the LoadBalancer service type to internal only.
-  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer
-  ##
</span><span class="gi">+  # -- Alternative namespace for ServiceMonitor resources
+  namespace: null
+  # -- Namespace selector for ServiceMonitor resources
+  namespaceSelector: {}
+  # -- ServiceMonitor annotations
</span>   annotations: {}
<span class="gi">+  # -- Additional ServiceMonitor labels
</span>   labels: {}
<span class="gd">-  ## Use loadBalancerIP to request a specific static IP,
-  ## otherwise leave blank
-  ##
-  loadBalancerIP:
-  # loadBalancerSourceRanges: []
-  ## Set the externalTrafficPolicy in the Service to either Cluster or Local
-  # externalTrafficPolicy: Cluster
</span><span class="gi">+  # -- ServiceMonitor scrape interval
+  interval: null
+  # -- ServiceMonitor scrape timeout in Go duration format (e.g. 15s)
+  scrapeTimeout: null
+
+# -- Configure additional ports and services. For each configured port, a corresponding service is created.
+# See values.yaml for details
+extraPorts: {}
+#  syslog:
+#    name: tcp-syslog
+#    containerPort: 1514
+#    protocol: TCP
+#    service:
+#      type: ClusterIP
+#      clusterIP: null
+#      port: 1514
+#      externalIPs: []
+#      nodePort: null
+#      annotations: {}
+#      labels: {}
+#      loadBalancerIP: null
+#      loadBalancerSourceRanges: []
+#      externalTrafficPolicy: null
+
+# -- PodSecurityPolicy configuration.
+# @default -- See `values.yaml`
+podSecurityPolicy:
+  privileged: false
+  allowPrivilegeEscalation: false
+  volumes:
+    - 'secret'
+    - 'hostPath'
+    - 'downwardAPI'
+  hostNetwork: false
+  hostIPC: false
+  hostPID: false
+  runAsUser:
+    rule: 'RunAsAny'
+  seLinux:
+    rule: 'RunAsAny'
+  supplementalGroups:
+    rule: 'RunAsAny'
+  fsGroup:
+    rule: 'RunAsAny'
+  readOnlyRootFilesystem: true
+  requiredDropCapabilities:
+    - ALL
+
+# -- Section for crafting Promtails config file. The only directly relevant value is `config.file`
+# which is a templated string that references the other values and snippets below this key.
+# @default -- See `values.yaml`
+config:
+  # -- The port of the Promtail server
+  # Must be reference in `config.file` to configure `server.http_listen_port`
+  # See default config in `values.yaml`
+  serverPort: 3101
+  # -- The Loki address to post logs to.
+  # Must be reference in `config.file` to configure `client.url`.
+  # See default config in `values.yaml`
+  lokiAddress: http://loki-gateway/loki/api/v1/push
+  # -- A section of reusable snippets that can be reference in `config.file`.
+  # Custom snippets may be added in order to reduce redundancy.
+  # This is especially helpful when multiple `kubernetes_sd_configs` are use which usually have large parts in common.
+  # @default -- See `values.yaml`
+  snippets:
+    pipelineStages:
+      - cri: {}
+    common:
+      - action: replace
+        source_labels:
+          - __meta_kubernetes_pod_node_name
+        target_label: node_name
+      - action: replace
+        source_labels:
+          - __meta_kubernetes_namespace
+        target_label: namespace
+      - action: replace
+        replacement: $1
+        separator: /
+        source_labels:
+          - namespace
+          - app
+        target_label: job
+      - action: replace
+        source_labels:
+          - __meta_kubernetes_pod_name
+        target_label: pod
+      - action: replace
+        source_labels:
+          - __meta_kubernetes_pod_container_name
+        target_label: container
+      - action: replace
+        replacement: /var/log/pods/*$1/*.log
+        separator: /
+        source_labels:
+          - __meta_kubernetes_pod_uid
+          - __meta_kubernetes_pod_container_name
+        target_label: __path__
+    scrapeConfigs: |
+      # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference
+
+      # Pods with a label 'app.kubernetes.io/name'
+      - job_name: kubernetes-pods-app-kubernetes-io-name
+        pipeline_stages:
+          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
+        kubernetes_sd_configs:
+          - role: pod
+        relabel_configs:
+          - action: replace
+            source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_name
+            target_label: app
+          - action: replace
+            source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_component
+            target_label: component
+          {{- toYaml .Values.config.snippets.common | nindent 4 }}
+
+      # Pods with a label 'app'
+      - job_name: kubernetes-pods-app
+        pipeline_stages:
+          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
+        kubernetes_sd_configs:
+          - role: pod
+        relabel_configs:
+          # Drop pods with label 'app.kubernetes.io/name'. They are already considered above
+          - action: drop
+            regex: .+
+            source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_name
+          - action: replace
+            source_labels:
+              - __meta_kubernetes_pod_label_app
+            target_label: app
+          - action: replace
+            source_labels:
+              - __meta_kubernetes_pod_label_component
+            target_label: component
+          {{- toYaml .Values.config.snippets.common | nindent 4 }}
+
+      # Pods with direct controllers, such as StatefulSet
+      - job_name: kubernetes-pods-direct-controllers
+        pipeline_stages:
+          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
+        kubernetes_sd_configs:
+          - role: pod
+        relabel_configs:
+          # Drop pods with label 'app.kubernetes.io/name' or 'app'. They are already considered above
+          - action: drop
+            regex: .+
+            separator: ''
+            source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_name
+              - __meta_kubernetes_pod_label_app
+          - action: drop
+            regex: '[0-9a-z-.]+-[0-9a-f]{8,10}'
+            source_labels:
+              - __meta_kubernetes_pod_controller_name
+          - action: replace
+            source_labels:
+              - __meta_kubernetes_pod_controller_name
+            target_label: app
+          {{- toYaml .Values.config.snippets.common | nindent 4 }}
+
+      # Pods with indirect controllers, such as Deployment
+      - job_name: kubernetes-pods-indirect-controller
+        pipeline_stages:
+          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
+        kubernetes_sd_configs:
+          - role: pod
+        relabel_configs:
+          # Drop pods with label 'app.kubernetes.io/name' or 'app'. They are already considered above
+          - action: drop
+            regex: .+
+            separator: ''
+            source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_name
+              - __meta_kubernetes_pod_label_app
+          - action: keep
+            regex: '[0-9a-z-.]+-[0-9a-f]{8,10}'
+            source_labels:
+              - __meta_kubernetes_pod_controller_name
+          - action: replace
+            regex: '([0-9a-z-.]+)-[0-9a-f]{8,10}'
+            source_labels:
+              - __meta_kubernetes_pod_controller_name
+            target_label: app
+          {{- toYaml .Values.config.snippets.common | nindent 4 }}
+
+      # All remaining pods not yet covered
+      - job_name: kubernetes-other
+        pipeline_stages:
+          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}
+        kubernetes_sd_configs:
+          - role: pod
+        relabel_configs:
+          # Drop what has already been covered
+          - action: drop
+            regex: .+
+            separator: ''
+            source_labels:
+              - __meta_kubernetes_pod_label_app_kubernetes_io_name
+              - __meta_kubernetes_pod_label_app
+              - __meta_kubernetes_pod_controller_name
+          - action: replace
+            source_labels:
+            - __meta_kubernetes_pod_label_component
+            target_label: component
+          {{- toYaml .Values.config.snippets.common | nindent 4 }}
+
+  # -- Config file contents for Promtail.
+  # Must be configured as string.
+  # It is templated so it can be assembled from reusable snippets in order to avoid redundancy.
+  # @default -- See `values.yaml`
+  file: |
+    server:
+      log_level: debug
+      http_listen_port: {{ .Values.config.serverPort }}
+
+    client:
+      url: {{ .Values.config.lokiAddress }}
+
+    positions:
+      filename: /run/promtail/positions.yaml
+
+    scrape_configs:
+      {{- tpl .Values.config.snippets.scrapeConfigs $ | nindent 2 }}
</span><span class="err">
</span></code></pre></div></div> <h2 id="230"> <a href="#230" class="anchor-heading" aria-labelledby="230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.0 </h2> <p><strong>Release date:</strong> 2021-01-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.1.0&amp;color=success" alt="AppVersion: v2.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">promtail</a> Add Network Policies to promtail</li> </ul> <h3 id="default-value-changes-110"> <a href="#default-value-changes-110" class="anchor-heading" aria-labelledby="default-value-changes-110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index a0fbeadc..c27dc3c4 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -217,3 +217,22 @@</span> syslogService:
   # loadBalancerSourceRanges: []
   ## Set the externalTrafficPolicy in the Service to either Cluster or Local
   # externalTrafficPolicy: Cluster
<span class="gi">+
+networkPolicy:
+  # -- Specifies whether Network Policies should be created
+  enabled: false
+  metrics:
+    # -- Specifies whether you want to limit access to metrics ports by podSelectors
+    # As this is cross-namespace communication, you also neeed the namespaceSelectorLabels
+    podSelectorLabels: {}
+    # -- Specifies whether you want to limit access to metrics ports by namespaceSelectors
+    namespaceSelectorLabels: {}
+    # -- Specifies whether you want to limit access to specific network CIDRs
+    # In case you use namespaceSelectorLabels, you also have to specify your kubelet networks here.
+    # The metrics ports are also used for probes.
+    cidrs: []
+  k8sApi:
+    # -- Specify the k8s API endpoint port
+    port: 8443
+    # -- Specifies whether you want to limit access to specific network CIDRs
+    cidrs: []
</span><span class="err">
</span></code></pre></div></div> <h2 id="220"> <a href="#220" class="anchor-heading" aria-labelledby="220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.0 </h2> <p><strong>Release date:</strong> 2020-12-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.1.0&amp;color=success" alt="AppVersion: v2.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update charts for Loki 2.1.0 release</li> </ul> <h3 id="default-value-changes-111"> <a href="#default-value-changes-111" class="anchor-heading" aria-labelledby="default-value-changes-111"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 08840e5d..a0fbeadc 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: 2.0.0
</span><span class="gi">+  tag: 2.1.0
</span>   pullPolicy: IfNotPresent
   ## Optionally specify an array of imagePullSecrets.
   ## Secrets must be manually created in the namespace.
<span class="err">
</span></code></pre></div></div> <h2 id="210"> <a href="#210" class="anchor-heading" aria-labelledby="210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1.0 </h2> <p><strong>Release date:</strong> 2020-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.0.0&amp;color=success" alt="AppVersion: v2.0.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>adjust README to new chart repo</li> </ul> <h3 id="default-value-changes-112"> <a href="#default-value-changes-112" class="anchor-heading" aria-labelledby="default-value-changes-112"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="201"> <a href="#201" class="anchor-heading" aria-labelledby="201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.1 </h2> <p><strong>Release date:</strong> 2020-11-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.0.0&amp;color=success" alt="AppVersion: v2.0.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>helm chart: Fix broken logo (#2651)</li> </ul> <h3 id="default-value-changes-113"> <a href="#default-value-changes-113" class="anchor-heading" aria-labelledby="default-value-changes-113"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="200"> <a href="#200" class="anchor-heading" aria-labelledby="200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.0.0 </h2> <p><strong>Release date:</strong> 2020-10-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v2.0.0&amp;color=success" alt="AppVersion: v2.0.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Update helm and jsonnet to new release (#2809)</li> </ul> <h3 id="default-value-changes-114"> <a href="#default-value-changes-114" class="anchor-heading" aria-labelledby="default-value-changes-114"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 20933b2b..08840e5d 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: 1.6.0
</span><span class="gi">+  tag: 2.0.0
</span>   pullPolicy: IfNotPresent
   ## Optionally specify an array of imagePullSecrets.
   ## Secrets must be manually created in the namespace.
<span class="err">
</span></code></pre></div></div> <h2 id="0251"> <a href="#0251" class="anchor-heading" aria-labelledby="0251"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.25.1 </h2> <p><strong>Release date:</strong> 2020-10-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.6.0&amp;color=success" alt="AppVersion: v1.6.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Promtail: (and also fluent-bit) change the max batch size to 1MB (#2710)</li> </ul> <h3 id="default-value-changes-115"> <a href="#default-value-changes-115" class="anchor-heading" aria-labelledby="default-value-changes-115"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 4e2c12b1..20933b2b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -159,18 +159,18 @@</span> config:
     # Maximum wait period before sending batch
     batchwait: 1s
     # Maximum batch size to accrue before sending, unit is byte
<span class="gd">-    batchsize: 102400
</span><span class="gi">+    batchsize: 1048576
</span> 
     # Maximum time to wait for server to respond to a request
     timeout: 10s
 
     backoff_config:
       # Initial backoff time between retries
<span class="gd">-      min_period: 100ms
</span><span class="gi">+      min_period: 500ms
</span>       # Maximum backoff time between retries
<span class="gd">-      max_period: 5s
</span><span class="gi">+      max_period: 5m
</span>       # Maximum number of retries when sending batches, 0 means infinite retries
<span class="gd">-      max_retries: 20
</span><span class="gi">+      max_retries: 10
</span> 
     # The labels to add to any time series or alerts when communicating with loki
     external_labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0250"> <a href="#0250" class="anchor-heading" aria-labelledby="0250"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.25.0 </h2> <p><strong>Release date:</strong> 2020-09-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.6.0&amp;color=success" alt="AppVersion: v1.6.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>
<a href="add%20ingress">Promtail</a> enables configuring psp in helm chart (#2659)</li> </ul> <h3 id="default-value-changes-116"> <a href="#default-value-changes-116" class="anchor-heading" aria-labelledby="default-value-changes-116"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 6db64f77..4e2c12b1 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -58,6 +58,31 @@</span> rbac:
   create: true
   pspEnabled: true
 
<span class="gi">+podSecurityPolicy:
+  privileged: false
+  allowPrivilegeEscalation: false
+  volumes:
+    - 'secret'
+    - 'configMap'
+    - 'hostPath'
+    - 'projected'
+    - 'downwardAPI'
+    - 'emptyDir'
+  hostNetwork: false
+  hostIPC: false
+  hostPID: false
+  runAsUser:
+    rule: 'RunAsAny'
+  seLinux:
+    rule: 'RunAsAny'
+  supplementalGroups:
+    rule: 'RunAsAny'
+  fsGroup:
+    rule: 'RunAsAny'
+  readOnlyRootFilesystem: true
+  requiredDropCapabilities:
+    - ALL
+
</span> readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="err">
</span></code></pre></div></div> <h2 id="0240"> <a href="#0240" class="anchor-heading" aria-labelledby="0240"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.24.0 </h2> <p><strong>Release date:</strong> 2020-08-13</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.6.0&amp;color=success" alt="AppVersion: v1.6.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updating images to 1.6.0 (#2504)</li> </ul> <h3 id="default-value-changes-117"> <a href="#default-value-changes-117" class="anchor-heading" aria-labelledby="default-value-changes-117"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 88209716..6db64f77 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: 1.5.0
</span><span class="gi">+  tag: 1.6.0
</span>   pullPolicy: IfNotPresent
   ## Optionally specify an array of imagePullSecrets.
   ## Secrets must be manually created in the namespace.
<span class="err">
</span></code></pre></div></div> <h2 id="0235"> <a href="#0235" class="anchor-heading" aria-labelledby="0235"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.23.5 </h2> <p><strong>Release date:</strong> 2020-08-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.5.0&amp;color=success" alt="AppVersion: v1.5.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>promtail: enable externalIPs support for syslog (#2490)</li> </ul> <h3 id="default-value-changes-118"> <a href="#default-value-changes-118" class="anchor-heading" aria-labelledby="default-value-changes-118"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 270c2dc5..88209716 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -174,6 +174,7 @@</span> syslogService:
   enabled: false
   type: ClusterIP
   port: 1514
<span class="gi">+  # externalIPs: []
</span>   ## Specify the nodePort value for the LoadBalancer and NodePort service types.
   ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport
   ##
<span class="err">
</span></code></pre></div></div> <h2 id="0234"> <a href="#0234" class="anchor-heading" aria-labelledby="0234"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.23.4 </h2> <p><strong>Release date:</strong> 2020-07-21</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.5.0&amp;color=success" alt="AppVersion: v1.5.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add emptyDir volume type to promtail PSP (#2379)</li> <li>Loki Logstash Plugin (#1822)</li> </ul> <h3 id="default-value-changes-119"> <a href="#default-value-changes-119" class="anchor-heading" aria-labelledby="default-value-changes-119"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0233"> <a href="#0233" class="anchor-heading" aria-labelledby="0233"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.23.3 </h2> <p><strong>Release date:</strong> 2020-07-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.5.0&amp;color=success" alt="AppVersion: v1.5.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add projected and downwardAPI volume types to PodSecurityPolicy (#2355) (#2366)</li> </ul> <h3 id="default-value-changes-120"> <a href="#default-value-changes-120" class="anchor-heading" aria-labelledby="default-value-changes-120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0232"> <a href="#0232" class="anchor-heading" aria-labelledby="0232"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.23.2 </h2> <p><strong>Release date:</strong> 2020-06-29</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.5.0&amp;color=success" alt="AppVersion: v1.5.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>helm: add annotations to service monitor (#2258)</li> <li>Add readmes to individual helm charts (#2233)</li> <li>Kubernetes manifests: Remove namespace from cluster-wide resources (#2241)</li> </ul> <h3 id="default-value-changes-121"> <a href="#default-value-changes-121" class="anchor-heading" aria-labelledby="default-value-changes-121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 324e7d84..270c2dc5 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -163,6 +163,7 @@</span> serviceMonitor:
   enabled: false
   interval: ""
   additionalLabels: {}
<span class="gi">+  annotations: {}
</span>   # scrapeTimeout: 10s
 
 # Extra env variables to pass to the promtail container
<span class="err">
</span></code></pre></div></div> <h2 id="0231"> <a href="#0231" class="anchor-heading" aria-labelledby="0231"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.23.1 </h2> <p><strong>Release date:</strong> 2020-06-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.5.0&amp;color=success" alt="AppVersion: v1.5.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Adds the ability to have a pull secrets for Promtail. (#2141)</li> <li>Keep scrape config in line with the new Prometheus scrape config</li> </ul> <h3 id="default-value-changes-122"> <a href="#default-value-changes-122" class="anchor-heading" aria-labelledby="default-value-changes-122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index eb321114..324e7d84 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -19,6 +19,12 @@</span> image:
   repository: grafana/promtail
   tag: 1.5.0
   pullPolicy: IfNotPresent
<span class="gi">+  ## Optionally specify an array of imagePullSecrets.
+  ## Secrets must be manually created in the namespace.
+  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
+  ##
+  # pullSecrets:
+  #   - myRegistryKeySecretName
</span> 
 livenessProbe: {}
 
<span class="err">
</span></code></pre></div></div> <h2 id="0230"> <a href="#0230" class="anchor-heading" aria-labelledby="0230"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.23.0 </h2> <p><strong>Release date:</strong> 2020-05-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.5.0&amp;color=success" alt="AppVersion: v1.5.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updating all the images to 1.5.0 release (#2100)</li> </ul> <h3 id="default-value-changes-123"> <a href="#default-value-changes-123" class="anchor-heading" aria-labelledby="default-value-changes-123"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index d4d5a180..eb321114 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: 1.4.0
</span><span class="gi">+  tag: 1.5.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="p">@@ -135,11 +135,11 @@</span> config:
 
     backoff_config:
       # Initial backoff time between retries
<span class="gd">-      minbackoff: 100ms
</span><span class="gi">+      min_period: 100ms
</span>       # Maximum backoff time between retries
<span class="gd">-      maxbackoff: 5s
</span><span class="gi">+      max_period: 5s
</span>       # Maximum number of retries when sending batches, 0 means infinite retries
<span class="gd">-      maxretries: 20
</span><span class="gi">+      max_retries: 20
</span> 
     # The labels to add to any time series or alerts when communicating with loki
     external_labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0222"> <a href="#0222" class="anchor-heading" aria-labelledby="0222"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.22.2 </h2> <p><strong>Release date:</strong> 2020-04-30</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.4.1&amp;color=success" alt="AppVersion: v1.4.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Change image tag from 1.4.1 to 1.4.0 in Helm chart (#2015)</li> </ul> <h3 id="default-value-changes-124"> <a href="#default-value-changes-124" class="anchor-heading" aria-labelledby="default-value-changes-124"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 09421ae3..d4d5a180 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: 1.4.1
</span><span class="gi">+  tag: 1.4.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0221"> <a href="#0221" class="anchor-heading" aria-labelledby="0221"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.22.1 </h2> <p><strong>Release date:</strong> 2020-04-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.4.1&amp;color=success" alt="AppVersion: v1.4.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>added extraCommandlineArgs in values file (#1981)</li> </ul> <h3 id="default-value-changes-125"> <a href="#default-value-changes-125" class="anchor-heading" aria-labelledby="default-value-changes-125"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 0f33c567..09421ae3 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -115,6 +115,14 @@</span> volumeMounts:
 # Custom volumeMounts together with the default ones
 extraVolumeMounts: []
 
<span class="gi">+# Add extra Commandline args while starting up promtail.
+# more info : https://github.com/grafana/loki/pull/1530
+
+extraCommandlineArgs: []
+# example:
+# extraCommandlineArgs:
+#   - -client.external-labels=hostname=$(HOSTNAME)
+
</span> config:
   client:
     # Maximum wait period before sending batch
<span class="err">
</span></code></pre></div></div> <h2 id="0220"> <a href="#0220" class="anchor-heading" aria-labelledby="0220"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.22.0 </h2> <p><strong>Release date:</strong> 2020-04-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.4.1&amp;color=success" alt="AppVersion: v1.4.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Reverting helm changes which were included in Cortex 1.0 vendor upgrade because it resulted in us pushing an unstable helm.</li> </ul> <h3 id="default-value-changes-126"> <a href="#default-value-changes-126" class="anchor-heading" aria-labelledby="default-value-changes-126"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index d4c3a6c6..0f33c567 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: keepalive-master-6d5408c
</span><span class="gi">+  tag: 1.4.1
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="p">@@ -127,11 +127,11 @@</span> config:
 
     backoff_config:
       # Initial backoff time between retries
<span class="gd">-      min_period: 100ms
</span><span class="gi">+      minbackoff: 100ms
</span>       # Maximum backoff time between retries
<span class="gd">-      max_period: 5s
</span><span class="gi">+      maxbackoff: 5s
</span>       # Maximum number of retries when sending batches, 0 means infinite retries
<span class="gd">-      max_retries: 20
</span><span class="gi">+      maxretries: 20
</span> 
     # The labels to add to any time series or alerts when communicating with loki
     external_labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0210"> <a href="#0210" class="anchor-heading" aria-labelledby="0210"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.21.0 </h2> <p><strong>Release date:</strong> 2020-04-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.4.2&amp;color=success" alt="AppVersion: v1.4.2"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>bumps helm to keepalive-master after cortex vendoring (#1937)</li> <li>Update Cortex to latest master (#1869)</li> <li>updating helm and ksonnet to 1.4.1 updating Fluent Bit to correct image</li> </ul> <h3 id="default-value-changes-127"> <a href="#default-value-changes-127" class="anchor-heading" aria-labelledby="default-value-changes-127"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 55988864..d4c3a6c6 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -17,7 +17,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: 1.4.0
</span><span class="gi">+  tag: keepalive-master-6d5408c
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="p">@@ -127,11 +127,11 @@</span> config:
 
     backoff_config:
       # Initial backoff time between retries
<span class="gd">-      minbackoff: 100ms
</span><span class="gi">+      min_period: 100ms
</span>       # Maximum backoff time between retries
<span class="gd">-      maxbackoff: 5s
</span><span class="gi">+      max_period: 5s
</span>       # Maximum number of retries when sending batches, 0 means infinite retries
<span class="gd">-      maxretries: 20
</span><span class="gi">+      max_retries: 20
</span> 
     # The labels to add to any time series or alerts when communicating with loki
     external_labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0201"> <a href="#0201" class="anchor-heading" aria-labelledby="0201"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.20.1 </h2> <p><strong>Release date:</strong> 2020-04-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.4.0&amp;color=success" alt="AppVersion: v1.4.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[helm loki/promtail] make UpdateStrategy configurable (#1898)</li> </ul> <h3 id="default-value-changes-128"> <a href="#default-value-changes-128" class="anchor-heading" aria-labelledby="default-value-changes-128"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 84286f65..55988864 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -4,7 +4,12 @@</span> affinity: {}
 
 annotations: {}
 
<span class="gd">-deploymentStrategy: RollingUpdate
</span><span class="gi">+# The update strategy to apply to the DaemonSet
+##
+deploymentStrategy: {}
+#  rollingUpdate:
+#    maxUnavailable: 1
+#  type: RollingUpdate
</span> 
 initContainer:
   enabled: false
<span class="err">
</span></code></pre></div></div> <h2 id="0200"> <a href="#0200" class="anchor-heading" aria-labelledby="0200"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.20.0 </h2> <p><strong>Release date:</strong> 2020-04-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.4.0&amp;color=success" alt="AppVersion: v1.4.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updating helm and ksonnet for 1.4.0 release</li> </ul> <h3 id="default-value-changes-129"> <a href="#default-value-changes-129" class="anchor-heading" aria-labelledby="default-value-changes-129"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index cbbf0175..84286f65 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -12,7 +12,7 @@</span> initContainer:
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v1.3.0
</span><span class="gi">+  tag: 1.4.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0193"> <a href="#0193" class="anchor-heading" aria-labelledby="0193"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.19.3 </h2> <p><strong>Release date:</strong> 2020-03-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Add extraMount, extraVolumeMount to promtail helm chart for systemd-journal (#1871)</li> </ul> <h3 id="default-value-changes-130"> <a href="#default-value-changes-130" class="anchor-heading" aria-labelledby="default-value-changes-130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 0fe4a15e..cbbf0175 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -96,6 +96,9 @@</span> volumes:
   hostPath:
     path: /var/log/pods
 
<span class="gi">+# Custom volumes together with the default ones
+extraVolumes: []
+
</span> volumeMounts:
 - name: docker
   mountPath: /var/lib/docker/containers
<span class="p">@@ -104,6 +107,9 @@</span> volumeMounts:
   mountPath: /var/log/pods
   readOnly: true
 
<span class="gi">+# Custom volumeMounts together with the default ones
+extraVolumeMounts: []
+
</span> config:
   client:
     # Maximum wait period before sending batch
<span class="err">
</span></code></pre></div></div> <h2 id="0192"> <a href="#0192" class="anchor-heading" aria-labelledby="0192"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.19.2 </h2> <p><strong>Release date:</strong> 2020-02-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[promtail helm chart] - Expand promtail syslog svc to support values (#1731)</li> </ul> <h3 id="default-value-changes-131"> <a href="#default-value-changes-131" class="anchor-heading" aria-labelledby="default-value-changes-131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0191"> <a href="#0191" class="anchor-heading" aria-labelledby="0191"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.19.1 </h2> <p><strong>Release date:</strong> 2020-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>fix promtail/templates/NOTES.txt to show correctly port-forward command (#1697)</li> </ul> <h3 id="default-value-changes-132"> <a href="#default-value-changes-132" class="anchor-heading" aria-labelledby="default-value-changes-132"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0190"> <a href="#0190" class="anchor-heading" aria-labelledby="0190"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.19.0 </h2> <p><strong>Release date:</strong> 2020-02-14</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>[promtail helm chart] Enable support for syslog service (#1617)</li> </ul> <h3 id="default-value-changes-133"> <a href="#default-value-changes-133" class="anchor-heading" aria-labelledby="default-value-changes-133"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5ea0b7aa..0fe4a15e 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -127,6 +127,7 @@</span> config:
 
   server:
     http_listen_port: 3101
<span class="gi">+
</span>   positions:
     filename: /run/promtail/positions.yaml
   target_config:
<span class="p">@@ -141,3 +142,26 @@</span> serviceMonitor:
 
 # Extra env variables to pass to the promtail container
 env: []
<span class="gi">+
+# enable and configure if using the syslog scrape config
+syslogService:
+  enabled: false
+  type: ClusterIP
+  port: 1514
+  ## Specify the nodePort value for the LoadBalancer and NodePort service types.
+  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport
+  ##
+  # nodePort:
+  ## Provide any additional annotations which may be required. This can be used to
+  ## set the LoadBalancer service type to internal only.
+  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer
+  ##
+  annotations: {}
+  labels: {}
+  ## Use loadBalancerIP to request a specific static IP,
+  ## otherwise leave blank
+  ##
+  loadBalancerIP:
+  # loadBalancerSourceRanges: []
+  ## Set the externalTrafficPolicy in the Service to either Cluster or Local
+  # externalTrafficPolicy: Cluster
</span><span class="err">
</span></code></pre></div></div> <h2 id="0181"> <a href="#0181" class="anchor-heading" aria-labelledby="0181"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.18.1 </h2> <p><strong>Release date:</strong> 2020-02-05</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Promtail Helm Chart: Add support for extra environment variables (#1529)</li> </ul> <h3 id="default-value-changes-134"> <a href="#default-value-changes-134" class="anchor-heading" aria-labelledby="default-value-changes-134"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 9f6f942b..5ea0b7aa 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -138,3 +138,6 @@</span> serviceMonitor:
   interval: ""
   additionalLabels: {}
   # scrapeTimeout: 10s
<span class="gi">+
+# Extra env variables to pass to the promtail container
+env: []
</span><span class="err">
</span></code></pre></div></div> <h2 id="0180"> <a href="#0180" class="anchor-heading" aria-labelledby="0180"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.18.0 </h2> <p><strong>Release date:</strong> 2020-02-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>added ability to configure kernel setting fs.inotify.max_user_instances through init container to resolve issue with too many open files (#1620)</li> </ul> <h3 id="default-value-changes-135"> <a href="#default-value-changes-135" class="anchor-heading" aria-labelledby="default-value-changes-135"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index abf2c56f..9f6f942b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -6,6 +6,10 @@</span> annotations: {}
 
 deploymentStrategy: RollingUpdate
 
<span class="gi">+initContainer:
+  enabled: false
+  fsInotifyMaxUserInstances: 128
+
</span> image:
   repository: grafana/promtail
   tag: v1.3.0
<span class="err">
</span></code></pre></div></div> <h2 id="0170"> <a href="#0170" class="anchor-heading" aria-labelledby="0170"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.17.0 </h2> <p><strong>Release date:</strong> 2020-01-22</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.3.0&amp;color=success" alt="AppVersion: v1.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updating to 1.3.0 release</li> </ul> <h3 id="default-value-changes-136"> <a href="#default-value-changes-136" class="anchor-heading" aria-labelledby="default-value-changes-136"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c6613972..abf2c56f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v1.2.0
</span><span class="gi">+  tag: v1.3.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0162"> <a href="#0162" class="anchor-heading" aria-labelledby="0162"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.16.2 </h2> <p><strong>Release date:</strong> 2020-01-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.2.0&amp;color=success" alt="AppVersion: v1.2.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Allow extra command line args for external labels like hostname (#1530)</li> </ul> <h3 id="default-value-changes-137"> <a href="#default-value-changes-137" class="anchor-heading" aria-labelledby="default-value-changes-137"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0161"> <a href="#0161" class="anchor-heading" aria-labelledby="0161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.16.1 </h2> <p><strong>Release date:</strong> 2020-01-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.2.0&amp;color=success" alt="AppVersion: v1.2.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Helm: fix issue with config.clients (#1431)</li> </ul> <h3 id="default-value-changes-138"> <a href="#default-value-changes-138" class="anchor-heading" aria-labelledby="default-value-changes-138"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0160"> <a href="#0160" class="anchor-heading" aria-labelledby="0160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.16.0 </h2> <p><strong>Release date:</strong> 2019-12-09</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.2.0&amp;color=success" alt="AppVersion: v1.2.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>v1.2.0: update helm and ksonnet (#1389)</li> </ul> <h3 id="default-value-changes-139"> <a href="#default-value-changes-139" class="anchor-heading" aria-labelledby="default-value-changes-139"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c8e35374..c6613972 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v1.1.0
</span><span class="gi">+  tag: v1.2.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0150"> <a href="#0150" class="anchor-heading" aria-labelledby="0150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.15.0 </h2> <p><strong>Release date:</strong> 2019-12-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.1.0&amp;color=success" alt="AppVersion: v1.1.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Updating version numbers for 1.1.0 release</li> </ul> <h3 id="default-value-changes-140"> <a href="#default-value-changes-140" class="anchor-heading" aria-labelledby="default-value-changes-140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 617a581e..c8e35374 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v1.0.0
</span><span class="gi">+  tag: v1.1.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0140"> <a href="#0140" class="anchor-heading" aria-labelledby="0140"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.14.0 </h2> <p><strong>Release date:</strong> 2019-11-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v1.0.0&amp;color=success" alt="AppVersion: v1.0.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>updating helm and ksonnet to version v1.0.0 (#1292)</li> <li>Updated Kubernetes docs links (#1219)</li> </ul> <h3 id="default-value-changes-141"> <a href="#default-value-changes-141" class="anchor-heading" aria-labelledby="default-value-changes-141"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index be0ded75..617a581e 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v0.4.0
</span><span class="gi">+  tag: v1.0.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="p">@@ -23,7 +23,7 @@</span> loki:
 nameOverride: promtail
 
 ## Node labels for pod assignment
<span class="gd">-## ref: https://kubernetes.io/docs/user-guide/node-selection/
</span><span class="gi">+## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
</span> nodeSelector: {}
 
 pipelineStages:
<span class="err">
</span></code></pre></div></div> <h2 id="0131"> <a href="#0131" class="anchor-heading" aria-labelledby="0131"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.13.1 </h2> <p><strong>Release date:</strong> 2019-10-31</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.4.0&amp;color=success" alt="AppVersion: v0.4.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>Helm path update (#1061)</li> <li>Simplify regexp’s (#1202)</li> </ul> <h3 id="default-value-changes-142"> <a href="#default-value-changes-142" class="anchor-heading" aria-labelledby="default-value-changes-142"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0130"> <a href="#0130" class="anchor-heading" aria-labelledby="0130"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.13.0 </h2> <p><strong>Release date:</strong> 2019-10-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.4.0&amp;color=success" alt="AppVersion: v0.4.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v3&amp;color=informational&amp;logo=helm" alt="Helm: v3"></p> <ul> <li>update versions to new release</li> <li>Helm: Fix the reference error of loki/loki helm chart (#1056)</li> </ul> <h3 id="default-value-changes-143"> <a href="#default-value-changes-143" class="anchor-heading" aria-labelledby="default-value-changes-143"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 959bf542..be0ded75 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v0.3.0
</span><span class="gi">+  tag: v0.4.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0123"> <a href="#0123" class="anchor-heading" aria-labelledby="0123"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.12.3 </h2> <p><strong>Release date:</strong> 2019-10-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.3.0&amp;color=success" alt="AppVersion: v0.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Helm chart: Allow additional scrape_configs to be added (#1134)</li> <li>Increased promtail’s backoff settings in prod and improved doc (#1083)</li> </ul> <h3 id="default-value-changes-144"> <a href="#default-value-changes-144" class="anchor-heading" aria-labelledby="default-value-changes-144"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index edfbf521..959bf542 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -64,6 +64,9 @@</span> resources: {}
 # Custom scrape_configs to override the default ones in the configmap
 scrapeConfigs: []
 
<span class="gi">+# Custom scrape_configs together with the default ones in the configmap
+extraScrapeConfigs: []
+
</span> securityContext:
   readOnlyRootFilesystem: true
   runAsGroup: 0
<span class="p">@@ -113,7 +116,7 @@</span> config:
       # Maximum backoff time between retries
       maxbackoff: 5s
       # Maximum number of retries when sending batches, 0 means infinite retries
<span class="gd">-      maxretries: 5
</span><span class="gi">+      maxretries: 20
</span> 
     # The labels to add to any time series or alerts when communicating with loki
     external_labels: {}
<span class="err">
</span></code></pre></div></div> <h2 id="0122"> <a href="#0122" class="anchor-heading" aria-labelledby="0122"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.12.2 </h2> <p><strong>Release date:</strong> 2019-09-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.3.0&amp;color=success" alt="AppVersion: v0.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>helm chart: Add missing operator to promtail (#967)</li> </ul> <h3 id="default-value-changes-145"> <a href="#default-value-changes-145" class="anchor-heading" aria-labelledby="default-value-changes-145"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 43559f14..edfbf521 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -77,6 +77,7 @@</span> serviceAccount:
 ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
 tolerations:
 - key: node-role.kubernetes.io/master
<span class="gi">+  operator: Exists
</span>   effect: NoSchedule
 
 # Extra volumes to scrape logs from
<span class="err">
</span></code></pre></div></div> <h2 id="0121"> <a href="#0121" class="anchor-heading" aria-labelledby="0121"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.12.1 </h2> <p><strong>Release date:</strong> 2019-08-26</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.3.0&amp;color=success" alt="AppVersion: v0.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add support for additional labels and scrapeTimeout for serviceMonitors</li> </ul> <h3 id="default-value-changes-146"> <a href="#default-value-changes-146" class="anchor-heading" aria-labelledby="default-value-changes-146"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 52373505..43559f14 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -128,3 +128,5 @@</span> config:
 serviceMonitor:
   enabled: false
   interval: ""
<span class="gi">+  additionalLabels: {}
+  # scrapeTimeout: 10s
</span><span class="err">
</span></code></pre></div></div> <h2 id="0120"> <a href="#0120" class="anchor-heading" aria-labelledby="0120"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.12.0 </h2> <p><strong>Release date:</strong> 2019-08-18</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=v0.3.0&amp;color=success" alt="AppVersion: v0.3.0"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>update helm and ksonnet to 0.3.0</li> <li>Add promtail ServiceMonitor and headless Service (#856)</li> </ul> <h3 id="default-value-changes-147"> <a href="#default-value-changes-147" class="anchor-heading" aria-labelledby="default-value-changes-147"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 8c74282d..52373505 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v0.2.0
</span><span class="gi">+  tag: v0.3.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="p">@@ -124,3 +124,7 @@</span> config:
   target_config:
     # Period to resync directories being watched and files being tailed
     sync_period: 10s
<span class="gi">+
+serviceMonitor:
+  enabled: false
+  interval: ""
</span><span class="err">
</span></code></pre></div></div> <h2 id="0110"> <a href="#0110" class="anchor-heading" aria-labelledby="0110"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.11.0 </h2> <p><strong>Release date:</strong> 2019-08-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Reorder relabeling rules to prevent pod label from overwriting config defined labels</li> </ul> <h3 id="default-value-changes-148"> <a href="#default-value-changes-148" class="anchor-heading" aria-labelledby="default-value-changes-148"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code># No changes in this release
</code></pre></div></div> <h2 id="0100"> <a href="#0100" class="anchor-heading" aria-labelledby="0100"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.10.0 </h2> <p><strong>Release date:</strong> 2019-08-02</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>release: update ksonnet and helm charts to version v0.2.0</li> </ul> <h3 id="default-value-changes-149"> <a href="#default-value-changes-149" class="anchor-heading" aria-labelledby="default-value-changes-149"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 508f8338..8c74282d 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -8,7 +8,7 @@</span> deploymentStrategy: RollingUpdate
 
 image:
   repository: grafana/promtail
<span class="gd">-  tag: v0.1.0
</span><span class="gi">+  tag: v0.2.0
</span>   pullPolicy: IfNotPresent
 
 livenessProbe: {}
<span class="err">
</span></code></pre></div></div> <h2 id="090"> <a href="#090" class="anchor-heading" aria-labelledby="090"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.9.0 </h2> <p><strong>Release date:</strong> 2019-08-01</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Helm: Be able to customize the Namespace (#830)</li> <li>Typo on values.yaml (#728)</li> <li>Merge branch ‘master’ into reduce-config-option</li> </ul> <h3 id="default-value-changes-150"> <a href="#default-value-changes-150" class="anchor-heading" aria-labelledby="default-value-changes-150"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index ae75dfcc..508f8338 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -36,9 +36,6 @@</span> podAnnotations:
   prometheus.io/scrape: "true"
   prometheus.io/port: "http-metrics"
 
<span class="gd">-# This should match config.server.http_listen_port
-port: 3101
-
</span> ## Assign a PriorityClassName to pods if set
 # priorityClassName:
 
<span class="p">@@ -114,7 +111,7 @@</span> config:
       minbackoff: 100ms
       # Maximum backoff time between retries
       maxbackoff: 5s
<span class="gd">-      # Maximum number of retires when sending batches, 0 means infinite retries
</span><span class="gi">+      # Maximum number of retries when sending batches, 0 means infinite retries
</span>       maxretries: 5
 
     # The labels to add to any time series or alerts when communicating with loki
<span class="err">
</span></code></pre></div></div> <h2 id="081"> <a href="#081" class="anchor-heading" aria-labelledby="081"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.8.1 </h2> <p><strong>Release date:</strong> 2019-04-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Update chart version</li> <li>Merge branch ‘master’ into reduce-config-option</li> <li>Helm: Integration testing (#641)</li> </ul> <h3 id="default-value-changes-151"> <a href="#default-value-changes-151" class="anchor-heading" aria-labelledby="default-value-changes-151"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 9848bf36..ae75dfcc 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -14,7 +14,7 @@</span> image:
 livenessProbe: {}
 
 loki:
<span class="gd">-  serviceName: "" # Defaults to "${RELEASE}-loki" if not set
</span><span class="gi">+  serviceName: ""  # Defaults to "${RELEASE}-loki" if not set
</span>   servicePort: 3100
   serviceScheme: http
   # user: user
<span class="p">@@ -32,9 +32,9 @@</span> pipelineStages:
 ## Pod Labels
 podLabels: {}
 
<span class="gd">-podAnnotations: 
- prometheus.io/scrape: "true"
- prometheus.io/port: "http-metrics"
</span><span class="gi">+podAnnotations:
+  prometheus.io/scrape: "true"
+  prometheus.io/port: "http-metrics"
</span> 
 # This should match config.server.http_listen_port
 port: 3101
<span class="p">@@ -127,4 +127,3 @@</span> config:
   target_config:
     # Period to resync directories being watched and files being tailed
     sync_period: 10s
<span class="gd">-
</span><span class="err">
</span></code></pre></div></div> <h2 id="080"> <a href="#080" class="anchor-heading" aria-labelledby="080"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.8.0 </h2> <p><strong>Release date:</strong> 2019-06-03</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>updating versions for loki v0.1.0</li> <li>change the helm pullPolicy since we will be using releases now</li> <li>Merge branch ‘master’ into reduce-config-option</li> <li>This add make target to deploy a dev version using helm (#586)</li> <li>Added namespace to helm install notes (#617)</li> <li>Merge branch ‘master’ into reduce-config-option</li> </ul> <h3 id="default-value-changes-152"> <a href="#default-value-changes-152" class="anchor-heading" aria-labelledby="default-value-changes-152"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2f5c0dcc..9848bf36 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -6,12 +6,10 @@</span> annotations: {}
 
 deploymentStrategy: RollingUpdate
 
<span class="gd">-entryParser: docker
-
</span> image:
   repository: grafana/promtail
<span class="gd">-  tag: latest
-  pullPolicy: Always # Always pull while in BETA
</span><span class="gi">+  tag: v0.1.0
+  pullPolicy: IfNotPresent
</span> 
 livenessProbe: {}
 
<span class="p">@@ -28,12 +26,15 @@</span> nameOverride: promtail
 ## ref: https://kubernetes.io/docs/user-guide/node-selection/
 nodeSelector: {}
 
<span class="gi">+pipelineStages:
+- docker: {}
+
</span> ## Pod Labels
 podLabels: {}
 
<span class="gd">-podAnnotations: {}
-#  prometheus.io/scrape: "true"
-#  prometheus.io/port: "http-metrics"
</span><span class="gi">+podAnnotations: 
+ prometheus.io/scrape: "true"
+ prometheus.io/port: "http-metrics"
</span> 
 # This should match config.server.http_listen_port
 port: 3101
<span class="p">@@ -63,6 +64,9 @@</span> resources: {}
 #    cpu: 100m
 #    memory: 128Mi
 
<span class="gi">+# Custom scrape_configs to override the default ones in the configmap
+scrapeConfigs: []
+
</span> securityContext:
   readOnlyRootFilesystem: true
   runAsGroup: 0
<span class="p">@@ -123,198 +127,4 @@</span> config:
   target_config:
     # Period to resync directories being watched and files being tailed
     sync_period: 10s
<span class="gd">-  scrape_configs:
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-name
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - source_labels:
-      - __meta_kubernetes_pod_label_name
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-app
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: .+
-      source_labels:
-      - __meta_kubernetes_pod_label_name
-    - source_labels:
-      - __meta_kubernetes_pod_label_app
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-direct-controllers
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: .+
-      separator: ''
-      source_labels:
-      - __meta_kubernetes_pod_label_name
-      - __meta_kubernetes_pod_label_app
-    - action: drop
-      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
-      source_labels:
-      - __meta_kubernetes_pod_controller_name
-    - source_labels:
-      - __meta_kubernetes_pod_controller_name
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-indirect-controller
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: .+
-      separator: ''
-      source_labels:
-      - __meta_kubernetes_pod_label_name
-      - __meta_kubernetes_pod_label_app
-    - action: keep
-      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
-      source_labels:
-      - __meta_kubernetes_pod_controller_name
-    - action: replace
-      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
-      source_labels:
-      - __meta_kubernetes_pod_controller_name
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
</span><span class="gi">+
</span><span class="err">
</span></code></pre></div></div> <h2 id="073"> <a href="#073" class="anchor-heading" aria-labelledby="073"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.3 </h2> <p><strong>Release date:</strong> 2019-05-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>bump up promtail chart version</li> </ul> <h3 id="default-value-changes-153"> <a href="#default-value-changes-153" class="anchor-heading" aria-labelledby="default-value-changes-153"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2f5c0dcc..97401898 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -35,9 +35,6 @@</span> podAnnotations: {}
 #  prometheus.io/scrape: "true"
 #  prometheus.io/port: "http-metrics"
 
<span class="gd">-# This should match config.server.http_listen_port
-port: 3101
-
</span> ## Assign a PriorityClassName to pods if set
 # priorityClassName:
 
<span class="err">
</span></code></pre></div></div> <h2 id="072"> <a href="#072" class="anchor-heading" aria-labelledby="072"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.2 </h2> <p><strong>Release date:</strong> 2019-05-15</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Helm: Allow custom pipeline stages (#580)</li> <li>Updating helm/ksonnet to use new pipeline config Updating docs Rebase fixes</li> </ul> <h3 id="default-value-changes-154"> <a href="#default-value-changes-154" class="anchor-heading" aria-labelledby="default-value-changes-154"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index b2020dbd..46943240 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -6,8 +6,6 @@</span> annotations: {}
 
 deploymentStrategy: RollingUpdate
 
<span class="gd">-entryParser: docker
-
</span> image:
   repository: grafana/promtail
   tag: latest
<span class="p">@@ -28,6 +26,9 @@</span> nameOverride: promtail
 ## ref: https://kubernetes.io/docs/user-guide/node-selection/
 nodeSelector: {}
 
<span class="gi">+pipelineStages:
+- docker: {}
+
</span> ## Pod Labels
 podLabels: {}
 
<span class="p">@@ -63,6 +64,9 @@</span> resources: {}
 #    cpu: 100m
 #    memory: 128Mi
 
<span class="gi">+# Custom scrape_configs to override the default ones in the configmap
+scrapeConfigs: []
+
</span> securityContext:
   readOnlyRootFilesystem: true
   runAsGroup: 0
<span class="p">@@ -123,245 +127,4 @@</span> config:
   target_config:
     # Period to resync directories being watched and files being tailed
     sync_period: 10s
<span class="gd">-  scrape_configs:
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-name
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - source_labels:
-      - __meta_kubernetes_pod_label_name
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/*$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-app
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: .+
-      source_labels:
-      - __meta_kubernetes_pod_label_name
-    - source_labels:
-      - __meta_kubernetes_pod_label_app
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/*$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-direct-controllers
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: .+
-      separator: ''
-      source_labels:
-      - __meta_kubernetes_pod_label_name
-      - __meta_kubernetes_pod_label_app
-    - action: drop
-      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
-      source_labels:
-      - __meta_kubernetes_pod_controller_name
-    - source_labels:
-      - __meta_kubernetes_pod_controller_name
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/*$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-indirect-controller
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: .+
-      separator: ''
-      source_labels:
-      - __meta_kubernetes_pod_label_name
-      - __meta_kubernetes_pod_label_app
-    - action: keep
-      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
-      source_labels:
-      - __meta_kubernetes_pod_controller_name
-    - action: replace
-      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
-      source_labels:
-      - __meta_kubernetes_pod_controller_name
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/*$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_uid
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
-  - entry_parser: '{{ .Values.entryParser }}'
-    job_name: kubernetes-pods-static
-    kubernetes_sd_configs:
-    - role: pod
-    relabel_configs:
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __meta_kubernetes_pod_annotation_kubernetes_io_config_mirror
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_label_component
-      target_label: __service__
-    - source_labels:
-      - __meta_kubernetes_pod_node_name
-      target_label: __host__
-    - action: drop
-      regex: ^$
-      source_labels:
-      - __service__
-    - action: replace
-      replacement: $1
-      separator: /
-      source_labels:
-      - __meta_kubernetes_namespace
-      - __service__
-      target_label: job
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_namespace
-      target_label: namespace
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_name
-      target_label: instance
-    - action: replace
-      source_labels:
-      - __meta_kubernetes_pod_container_name
-      target_label: container_name
-    - action: labelmap
-      regex: __meta_kubernetes_pod_label_(.+)
-    - replacement: /var/log/pods/*$1/*.log
-      separator: /
-      source_labels:
-      - __meta_kubernetes_pod_annotation_kubernetes_io_config_mirror
-      - __meta_kubernetes_pod_container_name
-      target_label: __path__
</span><span class="gi">+
</span><span class="err">
</span></code></pre></div></div> <h2 id="071"> <a href="#071" class="anchor-heading" aria-labelledby="071"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.1 </h2> <p><strong>Release date:</strong> 2019-05-07</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Support CRI 1.14+ directory change</li> </ul> <h3 id="default-value-changes-155"> <a href="#default-value-changes-155" class="anchor-heading" aria-labelledby="default-value-changes-155"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 5d31ea2c..b2020dbd 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -160,7 +160,7 @@</span> config:
       target_label: container_name
     - action: labelmap
       regex: __meta_kubernetes_pod_label_(.+)
<span class="gd">-    - replacement: /var/log/pods/$1/*.log
</span><span class="gi">+    - replacement: /var/log/pods/*$1/*.log
</span>       separator: /
       source_labels:
       - __meta_kubernetes_pod_uid
<span class="p">@@ -206,7 +206,7 @@</span> config:
       target_label: container_name
     - action: labelmap
       regex: __meta_kubernetes_pod_label_(.+)
<span class="gd">-    - replacement: /var/log/pods/$1/*.log
</span><span class="gi">+    - replacement: /var/log/pods/*$1/*.log
</span>       separator: /
       source_labels:
       - __meta_kubernetes_pod_uid
<span class="p">@@ -258,7 +258,7 @@</span> config:
       target_label: container_name
     - action: labelmap
       regex: __meta_kubernetes_pod_label_(.+)
<span class="gd">-    - replacement: /var/log/pods/$1/*.log
</span><span class="gi">+    - replacement: /var/log/pods/*$1/*.log
</span>       separator: /
       source_labels:
       - __meta_kubernetes_pod_uid
<span class="p">@@ -312,7 +312,7 @@</span> config:
       target_label: container_name
     - action: labelmap
       regex: __meta_kubernetes_pod_label_(.+)
<span class="gd">-    - replacement: /var/log/pods/$1/*.log
</span><span class="gi">+    - replacement: /var/log/pods/*$1/*.log
</span>       separator: /
       source_labels:
       - __meta_kubernetes_pod_uid
<span class="p">@@ -359,10 +359,9 @@</span> config:
       target_label: container_name
     - action: labelmap
       regex: __meta_kubernetes_pod_label_(.+)
<span class="gd">-    - replacement: /var/log/pods/$1/*.log
</span><span class="gi">+    - replacement: /var/log/pods/*$1/*.log
</span>       separator: /
       source_labels:
       - __meta_kubernetes_pod_annotation_kubernetes_io_config_mirror
       - __meta_kubernetes_pod_container_name
       target_label: __path__
<span class="gd">-
</span><span class="err">
</span></code></pre></div></div> <h2 id="070"> <a href="#070" class="anchor-heading" aria-labelledby="070"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.0 </h2> <p><strong>Release date:</strong> 2019-04-20</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add scrape config for control plane static pods</li> </ul> <h3 id="default-value-changes-156"> <a href="#default-value-changes-156" class="anchor-heading" aria-labelledby="default-value-changes-156"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 2f5c0dcc..5d31ea2c 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -318,3 +318,51 @@</span> config:
       - __meta_kubernetes_pod_uid
       - __meta_kubernetes_pod_container_name
       target_label: __path__
<span class="gi">+  - entry_parser: '{{ .Values.entryParser }}'
+    job_name: kubernetes-pods-static
+    kubernetes_sd_configs:
+    - role: pod
+    relabel_configs:
+    - action: drop
+      regex: ^$
+      source_labels:
+      - __meta_kubernetes_pod_annotation_kubernetes_io_config_mirror
+    - action: replace
+      source_labels:
+      - __meta_kubernetes_pod_label_component
+      target_label: __service__
+    - source_labels:
+      - __meta_kubernetes_pod_node_name
+      target_label: __host__
+    - action: drop
+      regex: ^$
+      source_labels:
+      - __service__
+    - action: replace
+      replacement: $1
+      separator: /
+      source_labels:
+      - __meta_kubernetes_namespace
+      - __service__
+      target_label: job
+    - action: replace
+      source_labels:
+      - __meta_kubernetes_namespace
+      target_label: namespace
+    - action: replace
+      source_labels:
+      - __meta_kubernetes_pod_name
+      target_label: instance
+    - action: replace
+      source_labels:
+      - __meta_kubernetes_pod_container_name
+      target_label: container_name
+    - action: labelmap
+      regex: __meta_kubernetes_pod_label_(.+)
+    - replacement: /var/log/pods/$1/*.log
+      separator: /
+      source_labels:
+      - __meta_kubernetes_pod_annotation_kubernetes_io_config_mirror
+      - __meta_kubernetes_pod_container_name
+      target_label: __path__
+
</span><span class="err">
</span></code></pre></div></div> <h2 id="064"> <a href="#064" class="anchor-heading" aria-labelledby="064"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.4 </h2> <p><strong>Release date:</strong> 2019-04-28</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Merge branch ‘master’ into reduce-config-option</li> <li>Add target config (#486)</li> </ul> <h3 id="default-value-changes-157"> <a href="#default-value-changes-157" class="anchor-heading" aria-labelledby="default-value-changes-157"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 8c77f41c..97401898 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -35,9 +35,6 @@</span> podAnnotations: {}
 #  prometheus.io/scrape: "true"
 #  prometheus.io/port: "http-metrics"
 
<span class="gd">-# This should match config.server.http_listen_port
-port: 3101
-
</span> ## Assign a PriorityClassName to pods if set
 # priorityClassName:
 
<span class="p">@@ -120,6 +117,9 @@</span> config:
     http_listen_port: 3101
   positions:
     filename: /run/promtail/positions.yaml
<span class="gi">+  target_config:
+    # Period to resync directories being watched and files being tailed
+    sync_period: 10s
</span>   scrape_configs:
   - entry_parser: '{{ .Values.entryParser }}'
     job_name: kubernetes-pods-name
<span class="err">
</span></code></pre></div></div> <h2 id="063"> <a href="#063" class="anchor-heading" aria-labelledby="063"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.3 </h2> <p><strong>Release date:</strong> 2019-04-25</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Configurable Loki scheme in helm file, with optional basic auth (#494)</li> </ul> <h3 id="default-value-changes-158"> <a href="#default-value-changes-158" class="anchor-heading" aria-labelledby="default-value-changes-158"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index c58c23ac..8c77f41c 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -18,6 +18,9 @@</span> livenessProbe: {}
 loki:
   serviceName: "" # Defaults to "${RELEASE}-loki" if not set
   servicePort: 3100
<span class="gi">+  serviceScheme: http
+  # user: user
+  # password: pass
</span> 
 nameOverride: promtail
 
<span class="err">
</span></code></pre></div></div> <h2 id="062"> <a href="#062" class="anchor-heading" aria-labelledby="062"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.2 </h2> <p><strong>Release date:</strong> 2019-04-24</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>allow additional pod labels (#509)</li> </ul> <h3 id="default-value-changes-159"> <a href="#default-value-changes-159" class="anchor-heading" aria-labelledby="default-value-changes-159"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e6cb8f62..c58c23ac 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -25,6 +25,9 @@</span> nameOverride: promtail
 ## ref: https://kubernetes.io/docs/user-guide/node-selection/
 nodeSelector: {}
 
<span class="gi">+## Pod Labels
+podLabels: {}
+
</span> podAnnotations: {}
 #  prometheus.io/scrape: "true"
 #  prometheus.io/port: "http-metrics"
<span class="err">
</span></code></pre></div></div> <h2 id="071-1"> <a href="#071-1" class="anchor-heading" aria-labelledby="071-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.7.1 </h2> <p><strong>Release date:</strong> 2019-04-17</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Bumped chart versions</li> <li>Merge branch ‘master’ into reduce-config-option</li> </ul> <h3 id="default-value-changes-160"> <a href="#default-value-changes-160" class="anchor-heading" aria-labelledby="default-value-changes-160"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 6bfff18f..dbaa5986 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -13,15 +13,7 @@</span> image:
   tag: latest
   pullPolicy: Always # Always pull while in BETA
 
<span class="gd">-livenessProbe:
-  failureThreshold: 5
-  httpGet:
-    path: /metrics
-    port: http-metrics
-  initialDelaySeconds: 10
-  periodSeconds: 10
-  successThreshold: 1
-  timeoutSeconds: 1
</span><span class="gi">+livenessProbe: {}
</span> 
 loki:
   serviceName: "" # Defaults to "${RELEASE}-loki" if not set
<span class="p">@@ -47,7 +39,7 @@</span> rbac:
 readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="gd">-    path: /metrics
</span><span class="gi">+    path: /ready
</span>     port: http-metrics
   initialDelaySeconds: 10
   periodSeconds: 10
<span class="err">
</span></code></pre></div></div> <h2 id="063-1"> <a href="#063-1" class="anchor-heading" aria-labelledby="063-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.3 </h2> <p><strong>Release date:</strong> 2019-04-12</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Update chart version</li> <li>Remove liveness probes from promtail</li> </ul> <h3 id="default-value-changes-161"> <a href="#default-value-changes-161" class="anchor-heading" aria-labelledby="default-value-changes-161"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e9f1539b..6bfff18f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -37,9 +37,6 @@</span> podAnnotations: {}
 #  prometheus.io/scrape: "true"
 #  prometheus.io/port: "http-metrics"
 
<span class="gd">-# This should match config.server.http_listen_port
-port: 3101
-
</span> ## Assign a PriorityClassName to pods if set
 # priorityClassName:
 
<span class="err">
</span></code></pre></div></div> <h2 id="062-1"> <a href="#062-1" class="anchor-heading" aria-labelledby="062-1"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.2 </h2> <p><strong>Release date:</strong> 2019-04-06</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Add a /ready endpoint to promtail</li> <li>Remove useless config option</li> </ul> <h3 id="default-value-changes-162"> <a href="#default-value-changes-162" class="anchor-heading" aria-labelledby="default-value-changes-162"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index e9f1539b..54ac463f 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -16,7 +16,7 @@</span> image:
 livenessProbe:
   failureThreshold: 5
   httpGet:
<span class="gd">-    path: /metrics
</span><span class="gi">+    path: /ready
</span>     port: http-metrics
   initialDelaySeconds: 10
   periodSeconds: 10
<span class="p">@@ -50,7 +50,7 @@</span> rbac:
 readinessProbe:
   failureThreshold: 5
   httpGet:
<span class="gd">-    path: /metrics
</span><span class="gi">+    path: /ready
</span>     port: http-metrics
   initialDelaySeconds: 10
   periodSeconds: 10
<span class="err">
</span></code></pre></div></div> <h2 id="061"> <a href="#061" class="anchor-heading" aria-labelledby="061"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.1 </h2> <p><strong>Release date:</strong> 2019-04-10</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Fix missing volume after refactor</li> <li>Add loki-stack helm chart</li> </ul> <h3 id="default-value-changes-163"> <a href="#default-value-changes-163" class="anchor-heading" aria-labelledby="default-value-changes-163"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/charts/promtail/values.yaml b/charts/promtail/values.yaml
index 8d82183d..e9f1539b 100644
</span><span class="gd">--- a/charts/promtail/values.yaml
</span><span class="gi">+++ b/charts/promtail/values.yaml
</span><span class="p">@@ -82,11 +82,17 @@</span> tolerations:
 
 # Extra volumes to scrape logs from
 volumes:
<span class="gi">+- name: docker
+  hostPath:
+    path: /var/lib/docker/containers
</span> - name: pods
   hostPath:
     path: /var/log/pods
 
 volumeMounts:
<span class="gi">+- name: docker
+  mountPath: /var/lib/docker/containers
+  readOnly: true
</span> - name: pods
   mountPath: /var/log/pods
   readOnly: true
<span class="err">
</span></code></pre></div></div> <h2 id="060"> <a href="#060" class="anchor-heading" aria-labelledby="060"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 0.6.0 </h2> <p><strong>Release date:</strong> 2019-04-04</p> <p><img src="https://img.shields.io/static/v1?label=AppVersion&amp;message=0.0.1&amp;color=success" alt="AppVersion: 0.0.1"> <img src="https://img.shields.io/static/v1?label=Kubernetes&amp;message=^1.10.0-0&amp;color=informational&amp;logo=kubernetes" alt="Kubernetes: ^1.10.0-0"> <img src="https://img.shields.io/static/v1?label=Helm&amp;message=v2&amp;color=inactive&amp;logo=helm" alt="Helm: v2"></p> <ul> <li>Separate loki &amp; promtail charts</li> </ul> <h3 id="default-value-changes-164"> <a href="#default-value-changes-164" class="anchor-heading" aria-labelledby="default-value-changes-164"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default value changes </h3> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Affinity for pod assignment
## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
<span class="p">affinity: {}
</span><span class="err">
</span><span class="p">annotations: {}
</span><span class="err">
</span><span class="p">deploymentStrategy: RollingUpdate
</span><span class="err">
</span><span class="p">entryParser: docker
</span><span class="err">
</span><span class="p">image:
</span>  repository: grafana/promtail
  tag: latest
  pullPolicy: Always # Always pull while in BETA
<span class="err">
</span><span class="p">livenessProbe:
</span>  failureThreshold: 5
  httpGet:
    path: /metrics
    port: http-metrics
  initialDelaySeconds: 10
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 1
<span class="err">
</span><span class="p">loki:
</span>  serviceName: "" # Defaults to "${RELEASE}-loki" if not set
  servicePort: 3100
<span class="err">
</span><span class="p">nameOverride: promtail
</span><span class="err">
</span>## Node labels for pod assignment
## ref: https://kubernetes.io/docs/user-guide/node-selection/
<span class="p">nodeSelector: {}
</span><span class="err">
</span><span class="p">podAnnotations: {}
</span>#  prometheus.io/scrape: "true"
#  prometheus.io/port: "http-metrics"
<span class="err">
</span># This should match config.server.http_listen_port
<span class="p">port: 3101
</span><span class="err">
</span>## Assign a PriorityClassName to pods if set
# priorityClassName:
<span class="err">
</span><span class="p">rbac:
</span>  create: true
  pspEnabled: true
<span class="err">
</span><span class="p">readinessProbe:
</span>  failureThreshold: 5
  httpGet:
    path: /metrics
    port: http-metrics
  initialDelaySeconds: 10
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 1
<span class="err">
</span><span class="p">resources: {}
</span>#  limits:
#    cpu: 200m
#    memory: 128Mi
#  requests:
#    cpu: 100m
#    memory: 128Mi
<span class="err">
</span><span class="p">securityContext:
</span>  readOnlyRootFilesystem: true
  runAsGroup: 0
  runAsUser: 0
<span class="err">
</span><span class="p">serviceAccount:
</span>  create: true
  name:
<span class="err">
</span>## Tolerations for pod assignment
## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
<span class="p">tolerations:
</span><span class="gd">- key: node-role.kubernetes.io/master
</span>  effect: NoSchedule
<span class="err">
</span># Extra volumes to scrape logs from
<span class="p">volumes:
</span><span class="gd">- name: pods
</span>  hostPath:
    path: /var/log/pods
<span class="err">
</span><span class="p">volumeMounts:
</span><span class="gd">- name: pods
</span>  mountPath: /var/log/pods
  readOnly: true
<span class="err">
</span><span class="p">config:
</span>  client:
    # Maximum wait period before sending batch
    batchwait: 1s
    # Maximum batch size to accrue before sending, unit is byte
    batchsize: 102400
<span class="err">
</span>    # Maximum time to wait for server to respond to a request
    timeout: 10s
<span class="err">
</span>    backoff_config:
      # Initial backoff time between retries
      minbackoff: 100ms
      # Maximum backoff time between retries
      maxbackoff: 5s
      # Maximum number of retires when sending batches, 0 means infinite retries
      maxretries: 5
<span class="err">
</span>    # The labels to add to any time series or alerts when communicating with loki
    external_labels: {}
<span class="err">
</span>  server:
    http_listen_port: 3101
  positions:
    filename: /run/promtail/positions.yaml
  scrape_configs:
  - entry_parser: '{{ .Values.entryParser }}'
    job_name: kubernetes-pods-name
    kubernetes_sd_configs:
    - role: pod
    relabel_configs:
    - source_labels:
      - __meta_kubernetes_pod_label_name
      target_label: __service__
    - source_labels:
      - __meta_kubernetes_pod_node_name
      target_label: __host__
    - action: drop
      regex: ^$
      source_labels:
      - __service__
    - action: replace
      replacement: $1
      separator: /
      source_labels:
      - __meta_kubernetes_namespace
      - __service__
      target_label: job
    - action: replace
      source_labels:
      - __meta_kubernetes_namespace
      target_label: namespace
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_name
      target_label: instance
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_container_name
      target_label: container_name
    - action: labelmap
      regex: __meta_kubernetes_pod_label_(.+)
    - replacement: /var/log/pods/$1/*.log
      separator: /
      source_labels:
      - __meta_kubernetes_pod_uid
      - __meta_kubernetes_pod_container_name
      target_label: __path__
  - entry_parser: '{{ .Values.entryParser }}'
    job_name: kubernetes-pods-app
    kubernetes_sd_configs:
    - role: pod
    relabel_configs:
    - action: drop
      regex: .+
      source_labels:
      - __meta_kubernetes_pod_label_name
    - source_labels:
      - __meta_kubernetes_pod_label_app
      target_label: __service__
    - source_labels:
      - __meta_kubernetes_pod_node_name
      target_label: __host__
    - action: drop
      regex: ^$
      source_labels:
      - __service__
    - action: replace
      replacement: $1
      separator: /
      source_labels:
      - __meta_kubernetes_namespace
      - __service__
      target_label: job
    - action: replace
      source_labels:
      - __meta_kubernetes_namespace
      target_label: namespace
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_name
      target_label: instance
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_container_name
      target_label: container_name
    - action: labelmap
      regex: __meta_kubernetes_pod_label_(.+)
    - replacement: /var/log/pods/$1/*.log
      separator: /
      source_labels:
      - __meta_kubernetes_pod_uid
      - __meta_kubernetes_pod_container_name
      target_label: __path__
  - entry_parser: '{{ .Values.entryParser }}'
    job_name: kubernetes-pods-direct-controllers
    kubernetes_sd_configs:
    - role: pod
    relabel_configs:
    - action: drop
      regex: .+
      separator: ''
      source_labels:
      - __meta_kubernetes_pod_label_name
      - __meta_kubernetes_pod_label_app
    - action: drop
      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
      source_labels:
      - __meta_kubernetes_pod_controller_name
    - source_labels:
      - __meta_kubernetes_pod_controller_name
      target_label: __service__
    - source_labels:
      - __meta_kubernetes_pod_node_name
      target_label: __host__
    - action: drop
      regex: ^$
      source_labels:
      - __service__
    - action: replace
      replacement: $1
      separator: /
      source_labels:
      - __meta_kubernetes_namespace
      - __service__
      target_label: job
    - action: replace
      source_labels:
      - __meta_kubernetes_namespace
      target_label: namespace
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_name
      target_label: instance
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_container_name
      target_label: container_name
    - action: labelmap
      regex: __meta_kubernetes_pod_label_(.+)
    - replacement: /var/log/pods/$1/*.log
      separator: /
      source_labels:
      - __meta_kubernetes_pod_uid
      - __meta_kubernetes_pod_container_name
      target_label: __path__
  - entry_parser: '{{ .Values.entryParser }}'
    job_name: kubernetes-pods-indirect-controller
    kubernetes_sd_configs:
    - role: pod
    relabel_configs:
    - action: drop
      regex: .+
      separator: ''
      source_labels:
      - __meta_kubernetes_pod_label_name
      - __meta_kubernetes_pod_label_app
    - action: keep
      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
      source_labels:
      - __meta_kubernetes_pod_controller_name
    - action: replace
      regex: ^([0-9a-z-.]+)(-[0-9a-f]{8,10})$
      source_labels:
      - __meta_kubernetes_pod_controller_name
      target_label: __service__
    - source_labels:
      - __meta_kubernetes_pod_node_name
      target_label: __host__
    - action: drop
      regex: ^$
      source_labels:
      - __service__
    - action: replace
      replacement: $1
      separator: /
      source_labels:
      - __meta_kubernetes_namespace
      - __service__
      target_label: job
    - action: replace
      source_labels:
      - __meta_kubernetes_namespace
      target_label: namespace
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_name
      target_label: instance
    - action: replace
      source_labels:
      - __meta_kubernetes_pod_container_name
      target_label: container_name
    - action: labelmap
      regex: __meta_kubernetes_pod_label_(.+)
    - replacement: /var/log/pods/$1/*.log
      separator: /
      source_labels:
      - __meta_kubernetes_pod_uid
      - __meta_kubernetes_pod_container_name
      target_label: __path__
<span class="err">
</span></code></pre></div></div>
<hr> <p>Autogenerated from Helm Chart and git history using <a href="https://github.com/mogensen/helm-changelog" target="_blank" rel="noopener noreferrer">helm-changelog</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
